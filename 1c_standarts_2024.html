<html class="js-disabled" dir="ltr"><head><title>Система стандартов и методик разработки конфигураций для платформы 1С:Предприятие 8</title>
            <style>H1 {FONT-SIZE: 18pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; COLOR: #003366; TEXT-ALIGN: left}
            .Programtext {	FONT-SIZE: 10pt; FONT-FAMILY: Courier New; COLOR: #000080}
            H2 {FONT-SIZE: 14pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left}
            H3 {FONT-SIZE: 12pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left}
            .table {FONT-SIZE: 90%}
            BODY {FONT-SIZE: 80%; FONT-FAMILY: Verdana}
            TD {FONT-SIZE: 80%}
            .tip {BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #ccffcc}
            .tip TD {BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #ccffcc}
            .important {BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee}
            .important TD {BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee}
            .note {BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff}
            .note TD {BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff}
            </style>
            <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
            </head> <body><div id='top'><h1>Содержание</h1>
<ul><li><a href='#01_Создание и изменение объектов метаданных'>Создание и изменение объектов метаданных</a></li><ul><li><a href='#01_Организация работы конфигурации'>Организация работы конфигурации</a></li><ul><li><a href='#01_Общие требования к конфигурации.htm'>Общие требования к конфигурации</a></li><li><a href='#02_Имена объектов метаданных в конфигурациях.htm'>Имена объектов метаданных в конфигурациях</a></li><li><a href='#03_Работа в разных часовых поясах.htm'>Работа в разных часовых поясах</a></li><li><a href='#04_Использование функциональных опций.htm'>Использование функциональных опций</a></li><li><a href='#05_Использование параметров сеанса.htm'>Использование параметров сеанса</a></li><li><a href='#06_Использование подсистем.htm'>Использование подсистем</a></li><li><a href='#07_Использование общих реквизитов.htm'>Использование общих реквизитов</a></li><li><a href='#08_Использование определяемых типов.htm'>Использование определяемых типов</a></li><li><a href='#09_Правила создания общих модулей.htm'>Правила создания общих модулей</a></li><li><a href='#10_Работа с пользовательскими настройками.htm'>Работа с пользовательскими настройками</a></li><li><a href='#11_Версия платформы 1С_Предприятие для разработки.htm'>Версия платформы 1С_Предприятие для разработки</a></li><li><a href='#12_Начальные действия при работе конфигурации.htm'>Начальные действия при работе конфигурации</a></li><li><a href='#13_Поддержка толстого клиента, управляемое приложение, клиент-сервер.htm'>Поддержка толстого клиента, управляемое приложение, клиент-сервер</a></li><li><a href='#14_Технология разветвленной разработки конфигураций.htm'>Технология разветвленной разработки конфигураций</a></li><li><a href='#15_Особенности разработки конфигураций для ОС Linux и macOS.htm'>Особенности разработки конфигураций для ОС Linux и macOS</a></li><li><a href='#16_Оформление карты маршрута бизнес-процесса.htm'>Оформление карты маршрута бизнес-процесса</a></li><li><a href='#17_Ограничения на переименование объектов метаданных.htm'>Ограничения на переименование объектов метаданных</a></li><li><a href='#18_Требования к установке и обновлению прикладных решений.htm'>Требования к установке и обновлению прикладных решений</a></li><li><a href='#19_Несущественные предупреждения проверки конфигурации.htm'>Несущественные предупреждения проверки конфигурации</a></li></ul></li><li><a href='#02_Учет версий конфигураций'>Учет версий конфигураций</a></li><ul><li><a href='#01_Общие сведения о выпуске конфигураций.htm'>Общие сведения о выпуске конфигураций</a></li><li><a href='#02_Нумерация редакций и версий.htm'>Нумерация редакций и версий</a></li><li><a href='#03_Заполнение свойств конфигурации информацией о выпуске.htm'>Заполнение свойств конфигурации информацией о выпуске</a></li></ul></li><li><a href='#03_Организация хранения данных'>Организация хранения данных</a></li><ul><li><a href='#01_Общие сведения об организации хранения данных.htm'>Общие сведения об организации хранения данных</a></li><li><a href='#02_Уточнение сущности объекта метаданных.htm'>Уточнение сущности объекта метаданных</a></li><li><a href='#03_Имя, синоним, комментарий.htm'>Имя, синоним, комментарий</a></li><li><a href='#04_Подсказка и проверка заполнения.htm'>Подсказка и проверка заполнения</a></li><li><a href='#05_Использование кодов (номеров) объектов конфигурации.htm'>Использование кодов (номеров) объектов конфигурации</a></li><li><a href='#06_Использование реквизитов строкового типа.htm'>Использование реквизитов строкового типа</a></li><li><a href='#07_Ограничения на использование реквизитов составного типа.htm'>Ограничения на использование реквизитов составного типа</a></li><li><a href='#08_Требования к проведению документов.htm'>Требования к проведению документов</a></li><li><a href='#09_Использование активности движений.htm'>Использование активности движений</a></li><li><a href='#10_Самодостаточность регистров.htm'>Самодостаточность регистров</a></li><li><a href='#11_Реквизит _Комментарий_ у документов.htm'>Реквизит _Комментарий_ у документов</a></li><li><a href='#12_Удаление устаревших объектов метаданных из конфигурации.htm'>Удаление устаревших объектов метаданных из конфигурации</a></li><li><a href='#13_Использование констант.htm'>Использование констант</a></li><li><a href='#14_Работа с неактуальными (недействительными) объектами.htm'>Работа с неактуальными (недействительными) объектами</a></li><li><a href='#15_Использование предопределенных элементов.htm'>Использование предопределенных элементов</a></li></ul></li><li><a href='#04_Обработчики событий объектов'>Обработчики событий объектов</a></li><ul><li><a href='#01_Обработчик события ПередЗаписью.htm'>Обработчик события ПередЗаписью</a></li><li><a href='#02_Обработчик события ПриЗаписи.htm'>Обработчик события ПриЗаписи</a></li><li><a href='#03_Обработчик события ПередУдалением.htm'>Обработчик события ПередУдалением</a></li><li><a href='#04_Обработчик события ПриКопировании.htm'>Обработчик события ПриКопировании</a></li><li><a href='#05_Обработчик события ОбработкаПроверкиЗаполнения.htm'>Обработчик события ОбработкаПроверкиЗаполнения</a></li><li><a href='#06_Обработчик события ОбработкаЗаполнения.htm'>Обработчик события ОбработкаЗаполнения</a></li><li><a href='#07_Обработчики событий ОбработкаПолученияПредставления и ОбработкаПолученияПолейПредставления.htm'>Обработчики событий ОбработкаПолученияПредставления и ОбработкаПолученияПолейПредставления</a></li><li><a href='#08_Использование признака ОбменДанными.Загрузка в обработчиках событий объекта.htm'>Использование признака ОбменДанными.Загрузка в обработчиках событий объекта</a></li></ul></li><li><a href='#05_Регламентные задания'>Регламентные задания</a></li><ul><li><a href='#01_Общие требования к регламентным заданиям.htm'>Общие требования к регламентным заданиям</a></li><li><a href='#02_Настройка расписания регламентных заданий.htm'>Настройка расписания регламентных заданий</a></li><li><a href='#03_Запуск регламентных заданий.htm'>Запуск регламентных заданий</a></li><li><a href='#04_Ограничения на регламентные задания при работе в режиме сервиса.htm'>Ограничения на регламентные задания при работе в режиме сервиса</a></li></ul></li></ul></li><li><a href='#02_Реализация обработки данных'>Реализация обработки данных</a></li><ul><li><a href='#01_Работа с запросами'>Работа с запросами</a></li><ul><li><a href='#01_Оформление текстов запросов.htm'>Оформление текстов запросов</a></li><li><a href='#02_Многократное выполнение однотипных запросов.htm'>Многократное выполнение однотипных запросов</a></li><li><a href='#03_Проверка на пустой результат выполнения запроса.htm'>Проверка на пустой результат выполнения запроса</a></li><li><a href='#04_Ограничение на использование конструкции _ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ_ в запросах.htm'>Ограничение на использование конструкции _ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ_ в запросах</a></li><li><a href='#05_Использование ключевых слов _ОБЪЕДИНИТЬ_ и _ОБЪЕДИНИТЬ ВСЕ_ в запросах.htm'>Использование ключевых слов _ОБЪЕДИНИТЬ_ и _ОБЪЕДИНИТЬ ВСЕ_ в запросах</a></li><li><a href='#06_Упорядочивание результатов запроса.htm'>Упорядочивание результатов запроса</a></li><li><a href='#07_Округление результатов арифметических операций в запросах.htm'>Округление результатов арифметических операций в запросах</a></li><li><a href='#08_Особенности использования в запросах оператора ПОДОБНО.htm'>Особенности использования в запросах оператора ПОДОБНО</a></li><li><a href='#09_Псевдонимы источников данных в запросах.htm'>Псевдонимы источников данных в запросах</a></li><li><a href='#10_Вычисление количества записей в запросах.htm'>Вычисление количества записей в запросах</a></li></ul></li><li><a href='#02_Оптимизация запросов'>Оптимизация запросов</a></li><ul><li><a href='#01_Общие требования по разработке оптимальных запросов.htm'>Общие требования по разработке оптимальных запросов</a></li><li><a href='#02_Несоответствие индексов и условий запроса.htm'>Несоответствие индексов и условий запроса</a></li><li><a href='#03_Разыменование ссылочных полей составного типа в языке запросов.htm'>Разыменование ссылочных полей составного типа в языке запросов</a></li><li><a href='#04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm'>Ограничения на соединения с вложенными запросами и виртуальными таблицами</a></li><li><a href='#05_Ограничения на использование вложенных запросов в условии соединения.htm'>Ограничения на использование вложенных запросов в условии соединения</a></li><li><a href='#06_Обращения к виртуальным таблицам.htm'>Обращения к виртуальным таблицам</a></li><li><a href='#07_Эффективные условия запросов.htm'>Эффективные условия запросов</a></li><li><a href='#08_Разрешение итогов для периодических регистров сведений.htm'>Разрешение итогов для периодических регистров сведений</a></li><li><a href='#09_Эффективное обращение к виртуальной таблице «Остатки».htm'>Эффективное обращение к виртуальной таблице «Остатки»</a></li><li><a href='#10_Использование временных таблиц.htm'>Использование временных таблиц</a></li></ul></li><li><a href='#03_Обработка и модификация данных'>Обработка и модификация данных</a></li><ul><li><a href='#01_Транзакции_ правила использования.htm'>Транзакции_ правила использования</a></li><li><a href='#02_Использование управляемого режима блокировки.htm'>Использование управляемого режима блокировки</a></li><li><a href='#03_Блокировка данных объекта для редактирования из кода.htm'>Блокировка данных объекта для редактирования из кода</a></li><li><a href='#04_Ответственное чтение данных.htm'>Ответственное чтение данных</a></li><li><a href='#05_Чтение отдельных реквизитов объекта из базы данных.htm'>Чтение отдельных реквизитов объекта из базы данных</a></li><li><a href='#06_Запись событий в историю работы пользователя.htm'>Запись событий в историю работы пользователя</a></li></ul></li><li><a href='#04_Избыточные блокировки и методы оптимизации'>Избыточные блокировки и методы оптимизации</a></li><ul><li><a href='#01_Общие сведения об избыточных блокировках.htm'>Общие сведения об избыточных блокировках</a></li><li><a href='#02_Сдвиг границы последовательности документов.htm'>Сдвиг границы последовательности документов</a></li><li><a href='#03_Режим разделения итогов для регистров бухгалтерии.htm'>Режим разделения итогов для регистров бухгалтерии</a></li><li><a href='#04_Режим разделения итогов для регистров накопления.htm'>Режим разделения итогов для регистров накопления</a></li><li><a href='#05_Блокирующее чтение остатков в начале транзакции.htm'>Блокирующее чтение остатков в начале транзакции</a></li></ul></li></ul></li><li><a href='#03_Соглашения при написании кода'>Соглашения при написании кода</a></li><ul><li><a href='#01_Оформление модулей'>Оформление модулей</a></li><ul><li><a href='#01_Тексты модулей.htm'>Тексты модулей</a></li><li><a href='#02_Структура модуля.htm'>Структура модуля</a></li><li><a href='#03_Имена процедур и функций.htm'>Имена процедур и функций</a></li><li><a href='#04_Описание процедур и функций.htm'>Описание процедур и функций</a></li><li><a href='#05_Параметры процедур и функций.htm'>Параметры процедур и функций</a></li><li><a href='#06_Особенности использования структур в качестве параметров процедур и функций.htm'>Особенности использования структур в качестве параметров процедур и функций</a></li><li><a href='#07_Правила образования имен переменных.htm'>Правила образования имен переменных</a></li><li><a href='#08_Работа с параметром «Отказ» в обработчиках событий.htm'>Работа с параметром «Отказ» в обработчиках событий</a></li></ul></li><li><a href='#02_Использование конструкций встроенного языка'>Использование конструкций встроенного языка</a></li><ul><li><a href='#01_Общие требования к построению конструкций встроенного языка.htm'>Общие требования к построению конструкций встроенного языка</a></li><li><a href='#02_Перенос выражений.htm'>Перенос выражений</a></li><li><a href='#03_Использование дублирующего кода.htm'>Использование дублирующего кода</a></li><li><a href='#04_Использование директив компиляции и инструкций препроцессора.htm'>Использование директив компиляции и инструкций препроцессора</a></li><li><a href='#05_Определение типа значения переменной.htm'>Определение типа значения переменной</a></li><li><a href='#06_Получение метаданных объектов.htm'>Получение метаданных объектов</a></li><li><a href='#07_Обработчики событий модуля формы, подключаемые из кода.htm'>Обработчики событий модуля формы, подключаемые из кода</a></li><li><a href='#08_Использование глобальных переменных в программных модулях.htm'>Использование глобальных переменных в программных модулях</a></li><li><a href='#09_Предварительная инициализация локальных переменных.htm'>Предварительная инициализация локальных переменных</a></li><li><a href='#10_Использование Журнала регистрации.htm'>Использование Журнала регистрации</a></li><li><a href='#11_Перехват исключений в коде.htm'>Перехват исключений в коде</a></li><li><a href='#12_Ограничение на использование оператора Перейти.htm'>Ограничение на использование оператора Перейти</a></li></ul></li><li><a href='#03_Использование прикладных объектов и универсальных коллекций значений'>Использование прикладных объектов и универсальных коллекций значений</a></li><ul><li><a href='#01_Поиск в коллекциях значений.htm'>Поиск в коллекциях значений</a></li><li><a href='#02_Использование объекта РегистрСведенийМенеджерЗаписи.htm'>Использование объекта РегистрСведенийМенеджерЗаписи</a></li><li><a href='#03_Копирование строк между таблицами значений (табличными частями и т.п.) произвольной структуры.htm'>Копирование строк между таблицами значений (табличными частями и т.п.) произвольной структуры</a></li><li><a href='#04_Порядок записи движений документов.htm'>Порядок записи движений документов</a></li><li><a href='#05_Получение представлений для ссылочных значений в табличном документе.htm'>Получение представлений для ссылочных значений в табличном документе</a></li><li><a href='#06_Программное создание прикладных объектов.htm'>Программное создание прикладных объектов</a></li><li><a href='#07_Использование модуля объекта, модуля менеджера объекта и общих модулей.htm'>Использование модуля объекта, модуля менеджера объекта и общих модулей</a></li><li><a href='#08_Ограничения на использование экспортных процедур и функций.htm'>Ограничения на использование экспортных процедур и функций</a></li><li><a href='#09_Установка параметров выбора и связей параметров выбора для объектов метаданных.htm'>Установка параметров выбора и связей параметров выбора для объектов метаданных</a></li><li><a href='#10_Использование РеквизитФормыВЗначение и ДанныеФормыВЗначение.htm'>Использование РеквизитФормыВЗначение и ДанныеФормыВЗначение</a></li><li><a href='#11_Применение параметров отчета в СКД.htm'>Применение параметров отчета в СКД</a></li><li><a href='#12_Использование объектов типа Структура.htm'>Использование объектов типа Структура</a></li><li><a href='#13_Особенности сортировки в таблице значений.htm'>Особенности сортировки в таблице значений</a></li><li><a href='#14_Массовая конкатенация строк.htm'>Массовая конкатенация строк</a></li></ul></li></ul></li><li><a href='#04_Клиент-серверное взаимодействие'>Клиент-серверное взаимодействие</a></li><ul><li><a href='#01_Использование модулей с повторным использованием возвращаемых значений.htm'>Использование модулей с повторным использованием возвращаемых значений</a></li><li><a href='#02_Использование значений, влияющих на поведение клиентского приложения.htm'>Использование значений, влияющих на поведение клиентского приложения</a></li><li><a href='#03_Получение предопределенных значений на клиенте.htm'>Получение предопределенных значений на клиенте</a></li><li><a href='#04_Минимизация количества серверных вызовов и трафика.htm'>Минимизация количества серверных вызовов и трафика</a></li><li><a href='#05_Минимизация кода, выполняемого на клиенте.htm'>Минимизация кода, выполняемого на клиенте</a></li><li><a href='#06_Доступ к файловой системе из кода конфигурации.htm'>Доступ к файловой системе из кода конфигурации</a></li><li><a href='#07_Оптимизация использования оперативной памяти.htm'>Оптимизация использования оперативной памяти</a></li><li><a href='#08_Таймауты при работе с внешними ресурсами.htm'>Таймауты при работе с внешними ресурсами</a></li></ul></li><li><a href='#05_Общие вопросы безопасности'>Общие вопросы безопасности</a></li><ul><li><a href='#01_Безопасность прикладного программного интерфейса сервера.htm'>Безопасность прикладного программного интерфейса сервера</a></li><li><a href='#02_Ограничение на установку признака «Вызов сервера» у общих модулей.htm'>Ограничение на установку признака «Вызов сервера» у общих модулей</a></li><li><a href='#03_Безопасное хранение паролей.htm'>Безопасное хранение паролей</a></li><li><a href='#04_Ограничение на выполнение внешнего кода.htm'>Ограничение на выполнение внешнего кода</a></li><li><a href='#05_Ограничения на использование Выполнить и Вычислить на сервере.htm'>Ограничения на использование Выполнить и Вычислить на сервере</a></li><li><a href='#06_Безопасность запуска приложений.htm'>Безопасность запуска приложений</a></li><li><a href='#07_Безопасность программного обеспечения, вызываемого через открытые интерфейсы.htm'>Безопасность программного обеспечения, вызываемого через открытые интерфейсы</a></li></ul></li><li><a href='#06_Настройка прав доступа к данным'>Настройка прав доступа к данным</a></li><ul><li><a href='#01_Настройка ролей и прав доступа.htm'>Настройка ролей и прав доступа</a></li><li><a href='#02_Стандартные роли.htm'>Стандартные роли</a></li><li><a href='#03_Установка прав для новых объектов и полей объектов.htm'>Установка прав для новых объектов и полей объектов</a></li><li><a href='#04_Проверка прав доступа.htm'>Проверка прав доступа</a></li><li><a href='#05_Использование привилегированного режима.htm'>Использование привилегированного режима</a></li><li><a href='#06_Ограничения на использование ключевого слова _РАЗРЕШЕННЫЕ_ в запросах.htm'>Ограничения на использование ключевого слова _РАЗРЕШЕННЫЕ_ в запросах</a></li><li><a href='#07_Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным.htm'>Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным</a></li></ul></li><li><a href='#07_Реализация обмена данными'>Реализация обмена данными</a></li><ul><li><a href='#01_Настройка обмена данными для классификаторов между различными информационными базами.htm'>Настройка обмена данными для классификаторов между различными информационными базами</a></li><li><a href='#02_Разработка планов обмена с отборами.htm'>Разработка планов обмена с отборами</a></li><li><a href='#03_Интеграция прикладных решений через формат EnterpriseData.htm'>Интеграция прикладных решений через формат EnterpriseData</a></li></ul></li><li><a href='#08_Разработка и использование библиотек'>Разработка и использование библиотек</a></li><ul><li><a href='#01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm'>Разработка конфигураций с повторным использованием общего кода и объектов метаданных</a></li><li><a href='#02_Имена объектов метаданных в иерархии библиотек.htm'>Имена объектов метаданных в иерархии библиотек</a></li><li><a href='#03_Переопределяемые и поставляемые объекты библиотеки.htm'>Переопределяемые и поставляемые объекты библиотеки</a></li><li><a href='#04_Отнесение библиотечных объектов к подсистемам.htm'>Отнесение библиотечных объектов к подсистемам</a></li><li><a href='#05_Переопределение общих модулей в условиях иерархии библиотек.htm'>Переопределение общих модулей в условиях иерархии библиотек</a></li><li><a href='#06_Размещение сведений о настройках подсистемы.htm'>Размещение сведений о настройках подсистемы</a></li><li><a href='#07_Обеспечение совместимости библиотек.htm'>Обеспечение совместимости библиотек</a></li><li><a href='#08_Разработка ролей в библиотеках.htm'>Разработка ролей в библиотеках</a></li><li><a href='#09_Обработчики обновления информационной базы (БСП).htm'>Обработчики обновления информационной базы (БСП)</a></li></ul></li><li><a href='#09_Требования по локализации'>Требования по локализации</a></li><ul><li><a href='#01_Общие требования по локализации конфигурации.htm'>Общие требования по локализации конфигурации</a></li><li><a href='#02_Поставка международной версии конфигурации (Раздел обновлен!).htm'>Поставка международной версии конфигурации (Раздел обновлен!)</a></li><li><a href='#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm'>Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!)</a></li><li><a href='#04_Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!).htm'>Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!)</a></li><li><a href='#05_Форматирование даты, числа, Булево_ требования по локализации.htm'>Форматирование даты, числа, Булево_ требования по локализации</a></li><li><a href='#06_Строковые константные выражения в коде_ требования по локализации.htm'>Строковые константные выражения в коде_ требования по локализации</a></li><li><a href='#07_Элементы форм_ требования по локализации.htm'>Элементы форм_ требования по локализации</a></li><li><a href='#08_Регламентные задания_ требования по локализации.htm'>Регламентные задания_ требования по локализации</a></li><li><a href='#09_Макеты_ требования по локализации.htm'>Макеты_ требования по локализации</a></li><li><a href='#10_Денежные поля_ требования по локализации.htm'>Денежные поля_ требования по локализации</a></li><li><a href='#11_Автогенерированные данные в информационной базе_ требования по локализации.htm'>Автогенерированные данные в информационной базе_ требования по локализации</a></li></ul></li><li><a href='#10_Проектирование интерфейсов для 8.3'>Проектирование интерфейсов для 8.3</a></li><ul><li><a href='#01_Размеры экрана.htm'>Размеры экрана</a></li><li><a href='#02_Оформление групп разделов с настройками и справочниками.htm'>Оформление групп разделов с настройками и справочниками</a></li><li><a href='#03_Командный интерфейс'>Командный интерфейс</a></li><ul><li><a href='#01_Общие принципы построения командного интерфейса.htm'>Общие принципы построения командного интерфейса</a></li><li><a href='#02_Панель разделов.htm'>Панель разделов</a></li><li><a href='#03_Навигация внутри раздела.htm'>Навигация внутри раздела</a></li><li><a href='#04_Как вместить большое количество команд.htm'>Как вместить большое количество команд</a></li></ul></li><li><a href='#04_Компоновка форм.htm'>Компоновка форм</a></li><li><a href='#05_Формы документов'>Формы документов</a></li><ul><li><a href='#01_Командная панель документа.htm'>Командная панель документа</a></li><li><a href='#02_Табличные части. Оформление списка.htm'>Табличные части. Оформление списка</a></li><li><a href='#03_Итоги в документах.htm'>Итоги в документах</a></li><li><a href='#04_Поля _Ответственный_ и _Комментарий_.htm'>Поля _Ответственный_ и _Комментарий_</a></li></ul></li><li><a href='#06_Элементы интерфейса'>Элементы интерфейса</a></li><ul><li><a href='#01_Тумблер.htm'>Тумблер</a></li><li><a href='#02_Подсказки на форме.htm'>Подсказки на форме</a></li></ul></li><li><a href='#07_Шрифты.htm'>Шрифты</a></li></ul></li><li><a href='#11_Разработка пользовательских интерфейсов'>Разработка пользовательских интерфейсов</a></li><ul><li><a href='#01_Пользовательские представления объектов.htm'>Пользовательские представления объектов</a></li><li><a href='#02_Использование сочетаний клавиш, список зарезервированных сочетаний.htm'>Использование сочетаний клавиш, список зарезервированных сочетаний</a></li><li><a href='#03_Длительные операции на сервере (Раздел обновлен!).htm'>Длительные операции на сервере (Раздел обновлен!)</a></li><li><a href='#04_Длительные операции на клиенте.htm'>Длительные операции на клиенте</a></li><li><a href='#05_Формирование печатных форм.htm'>Формирование печатных форм</a></li><li><a href='#06_Разработка печатных форм с учетом возможного внесения изменений в макет пользователем.htm'>Разработка печатных форм с учетом возможного внесения изменений в макет пользователем</a></li><li><a href='#07_Реализация работы формы'>Реализация работы формы</a></li><ul><li><a href='#01_Открытие форм.htm'>Открытие форм</a></li><li><a href='#02_Открытие параметризированных форм.htm'>Открытие параметризированных форм</a></li><li><a href='#03_Правила создания модулей форм.htm'>Правила создания модулей форм</a></li><li><a href='#04_Блокирующее или независимое открытие форм объектов.htm'>Блокирующее или независимое открытие форм объектов</a></li><li><a href='#05_Ограничение на использование модальных окон и синхронных вызовов.htm'>Ограничение на использование модальных окон и синхронных вызовов</a></li><li><a href='#06_Запрет редактирования полей таблицы по условию.htm'>Запрет редактирования полей таблицы по условию</a></li><li><a href='#07_Особенности табличного документа в веб-клиенте.htm'>Особенности табличного документа в веб-клиенте</a></li><li><a href='#08_Обращение из кода к автоматически формируемым элементам управления формы.htm'>Обращение из кода к автоматически формируемым элементам управления формы</a></li><li><a href='#09_Обращение из кода к пользовательским элементам управления формы.htm'>Обращение из кода к пользовательским элементам управления формы</a></li><li><a href='#10_Команды по модификации объектов.htm'>Команды по модификации объектов</a></li><li><a href='#11_Контекстная и внеконтекстная передача управления на сервер.htm'>Контекстная и внеконтекстная передача управления на сервер</a></li><li><a href='#12_Использование объекта ДанныеФормыКоллекция.htm'>Использование объекта ДанныеФормыКоллекция</a></li><li><a href='#13_Условное оформление в формах.htm'>Условное оформление в формах</a></li><li><a href='#14_Ограничение использования поля HTML документа.htm'>Ограничение использования поля HTML документа</a></li><li><a href='#15_Использование режима вертикальной прокрутки форм.htm'>Использование режима вертикальной прокрутки форм</a></li><li><a href='#16_История выбора при вводе.htm'>История выбора при вводе</a></li></ul></li><li><a href='#08_Реализация форм списков'>Реализация форм списков</a></li><ul><li><a href='#01_Ограничения при использовании динамических списков.htm'>Ограничения при использовании динамических списков</a></li><li><a href='#02_Особенности реализации команд для форм списков.htm'>Особенности реализации команд для форм списков</a></li><li><a href='#03_Организация работы со списками данных с помощью общих команд.htm'>Организация работы со списками данных с помощью общих команд</a></li><li><a href='#04_Обновление списков при интерактивных действиях пользователя.htm'>Обновление списков при интерактивных действиях пользователя</a></li><li><a href='#05_Реквизит Ссылка в динамических списках.htm'>Реквизит Ссылка в динамических списках</a></li><li><a href='#06_Запросы в динамических списках.htm'>Запросы в динамических списках</a></li><li><a href='#07_Поле _Дата_ в списках.htm'>Поле _Дата_ в списках</a></li><li><a href='#08_Программное переопределение текстов запросов динамических списков.htm'>Программное переопределение текстов запросов динамических списков</a></li></ul></li><li><a href='#09_Организация диалога с пользователем'>Организация диалога с пользователем</a></li><ul><li><a href='#01_Информирование пользователя.htm'>Информирование пользователя</a></li><li><a href='#02_Ограничение на использование метода Сообщить.htm'>Ограничение на использование метода Сообщить</a></li><li><a href='#03_Предложение об установке внешних компонент и расширений платформы.htm'>Предложение об установке внешних компонент и расширений платформы</a></li></ul></li></ul></li><li><a href='#12_Проектирование интерфейсов для 8.2'>Проектирование интерфейсов для 8.2</a></li><ul><li><a href='#01_Общие рекомендации.htm'>Общие рекомендации</a></li><li><a href='#02_Командный интерфейс.htm'>Командный интерфейс</a></li><li><a href='#03_Панель разделов'>Панель разделов</a></li><ul><li><a href='#01_Панель разделов.htm'>Панель разделов</a></li><li><a href='#02_Названия разделов.htm'>Названия разделов</a></li><li><a href='#03_Картинки разделов.htm'>Картинки разделов</a></li><li><a href='#04_Подсказки для интерфейсных подсистем.htm'>Подсказки для интерфейсных подсистем</a></li></ul></li><li><a href='#04_Панель навигации основного окна'>Панель навигации основного окна</a></li><ul><li><a href='#01_Панель навигации основного окна.htm'>Панель навигации основного окна</a></li><li><a href='#02_Порядок и названия команд в ПН.htm'>Порядок и названия команд в ПН</a></li><li><a href='#03_Группа команд «Важное» в ПН.htm'>Группа команд «Важное» в ПН</a></li><li><a href='#04_Группировка команд в ПН.htm'>Группировка команд в ПН</a></li><li><a href='#05_Группа «См. также» в ПН.htm'>Группа «См. также» в ПН</a></li><li><a href='#06_Команды, размещаемые в ПН.htm'>Команды, размещаемые в ПН</a></li></ul></li><li><a href='#05_Панель действий.htm'>Панель действий</a></li><li><a href='#06_Отчеты'>Отчеты</a></li><ul><li><a href='#01_Содержание отчета.htm'>Содержание отчета</a></li><li><a href='#02_Варианты отчетов.htm'>Варианты отчетов</a></li><li><a href='#03_Поля периодов.htm'>Поля периодов</a></li><li><a href='#04_Пользовательские настройки.htm'>Пользовательские настройки</a></li><li><a href='#05_Заголовок отчета.htm'>Заголовок отчета</a></li><li><a href='#06_Отчеты вида _таблица_, _список_.htm'>Отчеты вида _таблица_, _список_</a></li><li><a href='#07_Отчеты вида _диаграмма_.htm'>Отчеты вида _диаграмма_</a></li></ul></li><li><a href='#07_Размещение большого количества команд в основном окне приложения.htm'>Размещение большого количества команд в основном окне приложения</a></li><li><a href='#08_Рабочий стол.htm'>Рабочий стол</a></li><li><a href='#09_Рабочее место.htm'>Рабочее место</a></li><li><a href='#10_Оформление форм списков'>Оформление форм списков</a></li><ul><li><a href='#01_Формы списков.htm'>Формы списков</a></li><li><a href='#02_Списки с одной колонкой.htm'>Списки с одной колонкой</a></li><li><a href='#03_Размеры списков.htm'>Размеры списков</a></li><li><a href='#04_Быстрые отборы в списках.htm'>Быстрые отборы в списках</a></li><li><a href='#05_Многоэтажные списки.htm'>Многоэтажные списки</a></li><li><a href='#06_Команды, размещаемые во _Всех действиях_.htm'>Команды, размещаемые во _Всех действиях_</a></li><li><a href='#07_Заголовки списков.htm'>Заголовки списков</a></li><li><a href='#08_Колонки с флажками.htm'>Колонки с флажками</a></li><li><a href='#09_Группировки в списках.htm'>Группировки в списках</a></li><li><a href='#10_Команда _Создать_ в журналах документов.htm'>Команда _Создать_ в журналах документов</a></li><li><a href='#11_Пояснение невозможности заполнения ячеек в табличных частях.htm'>Пояснение невозможности заполнения ячеек в табличных частях</a></li><li><a href='#12_Акцентирование внимания на просроченных или критичных состояниях.htm'>Акцентирование внимания на просроченных или критичных состояниях</a></li><li><a href='#13_Групповые обработки в списках.htm'>Групповые обработки в списках</a></li></ul></li><li><a href='#11_Сообщения пользователю.htm'>Сообщения пользователю</a></li><li><a href='#12_Окно старта.htm'>Окно старта</a></li><li><a href='#13_Формы'>Формы</a></li><ul><li><a href='#01_Формы.htm'>Формы</a></li><li><a href='#02_Компоновка форм.htm'>Компоновка форм</a></li><li><a href='#03_Командная панель формы.htm'>Командная панель формы</a></li><li><a href='#04_Порядок полей.htm'>Порядок полей</a></li><li><a href='#05_Размеры.htm'>Размеры</a></li><li><a href='#06_Группы элементов формы.htm'>Группы элементов формы</a></li><li><a href='#07_Поля _Ответственный_ и _Комментарий_.htm'>Поля _Ответственный_ и _Комментарий_</a></li><li><a href='#08_Группа полей _Наименование_, _Код_, _Полное наименование_, _Входит в группу_.htm'>Группа полей _Наименование_, _Код_, _Полное наименование_, _Входит в группу_</a></li><li><a href='#09_Панель навигации вспомогательного окна.htm'>Панель навигации вспомогательного окна</a></li><li><a href='#10_Список, открываемый из панели навигации формы объекта.htm'>Список, открываемый из панели навигации формы объекта</a></li><li><a href='#11_Блокирующая или независимая форма.htm'>Блокирующая или независимая форма</a></li><li><a href='#12_Формы выбора.htm'>Формы выбора</a></li><li><a href='#13_Формы пошаговых помощников (мастеров).htm'>Формы пошаговых помощников (мастеров)</a></li><li><a href='#14_Взаимосвязанные поля.htm'>Взаимосвязанные поля</a></li><li><a href='#15_Командные панели табличных частей.htm'>Командные панели табличных частей</a></li></ul></li><li><a href='#14_Оформление элементов'>Оформление элементов</a></li><ul><li><a href='#01_Оформление элементов.htm'>Оформление элементов</a></li><li><a href='#02_Переход к форме с дополнительными реквизитами.htm'>Переход к форме с дополнительными реквизитами</a></li><li><a href='#03_Выбор_ Гиперссылка или кнопка.htm'>Выбор_ Гиперссылка или кнопка</a></li><li><a href='#04_Картинки (иконки) в названии команд.htm'>Картинки (иконки) в названии команд</a></li><li><a href='#05_Частотные кнопки.htm'>Частотные кнопки</a></li><li><a href='#06_Итоги в документах.htm'>Итоги в документах</a></li><li><a href='#07_Итоги в журналах документов.htm'>Итоги в журналах документов</a></li><li><a href='#08_Флажки.htm'>Флажки</a></li><li><a href='#09_Команда «Подобрать».htm'>Команда «Подобрать»</a></li><li><a href='#10_Команда «Отмена».htm'>Команда «Отмена»</a></li><li><a href='#11_Единицы измерения.htm'>Единицы измерения</a></li><li><a href='#12_Значения по умолчанию.htm'>Значения по умолчанию</a></li><li><a href='#13_Гиперссылка на счет-фактуру.htm'>Гиперссылка на счет-фактуру</a></li><li><a href='#14_Поле, влияющее на состав остальных полей в форме.htm'>Поле, влияющее на состав остальных полей в форме</a></li><li><a href='#15_Невыбранная картинка.htm'>Невыбранная картинка</a></li><li><a href='#16_Реквизиты.htm'>Реквизиты</a></li><li><a href='#17_Подменю.htm'>Подменю</a></li></ul></li><li><a href='#15_Требования к изображениям (иконкам).htm'>Требования к изображениям (иконкам)</a></li><li><a href='#16_Правила создания иконок командных панелей.htm'>Правила создания иконок командных панелей</a></li><li><a href='#17_Тексты'>Тексты</a></li><ul><li><a href='#01_Названия печатных форм учетных документов и команд по их выводу на печать.htm'>Названия печатных форм учетных документов и команд по их выводу на печать</a></li><li><a href='#02_Тексты.htm'>Тексты</a></li><li><a href='#03_Шрифт и цвет.htm'>Шрифт и цвет</a></li></ul></li><li><a href='#18_Горячие клавиши.htm'>Горячие клавиши</a></li><li><a href='#19_Элементы стиля.htm'>Элементы стиля</a></li></ul></li><li><a href='#13_Разработка пользовательских интерфейсов (обычное приложение)'>Разработка пользовательских интерфейсов (обычное приложение)</a></li><ul><li><a href='#01_Общие правила построения интерфейсов.htm'>Общие правила построения интерфейсов</a></li><li><a href='#02_Общие интерфейсы.htm'>Общие интерфейсы</a></li><li><a href='#03_Интерфейс _Полный_.htm'>Интерфейс _Полный_</a></li><li><a href='#04_Стили.htm'>Стили</a></li><li><a href='#05_Реализация работы формы'>Реализация работы формы</a></li><ul><li><a href='#01_Имя элемента управления.htm'>Имя элемента управления</a></li><li><a href='#02_Изменения размера колонки табличного поля.htm'>Изменения размера колонки табличного поля</a></li><li><a href='#03_Ограничения по использованию одинаковых текстов на элементах управление в форме.htm'>Ограничения по использованию одинаковых текстов на элементах управление в форме</a></li><li><a href='#04_Размеры формы.htm'>Размеры формы</a></li><li><a href='#05_Подсказки.htm'>Подсказки</a></li><li><a href='#06_Использование флагов _Автовыбор незаполненного_ и _Автоотметка незаполненного_.htm'>Использование флагов _Автовыбор незаполненного_ и _Автоотметка незаполненного_</a></li><li><a href='#07_Использование гиперссылок в диалогах форм.htm'>Использование гиперссылок в диалогах форм</a></li><li><a href='#08_Привязки.htm'>Привязки</a></li><li><a href='#09_Отступы.htm'>Отступы</a></li><li><a href='#10_Использование закладок.htm'>Использование закладок</a></li><li><a href='#11_Порядок обхода элементов диалога.htm'>Порядок обхода элементов диалога</a></li><li><a href='#12_Размещение кнопки вызова справки в формах.htm'>Размещение кнопки вызова справки в формах</a></li><li><a href='#13_Отображение единственного табличного поля в форме.htm'>Отображение единственного табличного поля в форме</a></li><li><a href='#14_Разделители.htm'>Разделители</a></li><li><a href='#15_Кнопки.htm'>Кнопки</a></li><li><a href='#16_Картинки.htm'>Картинки</a></li><li><a href='#17_Программное управление видимостью страниц.htm'>Программное управление видимостью страниц</a></li><li><a href='#18_Программное управление формой.htm'>Программное управление формой</a></li><li><a href='#19_Ограничение выполнения действий, доступных только при определенных условиях.htm'>Ограничение выполнения действий, доступных только при определенных условиях</a></li><li><a href='#20_Поведение специализированных форм.htm'>Поведение специализированных форм</a></li><li><a href='#21_Обращение к данным информационной базы в обработчиках часто вызываемых событий.htm'>Обращение к данным информационной базы в обработчиках часто вызываемых событий</a></li><li><a href='#22_Обращение к свойству _ТекущаяСтрока_ табличного поля.htm'>Обращение к свойству _ТекущаяСтрока_ табличного поля</a></li><li><a href='#23_Использование пояснений в полях ввода и выбора.htm'>Использование пояснений в полях ввода и выбора</a></li><li><a href='#24_Особенности размещения в командных панелях пунктов меню, не предназначенные для решения основных задач.htm'>Особенности размещения в командных панелях пунктов меню, не предназначенные для решения основных задач</a></li></ul></li><li><a href='#06_Организация диалога с пользователем'>Организация диалога с пользователем</a></li><ul><li><a href='#01_Вопрос при закрытии программы.htm'>Вопрос при закрытии программы</a></li></ul></li></ul></li><li><a href='#14_Новые и измененные разделы (Раздел обновлен!).htm'>Новые и измененные разделы (Раздел обновлен!)</a></li></ul><hr>
<h1 id='Система стандартов и методик разработки конфигураций'>Система стандартов и методик разработки конфигураций</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/i8100788.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Новые и измененные разделы (Раздел обновлен!).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Новые и измененные разделы</h1><div style="clear: right; float: right;">#std788</div>
<div>Май 2024: изменен стандарт <a href="#04_Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!).htm" target="_top">Запросы, динамические списки и отчеты на СКД: требования по локализации</a></div>
<ul>
<li>новый п. 4 про именование параметров подстановки в полях и параметрах СКД.</li></ul>
<div>Май 2024: изменен стандарт <a href="#02_Поставка международной версии конфигурации (Раздел обновлен!).htm" target="_top">Поставка международной версии конфигурации</a></div>
<ul>
<li>в п. 1.4 даны рекомендации о реализации и переопределении национальной специфики в коде конфигураций.</li></ul>
<div>Май 2024: изменен стандарт <a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">Интерфейсные тексты в коде: требования по локализации</a></div>
<ul>
<li>новый п. 7 с ограничениями на использование функции <b>ПолучитьСклоненияСтрокиПоЧислу</b>.</li></ul>
<div>Февраль 2024: изменен стандарт <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">Длительные операции на сервере</a></div>
<div>
<ul>
<li>в п. 3 обновлен пример вывода ошибки при обработке результата длительной операции.</li></ul></div>
<div>Январь 2024: Обновлена обработка автоформатирования кода в стандарте <a href="#01_Тексты модулей.htm" target="_top">Тексты модулей</a></div>
<div>
<ul>
<li>Заполняет пустые заголовки у групп с названиями Группа1, Группа2 и т.д. согласно стандарту <a href="#07_Элементы форм_ требования по локализации.htm" target="_top">Элементы форм: требования по локализации</a>; 

<li>Для автоматизированного сценарного тестирования конфигураций заполняет пустые заголовки элементов формы из связанных реквизитов или команд; 

<li>Корректирует синонимы ролей с префиксом ДобавлениеИзменение, например, для роли ДобавлениеИзменениеОпросов будет синоним Добавление и изменение опросов; 

<li>Опционально очищает заголовки элементов форм от слов "Группа", "Список", например: "Группа банковские выписки" -&gt; "Банковские выписки", "Список товары" -&gt; "Товары"; 

<li>Устранены избыточные изменения в обработанных файлах, такие как: 

<ul>
<li>у обработанного файла изменялась кодировка UTF-8 с BOM, теперь кодировка не меняется. 

<li>в заголовках и в запросах динамических списков заменялись кавычки со служебного "&amp;quot;" на символ кавычки. 

<li>ранее добавлялась лишняя запись &lt;showTitle&gt;false&lt;/showTitle&gt; в файлы форм в формате EDT. 

<li>и другие</li></li></li></li></ul></li></li></li></li></li></ul>
<div>Декабрь 2023: изменен стандарт <a href="#04_Ограничение на выполнение внешнего кода.htm" target="_top">Ограничение на выполнение внешнего кода</a></div>
<div>
<ul>
<li>в п. 7 усилена безопасность при загрузке данных из внешних источников по протоколам HTTPS и FTPS, для этого явно указывать СертификатыУдостоверяющихЦентровОС.</li></ul></div>
<div>Декабрь 2023: изменен стандарт <a href="#04_Ограничения на регламентные задания при работе в режиме сервиса.htm" target="_top">Ограничения на регламентные задания при работе в режиме сервиса</a></div>
<div>
<ul>
<li>в п. 2 даны рекомендации, как создавать регламентные задания без шаблона очереди заданий; 

<li>убран устаревший п. 3.</li></li></ul></div>
<div>Июнь 2023: изменен стандарт <a href="#19_Элементы стиля.htm" target="_top">Элементы стиля</a></div>
<div>
<ul>
<li>у элементов стиля с видом "Шрифт" заменен шрифт "Шрифт диалогов и меню" на "Обычный шрифт текста".</li></ul></div>
<div>Май 2023: изменен стандарт <a href="#11_Контекстная и внеконтекстная передача управления на сервер.htm" target="_top">Контекстная и внеконтекстная передача управления на сервер</a></div>
<div>
<ul>
<li>в пунктах 2.1 и 2.2 перечислены способы устранения недопустимых контекстных серверных вызовов.</li></ul></div>
<div>Май 2023: изменен стандарт <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">Минимизация количества серверных вызовов и трафика</a></div>
<div>
<ul>
<li>в п. 12 даны рекомендации по использованию ключевого слова Знач в параметрах серверных процедур и функций, вызываемых с клиента.</li></ul></div>
<div>Май 2023: изменен стандарт <a href="#04_Проверка прав доступа.htm" target="_top">Проверка прав доступа</a></div>
<div>
<ul>
<li>уточнены рекомендации по использованию метода РольДоступна (в БСП Пользователи.РолиДоступны), когда роль не пустая, но метод ПравоДоступа неинформативен.</li></ul></div>
<div>Май 2023: изменен стандарт <a href="#07_Обеспечение совместимости библиотек.htm" target="_top">Обеспечение совместимости библиотек</a></div>
<div>
<ul>
<li>в п. 1.1 уточнено, что требуется менять подредакцию при удалении устаревших объектов метаданных; 

<li>в п. 1.1 указан порядок выпуска версий библиотек, обязательных для перехода в связи с удалением устаревших объектов метаданных; 

<li>в п. 3.6 приведены ограничения по размещению программного интерфейса в общих модулях с признаком <b>Вызов сервера</b>.</li></li></li></ul></div>
<div>Февраль 2023: изменен стандарт <a href="#05_Формирование печатных форм.htm" target="_top">Формирование печатных форм</a></div>
<ul>
<li>актуализирован с учетом <a href="https://its.1c.ru/db/bsp318doc/content/4/hdoc/issogl3_разработка_команды_печати_для_автоматической_компоновки_печатной_формы_по_макету_и_данным_объекта" target="_top">технологии печати на базе СКД</a>. </li></ul>
<div>Февраль 2023: изменен стандарт <a href="#02_Многократное выполнение однотипных запросов.htm" target="_top">Многократное выполнение однотипных запросов</a></div>
<ul>
<li>добавлены рекомендации по использованию программного интерфейса БСП. 

<li>добавлены разъяснения по случаям, когда разделение запроса на серию запросов оправданно. </li></li></ul>
<div>Февраль 2023: новый стандарт <a href="#05_Формирование печатных форм.htm" target="_top">Разработка печатных форм с учетом возможного внесения изменений в макет пользователем</a></div>
<ul>
<li>даны рекомендации по повышению устойчивости макетов печатных форм к изменениям пользователя. </li></ul>
<div>Июль 2022: изменен стандарт <a href="#07_Обеспечение совместимости библиотек.htm" target="_top">Обеспечение совместимости библиотек</a></div>
<div>
<ul>
<li>имена ролей и элементов стилей добавлены в программный интерфейс. </li></ul>
<p>Июль 2022: изменен стандарт <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">Минимизация количества серверных вызовов и трафика</a></p>
<p></p>
<ul>
<li>даны рекомендации по минимизации периодических серверных вызовов. </li></ul>
<div>Июль 2022: изменен стандарт <a href="#08_Особенности использования в запросах оператора ПОДОБНО.htm" target="_top">Особенности использования в запросах оператора ПОДОБНО</a></div>
<div>
<ul>
<li>даны рекомендации по предотвращению неожиданных ошибок при исполнении запросов с ПОДОБНО (например, "invalid regular expression: invalid character range" в PostgreSQL] </li></ul>
<div>Март 2022: изменен стандарт <a href="#01_Оформление текстов запросов.htm" target="_top">Оформление текстов запросов</a></div>
<div>
<ul>
<li>в п.6.2 дополнен раздел "Изменение имени поля выборки или таблицы" примером о недопустимости использования комментария для помещения во временную таблицу результата запроса. </li></ul></div>
<div>Март 2022: изменен стандарт <a href="#01_Тексты модулей.htm" target="_top">Тексты модулей</a></div></div>
<div>
<ul>
<li>в п.3 дано требование о запрете в текстах запросов использовать комментарии для их модификации. </li></ul>
<div>Февраль 2022: изменен стандарт <a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a></div></div>
<div>
<ul>
<li>в разделе 6 даны рекомендации по разработке ролей в расширениях. </li></ul>
<div>
<div>Декабрь 2021: изменен стандарт <a href="#10_Использование Журнала регистрации.htm" target="_top">Использование журнала регистрации</a></div>
<div>
<ul>
<li>в п. 2.1. даны рекомендации по именам типов событий - не использовать в них конкретные значения из базы данных, т.к. это усложняет анализ журнала регистрации и может привести к утечке чувствительных данных; 

<li>в п. 2.3 введено ограничение на размер комментария - максимум 10Кб. </li></li></ul></div>
<div>Декабрь 2021: изменен стандарт <a>Параллельный режим отложенного обновления</a> </div>
<div>
<ul>
<li>в п. 3.3 заполнение приоритетов выполнения отложенных обработчиков в параллельном режиме теперь не обязательно (в конфигурацию должна быть встроена БСП 3.1.6 или новее). </li></ul></div>
<div>Декабрь 2021: Изменен стандарт <a href="#12_Использование объектов типа Структура.htm" target="_top">Использование объектов типа Структура</a> </div>
<div>
<ul>
<li>Добавлены в п.4 рекомендация не читать свойства структуры динамически и в п. 5 исключения. </li></ul></div>
<div>Ноябрь 2021: Изменен стандарт <a href="#02_Открытие параметризированных форм.htm" target="_top">Открытие параметризированных форм</a></div>
<div>
<ul>
<li>Добавлен п.3 с рекомендацией явного объявления параметров формы на закладке Параметры. </li></ul></div>
<div>Ноябрь 2021: Изменен стандарт <a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">Структуры и таблицы значений в качестве параметров процедур и функций</a></div>
<div>
<ul>
<li>переименован в "Структуры и таблицы значений в качестве параметров процедур и функций"; 

<li>в п. 1.1 скорректировано описание функции-конструктора; 

<li>новые пункты 1.3, 1.4 и 1.5 с требованиями к конструкторам таблиц значений. </li></li></li></ul></div>
<div>Ноябрь 2021: Изменен стандарт <a href="#04_Описание процедур и функций.htm" target="_top">Описание процедур и функций</a></div>
<div>
<ul>
<li>изменены п.п. 5.2.2, 5.2.3 - добавлены ссылки на стандарт <a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">Структуры и таблицы значений в качестве параметров процедур и функций</a>. </li></ul></div>
<div>Ноябрь 2021: Изменен стандарт <a href="#08_Особенности использования в запросах оператора ПОДОБНО.htm" target="_top">Особенности использования в запросах оператора ПОДОБНО</a></div>
<div>
<ul>
<li>пункт об ограничении длины шаблона до 1024 символов; 

<li>пункт о выполнении сравнения без учета регистра символов. </li></li></ul></div>
<div>Октябрь 2021: Изменен стандарт <a href="#02_Несоответствие индексов и условий запроса.htm" target="_top">Несоответствие индексов и условий запроса</a> </div>
<div>
<ul>
<li>исправлены ошибки в тексте, убраны некорректные рекомендации. </li></ul></div>
<div>Октябрь 2021: Изменен стандарт <a href="#01_Транзакции_ правила использования.htm" target="_top">Транзакции: правила использования</a></div>
<div>
<ul>
<li>актуализирован пример реализации длительной транзакции в п.2.2; 

<li>в п. 2.3 добавлен пункт о запрете обращений к внешним ресурсам в транзакции; 

<li>новый п. 3 об обязательном использовании транзакции при записи в регистр с отключением/включением итогов. </li></li></li></ul></div>
<div>Октябрь 2021: Изменен стандарт <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">Минимизация количества серверных вызовов и трафика</a></div>
<div>
<ul>
<li>переименован в "Минимизация количества серверных вызовов и трафика"; 

<li>в п. 2.2 дополнен раздел "Запуск клиентского приложения" ссылками на API БСП СтандартныеПодсистемыКлиент.ПараметрыРаботыКлиентаПриЗапуске и ПараметрыРаботыКлиента; 

<li>в п. 3.3 дано требование о запрете подключать несколько различных обработчиков ожидания при открытии формы и рекомендация использовать API БСП общих модулей ДлительныеОперации и ДлительныеОперацииКлиент; 

<li>в п.8 приведен типовой пример про отказ от дополнительного вызова сервера при записи формы; 

<li>в п.9 даны требования про запрет неявных серверных вызовов; 

<li>в п.10 даны рекомендации по передачи с клиента на сервер не больше данных, чем нужно для выполнения задачи; 

<li>в пп. 1.1, 2.1, 3.2 добавлены уточнения, доп. примеры. </li></li></li></li></li></li></li></ul></div>
<div>Август 2021: Опубликован новый стандарт <a href="#10_Вычисление количества записей в запросах.htm" target="_top">Вычисление количества записей в запросах</a></div>
<div>
<ul>
<li>даны методические рекомендации по предотвращению ошибки "Microsoft SQL Server Native Client 11.0: Arithmetic overflow error converting numeric to data type numeric" при вычислении количества записей в запросах. </li></ul></div>
<div>Июль 2021: Изменен стандарт <a href="#09_Обработчики обновления информационной базы (БСП).htm" target="_top">Обработчики обновления информационной базы</a> </div>
<div>
<ul>
<li>дополнены требования по реализации обработчиков обновления; 

<li>стратегия - обработать максимально возможный объем данных и избегать решений, когда от пользователя требуются какие-то действия для завершения обработки данных. </li></li></ul></div>
<div><br/></div></div></div>
<p></p></div></div></body><hr>
<h1 id='01_Создание и изменение объектов метаданных'>Создание и изменение объектов метаданных</h1>
<h1 id='01_Организация работы конфигурации'>Организация работы конфигурации</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100467.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие требования к конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие требования к конфигурации</h1><div style="clear: right; float: right;">#std467</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. Конфигурация должна использовать только штатные и документированные возможности платформы <strong>1С:Предприятие</strong>. </p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.2" name="1.2"></a>1.2. Конфигурация должна быть одинаково рассчитана на работу со всеми СУБД, операционными системами, веб-браузерами и различными режимами работы, которые поддерживает платформа <strong>1С:Предприятие</strong>. В частности, в веб-клиенте все ключевые возможности конфигурации должны быть доступны пользователям без использования <a href="#03_Предложение об установке внешних компонент и расширений платформы.htm" target="_top">расширения работы с файлами</a>, а <a href="#05_Ограничение на использование модальных окон и синхронных вызовов.htm" target="_top">взаимодействие с пользователем должно быть организовано асинхронно</a>.<br/>Дополнительные материалы: </p>
<ul>
<li><a href="http://v8.1c.ru/requirements/" target="_blank">Список поддерживаемых операционных систем и СУБД</a>  

<li>Особенности работы с различными СУБД см. в <a href="https://its.1c.ru/db/v839doc/bookmark/dev/TI000001285" target="_top">приложении 8</a> документации по платформе 1С:Предприятие 8.3 

<li>Особенности режима низкой скорости соединения и работы веб-клиента см. в <a href="https://its.1c.ru/db/v839doc/bookmark/dev/TI000001242" target="_top">приложении 7</a> (там же) 

<li>
<p><font face="Verdana" size="2"><a href="#15_Особенности разработки конфигураций для ОС Linux и macOS.htm" target="_top">Особенности разработки конфигураций для ОС Linux</a></font> </p><font face="Verdana" size="2"></font>
<p><font face="Verdana" size="2"></font></p></li></li></li></li></ul>
<p><a id="1.3" name="1.3"></a>1.3. Конфигурация не должна содержать ошибок, обнаруживаемых при проверке конфигурации (конфигуратор – меню <strong>Конфигурация</strong> – <strong>Проверка конфигурации…</strong>). Кроме отдельных, обоснованных случаев: </p>
<ul>
<li><a href="#07_Обработчики событий модуля формы, подключаемые из кода.htm" target="_top">Обработчики событий модуля формы, подключаемые из кода</a>; 

<li><a href="#05_Ограничение на использование модальных окон и синхронных вызовов.htm" target="_top">Ограничение на использование модальных окон и синхронных вызовов</a>; 

<li><a href="#02_Ограничение на установку признака «Вызов сервера» у общих модулей.htm" target="_top">Ограничение на установку признака «Вызов сервера»</a>; 

<li><a href="#19_Несущественные предупреждения проверки конфигурации.htm" target="_top">Несущественные предупреждения проверки конфигурации</a>. </li></li></li></li></ul>
<p><a id="1.4" name="1.4"></a>1.4. Для поддержки обратной совместимости с различными собственными и сторонними решениями, внешними обработками и отчетами, разработанными на предыдущих версиях платформы <strong>1С:Предприятие 8.0</strong> и<strong> 8.1</strong>, конфигурация также должна поддерживать запуск в режимах обычного приложения (толстый клиент) и внешнего соединения для администраторов (пользователей с полными правами). Для этого рекомендуется  </p>
<ul>
<li>свойство конфигурации <strong>«Использовать управляемые формы в обычном приложении»</strong> установить в <strong>Истина</strong>, а свойство <strong>«Использовать обычные формы в управляемом режиме»</strong> – в <strong>Ложь</strong>. 

<li>придерживаться <a href="#09_Правила создания общих модулей.htm" target="_top">общей схемы установки признаков общих модулей</a>, 

<li>а саму разработку в Конфигураторе вести в режиме редактирования для обоих режимов запуска – управляемое и обычное приложение (меню <strong>Сервис</strong> – <strong>Параметры</strong> – закладка <strong>Общие</strong>). </li></li></li></ul>
<p>Отказ от поддержки запуска конфигурации в режимах обычного приложения и внешнего соединения для администраторов возможен только в отдельных, обоснованных случаях.</p></td></tr></tbody></table>
<p><a id="1.5" name="1.5"></a>1.5. При проектировании тех или иных технических решений, при разработке пользовательского интерфейса, отчетов и т.п. не рекомендуется отходить от умолчаний платформы <strong>1С:Предприятие</strong>. Реализация альтернативных вариантов технических решений допустима только в отдельных, обоснованных случаях. </p>
<p><a id="2.1" name="2.1"></a>2.1. Имена, синонимы, комментарии объектов метаданных, общих модулей, а также любая текстовая информация (которая выводится пользователю или предназначена для разработчика/внедренца) должны быть составлены по правилам русского языка и, в частности, не должны содержать грамматических ошибок.</p>
<p><a id="2.2" name="2.2"></a>2.2. В конфигурации не должно быть неиспользуемых объектов метаданных (справочников, документов, разделов командного интерфейса и т.п.) и программного кода (общих модулей, процедур, функций, переменных и т.п.), который не используется ни в самой конфигурации, ни для интеграции с другими системами.</p>
<p><a id="2.3" name="2.3"></a>2.3. Объекты метаданных верхнего уровня, такие как <strong>Справочники</strong>, <strong>Документы, Общие модули</strong> и т.д. рекомендуется сортировать в дереве метаданных по имени. Подчиненные объекты метаданных, такие как реквизиты, измерения, формы, располагаются в дереве метаданных в соответствии с проектной логикой. </p>
<p>Исключение составляют:</p>
<ul>
<li><a href="#07_Использование общих реквизитов.htm" target="_top">общие реквизиты</a> (т.к. для общих реквизитов, являющихся разделителями, порядок следования в дереве метаданных должен подбираться, исходя из требуемого порядка установки параметров сеанса). 

<li><a href="#12_Удаление устаревших объектов метаданных из конфигурации.htm" target="_top">объекты с префиксом "Удалить"</a> (англ. "Obsolete"), которые допустимо размещать в конце соответствующей ветки метаданных; 

<li>группы команд (так как порядок групп команд в дереве метаданных влияет на порядок их размещения в командной панели формы). </li></li></li></ul></font><font face="Verdana" size="2"></font>
<p><font face="Verdana" size="2"></font>  </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100550.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Имена объектов метаданных в конфигурациях.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Имена объектов метаданных в конфигурациях</h1><div style="clear: right; float: right;">#std550</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><em>См. также: <a href="#03_Имя, синоним, комментарий.htm" target="_top">общие правила наименования метаданных</a></em></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td nowrap="" valign="top"><strong>п/п</strong></td>
<td nowrap="" valign="top"><strong>Объекты метаданных</strong></td>
<td valign="top"><strong>Правила наименования</strong></td>
<td nowrap="" valign="top"><strong>Область применения (уточнение)</strong></td></tr>
<tr>
<td valign="top">1.</td>
<td valign="top">Подсистемы</td>
<td valign="top">
<p>Согласно общим правилам наименования метаданных. <br/>Например: <strong>Финансы</strong>, <strong>Маркетинг</strong>, <strong>НастройкаИАдминистирование</strong>.</p>
<p>См. также: <a href="#06_Использование подсистем.htm" target="_top">Использование подсистем</a></p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">2.</td>
<td valign="top">Общие модули</td>
<td valign="top">
<p>См. <a href="#09_Правила создания общих модулей.htm" target="_top">Правила создания общих модулей</a> </p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">3.</td>
<td valign="top">Параметры сеанса</td>
<td valign="top">
<p>Согласно общим правилам наименования метаданных. <br/>Например: <strong>ТекущийПользователь</strong>, <strong>ОбменДаннымиВключен</strong>, <strong>РаботаСВнешнимиРесурсамиЗаблокирована</strong>.</p>
<p>См. также: <a href="#05_Использование параметров сеанса.htm" target="_top">Использование параметров сеанса</a></p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">4.</td>
<td valign="top">Роли</td>
<td valign="top">
<p>При именовании ролей рекомендуется придерживаться двух схем:</p>
<p>«прикладные» роли, соответствующие должностным обязанностям определенной категории пользователей информационной системы, следует именовать от названия должности, например <strong>Бухгалтер</strong>, <strong>Кассир</strong>, <strong>Администратор</strong>. </p>
<p>роли, дающие доступ к более «мелким» функциональным блокам для более «тонкой» настройки прав доступа пользователей, рекомендуется именовать от описания разрешаемого действия. Например: <strong>ДобавлениеИзменениеНСИ</strong>, <strong>ЧтениеДополнительныхСведений</strong>, <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок</strong>.</p>
<p>См. также: <a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a></p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">5.</td>
<td valign="top">Общие реквизиты</td>
<td valign="top">
<p>Согласно общим правилам именования метаданных.</p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">6.</td>
<td valign="top">Планы обмена</td>
<td valign="top">
<p>Имена планов обмена рекомендуется называть по следующим принципам:</p>
<ul>
<li>в именах планов обмена РИБ (признак <strong>Распределенная ИБ</strong> включен) кратко описываются правила синхронизации данных. Например: <strong>Полный</strong>, <strong>ПоОрганизациям</strong>, <strong>ПоСкладамИОрганизациям</strong>
<li>имена планов обмена между различными конфигурациями следует формировать из имени источника и имени приемника. Имена планов обмена в источнике и приемнике должны быть одинаковыми. Например: <strong>ОбменУправлениеНебольшойФирмойБухгалтерияПредприятия</strong>, <strong>ОбменУправлениеТорговлейРозничнаяТорговля</strong>.</li></li></ul>
<p>При необходимости организации обмена с разными версиями (редакциями) конфигураций, к именам приемника и источника добавляются номера версий (редакций). Например, <strong>ОбменУправлениеТорговлей110РозничнаяТорговля10 </strong>(обмен данными между конфигурациями редакций 11.0 и 1.0)</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">7.</td>
<td valign="top">Критерии отбора</td>
<td valign="top">Имена критериев отбора рекомендуется задавать во множественном числе, образуя имя от названия списка объектов, которые он отбирает. Например: <strong>СвязанныеДокументы</strong>, <strong>ФайлыВТоме</strong>.</td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">8.</td>
<td valign="top">Подписки на события</td>
<td valign="top">
<p>Имена подписок на события рекомендуется задавать от сути выполняемого действия и образовывать от неопределенной формы глагола. Например, <br/>неправильно<br/><strong>ЗапретРедактированияРеквизитовОбъектовПередЗаписьюОбъекта<br/>НастройкаПорядкаЭлементовПередЗаписью</strong></p>
<p>правильно:<br/><strong>ПроверитьИзменениеРеквизитовОбъекта<br/>ПересчитатьПорядковыйНомерЭлемента</strong></p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">9.</td>
<td valign="top">Регламентные задания</td>
<td valign="top">
<p>Имена регламентных заданий рекомендуется давать в единственном числе и образовывать от существительного. Например, <br/>неправильно<br/><strong>УстановитьПериодРасчитанныхИтогов</strong><br/><strong>УведомитьИсполнителейОНовыхЗадачах</strong></p>
<p>правильно<br/><strong>УстановкаПериодаРасчитанныхИтогов</strong><br/><strong>УведомлениеИсполнителейОНовыхЗадачах</strong></p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">10.</td>
<td valign="top">Функциональные опции</td>
<td valign="top">
<p>Имена функциональных опций, связанных с константами, рекомендуется образовывать от описания включаемой (или выключаемой) с их помощью функциональности. Например, для функциональных опций типа <strong>Булево</strong>:<br/><strong>ИспользоватьБизнесПроцессыИЗадачи</strong><br/><strong>ИспользоватьВерсионированиеОбъектов</strong></p>
<p>для функциональной опции других типов:<br/><strong>ПрефиксИнформационнойБазы</strong> (тип <strong>Строка</strong>)<br/><strong>ВариантыВерсионированияОбъектов</strong> (параметризуемая функциональная опция, связанная с регистром сведений)</p>
<p>См. также: <a href="#04_Использование функциональных опций.htm" target="_top">Использование функциональных опций</a></p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">11.</td>
<td valign="top">Параметры функциональных опций</td>
<td valign="top">
<p>Имена параметров функциональных опций рекомендуется задавать от описания параметра. При этом необязательно, чтобы имя параметра функциональной опции совпадало с наименование реквизитов объектов, на которые ссылается параметр. Например:</p>
<p><strong>Организация</strong> – связан со справочником <strong>Организации</strong>;<br/><strong>ТипОбъектаКонфигурации</strong> – связан с двумя ресурсами регистров сведений:</p>
<ul>
<li><strong>РегистрСведений.НазначениеДополнительныхОбработок.Измерение.ТипОбъекта</strong>, и 

<li><strong>РегистрСведений.НастройкаВерсионированияОбъектов.Измерение.ТипОбъекта</strong></li></li></ul>
<p>См. также: <a href="#04_Использование функциональных опций.htm" target="_top">Использование функциональных опций</a></p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">12.</td>
<td valign="top">Определяемые типы</td>
<td valign="top">
<p>Имена определяемых типов рекомендуется задавать в единственном числе и образовывать от их назначения. При этом не следует называть их так же, как называются другие типы данных (например: «Строка», «Число», …), и не использовать слова, от удаления которых смысл не меняется (например: «Тип...», «Объект…», «Ссылка…»).</p>
<p>Например, неправильно:<br/><strong>Строка25</strong>, <strong>СсылкиНаКонтактыВзаимодействий</strong></p>
<p>Правильно:<br/><strong>АртикулНоменклатуры</strong> – строка фиксированной длины 25 символов, которая используется в справочнике номенклатуры организации, справочниках номенклатуры поставщиков, отчетов и обработках, предназначенных для работы с номенклатурой.<br/><strong>КонтактВзаимодействий</strong> – составной тип, включающий в себя ссылки на различные справочники, элементы которых являются контактами взаимодействий (электронных писем, телефонных звонков, встреч и пр.). Например, <strong>Пользователи</strong>, <strong>КонтактныеЛицаПартнеров</strong>, <strong>Партнеры</strong> и другие. </p>
<p>См. также: <a href="#08_Использование определяемых типов.htm" target="_top">Использование определяемых типов</a></p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">13.</td>
<td valign="top">Хранилища настроек</td>
<td valign="top">Согласно общим правилам наименования метаданных. <br/>Например: <strong>ХранилищеВариантовОтчетов</strong>.</td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">14.</td>
<td valign="top">Общие формы</td>
<td valign="top">
<p>Имена общих форм рекомендуется образовывать от существительных. При этом следует избегать в имени форм слов, от удаления которых смысл не меняется, например: «Форма…», «Окно…», «Диалог…». </p>
<p>Примеры: <strong>НастройкаСистемы</strong>, <strong>МоиНастройки</strong>, <strong>ПараметрыПроксиСервера</strong>,<strong> ВыборОбъектовМетаданных</strong>.</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">15.</td>
<td valign="top">Общие команды</td>
<td valign="top">
<p>Имена общих команд рекомендуется задавать по следующим принципам:</p>
<ul>
<li>если команда предназначена для размещения в панели навигации той или иной формы, или раздела командного интерфейса, то ее имя должно обозначать список объектов, которые она открывает. Например:<br/><strong>ДополнительныеОтчетыИОбработкиЗаполнениеОбъекта</strong>,<br/><strong>ЗадачиПоБизнесПроцессу</strong>
<li>в остальных случаях, как правило, имена общих команд образуются от неопределенной формы глагола, обозначающего действие команды, например:<br/><strong>ВыполнитьСопоставление</strong>,<br/><strong>УстановитьРасширениеРаботыСФайлами</strong></li></li></ul></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">16.</td>
<td valign="top">Группы команд</td>
<td valign="top">Имена групп команд рекомендуется образовывать от существительных. <br/>Например, <strong>ПараметрыОбменаДанными</strong>, <strong>Печать</strong>.</td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">17.</td>
<td valign="top">Интерфейсы</td>
<td valign="top">
<p>Согласно общим правилам наименования метаданных.</p>
<p>См. также: <a href="#01_Общие правила построения интерфейсов.htm" target="_top">Общие правила построения интерфейсов</a>, <a href="#02_Общие интерфейсы.htm" target="_top">Общие интерфейсы</a></p></td>
<td valign="top">
<p>Обычное приложение</p></td></tr>
<tr>
<td valign="top">18.</td>
<td valign="top">Общие макеты</td>
<td valign="top">Имена общих макетов рекомендуется образовывать от существительных, дающих краткое представление о содержимом или назначении макета. При этом следует избегать в имени слов, от удаления которых смысл не меняется, например: «Макет…». <br/>Примеры: <strong>ДополнительнаяОбработка</strong>, <strong>КомпонентаTWAIN</strong>, <strong>ОписаниеИзмененийСистемы</strong>.</td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">19.</td>
<td valign="top">Общие картинки</td>
<td valign="top">
<p>Согласно общим правилам наименования имен метаданных. Например:<br/><strong>Найти</strong> – универсальная картинка для команд поиска, для использования в различных подсистемах конфигурации.<br/><strong>ЗакрепитьВариантОтчета</strong> – картинка команды «Закрепить вариант отчета».</p>
<p>Допускается указывать спецификаторы размера, например:<br/><strong>Папка</strong> – картинка размером 16x16 пикселей<br/><strong>УправлениеПоиском32</strong> – картинка размером 32x32 пикселей<br/><strong>ДлительнаяОперация48</strong> – картинка размером 48x48 пикселей</p>
<p>Для обозначения картинок-коллекций к имени добавляется префикс <strong>Коллекция</strong>. Например: <strong>КоллекцияВариантыВажностиЗадачи</strong>.</p>
<p>При этом следует избегать в имени общих картинок слов, от удаления которых смысл не меняется, например: «Картинка…», «Изображение…», «Пиктограмма…».</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">20.</td>
<td valign="top">XDTO-пакеты</td>
<td valign="top">
<p>Имена XDTO-пакетов рекомендуется образовывать на русском языке от существительных, дающих краткое представление о содержимом или назначении пакета. При этом следует избегать в имени слов, от удаления которых смысл не меняется, например: «Пакет…», «ХDTO…».</p>
<p>Пример: <strong>Файлы</strong>.</p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">21.</td>
<td valign="top">Web-сервисы</td>
<td valign="top">
<p>Имена Web-сервисов рекомендуется образовывать на английском языке от существительных, дающих краткое представление об их назначении. Не рекомендуется использовать кириллицу, так как сторонние информационные системы могут ее не поддерживать, а также слова, от удаления которых смысл не меняется, например: «Service», «WebService».</p>
<p>Примеры: <strong>Files</strong>, <strong>Accounts</strong>, <strong>FlightStatus</strong>.</p>
<p>Имена операций Web-сервисов, а также их параметры рекомендуется также писать на английском языке.</p>
<p>Пример: <strong>GetCurrencyRate</strong></p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">22.</td>
<td valign="top">WS-ссылки</td>
<td valign="top">
<p>Имена WS-ссылок рекомендуется образовывать от существительных, дающих краткое представление о назначении Web-сервиса. При этом следует избегать в имени слов, от удаления которых смысл не меняется, например: «WebСервис…», «Сервис…», «Ссылка…».</p>
<p>Примеры: <strong>ДанныеОтгрузки</strong>, <strong>КонверторВалют</strong>.</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">23.</td>
<td valign="top">Элементы стиля</td>
<td valign="top">
<p>Имена элементов стиля рекомендуется образовывать от существительных, дающих краткое представление об их назначении. <br/>Например: <strong>ВыполненнаяЗадача</strong>, <strong>ПоясняющийТекст</strong>, <strong>НеСтартованныйБизнесПроцесс</strong>. </p>
<p>Также в имени элемента стиля допускается уточнение по поводу определяемого параметра стиля, <br/>например: <strong>УдаленныйДополнительныйРеквизитЦвет</strong>, <strong>УдаленныйДополнительныйРеквизитШрифт</strong>.</p>
<p>См. также: <a href="#19_Элементы стиля.htm" target="_top">Элементы стиля</a> (для режима обычного приложения см. <a href="#04_Стили.htm" target="_top">Стили</a>)</p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">24.</td>
<td valign="top">Стили</td>
<td valign="top">
<p>Согласно общим правилам наименования метаданных.</p>
<p>См. также: <a href="#04_Стили.htm" target="_top">Стили</a> (для обычного приложения)</p></td>
<td valign="top">
<p>Обычное приложение</p></td></tr>
<tr>
<td valign="top">25.</td>
<td valign="top">Языки</td>
<td valign="top">Имя следует образовывать от наименования языка пользовательского интерфейса программы: <br/><strong>Русский</strong>, <strong>Английский</strong>, и т.п.</td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">26.</td>
<td valign="top">Константы</td>
<td valign="top">
<p>Имена констант рекомендуется задавать по следующим принципам:</p>
<ul>
<li>Если константа связана с функциональной опцией, то созвучно функциональной опции;  

<li>В остальных случаях имя константы образуется от описания объекта, значение которого она хранит. Например: <strong>ТипХраненияФайлов</strong>, <strong>НастройкаПроксиСервера</strong>.  

<li>Если тип значения константы – <strong>Булево</strong>, то имя может быть образовано от неопределенной формы глагола, обозначающего включаемое или выключаемое действие. Например: <strong>ВыполнятьПроверкуЭЦПНаСервере</strong>, <strong>ИзвлекатьТекстыФайловНаСервере</strong>, <strong>ИзменятьЗаданияЗаднимЧислом</strong>.</li></li></li></ul>
<p>При этом следует избегать в имени констант слов, от удаления которых смысл не меняется, например: «Константа…».</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">27.</td>
<td valign="top">Справочники</td>
<td valign="top">
<p>Имена справочников рекомендуется давать во множественном числе и образовывать от описания списка объектов, значения которых хранятся в справочнике. Например: <strong>Валюты</strong>, <strong>ГруппыИсполнителейЗадач</strong>, <strong>ПрофилиГруппДоступа</strong>, <strong>Пользователи.</strong></p>
<p>При этом следует избегать в именах справочников слов, от удаления которых смысл не меняется, например: «Справочник…».</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">28.</td>
<td valign="top">Документы</td>
<td valign="top">
<p>Имена документов, напротив, даются в единственном числе. Например: <strong>ЗаказПокупателя</strong>, <strong>ПеремещениеТоваров</strong>, <strong>Анкета</strong>.</p>
<p>При этом следует избегать в именах документов слов, от удаления которых смысл не меняется, например: «Документ…».</p>
<p>При выборе имени документа следует различать два случая:</p>
<p><a id="1" name="1"></a>1. В первую очередь, следует стараться отразить в имени документа суть процесса, который отражается в системе этим документом. При этом само имя должно быть максимально лаконичным, рекомендуется избегать слов «Накладная…», «Акт…» и т.п.</p>
<p>Например, в системе автоматизирован процесс «Сверка взаиморасчетов», который завершается подписанием сторонами, участвующими в сверке, печатного документа «Акт сверки  товаров».  Поскольку в данном случае в системе документом фиксируется именно процесс, то документ называется <strong>СверкаВзаиморасчетов</strong>.</p>
<p><a id="2" name="2"></a>2. Если документ не отражает какой-либо процесс в системе, а предназначен только для получения соответствующей печатной формы, то допустимо образовывать имя документа от имени печатной формы. В этом случае допустимо использовать слова «Накладная», «Акт» и т.п. в имени документа. Как правило, у такого документа нет статусов, по нему не вводятся на основании другие документы, а сам процесс получения печатной формы может быть автоматизирован другими документами. <br/><br/>Например, для получения печатной формы «Товарно транспортная накладная» (ТТН) в системе имеется документ, который содержит реквизиты, специфичные для данного печатного документа. При этом поскольку весь процесс формирования ТТН связан с другими документами («Реализация  товаров и  услуг», «Перемещение товаров»), то документ целесообразно назвать от имени печатной формы: <strong>ТоварноТранспортнаяНакладная</strong>.</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">29.</td>
<td valign="top">Журналы документов</td>
<td valign="top">
<p>Имена журналов документов рекомендуется задавать во множественном числе и образовывать от описания списка объектов, которые содержатся в журнале. Например: <strong>СкладскиеДокументы</strong>, <strong>КорректировкиНДС</strong>.</p>
<p>При этом следует избегать в именах слов, от удаления которых смысл не меняется, например: «Документы…».</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">30.</td>
<td valign="top">Перечисления</td>
<td valign="top">
<p>Имена перечислений в конфигурации рекомендуется задавать во множественном числе. </p>
<p>Например, неправильно<br/><strong>ДействиеСДокументамиПоДвойномуЩелчку</strong><br/><strong>ВажностьЗадачи</strong><br/><strong>SMTPАутентификация</strong></p>
<p>Правильно:<br/><strong>ДействияСДокументамиПоДвойномуЩелчку</strong><br/><strong>ВариантыВажностиЗадачи</strong><br/><strong>ВидыSMTPАутентификации</strong></p>
<p>Любое исключение из этого правила должно быть обоснованным. Например: <br/><strong>ПолФизическогоЛица</strong></p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">31.</td>
<td valign="top">Отчеты</td>
<td valign="top">
<p><a id="1" name="1"></a>1. Имена отчетов и вариантов отчетов рекомендуется образовывать от имени существительного. <br/>Например: <strong>ДинамикаИзмененийФайлов</strong>, <strong>СписокЗависшихЗадач</strong>, <strong>СправкаОбИсполнительскойДисциплине</strong>. </p>
<p><a id="2" name="2"></a>2. Рекомендуется предусматривать вывод заголовка, если отчет или вариант отчета предназначен для печати.</p>
<table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>Для отчетов с макетом заголовок должен располагаться в самом макете.<br/>Для вариантов отчетов без макета достаточно установить свойство <strong>"Заголовок"</strong> на закладке <strong>"Дополнительные настройки".</strong></p></td></tr></tbody></table>
<p><a id="3" name="3"></a>3. При выборе представления варианта отчета следует придерживаться следующих рекомендаций:</p>
<ul>
<li>Представление должно лаконично и однозначно описывать суть данных, которые выводятся в этом варианте отчета. <br/><br/>Например, для отчета «Валовая прибыль», неправильно:<br/>«Основной», «По заказам» (подобные названия могут встречаться у вариантов других отчетов)<br/><br/>Правильно:<br/>«Валовая прибыль по контрагентам», «Валовая прибыль по заказам»<br/><br/>
<li>Если для варианта отчета выводится заголовок, то его представление должно совпадать с заголовком печатной формы. Это позволит пользователю однозначно определять вариант отчета по его печатной форме.  

<li>Не рекомендуется образовывать представление от имени отчета с уточнением специфики варианта отчета в скобках или с использованием других разделителей. Это может перегрузить списки вариантов отчетов повторениями, разделителями и уточнениями, снизив простоту визуального восприятия.</li></li></li></ul>
<p><a id="4" name="4"></a>4. При этом следует избегать в именах отчетов и вариантов отчетов слов, от удаления которых смысл не меняется, например: «Отчет…».<br/></p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">32.</td>
<td valign="top">Обработки</td>
<td valign="top">
<p>Имена обработок рекомендуется образовывать от имени существительного. <br/>Например: <strong>КонтрольЖурналаРегистрации</strong>, <strong>РегламентныеИФоновыеЗадания</strong>, <strong>УправлениеИтогамиИАгрегатами</strong>. </p>
<p>При этом следует избегать в именах обработок слов, от удаления которых смысл не меняется, например: «Обработка…». </p>
<p>Если форму обработки предполагается открывать из панели навигации той или иной формы, или раздела командного интерфейса, то имя обработки должно совпадать с именем команды для ее открытия. Например, команда <strong>РегламентныеИФоновыеЗадания</strong> открывает обработку <strong>РегламентныеИФоновыеЗадания</strong>.</p></td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">33.</td>
<td valign="top">Планы видов характеристик</td>
<td valign="top">Имена планов видов характеристики рекомендуется задавать во множественном числе и образовывать от описания списка объектов, которые перечисляются в плане видов характеристик. <br/>Например: <strong>ВидыДоступа</strong>, <strong>ВопросыДляАнкетирования</strong>, <strong>ДополнительныеРеквизитыИСведения</strong></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">34.</td>
<td valign="top">Планы счетов</td>
<td valign="top">
<p>Имена планов счетов рекомендуется задавать в единственном числе, образуя имя от существительного, дающего краткое представление о назначении плана счетов. При этом следует избегать в имени плана счетов слов, от удаления которых смысл не меняется, например: «ПланСчетов…». В то же время, в синониме может задаваться полное наименование.<br/>Например (имя – синоним):<br/>  <strong>ЕПСБУ</strong> - "ЕПСБУ" <br/>  <strong>БухгалтерскийУчет</strong>  - "План счетов бухгалтерского учета"<br/>  <strong>УправленческийУчет</strong> - "План счетов управленческого учета"<br/>  <strong>МеждународныйУчет</strong>  - "План счетов международного учета"<br/>  <strong>Бюджетирование</strong>     - "План счетов для бюджетирования"<br/>  и т.п.<br/>  <br/>Для дополнительных уточнений можно использовать свойство <strong>Пояснение</strong>, значение которого выводится в подсказке к команде открытия плана счетов.<br/>Например:</p>
<ul>
<li><strong>НалоговыйУчет</strong> - синоним "План счетов налогового учета",<br/>пояснение: "План счетов налогового учета (по налогу на прибыль)" 

<li><strong>ЕПСБУ</strong> - синоним "ЕПСБУ",<br/>пояснение: "Единый план счетов бюджетного учета"</li></li></ul></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">35.</td>
<td valign="top">Планы видов расчета</td>
<td valign="top">Имена планов видов расчета рекомендуется задавать во множественном числе и образовывать от описания списка объектов, которые перечисляются в плане видов расчета. <br/>Например: <strong>ОсновныеНачисления</strong>, <strong>УправленческиеНачисления</strong>, <strong>Удержания</strong>.</td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">36.</td>
<td valign="top">Регистры сведений,<br/>регистры накопления</td>
<td valign="top">Имена регистров сведений, регистров накопления рекомендуется задавать во множественном числе и образовывать от описания списка записей, которые содержатся в регистре. <br/>Например: <strong>ДокументыФизическихЛиц</strong>, <strong>ФайлыВРабочемКаталоге</strong>, <strong>ДвиженияДенежныхСредств</strong>.</td>
<td valign="top">
<p> </p></td></tr>
<tr>
<td valign="top">37.</td>
<td valign="top">Регистры бухгалтерии,<br/>регистры расчета</td>
<td valign="top">Имена регистров бухгалтерии и регистров расчета рекомендуется образовывать от описания списка записей, которые содержатся в регистре. <br/>Например: <strong>Хозрасчетный</strong>, <strong>Начисления</strong>.</td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">38.</td>
<td valign="top">Бизнес-процессы</td>
<td valign="top">
<p>Имена бизнес-процессов рекомендуется задавать как и имена документов, в единственном числе. <br/>Например: <strong>Задание</strong>, <strong>Согласование</strong>, <strong>Утверждение</strong>, <strong>Поручение</strong>.</p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">39.</td>
<td valign="top">Задачи</td>
<td valign="top">Имена задач бизнес-процессов рекомендуется задавать в единственном числе. <br/>Например: <strong>ЗадачаИсполнителя</strong>.</td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr>
<tr>
<td valign="top">40.</td>
<td valign="top">Внешние источники данных</td>
<td valign="top">
<p>Имена внешних источников данных рекомендуется образовывать от описания импортируемых данных. При этом следует избегать в имени слов, от удаления которых смысл не меняется: «Данные…», «ИсточникДанных…».</p>
<p>Примеры: <strong>ДоговорыУправленческойУчетнойСистемы</strong>, <strong>ФайлыОсновнойСЭД</strong>.</p>
<p>Таблицы внешних источников данных рекомендуется называть согласно общим правилам наименования объектов метаданных.</p>
<p>Примеры: <strong>Договоры</strong>, <strong>Номенклатура</strong>.</p></td>
<td valign="top">
<p>Управляемое приложение <br/>Обычное приложение</p></td></tr></tbody></table></p>
<h3>См. также</h3>
<ul>
<li><a href="#17_Ограничения на переименование объектов метаданных.htm" target="_top">Ограничения на переименование объектов метаданных</a></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100643.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Работа в разных часовых поясах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Работа в разных часовых поясах</h1><div style="clear: right; float: right;">#std643</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Конфигурации должны быть рассчитаны на работу в условиях, когда часовой пояс на серверном компьютере не совпадает с реальным часовым поясом пользователей информационной базы. Например, с сервером, расположенным в Москве, работают сотрудники компании из Владивостока, и при этом все операции в системе должны выполняться по местному времени (Владивостока).</p>
<p>Такой сценарий работы часто востребован в клиент-серверных информационных базах и в прикладных решениях в модели сервиса (SaaS).</p>
<p><a id="2.1" name="2.1"></a>2.1. Во всех серверных процедурах и функциях вместо функции <strong>ТекущаяДата</strong>, которая возвращает дату и время серверного компьютера, следует использовать функцию <strong>ТекущаяДатаСеанса</strong>, которая приводит время сервера к часовому поясу пользовательского сеанса.</p>
<p><a id="2.2" name="2.2"></a>2.2. В тех случаях, когда требуется «универсальная» отметка времени, не зависящая от часового пояса текущего сеанса пользователя, в контексте которого выполняется серверный вызов, следует использовать функцию <strong>УниверсальноеВремя</strong>. Например, для определения момента перезаполнения закешированных данных, для получения времени последнего выполнения фонового задания и т.п.</p>
<p><a id="2.3" name="2.3"></a>2.3. При использовании методов платформы, возвращающих локальную дату серверного компьютера, следует приводить ее либо к универсальному времени, либо к времени пользовательского сеанса. Например:</p>
<p class="Programtext">ДатаАктуальностиУниверсальная = УниверсальноеВремя(ПолнотекстовыйПоиск.ДатаАктуальности());<br/>ДатаАктуальности = МестноеВремя(ДатаАктуальностиУниверсальная, ЧасовойПоясСеанса());</p>
<p><a id="3.1" name="3.1"></a>3.1. В клиентском коде использование функции <strong>ТекущаяДата</strong> также недопустимо. Это требование обусловлено тем, что текущее время, вычисленное в клиентском и серверном коде, не должно различаться. </p>
<p>Например, с сервером, расположенным в Москве, работают пользователи из Киева. Функция <strong>ТекущаяДата</strong> для клиентского компьютера возвращает 10:00, а для сервера – 11:00. В то же время, функция <strong>ТекущаяДатаСеанса</strong> вернет на сервере 10:00, если в информационной базе установлено киевское время (с помощью метода <strong>УстановитьЧасовойПоясИнформационнойБазы</strong>).</p>
<p>Как правило, вместо вызова функции <strong>ТекущаяДата</strong> на клиенте необходимо </p>
<ul>
<li>передавать с сервера на клиент время и дату, приведенную к часовому поясу пользовательского сеанса; 

<li>при работе с документами на клиенте, использовать дату документа.</li></li></ul>
<p>Рассмотрим типовые случаи на примерах. </p>
<p><a id="3.2" name="3.2"></a>3.2. В алгоритме закрытия месяца с клиента на сервер передается дата, по которой далее определяется, какой месяц будет закрываться. </p>
<p><strong>Неправильно:</strong></p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура КомандаОткрытьЗакрытиеМесяца(Команда)<br/> ТекущиеДанные = Элементы.Список.ТекущиеДанные;<br/> Если ТекущиеДанные = Неопределено Тогда<br/>  ТекДата  = ТекущаяДата();  // вызов ТекущаяДата() на клиенте<br/> Иначе<br/>  ТекДата  = ТекущиеДанные.Дата;<br/> КонецЕсли;<br/> ПараметрыФормы = Новый Структура;<br/> ПараметрыФормы.Вставить("ПериодРегистрации", ТекДата);<br/> ОткрытьФорму("Обработка.ЗакрытиеМесяца.Форма.Форма", ПараметрыФормы, ЭтотОбъект);<br/>…</p>
<p>а затем в форме обработки:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br/> ЗаполнитьЗначенияСвойств(Объект, Параметры);<br/> Если Не ЗначениеЗаполнено(Объект.ПериодРегистрации) Тогда<br/>  Объект.ПериодРегистрации = НачалоМесяца(ТекущаяДата());<br/> КонецЕсли;<br/>…</p>
<p><strong>Правильно</strong></p>
<p>перенести получение текущей даты на сервер:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура КомандаОткрытьЗакрытиеМесяца(Команда)<br/> ТекущиеДанные = Элементы.Список.ТекущиеДанные;<br/> Если ТекущиеДанные = Неопределено Тогда<br/>  ТекДата  = Неопределено; // нет вызова ТекущаяДата() на клиенте<br/> Иначе<br/>  ТекДата  = ТекущиеДанные.Дата;<br/> КонецЕсли;<br/> ПараметрыФормы = Новый Структура;<br/> ПараметрыФормы.Вставить("ПериодРегистрации", ТекДата);<br/> ОткрытьФорму("Обработка.ЗакрытиеМесяца.Форма.Форма", ПараметрыФормы, ЭтотОбъект);<br/>…</p>
<p>и в форме обработки использовать для этого функцию <strong>ТекущаяДатаСеанса</strong>:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br/> ЗаполнитьЗначенияСвойств(Объект, Параметры);<br/> Если Не ЗначениеЗаполнено(Объект.ПериодРегистрации) Тогда<br/>  Объект.ПериодРегистрации = НачалоМесяца(ТекущаяДатаСеанса());<br/> КонецЕсли;<br/>…</p>
<p><a id="3.3" name="3.3"></a>3.3. При работе с документами следует рассмотреть возможность использования даты самого документа вместо текущей даты. Например, в реализации подбора номенклатуры в табличную часть документа, в форму подбора из клиентского кода передается дата расчетов для вывода цен и остатков на эту дату. </p>
<p><strong>Неправильно</strong>:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПодборТовары(Команда)<br/> ПараметрыПодбора = Новый Структура;<br/> ДатаРасчетов = ?(НачалоДня(Объект.Дата) = НачалоДня(ТекущаяДата()),<br/>  Неопределено, Объект.Дата); // вызов ТекущаяДата() на клиенте<br/> ПараметрыПодбора.Вставить("ДатаРасчетов", ДатаРасчетов);<br/> ...<br/> ОткрытьФорму("Обработка.ПодборНоменклатуры.Форма.Форма", ПараметрыПодбора,<br/>  ЭтотОбъект, УникальныйИдентификатор);<br/>…</p>
<p><strong>Правильно</strong></p>
<p>передавать на сервер дату документа, а вычисление даты расчетов выполнять на сервере:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПодборТовары(Команда)<br/> ПараметрыПодбора = Новый Структура;<br/> ПараметрыПодбора.Вставить("ДатаРасчетов", Объект.Дата);<br/> ...<br/> ОткрытьФорму("Обработка.ПодборНоменклатуры.Форма.Форма", ПараметрыПодбора,<br/>  ЭтотОбъект, УникальныйИдентификатор);</p>
<p>Другой пример. При подборе документов для зачета аванса в форме подбора устанавливается отбор по условию «дата документов аванса не больше переданной в форму». </p>
<p><strong>Неправильно</strong>:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ЗачетАвансовДокументАвансаНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)<br/> СтандартнаяОбработка = Ложь;<br/> ПараметрыФормы = Новый Структура;<br/>  ПараметрыФормы.Вставить("КонецПериода",                                    <br/>?(ЗначениеЗаполнено(Параметры.Ключ), Объект.Дата - 1, КонецДня(ТекущаяДата()))); // вызов ТекущаяДата() на клиенте<br/> ...<br/>  ОткрытьФорму("Документ.ДокументРасчетовСКонтрагентом.ФормаВыбора",         <br/>ПараметрыФормы, Элемент);<br/>...</p>
<p><strong>Правильно</strong></p>
<p>вычислять параметр КонецПериода по дате документа:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ЗачетАвансовДокументАвансаНачалоВыбора(Элемент, ДанныеВыбора,<br/>СтандартнаяОбработка)<br/> СтандартнаяОбработка = Ложь;<br/> ПараметрыФормы = Новый Структура;<br/>  ПараметрыФормы.Вставить("КонецПериода", ?(ЗначениеЗаполнено(Параметры.Ключ),<br/>  Объект.Дата - 1, КонецДня(Объект.Дата)));<br/> ...<br/>  ОткрытьФорму("Документ.ДокументРасчетовСКонтрагентом.ФормаВыбора", ПараметрыФормы, Элемент);</p>
<p><a id="3.4" name="3.4"></a>3.4. В остальных случаях при использовании Библиотеки стандартных подсистем рекомендуется использовать функцию <strong>ДатаСеанса</strong> общего модуля <strong>ОбщегоНазначенияКлиент</strong>.</p>
<p><a id="4" name="4"></a>4. Исключения из правил 2 и 3 возможны в отдельных, обоснованных случаях, когда требуется использовать действительно текущее время серверного компьютера. Такие исключения должны быть обоснованы в тексте комментария к вызову.</p>
<p><a id="5" name="5"></a>5. Следует избегать в коде одной процедуры (функции) многократного обращения к функции <strong>ТекущаяДатаСеанса</strong> (<strong>ТекущаяДата</strong>), так как возвращаемые значения будут отличаться друг от друга. </p>
<p><strong>Неправильно</strong></p>
<p class="Programtext">ДатаПоследнегоОповещения = ТекущаяДатаСеанса();<br/>ДатаСледующегоОповещения = РассчитатьДату() + ТекущаяДатаСеанса();</p>
<p><strong>Правильно</strong></p>
<p>использовать ранее рассчитанные дату и время:</p>
<p class="Programtext">ДатаПоследнегоОповещения = ТекущаяДатаСеанса();<br/>ДатаСледующегоОповещения = РассчитатьДату() + ДатаПоследнегоОповещения;<br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100470.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Использование функциональных опций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование функциональных опций</h1><div style="clear: right; float: right;">#std470</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. В случае если некоторая функциональность конфигурации является необязательной для использования, то для управления доступностью такой функциональности на стадии внедрения следует применять функциональные опции. Для хранения значений функциональных опций в информационной базе необходимо завести в конфигурации соответствующие данные (например, константы). </p>
<p>Допустим, в конфигурации есть функциональность версионирования данных информационной базы, которая является необязательной. Для управления доступностью этой функциональности необходимо:</p>
<ul>
<li>создать функциональную опцию <strong>ИспользоватьВерсионированиеОбъектов</strong>, которая определяет использование прикладного механизма конфигурации для текущей информационной базы 

<li>создать константу <strong>ИспользоватьВерсионированиеОбъектов</strong> типа <strong>Булево</strong> для хранения значения этой функциональной опции 

<li>в свойстве <strong>Хранение</strong> функциональной опции указать константу <strong>ИспользоватьВерсионированиеОбъектов</strong>. <br/></li></li></li></ul>
<p>После этого, те или иные объекты конфигурации можно «привязать» к функциональной опции, включив их в ее состав, а в случае необходимости управления доступностью кода – использовать метод <strong>ПолучитьФункциональнуюОпцию</strong>:</p>
<p class="Programtext">ИспользуетсяМеханизмВерсионирования = ПолучитьФункциональнуюОпцию("<strong>ИспользоватьВерсионированиеОбъектов</strong>");</p>
<p>Таким образом, набор функциональных опций описывает функциональность конфигурации, доступность которой на этапе внедрения можно настроить в зависимости от требований конкретного предприятия. При этом платформа автоматически изменяет пользовательский интерфейс в соответствии с установленными значениями функциональных опций. </p>
<p>Функциональные опции могут также влиять на бизнес-логику. Для чего применяются функциональные опции не только булева типа, но и других типов, например, ссылки на справочники или значения перечислений.</p>
<p><a id="1.2" name="1.2"></a>1.2. Доступность функциональности может задаваться не только для информационной базы в целом, но и в зависимости от контекста применения этой функциональности. Допустим, в конфигурации необходимо управлять применением функциональности сложного учета НДС, но не в целом для всей информационной базы, а в зависимости от организации. Для этого необходимо:</p>
<ul>
<li>создать функциональную опцию <strong>УчетнаяПолитикаСложныйУчетНДС</strong>
<li>создать параметр функциональной опции <strong>Организация</strong>, поскольку значение функциональной опции зависит от организации (если такого параметра в конфигурации еще нет) 

<li>создать регистр сведений <strong>УчетнаяПолитикаНалоговыйУчет</strong> для хранения значений этой функциональной опции, с измерением <strong>Организация</strong> и ресурсами, которые необходимы для управления функциональностью учета НДС<br/><br/><img height="103" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100470.files/pic.jpg?_=00001FF8A84C8EF0-v2" style="aspect-ratio:294/103" width="294"/><script type="text/javascript">forceDocumentLayout()</script><br/>
<li>в свойстве <strong>Хранение</strong> функциональной опции указать ресурс регистра сведений <strong>СложныйУчетНДС</strong>  

<li>для параметра функциональной опции <strong>Организация</strong> указать в свойстве <strong>Использование</strong> измерения <strong>Организация</strong> регистра сведений <strong>УчетнаяПолитикаНалоговыйУчет</strong>. <br/></li></li></li></li></li></ul>
<p><span lang="RU" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana; mso-ansi-language: RU">После этого, для того чтобы в той или иной форме значение функциональной опции соответствовало контексту, необходимо устанавливать значения параметров функциональной опции, например, так:</span></p><span lang="RU" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana; mso-ansi-language: RU">
<p class="Programtext">УстановитьПараметрыФункциональныхОпцийФормы(Новый Структура("Организация", &lt;ТребуемаяОрганизация&gt;));</p></span><span lang="RU" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana; mso-ansi-language: RU"><o:p></o:p></span>
<p>В случае необходимости управления доступностью кода в зависимости от значения такой функциональной опции, ее значение можно получать, например, так: </p>
<p class="Programtext">ПараметрыУчетнойПолитики = Новый Структура("УчетнаяПолитикаОрганизация", &lt;ТребуемаяОрганизация&gt;); <br/>СложныйУчетНДС = ПолучитьФункциональнуюОпцию("УчетнаяПолитикаСложныйУчетНДС", ПараметрыУчетнойПолитики); <br/>МоментОпределенияНалоговойБазыНДС = ПолучитьФункциональнуюОпцию("УчетнаяПолитикаМоментОпределенияНалоговойБазыНДС ", ПараметрыУчетнойПолитики);</p>
<p><strong>Внимание:</strong> следует учитывать, что описанный здесь вариант применения функциональных опций не является единственным вариантом их использования. <br/>Подробнее см. в документации по платформе <strong>1С:Предприятие</strong>. </p>
<p><a id="1.3" name="1.3"></a>1.3. Не следует использовать функциональные опции не по назначению, например:</p>
<ul>
<li>создавать функциональные опции ради управления видимостью элементов управления конкретной формы. С помощью функциональных опций следует управлять доступностью той или иной функциональности для всей конфигурации (и, как следствие, доступностью элементов форм и команд во всей конфигурации, а не в одной отдельно взятой форме);  

<li>использовать функциональные опции для оптимизации доступа к тем или иным данным информационной базы (хранения значений на сервере 1С:Предприятия). Для этой цели предназначены <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">модули с повторным использованием возвращаемых значений</a>.</li></li></ul></font>
<h2>Установка и получение значений функциональных опций</h2><font face="Verdana" size="2">
<p>2.1 Платформа <strong>1С:Предприятие</strong> не предоставляет каких-либо специальных средств для установки значений функциональных опций: установка значений функциональных опций производится установкой значений соответствующих констант, редактированием элементов справочников или записей регистров сведений. В конфигурации следует предусмотреть соответствующую функциональность.</p>
<p><a id="2.2" name="2.2"></a>2.2. При использовании функциональных опций с параметрами, следует иметь в виду, что если в справочнике или регистре сведений нет записи, соответствующей параметру, то функциональная опция считается выключенной. Если же параметру соответствует больше, чем одна запись, то значения функциональной опции складываются по «ИЛИ».</p>
<p><a id="2.3" name="2.3"></a>2.3. Если функциональная опция «привязана» к ресурсу периодического регистра сведений, то система использует срез последних для получения значения опции. Если требуется получать значение опции на какую-либо другую дату, необходимо указать значение для параметра функциональной опции <strong>Период</strong> типа <strong>Дата</strong>, который будет использоваться как дата получения среза. Например, если имеется периодический регистр сведений с измерением <strong>Организация</strong>, то следует использовать следующий синтаксис:</p>
<p class="Programtext">УстановитьПараметрыФункциональныхОпцийФормы(Новый Структура("Организация, Период", &lt;ТребуемаяОрганизация&gt;, &lt;ТребуемаяДата&gt;));</p>
<p>При этом </p>
<ul>
<li>значение параметра <strong>Период</strong> необходимо предварительно привести к интервалу периодичности регистра для выполнения требования <strong>2.5</strong>. Например, если периодичность регистра – месяц, то:</li></ul>
<p class="Programtext">НачалоМесяца(&lt;ТребуемаяДата&gt;)</p>
<blockquote></blockquote>
<ul>
<li>а сам параметр <strong>Период</strong> не следует создавать в метаданных, так как он предоставляется системой автоматически. </li></ul>
<p><a id="2.4" name="2.4"></a>2.4. Также необходимо иметь в виду, что установка значения функциональной опции не вызывает автоматического изменения пользовательского командного интерфейса. Для отработки изменения следует вызвать метод <strong>ОбновитьИнтерфейс</strong>.</p>
<p><a id="2.5" name="2.5"></a>2.5. С точки зрения производительности системы следует иметь в виду, что значения функциональных опций кешируются на сервере. Однако большой размер кеша может ухудшить производительность. Поэтому не рекомендуется параметризовать функциональные опции такими данными, которые заведомо могут иметь большое число значений. Например, параметризация функциональной опции контрагентом или товаром не допустима, так как контрагентов или товаров может быть большое количество. Кроме того, зависимость применения функциональности от контрагента сомнительна. На практике функциональность ставится в зависимость от вида, контрагента или иного его признака. Например, если в конфигурации существует перечисление <strong>ВидКонтрагента</strong>, то применение той или иной функциональности следует ставить в зависимость от вида контрагента, а не от самого контрагента. </p></font>
<h2>Зависимые функциональные опции</h2><font face="Verdana" size="2">
<p><a id="3.1" name="3.1"></a>3.1. В некоторых случаях та или иная функциональность должна быть доступна при условии использования или отказа от использования другой функциональности. В подобных случаях сложной зависимости значения функциональной опции от значений других функциональных опций необходимо обеспечить непротиворечивость данных, связанных с функциональными опциями. <br/><br/>Например, функциональность перевода сотрудников из одной организации в другую (т.е. все связанные с этим документы и отчеты) доступна в случае, когда одновременно доступны функциональность "многофирменный учет" и функциональность "кадровый учет". <br/><br/>В таком случае, все объекты метаданных, связанные с переводом сотрудников, не могут и не должны ставиться в зависимость от функциональных опций "многофирменный учет" и "кадровый учет". Для этого необходимо ввести функциональную опцию "перевод сотрудников" и поставить в зависимость от нее все объекты метаданных, для которых это необходимо. <br/><br/>Кроме того, необходимо обеспечить зависимость значения этой функциональной опции от значений "многофирменный учет" и "кадровый учет", например, при записи значений соответствующих констант. <br/><br/>Значения всех трех приведенных в примере функциональных опций рекомендуется показывать администратору системы в соответствующей форме настроек. При этом значение функциональной опции "перевод сотрудников" должно быть недоступно для редактирования. <br/><br/>Редактировать значения таких функциональных опций рекомендуется элементами управления "Поле" вида "Поле флажка" с заголовком, совпадающим с названием соответствующей функциональной опции. <br/><br/>3.2. Значения взаимоисключающих функциональных опций, рекомендуется редактировать в соответствующей форме настройки при помощи элементов управления "Поле переключателя" , "Поле ввода" (со списком выбора) или иной элемент управления, предназначенный для выбора одного значения из многих. При этом, заголовки для переключателей или значения выпадающего списка для "Поле ввода" должны совпадать с названиями функциональных опций. <br/><br/>3.3. В том случае, если та или иная незначительная функциональность сложным образом зависит от значений функциональных опций, но при этом не может быть названа так, чтобы ее название было понятно конечному пользователю, рекомендуется воздержаться от создания очередной функциональной опции. При этом, например, зависимость тех или иных элементов форм должна обеспечиваться при создании формы на сервере за счет анализа значений функциональных опций из кода на встроенном языке.</p></font>
<h2>Ограничения на использование параметров функциональных опций</h2><font face="Verdana" size="2">
<p><a id="4.1" name="4.1"></a>4.1. По соображениям производительности не рекомендуется заводить в конфигурации более 10 параметров функциональных опций. Для того чтобы контролировать их количество в конфигурации, не следует создавать различные параметры функциональных опций одной смысловой нагрузки. Например, вместо двух параметров:</p>
<ul>
<li><strong>ТипВерсионируемогоОбъекта</strong>, связанный с измерением <strong>ТипОбъекта</strong> регистра сведений <strong>НастройкаВерсионированияОбъектов</strong>
<li><strong>ТипОбъектаСДополнительнымиОтчетамиИОбработками</strong>, связанный с измерением <strong>ТипОбъекта</strong> регистра сведений <strong>НазначениеДополнительныхОбработок</strong></li></li></ul>
<p>рекомендуется создать один параметр функциональных опций <strong>ТипОбъектаКонфигурации</strong>, который связан с измерениями обоих регистров сведений.</p>
<p><a id="4.2" name="4.2"></a>4.2. В общем виде, для принятия решения по поводу состава функциональных опций и их параметров рекомендуется придерживаться следующей схемы:</p>
<ol>
<li>Определяется, какая функциональность в нашем прикладном решении может быть опциональной (у нее есть «выключатель»). 

<li>По каждому выявленному случаю определяется, выключается ли эта функциональность сразу для всей информационной системы или «выключателей» должно быть несколько, например, по одному на каждую организацию или на каждый вид товара.  

<li>Выписываем список всех параметризуемых функциональных опций, а также список их параметров.  

<li>При этом в списке параметров функциональных опций не допускаем нескольких параметров одного типа (все функциональные опции, зависящие от организации должны использовать один параметр функциональной опции). 

<li>Если параметров функциональных опций оказывается неприемлемо много, то составляем их «рейтинг»: суммируем состав всех функциональных опций, которые параметризуются данным параметром и принимаем во внимание важность параметризуемых функциональных опций. 

<li>Исключаем менее востребованные параметры. 

<li>Те функциональные опции, которые «лишились» параметров:</li></li></li></li></li></li></li></ol>
<ul>
<li>либо делаем непараметрическими (т.е. они включают функциональность во всей информационной базе в целом);  

<li>либо удаляем, если управлять такой функциональностью в целом по информационной базе не имеет смысла. </li></li></ul>
<p>В результате такого подхода, в конфигурации окажется приемлемое количество параметров функциональных опций.</p></font>
<h2>См. также</h2><font face="Verdana" size="2">
<ul>
<li><a href="#07_Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным.htm" target="_top">Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100413.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Использование параметров сеанса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование параметров сеанса</h1><div style="clear: right; float: right;">#std413</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Параметры сеанса предназначены для хранения значений определенных типов для каждого клиентского сеанса на время работы этого сеанса. Инициализацию параметров сеанса следует выполнять в модуле сеанса (см. ниже раздел 2.1), а их значения рекомендуется использовать в запросах и условиях ограничения доступа к данным для текущего сеанса.<br/>Примеры параметров сеанса:</p>
<ul>
<li><strong>ТекущийПроект </strong>– тип <strong>СправочникСсылка.Проекты</strong>; 

<li><strong>ОбменДаннымиВключен</strong> – тип <strong>Булево</strong>; 

<li><strong>РабочееМестоКлиента </strong>– тип <strong>СправочникСсылка.РабочиеМеста</strong>.</li></li></li></ul>
<p>Параметры сеанса доступны из встроенного языка <strong>1С:Предприятия</strong>, например:</p>
<p class="Programtext">Проект = ПараметрыСеанса.ТекущийПроект;</p>
<p>В этом случае, для установки или получения значения параметра сеанса текущий пользователь должен быть наделен соответствующим правом.</p>
<p>Также они могут использоваться в текстах ограничений доступа, например:</p>
<p class="Programtext">ГДЕ Документ.Автор = &amp;ТекущийПользователь</p>
<p>В последнем случае для получения значения параметра сеанса наличия у текущего пользователя соответствующего права не требуется.</p>
<p><a id="1.2" name="1.2"></a>1.2.<strong> </strong>Не рекомендуется использовать параметры сеанса для хранения значений, используемых исключительно в клиентской логике. Поскольку в клиент-серверном варианте <strong>1С:Предприятия</strong> параметры сеанса хранятся на сервере, то любое их считывание или изменение в процессе работы на клиенте потребует дополнительного серверного вызова и увеличит объем передаваемых данных с клиента на сервер и обратно.</p>
<p>В таких случаях следует использовать глобальные переменные модуля управляемого приложения (и обычного приложения – для режима обычного приложения, соответственно). </p>
<p><a id="1.3" name="1.3"></a>1.3. Также не рекомендуется использовать параметры сеанса для кеширования вычисленных значений, которые многократно используются в серверной бизнес-логике. В таких случаях следует определять функцию в серверном общем модуле с повторным использованием возвращаемых значений. Исключение составляют случаи, когда время вычисления результата функции модуля с повторным использованием возвращаемых значений соизмеримо с периодом сброса платформенного кеша.</p>
<h2>Установка параметров сеанса "по требованию"</h2>
<p><a id="2.1" name="2.1"></a>2.1. Не следует производить инициализацию параметров сеанса при запуске программы, так как: </p>
<ul>
<li>не все параметры сеанса запрашиваются из кода конфигурации при запуске программы. 

<li>при работе программы возможно намеренное обнуление значений параметров сеанса из кода на встроенном языке. </li></li></ul>
<p>Правильным способом установки значений параметров сеанса является установка значений "по требованию" в обработчике <strong>УстановкаПараметровСеанса</strong> модуля сеанса. Т.е. параметры сеанса должны быть инициализированы только в тот момент, когда к ним происходит первое обращение, как к неустановленным. <br/><br/>Пример установки параметров сеанса "по требованию":</p>
<p class="Programtext">Процедура УстановкаПараметровСеанса(ИменаПараметровСеанса)<br/> <br/> Если ИменаПараметровСеанса = Неопределено Тогда<br/>  // Раздел установки параметров сеанса при начале сеанса (ИменаПараметровСеанса = Неопределено)<br/>  // Выполняется установка параметров сеанса, которые можно инициализировать <br/>  // при начале работы системы<br/>  <br/> Иначе<br/>  // Установка параметров сеанса "по требованию"<br/>  <br/>  // Параметры сеанса, инициализация которых требует обращения к одним и тем же данным<br/>  // следует инициализировать сразу группой. Для того, чтобы избежать их повторной инициализации,<br/>  // имена уже установленных параметров сеанса сохраняются в массиве УстановленныеПараметры<br/>  УстановленныеПараметры = Новый Массив;<br/>  Для Каждого ИмяПараметра Из ИменаПараметровСеанса Цикл<br/>   УстановитьЗначениеПараметраСеанса(ИмяПараметра, УстановленныеПараметры);<br/>  КонецЦикла;<br/>  <br/> КонецЕсли;<br/> <br/>КонецПроцедуры<br/></p>
<p class="Programtext">// Установить значения параметров сеанса и возвратить имена установленных параметров сеанса<br/>// в параметре УстановленныеПараметры.<br/>//<br/>// Параметры<br/>//  ИмяПараметра  - Строка - имя параметра сеанса, который требуется установить (проинициализировать).<br/>//  УстановленныеПараметры  - Массив - массив, в который добавляются имена<br/>//                                     установленных (проинициализированных) параметров.<br/>//<br/>Процедура УстановитьЗначениеПараметраСеанса(Знач ИмяПараметра, УстановленныеПараметры)<br/> <br/> // Если в данном вызове УстановкаПараметровСеанса параметр ИмяПараметра уже <br/> // был установлен - возврат.<br/> Если УстановленныеПараметры.Найти(ИмяПараметра) &lt;&gt; Неопределено Тогда<br/>  Возврат;<br/> КонецЕсли;<br/> <br/> Если ИмяПараметра = "ТекущийПользователь" Тогда<br/>   ПараметрыСеанса.ТекущийПользователь = &lt;значение&gt;;<br/>   ПараметрыСеанса.&lt;другой параметра сеанса&gt; = &lt;значение&gt;;<br/>   УстановленныеПараметры.Добавить(ИмяПараметра);<br/>   УстановленныеПараметры.Добавить("&lt;другой параметра сеанса&gt;");<br/> КонецЕсли;</p>
<p class="Programtext">КонецПроцедуры</p>
<h2>См. также</h2><font face="Verdana">
<ul>
<li><a href="#07_Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным.htm" target="_top">Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100543.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Использование подсистем.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование подсистем</h1><div style="clear: right; float: right;">#std543</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p><a id="1.1" name="1.1"></a>1.1. С помощью подсистем решаются две методические задачи:</p>
<ul>
<li>
<div>Сформировать глобальный командный интерфейс основного окна приложения, которое дает пользователю представление о функциональности приложения в целом.</div>
<li>
<div>Сгруппировать объекты метаданных по функциональному признаку для удобства разработки.</div></li></li></ul>
<p>В простейшем случае, получившаяся для обеих задач структура подсистем конфигурации может совпадать. </p>
<p><img height="252" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100543.files/demo.png?_=0000BB77E5F3C996-v2" style="aspect-ratio:764/252" width="764"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p>Например, видимые для пользователей разделы командного интерфейса «Закупки», «Продажи» и пр. могут использоваться одновременно и при разработке: для быстрого отбора объектов в окне метаданных Конфигуратора, при переносе объектов в другие конфигурации, для задания ограничений области поиска при глобальном поиске по конфигурации и т.д.</p>
<p>У таких подсистем должен быть установлен флажок <strong>Включать в командный интерфейс</strong>.</p>
<p><a id="1.2" name="1.2"></a>1.2. В общем случае, подсистема, логически объединяющая некоторый набор объектов метаданных, может не совпадать с одним разделом командного интерфейса приложения. Для логического объединения набора объектов метаданных по функциональному признаку рекомендуется заводить в конфигурации отдельную иерархию подсистем, не включенных в командный интерфейс. У таких «функциональных» подсистем флажок <strong>Включать в командный интерфейс</strong> должен быть снят.</p>
<p>Примеры:</p>
<ul>
<li>
<div>справочник <strong>Номенклатура</strong> логически относится к одной «функциональной» подсистеме «Нормативно-справочная информация», но доступен в командном интерфейсе одновременно в двух разделах – «Нормативно-справочная информация» и «Маркетинг»</div>
<li>
<div>в раздел командного интерфейса «Настройка и администрирование» помещаются команды открытия списков объектов, логически относящихся к тем «функциональным» подсистемам конфигурации, которые предоставляют возможность настройки для администратора системы.</div></li></li></ul>
<p><a id="1.3" name="1.3"></a>1.3. При этом, общие модули, регламентные задания, константы, подписки на события и прочие объекты, не имеющие визуального представления в командном интерфейсе, рекомендуется включать только в состав «функциональных» подсистем.</p>
<h3>См. также</h3>
<ul>
<li>
<div><a href="#01_Панель разделов.htm" target="_top">Панель разделов</a></div></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100677.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Использование общих реквизитов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование общих реквизитов</h1><div style="clear: right; float: right;">#std677</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Общие реквизиты позволяют добавлять реквизиты сразу для нескольких объектов метаданных (справочников, документов, регистров и т.п.) для решения одной из двух прикладных задач:</p>
<ul>
<li>
<div>для разделения данных (свойство <strong>Разделение данных</strong> имеет значение <strong>Разделять</strong>);</div>
<li>
<div>для расширения состава реквизитов у нескольких объектов  (свойство <strong>Разделение данных</strong> = <strong>Не использовать</strong>).</div></li></li></ul>
<p><a id="2" name="2"></a>2. Общие реквизиты без разделения данных предназначены для добавления некоторого функционала, который не является частью бизнес-логики прикладных объектов (например, решает задачи конфигурации в целом), но при этом требует хранения некоторых данных непосредственно в самих прикладных объектах (а не, например, в связанных регистрах). </p>
<p>При этом общие реквизиты не предназначены для удобства добавления одинаковых реквизитов в прикладные объекты. Например, неправильно переносить в общие реквизиты «обычные» реквизиты документов <strong>Ответственный</strong>, <strong>Комментарий</strong>, <strong>Организация</strong> и т.п. Следует также иметь в виду, что права доступа к общим реквизитам настраиваются отдельно от тех объектов, в которые они добавлены.</p>
<p><a id="3" name="3"></a>3. Порядок следования в дереве метаданных общих реквизитов-разделителей следует подбирать, исходя из требуемого порядка установки <a href="#05_Использование параметров сеанса.htm" target="_top">параметров сеанса</a>, которые связаны с ними.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="https://its.1c.ru/db/metod81/content/4894/hdoc" target="_top">Использование общих реквизитов без разделения данных</a> (статья на ИТС)<br/></div></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100704.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Использование определяемых типов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование определяемых типов</h1><div style="clear: right; float: right;">#std704</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Определяемые типы предназначены для определения типов данных, которые описывают часто используемые сущности или с высокой степенью вероятности могут изменяться при внедрении прикладного решения. Они позволяют многократно использовать описываемый тип или набор типов без уточнения состава в различных местах конфигурации (в реквизитах, свойствах объектах, форм и т.п.).</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также статью на ИТС: <a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000000236" target="_top">«Объекты конфигурации – Определяемые типы»</a></em></p></blockquote>
<p><a id="2" name="2"></a>2. Определяемые типы рекомендуется использовать в следующих случаях:</p>
<p><a id="2.1" name="2.1"></a>2.1. Для определения простого типа и его квалификаторов, имеющего прикладной смысл, который используется в различных реквизитах, ресурсах, реквизитах форм, макетах и т.д. в рамках какой-либо подсистемы или во всем прикладном решении. Это гарантирует одинаковую длину, точность данных во всех местах использования, упрощает доработку в случае изменения требований. <br/>Например:</p>
<ul>
<li><strong>НомерСчетаФактуры</strong> - Строка, длина 30. Регламентирует формат номера счета-фактуры в различных документах: <strong>ПоступлениеТоваровИУслуг</strong>, <strong>ЗаписьКнигиПокупок</strong>, <strong>ВозвратТоваровОтКлиента</strong> и др. 

<li><strong>АдресДоставки</strong> - Строка, 500. Текстовое представление адреса доставки в документах <strong>ЗаказПоставщику</strong>, <strong>АдресДоставкиПеревозчика</strong>, в обработке <strong>ПомощникПродаж</strong>, в реквизите <strong>АдресДоставкиПеревозчика</strong> документа <strong>ЗаявкаНаВозвратТоваровОтКлиента</strong> и др.</li></li></ul>
<p><a id="2.2" name="2.2"></a>2.2. Для определения <a href="#07_Ограничения на использование реквизитов составного типа.htm" target="_top">составного типа</a>, который массово используется в объектах какой-либо подсистемы или во всем прикладном решении. Определяемый тип гарантирует одинаковый состав (тип) данных во всех местах использования, а также упрощает доработку и внедрение подсистем в прикладные конфигурации. </p>
<p>Например, в конфигурацию внедрена подсистема <strong>Взаимодействия</strong>, которая предназначена для ведения переписки по электронной почте, регистрации звонков и встреч. При внедрении этой подсистемы разработчик принял решение о составе объектов метаданных, которые могут выступать в качестве «контактов взаимодействий» - это элементы справочников <strong>ФизическиеЛица</strong>, <strong>Партнеры</strong>, <strong>КонтактныеЛицаПартнеров</strong>, и задал этот состав типов в определяемом типе <strong>КонтактВзаимодействий</strong>, предусмотренном в подсистеме. В свою очередь, определяемый тип массово используется в реквизитах объектов и формах подсистемы (в документах <strong>Встреча</strong>, <strong>ЗапланированноеВзаимодействие</strong> - табличная часть <strong>Участники</strong>, в документе <strong>СообщениеSMS</strong> – табличная часть <strong>Адресаты</strong>, в документе <strong>ТелефонныйЗвонок</strong> - реквизит <strong>АбонентКонтакт</strong>, в общих формах <strong>АдреснаяКнига</strong>, <strong>ВыборКонтакта</strong> – реквизиты <strong>КонтактыПоПредмету</strong>,<strong> </strong>в параметре макета <strong>ИерархияВзаимодействийКонтакт</strong> журнала документов <strong>Взаимодействия</strong> и т.д.) В противном случае, без использования определяемого типа <strong>КонтактВзаимодействий </strong>пришлось бы снимать объекты подсистемы с поддержки и задавать требуемый состав типов во всех перечисленных местах.</p>
<p><a id="2.3" name="2.3"></a>2.3. При разработке внедряемой подсистемы - для переопределения прикладного типа, который будет уточнен при внедрении. <br/>Например, тип подсистемы <strong>Поставщики</strong> при внедрении может быть заменен на прикладной тип конфигурации <strong>Контрагенты</strong>.</p>
<p><a id="3" name="3"></a>3. Некорректно использовать определяемые типы для задания «синонима» существующему типу, «подмены» сущностей, для локального (не массового) использования в рамках одной подсистемы (конфигурации) без необходимости внедрения в другие конфигурации, только из соображений легкости доработки. Как правило, это говорит об ошибке проектирования или о методологически неверном выборе исходного имени типа.</p>
<p>Например, в конфигурации предусмотрен справочник <strong>Контрагенты</strong>, ссылки на который имеются в нескольких регистрах сведений, реквизитах форм и других объектах конфигурации. При этом справочник не является ни частью встраиваемой подсистемы, ни прикладной сущностью, которая может быть расширена другими типами. Тогда некорректно заводить дополнительный определяемый составный тип, состоящего из единственного типа <strong>Контрагенты</strong>, на «всякий случай», для «механического» упрощения возможного изменения конфигурации в дальнейшем, поскольку это размывает прикладной смысл сущности.</p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100469.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Правила создания общих модулей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Правила создания общих модулей</h1><div style="clear: right; float: right;">#std469</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana">
<p style="FONT-SIZE: small">1.1. Общие модули создаются для реализации процедур и функций, объединенных по некоторому признаку. Как правило, в один общий модуль помещаются процедуры и функции <a href="#06_Использование подсистем.htm" target="_top">одной подсистемы конфигурации</a> (продажи, закупки) или процедуры и функции сходного функционального назначения (работа со строками, общего назначения). </p>
<p style="FONT-SIZE: small">1.2. При разработке общих модулей следует выбирать один из четырех контекстов выполнения кода: </p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" style="FONT-SIZE: small" width="100%">
<tbody>
<tr>
<td></td>
<td><strong>Тип общего модуля</strong></td>
<td><strong>Пример наименования</strong></td>
<td><strong>Вызов сервера</strong></td>
<td><strong>Сервер</strong></td>
<td><strong>Внешнее соединение</strong></td>
<td><strong>Клиент<br/>(обычное приложение)</strong></td>
<td><strong>Клиент<br/>(управляемое приложение)</strong></td></tr>
<tr>
<td valign="top">1.</td>
<td valign="top">Серверный</td>
<td>ОбщегоНазначения (или ОбщегоНазначенияСервер)</td>
<td>
<p align="center"> </p></td>
<td>
<p align="center">+</p></td>
<td>
<p align="center">+</p></td>
<td>
<p align="center">+</p></td>
<td valign="top">
<p align="center"><strong></strong> </p></td></tr>
<tr>
<td valign="top">2.</td>
<td valign="top">Серверный для вызова с клиента</td>
<td>ОбщегоНазначенияВызовСервера</td>
<td>
<p align="center">+</p></td>
<td>
<p align="center">+</p></td>
<td>
<p align="center"> </p></td>
<td>
<p align="center"> </p></td>
<td valign="top"></td></tr>
<tr>
<td valign="top">3.</td>
<td>Клиентский</td>
<td>ОбщегоНазначенияКлиент (или ОбщегоНазначенияГлобальный)</td>
<td>
<p align="center"> </p></td>
<td>
<p align="center"> </p></td>
<td>
<p align="center"> </p></td>
<td>
<p align="center">+</p></td>
<td valign="top">
<p align="center">+</p></td></tr>
<tr>
<td valign="top">4.</td>
<td valign="top">Клиент-серверный</td>
<td>ОбщегоНазначенияКлиентСервер</td>
<td>
<p align="center"> </p></td>
<td>
<p align="center">+</p></td>
<td>
<p align="center">+</p></td>
<td>
<p align="center">+</p></td>
<td valign="top">
<p align="center"><strong>+</strong></p></td></tr></tbody></table>
<p style="FONT-SIZE: small"></p>
<p style="FONT-SIZE: small">2.1. <strong>Серверные общие модули</strong> предназначены для размещения серверных процедур и функций, не доступных для использования из клиентского кода. В них реализуется вся внутренняя серверная бизнес-логика приложения. <br/>Для корректной работы конфигурации в режимах внешнего соединения, управляемого и обычного приложений, серверные процедуры и функции следует размещать в общих модулях с признаками:</p>
<ul style="FONT-SIZE: small">
<li><strong>Сервер </strong>(флажок <strong>Вызов сервера</strong> снят), 

<li><strong>Клиент (обычное приложение)</strong>, 

<li><strong>Внешнее соединение</strong>. </li></li></li></ul>
<p style="FONT-SIZE: small">В таком случае гарантируется возможность вызова серверных процедур и функций с параметрами мутабельных типов (например, <strong>СправочникОбъект</strong>, <strong>ДокументОбъект</strong> и т.п.). Как правило, это:</p>
<ul style="FONT-SIZE: small">
<li>обработчики подписок на события документов, справочников и т.п., которые принимают в качестве параметра мутабельное значение (объект).  

<li>серверные процедуры и функции, в которые в качестве параметра передается объект из модулей справочников, документов и пр., а также из модулей с подписками на события.</li></li></ul>
<p><font size="2">Серверные общие модули называются по </font><a href="#03_Имя, синоним, комментарий.htm" style="FONT-SIZE: small" target="_top">общим правилам именования объектов метаданных</a><font size="2">. </font><br/><font size="2">Например: <b>РаботаСФайлами</b>, <b>FilesOperations</b>.</font></p>
<p><font size="2">В отдельных случаях для предотвращения конфликта имен со свойствами глобального контекста может быть добавлен постфикс </font><strong style="FONT-SIZE: small">"Сервер" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"Server"</strong><font size="2">). </font><br/><font size="2">Например: <b>РегламентныеЗаданияСервер</b>, <b>ScheduledJobsServer</b>.</font></p>
<p style="FONT-SIZE: small">2.2. <strong>Серверные общие модули для вызова с клиента</strong> содержат серверные процедуры и функции, доступные для использования из клиентского кода. Они составляют <a href="#01_Безопасность прикладного программного интерфейса сервера.htm" target="_top">клиентский программный интерфейс сервера приложения</a>. <br/>Такие процедуры и функции размещаются в общих модулях с признаком: </p>
<ul style="FONT-SIZE: small">
<li><strong>Сервер</strong> (флажок <strong>Вызов сервера</strong> установлен)</li></ul>
<p><font size="2">Серверные общие модули для вызова с клиента называются по </font><a href="#03_Имя, синоним, комментарий.htm" style="FONT-SIZE: small" target="_top">общим правилам именования объектов метаданных</a><font size="2"> и должны именоваться с постфиксом </font><strong style="FONT-SIZE: small">"ВызовСервера" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"ServerCall"</strong><font size="2">).</font><br/><font size="2">Например: <b>РаботаСФайламиСлужебныйВызовСервера</b><strong>, </strong><b>FilesOperationsInternalServerCall</b>.</font></p>
<p style="FONT-SIZE: small">Следует иметь в виду, что экспортные процедуры и функции в таких общих модулях не должны содержать параметров мутабельных типов (<strong>СправочникОбъект</strong>, <strong>ДокументОбъект</strong> и т.п.), так как их передача из (или в) клиентского кода невозможна.</p>
<blockquote dir="ltr" style="FONT-SIZE: small; MARGIN-RIGHT: 0px">
<p><em>См. также: </em><em><a href="#02_Ограничение на установку признака «Вызов сервера» у общих модулей.htm" target="_top">Ограничение на установку признака «Вызов сервера» у общих модулей</a>, <a href="#07_Обеспечение совместимости библиотек.htm" target="_top">Обеспечение совместимости библиотек</a></em></p></blockquote>
<p style="FONT-SIZE: small">2.3. <strong>Клиентские общие модули</strong> содержат клиентскую бизнес-логику (функциональность, определенную только для клиента) и имеют признаки:</p>
<ul style="FONT-SIZE: small">
<li><strong>Клиент (управляемое приложение)</strong>, 

<li><strong>Клиент (обычное приложение)</strong>.</li></li></ul>
<p style="FONT-SIZE: small">Исключение составляют случаи, когда клиентские процедуры и функции должны быть доступны только в режиме управляемого приложения (только в режиме обычного приложения или только в режиме внешнего соединения). В таких случаях, допустима иная комбинация двух этих признаков.</p>
<p><font size="2">Клиентские общие модули именуются с постфиксом </font><strong style="FONT-SIZE: small">"Клиент" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"Client"</strong><font size="2">). </font><br/><font size="2">Например: <b>РаботаСФайламиКлиент</b>, <b>FilesOperationsClient</b>.</font></p>
<blockquote dir="ltr" style="FONT-SIZE: small; MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#05_Минимизация кода, выполняемого на клиенте.htm" target="_top">минимизация кода, выполняемого на клиенте</a></em></p></blockquote>
<p style="FONT-SIZE: small">2.4. Для того чтобы <a href="#03_Использование дублирующего кода.htm" target="_top">избежать дублирования кода,</a> рекомендуется создавать клиент-серверные общие модули с теми процедурами и функциями, содержание которых одинаково на сервере и на клиенте. Такие процедуры и функции размещаются в общих модулях с признаками:</p>
<ul style="FONT-SIZE: small">
<li><strong>Клиент (управляемое приложение)</strong>, 

<li><strong>Сервер</strong> (флажок <strong>Вызов сервера</strong> сброшен), 

<li><strong>Клиент (обычное приложение)</strong>, 

<li><strong>Внешнее соединение</strong>.</li></li></li></li></ul>
<p><font size="2">Общие модули этого вида именуются с постфиксом </font><strong style="FONT-SIZE: small">"КлиентСервер" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"ClientServer"</strong><font size="2">). </font><br/><font size="2">Например: </font><b><font size="2">РаботаСФайламиКлиентСервер</font></b><font size="2">, <b>FilesOperationsClientServer</b>.</font></p>
<p style="FONT-SIZE: small">В то же время, как только возникает необходимость ветвить код в клиент-серверных общих модулях на серверный и клиентский, то не следует <a href="#04_Использование директив компиляции и инструкций препроцессора.htm" target="_top">использовать для этого инструкции препроцессора</a>. Вместо этого, функциональность, различную для клиента и для сервера, рекомендуется реализовывать по общим правилам в модулях соответствующего типа – см. пп. 2.1 и 2.3. Такое явное разделение клиентской и серверной бизнес-логики продиктовано соображениями повышения модульности прикладного решения, упрощения контроля со стороны разработчика над клиент-серверным взаимодействием и снижением риска ошибок из-за принципиальных отличий требований к разработке клиентского и серверного кода (необходимость минимизации кода, выполняемого на клиенте, разной доступностью объектов и типов платформы и др.). При этом нужно иметь в виду неизбежное увеличение числа общих модулей в конфигурации.</p>
<blockquote dir="ltr" style="FONT-SIZE: small; MARGIN-RIGHT: 0px">
<p><em>Подробнее см.: </em><a href="#04_Использование директив компиляции и инструкций препроцессора.htm" target="_top"><em>Использование директив компиляции и инструкций препроцессора</em></a></p></blockquote>
<p style="FONT-SIZE: small">Особым случаем смешанных клиент-серверных модулей являются <a href="#03_Правила создания модулей форм.htm" target="_top">модули форм</a> и команд, которые специально предназначены для реализации серверной и клиентской бизнес-логики в одном модуле.</p>
<p style="FONT-SIZE: small">3.1. Имена общих модулей рекомендуется строить по общим правилам именования объектов метаданных. Название общего модуля должно совпадать с названием подсистемы или отдельного механизма, процедуры и функции которой он реализует. Рекомендуется избегать в названиях общих модулей таких общих слов как "Процедуры", "Функции", "Обработчики", "Модуль", "Функциональность" и т.п. и применять их только в исключительных случаях, когда они более полно раскрывают назначение модуля.</p>
<p style="FONT-SIZE: small">Для того чтобы различать общие модули одной подсистемы, которые созданы для реализации процедур и функций, выполняемых в разных контекстах, рекомендуется задавать им постфиксы, описанные ранее в пп. 2.1-2.4. </p>
<p style="FONT-SIZE: small">3.2. Дополнительно к общим модулям могут быть добавлены уточняющие постфиксы.</p>
<p><font size="2">3.2.1. Для глобальных модулей добавляется постфикс </font><strong style="FONT-SIZE: small">"Глобальный" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"Global"</strong><font size="2">), в этом случае постфикс </font><strong style="FONT-SIZE: small">"Клиент"</strong><font size="2"> добавлять не следует. </font><br/><font size="2">Например: <b>РаботаСФайламиСлужебныйГлобальный</b><strong>, </strong></font><b><font size="2">FilesOperationsInternalGlobal</font></b><font size="2">.</font></p>
<p><font size="2">3.2.2. Модули, выполняющиеся в привилегированном режиме, имеющие признак </font><strong style="FONT-SIZE: small">Привилегированный</strong><font size="2">, именуются с постфиксом </font><strong style="FONT-SIZE: small">"ПолныеПрава" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"FullAccess"</strong><font size="2">). </font><br/><font size="2">Например: <b>РаботаСФайламиСлужебныйПолныеПрава</b>, <b>FilesOperationsInternalFullAccess</b>.</font></p></font><font face="Verdana">
<p><font size="2">3.2.3. Модули, предназначенные для реализации на сервере или на клиенте функций с повторным использованием возвращаемых значений (на время вызова или на время сеанса), именуются с постфиксом </font><strong style="FONT-SIZE: small">"ПовтИсп" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"Cached"</strong><font size="2">) и </font><strong style="FONT-SIZE: small">"КлиентПовтИсп" </strong><font size="2">(англ. </font><strong style="FONT-SIZE: small">"ClientCached"</strong><font size="2">) соответственно. </font><br/><font size="2">Например: </font><b><font size="2">РаботаСФайламиСлужебныйКлиентПовтИсп</font></b><font size="2">, <b>FilesOperationsInternalClientCached</b>.</font></p></font>
<blockquote style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: medium none; MARGIN: 0px 0px 0px 40px; PADDING-RIGHT: 0px"><font face="Verdana" size="2">
<p><em>См. также: </em><em><a href="#07_Обеспечение совместимости библиотек.htm" target="_top">Обеспечение совместимости библиотек</a></em></p></font></blockquote><font face="Verdana" size="2">
<p><a id="3.2.4" name="3.2.4"></a>3.2.4. Серверные и клиентские модули библиотечных конфигураций (которые предназначены не для самостоятельного использования, а для разработки других конфигураций) с процедурами и функциями, допускающие изменение своей реализации, именуются с постфиксами <strong>"Переопределяемый" </strong>(англ. <strong>"Overridable"</strong>) и <strong>"КлиентПереопределяемый" </strong>(англ. <strong>"ClientOverridable"</strong>).<br/>Например: <b>РаботаСФайламиКлиентПереопределяемый</b><strong>, </strong><b>FilesOperationsClientOverridable</b>.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">Переопределяемые и поставляемые объекты библиотеки</a></em></p></blockquote>
<p dir="ltr" style="MARGIN-RIGHT: 0px">3.2.5. В <a href="#02_Поставка международной версии конфигурации (Раздел обновлен!).htm" target="_top">локализуемых конфигурациях</a>, на базе которых выпускаются национальные прикладные решения для различных стран или регионов, модули, реализующие национальную специфику, именуются с постфиксами <strong>"Локализация" </strong>(англ. <strong>"Localization"</strong>) и <strong>"КлиентЛокализация" </strong>(англ. <strong>"Client</strong><strong>Localization</strong><strong>"</strong>).<br/>Например: <b>ЭлктроннаяПодписьСлужебныйЛокализация</b><strong>, </strong><b>ElectonicSignatureInternalLocalization</b>.</p></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#01_Тексты модулей.htm" target="_top">Тексты модулей</a>
<li><a href="#02_Структура модуля.htm" target="_top">Структура модуля</a></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100557.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Работа с пользовательскими настройками.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Работа с пользовательскими настройками</h1><div style="clear: right; float: right;">#std557</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">1.1. Для хранения персональных настроек пользователя следует использовать хранилище общих настроек. Например, чтение и запись значения настройки «Задавать вопрос при выходе из программы» для текущего пользователя реализуется на встроенном языке с помощью объекта <strong>ХранилищеОбщихНастроек</strong>:</font></p>
<p class="Programtext"><font size="2">ЗначениеНастройки = ХранилищеОбщихНастроек.Загрузить("НастройкиПрограммы", "ЗадаватьВопросПриВыходе");<br/></font><font size="2">ХранилищеОбщихНастроек.Сохранить("НастройкиПрограммы", "ЗадаватьВопросПриВыходе", ЗначениеНастройки);</font></p>
<p><font size="2">При этом для хранения настроек пользователя не следует использовать какие-либо другие способы, в частности, другие объекты метаданных (регистры, реквизиты и табличные части справочников и др.), внешние файлы и пр.</font></p>
<p><font size="2">1.2. Для работы с пользовательскими настройками требуется, чтобы для пользователя было доступно право <strong>СохранениеДанныхПользователя</strong>.</font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font size="2"><em>См. также: <a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a></em></font></p></blockquote>
<p><font size="2">1.3. Для обращения к каждой настройке в хранилище общих настроек необходимо использовать уникальный строковый ключ настройки. Например, значения основной организации и основного склада, с которыми работает текущий пользователь – это две разные настройки, которые хранятся раздельно под ключами <strong>«ОсновнаяОрганизация»</strong> и <strong>«ОсновнойСклад»</strong>.</font></p>
<p><font size="2">В то же время, некоторые настройки могут быть объединены в структуру, массив или соответствие, если все обращения к ним выполняются одновременно, как к одной настройке. Например, параметры прокси-сервера для доступа к сети Интернет представляют из себя набор из нескольких значений (адрес прокси-сервер, имя и пароль пользователя), однако хранятся все вместе в виде одной структуры как одна самостоятельная настройка.</font></p>
<p><font size="2">2.1. В конфигурации должно быть предусмотрено общее место для редактирования всех пользовательских настроек. Как правило, это общая форма персональных настроек пользователя. </font></p>
<p><font size="2">Пример реализации формы персональных настроек «Мои настройки» имеется в демонстрационной конфигурации <strong>Библиотеки стандартных подсистем</strong>.</font></p>
<p><font size="2"> <img height="403" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100557.files/demo.png?_=0000BA53D4B89BEC-v2" style="aspect-ratio:812/403" width="812"/><script type="text/javascript">forceDocumentLayout()</script></font></p>
<p><font size="2">2.2. В то же время, форма персональных настроек может являться не единственным местом для их редактирования. Для повышения удобства работы пользователя поля с отдельными настройками могут быть размещены непосредственно в тех рабочих местах, к которым эти настройки относятся. Например, флажок «Больше не показывать подсказки при редактировании файла» может быть размещен прямо на форме с самой подсказкой, которая выводится при работе с файлами.</font></p>
<p><font size="2">2.3. Форма персональных настроек пользователя, другие формы (рабочие места), а также отдельные элементы форм для работы с персональными настройками должны быть доступны только пользователям с правом <strong>СохранениеДанныхПользователя</strong>.</font></p><font size="2">
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font size="2"><em>См. также: <a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a></em></font></p></blockquote>
<p></p></font><font size="2">3.1. При работе с хранилищем общих настроек следует иметь в виду, что настройки не мигрируют между узлами информационной базы, а специфичны для определенного узла. При необходимости, передача настроек пользователей между узлами может быть реализована дополнительно средствами встроенного языка.</font>
<p><font size="2">3.2. Все настройки в хранилище общих настроек сохраняются в разрезе пользователей информационной базы, по строковому имени пользователя. Поэтому в случае переименования пользователя прежние настройки теряются. В частности, если впоследствии будет создан пользователь, имя которого совпадает с именем переименованного пользователя, то для него будут использованы ранее сохраненные настройки.</font></p>
<p><font size="2">Для того чтобы этого избежать, рекомендуется переносить настройки при переименовании пользователя, и очищать настройки при удалении. </font></p>
<p><font size="2">При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) в распоряжении разработчика имеются обработчики записи и удаления пользователя информационной базы (см. процедуры <strong>ПриЗаписиПользователяИнформационнойБазы</strong> и <strong>ПослеУдаленияПользователяИнформационнойБазы</strong> в общем модуле <strong>ПользователиПереопределяемый</strong>), в которых возможно выполнить перенос и удаление настроек. Пример использования см. в демонстрационной конфигурации БСП.</font><font face="Verdana" size="2"></font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100785.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Версия платформы 1С_Предприятие для разработки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Версия платформы 1С:Предприятие для разработки</h1><div style="clear: right; float: right;">#std785</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Минимальная версия платформы, на которой обеспечивается работа прикладного решения, устанавливается:</p>
<ul>
<li>не больше номера версии платформы 1С:Предприятие, на которой основан последний сертифицированный релиз платформы – в прикладных решениях для государственных учреждений, оборонных предприятий и корпоративных клиентов, а также в любых библиотеках (которые потенциально могут входить в подобные прикладные решения). См. <a href="https://solutions.1c.ru/news/314012/" target="_blank">защищенный программный комплекс "1С:Предприятие 8.3z"</a>. 

<li>или на усмотрение ответственных за конфигурацию – в остальных прикладных решениях.</li></li></ul>
<p>При этом в качестве минимальной версии выбирается та версия платформы, на основе которой собран последний сертифицированный релиз 1С:Предприятие 8.3z. Номер последнего сертифицированного релиза, а также номер версии платформы, который принимается за минимальную версию публикуется на <a href="http://online.1c.ru/catalog/files/13352/" target="_blank">страничке 1С:Предприятие 8.3z на сайте online.1c.ru</a>. </p>
<p>Например, если прикладное решение для государственных учреждений  выпускается на версии платформы 1С:Предприятие 8.3.15 в режиме совместимости с 8.3.14 и последний сертифицированный релиз 8.3.14.2032, который основан на версии 8.3.14.1976, то за минимальную версию платформы выбирается версия 8.3.14.1976.</p>
<p><a id="1.1" name="1.1"></a>1.1. При невозможности обойти ошибку на уровне прикладных решений, минимальная версия платформы может быть увеличена (при этом для прикладных решений для государственных учреждений новый релиз платформы должен быть сертифицирован в короткие сроки). </p>
<p><a id="1.2" name="1.2"></a>1.2. В исправительных релизах библиотек не допускается увеличивать минимальную версию платформы, т.к. это решение должно приниматься с учетом всех возможных последствий для каждого конкретного прикладного решения.</p>
<p><a id="2" name="2"></a>2. Рекомендуемая версия платформы устанавливается: </p>
<ul>
<li>в прикладных конфигурациях – на усмотрение ответственного за конфигурацию; стоит ориентироваться на последний опубликованный релиз платформы, на котором ведется разработка и тестирование; 

<li>не может быть увеличена в исправительных релизах библиотек, т.к. это решение должно приниматься с учетом всех последствий для каждого конкретного прикладного решения.</li></li></ul>
<p>Например, прикладное решение выпускается на минимальной версии платформы 1С:Предприятие 8.3.14, а рекомендуемой версией указан последний опубликованный релиз 8.3.15, т.к. в нем улучшен ряд функций, которые важны для пользователей этого прикладного решения.</p>
<p>В прикладных решениях для государственных учреждений, оборонных предприятий и корпоративных клиентов номер рекомендуемой версии платформы может быть больше номера версии, на которой основан последний сертифицированный релиз. В таком случае пользователи могут продолжить работу на текущем сертифицированном релизе платформы и одновременно будут проинформированы об этой рекомендации.</p>
<p><a id="3" name="3"></a>3. Запуск на платформе ниже минимальной версии блокируется с помощью 1С:Библиотеки стандартных подсистем (БСП). Минимальная и рекомендуемая версии платформы задаются в процедуре <strong>ПриОпределенииОбщихПараметровБазовойФункциональности</strong> общего модуля <strong>ОбщегоНазначенияПереопределяемый</strong>. </p>
<p>Минимальная и рекомендуемая версии платформы также указываются в файле readme.txt, входящем в состав дистрибутива.<br/>Например:</p>
<p class="note">Минимальная версия платформы 1С:Предприятие для использования конфигурации: 8.3.14.1976.<br/>Рекомендуемая версия платформы: 8.3.15.1700 (или больше).</p>
<p></p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100556.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Начальные действия при работе конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Начальные действия при работе конфигурации</h1><div style="clear: right; float: right;">#std556</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. В конфигурации должен быть предусмотрен механизм, автоматически определяющий как факт первого запуска конфигурации и выполняющий первоначальное заполнение информационной базы минимально необходимыми данными, так и факт первого запуска нового релиза и выполняющий необходимые изменения в базе (обновление данных ИБ). </p>
<p>При использовании в конфигурации <a href="http://v8.1c.ru/ssl/" target="_blank">Библиотеки стандартных подсистем</a> такую возможность следует предоставлять средствами подсистемы «Обновление версии ИБ». </p>
<p>В случае если в конфигурации не используется Библиотеки стандартных подсистем, ниже приведены общие требования к начальным действиям, выполняемым при работе конфигурации.</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip" width="100%">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2" name="2"></a>2. Первоначальное заполнение ИБ может быть разделено на обязательное, без чего конфигурация не будет работать, и необязательное, которое облегчает начало эксплуатации продукта, но не является строго обязательным. </p>
<p><a id="3" name="3"></a>3. По результатам обработки информационной базы при первом запуске конфигурации или при первом запуске нового релиза конфигурации рекомендуется выводить администратору системы описание конфигурации или описание изменений в этой версии конфигурации. </p></td></tr></tbody></table>
<p><a id="4" name="4"></a>4. Ситуации, когда обработка не проведена в требуемом объеме, должны контролироваться конфигурацией. При этом пользователю должно выводиться предупреждение о возникновении проблемной ситуации. Для вывода подробного протокола о выполненных операциях и возникших ошибках следует использовать журнал регистрации.</p>
<p><a id="5" name="5"></a>5. При наличии в конфигурации возможности работы в распределенной информационной базе (РИБ), следует реализовывать логику обновления данных ИБ в подчиненных узлах таким образом, чтобы она</p>
<ul>
<li>выполнялась после загрузки уже обновленных данных из главного узла; 

<li>исключала повторную обработку одних и тех же данных, а тем более – повторное создание новых данных. Другими словами, повторная обработка ИБ должна отрабатывать корректно.</li></li></ul>
<p>В противном случае:</p>
<ul>
<li>если при обновлении подчиненного узла ИБ безусловно создаются новые данные, то они будут многократно созданы в каждом из узлов РИБ и размножены во всех узлах при очередном обмене данными. 

<li>если при обновлении подчиненного узла ИБ безусловно изменяются какие-либо данные, то они будут зарегистрированы к выгрузке обратно в главный узел. Это приведет к дополнительной избыточной нагрузке на канал связи между узлами.</li></li></ul>
<p>Например, неправильно:</p>
<p class="Programtext">ПрофильОбъект = Справочники.ПрофилиГруппДоступа.СоздатьЭлемент(); <br/>ПрофильОбъект.Наименование = НСтр("ru = 'Бухгалтер'");<br/>ПрофильОбъект.Предустановленный = Истина;<br/>ПрофильОбъект.Записать();</p>
<p>правильно:</p>
<p class="Programtext">НаименованиеПрофиля = НСтр("ru = 'Бухгалтер'");<br/>Запрос = Новый Запрос(<br/> "ВЫБРАТЬ<br/> | ИСТИНА <br/> |ИЗ<br/> | Справочник.ПрофилиГруппДоступа КАК ПрофилиГруппДоступа<br/> |ГДЕ<br/> | ПрофилиГруппДоступа.Наименование = &amp;Наименование И<br/> | ПрофилиГруппДоступа.Предустановленный = ИСТИНА");<br/>Запрос.УстановитьПараметр("Наименование", НаименованиеПрофиля);<br/>// Если элемента нет, только тогда нужно создать новый.<br/>Если Запрос.Выполнить().Пустой() Тогда<br/>  ПрофильОбъект = Справочники.ПрофилиГруппДоступа.СоздатьЭлемент();<br/>  ПрофильОбъект.Наименование = НаименованиеПрофиля;<br/>  ПрофильОбъект.Предустановленный = Истина;<br/>  ПрофильОбъект.Записать(); <br/>КонецЕсли;</p>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100680.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Поддержка толстого клиента, управляемое приложение, клиент-сервер.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Поддержка толстого клиента, управляемое приложение, клиент-сервер</h1><div style="clear: right; float: right;">#std680</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В управляемом режиме из-за ряда ограничений тонкого клиента может возникнуть необходимость поддержки запуска толстого клиента (в режиме управляемого приложения). Подробнее см. <a href="https://its.1c.ru/db/metod81/content/3266/hdoc" target="_top">Функциональность обычного приложения, отсутствующая в управляемом приложении</a>.</p>
<p><a id="2" name="2"></a>2. При этом разработка конфигураций, рассчитанных на режим управляемого приложения, как правило, ведется исходя из того, что в клиент-серверной архитектуре код следующих модулей компилируется и выполняется только на сервере</p>
<ul>
<li>модуль менеджера; 

<li>модуль объекта; 

<li>модуль сеанса.</li></li></li></ul>
<p>В частности, в указанных модулях может встречаться обращение к общим модулям, доступным только на сервере.</p>
<p>Однако в толстом клиенте, в режиме управляемого приложения, клиент-сервер, возможны ситуации, когда указанные модули могут начать компилироваться и выполняться на стороне клиента, в частности:</p>
<ul>
<li>если объект (справочник, документ и т.п.) явно создается и вызывается в клиентском коде; 

<li>когда платформа 1С:Предприятие неявно обращается к модулям менеджеров и модулю сеанса для вызова их обработчиков событий на клиенте.</li></li></ul>
<p>Компиляция и выполнение таких модулей на клиенте могут приводить к ошибкам. По этой причине режим проверки конфигурации для режима толстый клиент, управляемое приложение, может находить ошибки в указанных модулях.</p>
<p>Для того чтобы избежать незапланированной компиляции и исполнения указанных модулей на клиенте, а также чтобы избежать лишних сообщений режима проверки конфигурации, следует:</p>
<ul>
<li>
<div>полностью исключить из клиентского контекста код модулей объектов (наборов записей и т.п.), заключив его в инструкцию препроцессора и дополнив вызовом исключения, которое предотвращает несанкционированную попытку использования объекта на клиенте:</div></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда<br/>  …<br/>#Иначе<br/>  ВызватьИсключение НСтр("ru = 'Недопустимый вызов объекта на клиенте.'");<br/>#КонецЕсли<br/></p></blockquote>
<ul>
<li>полностью исключить из клиентского контекста код модуля сеанса, заключив его в инструкцию препроцессора (так как параметры сеанса требуются для работы серверного, а не клиентского кода конфигурации):</li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда<br/>  …<br/>#КонецЕсли<br/></p></blockquote>
<ul dir="ltr">
<li>
<div>полностью исключить из клиентского контекста код модулей менеджеров всех видов объектов метаданных, заключив его в инструкцию препроцессора:</div></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда<br/>…<br/>#КонецЕсли<br/></p></blockquote>
<p>В последнем случае также будет действовать следующее ограничение: если представление объектов формируется <a href="#07_Обработчики событий ОбработкаПолученияПредставления и ОбработкаПолученияПолейПредставления.htm" target="_top">обработчиками событий модуля менеджера <strong>ОбработкаПолученияПредставления</strong> и <strong>ОбработкаПолученияПолейПредставления</strong></a>, то в толстом клиенте, в режиме управляемого приложения, клиент-сервер, представление будет формироваться по умолчанию, без вызова этих обработчиков, и тем самым будет отличаться от остальных режимов работы. (При этом оставшиеся два обработчика модуля менеджера <strong>ОбработкаПолученияДанныхВыбора</strong> и <strong>ОбработкаПолученияФормы</strong> вызываются всегда только на сервере, поэтому указанное ограничение на них не распространяется.)</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="3" name="3"></a>3. В тех случаях, когда требуется снять указанное выше ограничение, необходимо дополнительно обеспечить работу на клиенте следующих фрагментов серверного кода:</p>
<ul>
<li>обработчиков событий модулей менеджеров <strong>ОбработкаПолученияПредставления</strong> и <strong>ОбработкаПолученияПолейПредставления</strong>
<li>а также код подписок на эти события модулей менеджеров.</li></li></ul>
<p>Для этого код перечисленных обработчиков событий следует вынести за инструкции препроцессора, указанные в п.2, а обработчики подписок разместить в клиент-серверных модулях. </p>
<p>При необходимости вызова серверных процедур (и функций) из клиентского кода следует размещать вызываемые процедуры в <a href="#09_Правила создания общих модулей.htm" target="_top">серверных общих модулях с признаком <strong>Вызов сервера</strong></a>. При этом нужно убедиться, что в параметры процедур (и в возвращаемые значения функций) не передаются значения мутабельных типов (<strong>СправочникОбъект</strong>, <strong>ДокументОбъект</strong> и пр.)</p>
<p>Важно: не следует для этих целей всем общим модулям с признаком <strong>Сервер</strong> принудительно устанавливать флажок <strong>Вызов сервера</strong>. Подробнее см. <a href="#02_Ограничение на установку признака «Вызов сервера» у общих модулей.htm" target="_top">Ограничение на установку признака «Вызов сервера» у общих модулей</a>.</p>
<p>Например, обработчик события <strong>ОбработкаПолученияПредставления</strong> вызывает общий модуль, который не доступен на клиенте:</p>
<p class="Programtext">Процедура ОбработкаПолученияПредставления(Данные, Представление, СтандартнаяОбработка)<br/> <br/>  Взаимодействия.ОбработкаПолученияПредставления(Данные, Представление);<br/>  СтандартнаяОбработка = Ложь;<br/> <br/>КонецПроцедуры</p>
<p>правильно выполнить переход на сервер (и при этом не передавать на клиент значения мутабельных типов):</p>
<p class="Programtext">Процедура ОбработкаПолученияПредставления(Данные, Представление, СтандартнаяОбработка)<br/><br/>  ВзаимодействияВызовСервера.ОбработкаПолученияПредставления(Данные, Представление);<br/>  СтандартнаяОбработка = Ложь;</p>
<p class="Programtext">КонецПроцедуры</p></td></tr></tbody></table>
<p class="tip">4. Для расстановки фрагментов кода с инструкциями препроцессора можно воспользоваться <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/АвтоформатированиеКодаИЛокализация/АвтоформатированиеКодаИЛокализация.zip" rel="nofollow" target="_blank">приложенной обработкой</a>.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100709.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Технология разветвленной разработки конфигураций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Технология разветвленной разработки конфигураций </h1><div style="clear: right; float: right;">#std709</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p>Цели внедрения технологии:</p>
<ul>
<li>Повышение качества разрабатываемой конфигурации 

<li>Повышение культуры разработки и тестирования 

<li>Обеспечение непрерывного развития конфигураций в условиях жестких сроков разработки</li></li></li></ul>
<h2>1. Определения</h2>
<p><strong>Плановая версия конфигурации</strong> – версия, содержащая существенное развитие функционала, срок выпуска которой назначается заранее.<br/><br/><strong>Исправительная версия</strong> – версия, которая выпускается при необходимости срочной публикации исправлений критичных ошибок. В исключительных случаях исправительная версия может содержать какой-то новый функционал (например, доработки, связанные с поддержкой изменения законодательства). Срок выпуска определяется при анализе количества и критичности обнаруженных ошибок плановой версии.<br/><br/><strong>Технический проект</strong> – задание на доработку конфигурации. Каждый технический проект имеет четко сформулированную цель и конечный список изменений, которые нужно выполнить, чтобы достигнуть этой цели.</p>
<p>Для организации работ по разработке и сопровождению конфигураций (в т.ч. ведению информации о технических проектах и списка ошибок) рекомендутся использовать <strong>Систему проектирования прикладных решений (СППР)</strong>.</p>
<h2>2. Разработка исправительных версий</h2>
<dl>
<dt>
<div>2.1. Для выпуска каждой исправительной версии создается новое хранилище на основе конфигурации последней выпущенной версии.<br/><br/>Важно – нужно создавать новое хранилище, а не копировать основное!</div></dt></dl>
<p><a id="2.2" name="2.2"></a>2.2. В исправительной версии не должно быть объемных доработок конфигурации, в противном случае нужно пересматривать сроки выпуска плановой версии.</p>
<p><a id="2.3" name="2.3"></a>2.3. Все закладки в хранилище исправительной версии должны содержать комментарий.<br/><br/>Требования к содержанию комментариев аналогичны требованиям к закладкам в хранилище плановой версии (см. п.3.4).</p>
<p><a id="2.4" name="2.4"></a>2.4. Все изменения, которые выполняются в исправительном релизе, должны синхронно повторяться в основном хранилище. Если в исправительном релизе добавляются новые объекты (реквизиты объектов), то переносить изменения нужно исключительно с помощью сравнения/объединения конфигураций, для того чтобы не различались внутренние идентификаторы объектов конфигурации.</p>
<p><a id="2.5" name="2.5"></a>2.5. При сборке исправительной версии рекомендуется устанавливать метку с информацией о номере сборки на закладке той версии хранилища, конфигурация которой идет в сборку. Обычно это последняя на момент сборки закладка.</p>
<h2>3. Разработка плановой версии</h2>
<p><a id="3.1" name="3.1"></a>3.1. Разработка плановых версий ведется в основном хранилище конфигурации. </p>
<p><a id="3.2" name="3.2"></a>3.2. Закладки в основное хранилище должны осуществляться таким образом, чтобы каждая закладка переводила конфигурацию хранилища из одного рабочего (готового к выпуску) состояния в другое. <br/><strong>Не допускается закладка не полностью отлаженного функционала!</strong> Основное хранилище всегда должно находиться в «неразваленном» состоянии, чтобы в любой момент можно быть начать сборку плановой версии.</p>
<p><a id="3.3" name="3.3"></a>3.3. В основном хранилище разрешается выполнять следующие работы:</p>
<ul>
<li>исправление ошибок, не требующих перепроектирования, объемного кодирования и тестирования. Если ошибка требует больших переработок и/или пересмотра проектных решений, то исправление такой ошибки должно вестись в рамках технического проекта. Порядок работы с основным хранилищем должен быть таким же, как и по другим техническим проектам; 

<li>встраивание новых версий библиотек; 

<li>встраивание полностью отлаженных, прошедших отладочное тестирование проектов; 

<li>в исключительных случаях в основном хранилище может вестись разработка некоторых проектов, (например, проектов по массовому рефакторингу).</li></li></li></li></ul>
<p>Рекомендуется использовать реализованные в <strong>СППР</strong> возможности автоматической генерации текстов комментариев для закладок, связанных с исправлением ошибок и встраиванием технических проектов.</p>
<p><a id="3.4" name="3.4"></a>3.4. Все закладки в основное хранилище должны содержать комментарий.<br/><br/>Содержание комментария зависит от характера выполненных работ:</p>
<ul>
<li>при исправлении ошибки обязательно должен быть указан номер и краткое наименование ошибки в системе баг-трекинга; 

<li>при встраивании новой версии библиотеки должно быть указано название библиотеки и точный номер версии библиотеки; 

<li>при встраивании технических проектов – номер проекта в системе ведения проектной документации, а также краткое наименование; 

<li>при выполнении работ по техническому проекту в основном хранилище комментарий, помимо номера и краткого наименования проекта, должен содержать краткое описание сделанных в этой закладке изменений.</li></li></li></li></ul>
<p><a id="3.5" name="3.5"></a>3.5. Все изменения по техническому проекту должны переноситься в основное хранилище за одну закладку. Если необходимо переносить изменения несколько раз, то нужно открывать несколько проектов.</p>
<p><a id="3.6" name="3.6"></a>3.6. После переноса изменений в основном хранилище можно исправлять ошибки, наведенные техническим проектом. Для пересмотра проектных решений нужно открывать новый проект.</p>
<p><a id="3.7" name="3.7"></a>3.7. При сборке плановой версии рекомендуется устанавливать метку с информацией о номере сборки на закладке той версии хранилища, конфигурация которой идет в сборку. Обычно это последняя на момент сборки закладка.</p>
<h2>4. Разработка технических проектов</h2>
<p><a id="4.1" name="4.1"></a>4.1. Разработка каждого технического проекта ведется в отдельном хранилище. <br/><br/>При использовании <strong>СППР</strong> хранилище технического проекта может быть созданно автоматически. Если <strong>СППР</strong> не используется, хранилище технического проекта нужно будет создавать вручную, в соотвествии с порядком, описанном в Приложении 1.</p>
<p><a id="4.2" name="4.2"></a>4.2. При постановке хранилища технического проекта на поддержку от основного хранилища, платформа для всех объектов устанавливает правило «Объект поставщика, не редактируется». Для работы над техническим проектом нужно изменить это правило на «Объект поставщика редактируется с сохранением поддержки».<br/><br/>Правило «Объект поставщика редактируется с сохранением поддержки» нужно устанавливать только для тех объектов, которые изменяются при выполнении технического проекта. Правило нужно менять как можно более точечно – например, если изменения в проекте будут затрагивать только форму, то нужно изменить правило только для этой формы, а для объекта, которому эта форма принадлежит, нужно оставить правило «Объект поставщика, не редактируется». <br/><br/>Для изменения правил поддержки нужно захватить только корень конфигурации, захватывать сами объекты не нужно.<br/><br/>Выполнение этих рекомендаций позволит упростить процесс переноса изменений между основным хранилищем и хранилищем тех. проекта.</p>
<p><a id="4.3" name="4.3"></a>4.3. Ответственный за технический проект может периодически обновлять конфигурацию хранилища проекта. Периодичность обновления разработчик определяет самостоятельно.<br/><br/>На частоту обновления могут влиять следующие факторы:</p>
<ul>
<li>затрагивает ли технический проект объекты других ответственных; 

<li>проводится ли в данное время рефакторинг общих механизмов; 

<li>ведется ли сейчас в основном хранилище массовое исправление ошибок.</li></li></li></ul>
<p>Порядок обновления хранилища технического проекта описан в приложении 2.</p>
<p><a id="4.4" name="4.4"></a>4.4. После окончания разработки ответственный согласует сроки завершения отладочного тестирования и сроки внесения технического проекта в основное хранилище. Проекты, затрагивающие большое количество объектов рекомендуется вноситься в основное хранилище ближе к сроку окончания разработки, чтобы уменьшить влияние на другие проекты. <br/><br/>Ответственные за другие технические проекты могут попросить перенести сроки внесения в основное хранилище.</p>
<p>В <strong>СППР</strong> согласовывать сроки встраивания технических проектов можно, используя функциональность контрольных точек по техническому проекту.</p>
<p><a id="4.5" name="4.5"></a>4.5. Внесение проекта в основное хранилище должно осуществляться после завершения отладочного тестирования. Рекомендуется по окончании исправления ошибок, выявленных отладочным тестированием технического проекта, сформировать файл сравнения конфигурации проекта и конфигурации основного хранилища.</p>
<p><a id="4.6" name="4.6"></a>4.6. Внесение наработок технического проекта в основное хранилище не должно проводить к длительному захвату объектов основного хранилища. Это достигается тем, что сначала хранилище технического проекта обновляется до состояния основного хранилища (по методике, описанной в приложении 2). Если изменений много, то такое обновление может занять достаточно много времени (до нескольких дней) – за это время конфигурация основного хранилища может измениться. Поэтому процесс обновления может быть итеративным – на каждой итерации обновления отличия в конфигурациях будут становиться все ближе к величине изменений, внесенных техническим проектом. <br/><br/>После каждой итерации обновления целесообразно проводить быструю проверку работоспособности функционала, разрабатываемого в рамках проекта.<br/><br/>Начинать перенос изменений в основное хранилище (захватывать объекты в основном хранилище) следует только тогда, когда конфигурация технического проекта будет отличаться от конфигурации основного хранилища практически только на изменения, вносимые проектом.</p>
<p><a id="4.7" name="4.7"></a>4.7. Ответственный за технический проект должен внимательно относиться к внесению изменений в основное хранилище. Нужно помнить, что основное хранилище должно в любой момент времени находиться в состоянии готовности к выпуску плановой версии.<br/><br/>После внесения изменений в основное хранилище разработчики технического проекта совместно с тестировщиками проводят быструю проверку того, что изменения перенесены корректно и не повлияли на работоспособность смежного функционала. Объем проверок и порядок их проведения определяет ответственный за проект.</p>
<p><a id="4.8" name="4.8"></a>4.8. После проверки переноса изменений и до закладки изменений в основное хранилище, ответственный обязательно должен запустить проверку конфигурации. Проверку нужно проводить с максимальными настройками.<br/>Закладка изменений в основное хранилище допускается только после того, как будут исправлены все ошибки, выявленные проверкой конфигурацией, которые были привнесены проектом.</p>
<p><a id="4.9" name="4.9"></a>4.9. После переноса изменений в основное хранилище ответственный за технический проект удаляет хранилище проекта</p>
<h2>5. Нумерация сборок</h2>
<p>Изменение номеров версий регламентируется стандартом <a href="#02_Нумерация редакций и версий.htm" target="_top">Нумерация редакций и версий</a><br/>Здесь будут уточнены правила изменения номера сборки (четвертое число в номере версии)</p>
<p><a id="5.1" name="5.1"></a>5.1. Номер сборки следует увеличивать как в основном хранилище, так и в хранилище исправительного релиза в двух случаях:</p>
<ul>
<li>
<div>непосредственно перед сборкой релиза. Это необходимо, чтобы полный номер собранного релиза гарантированно отличался от полного номера предыдущего релиза;</div>
<li>
<div>при закладке в хранилище обработчика обновления информационной базы. Это необходимо, чтобы после обновления из хранилища у всех участников разработки добавленный обработчик обновления запускался автоматически (только для конфигураций, основанных на <strong>Библиотеке Стандартных Подсистем</strong>).</div></li></li></ul>
<p><a id="5.2.1" name="5.2.1"></a>5.2.1. При добавлении в хранилище обработчиков обновления информационной базы рекомендуется в рамках этой же закладки повышать номер сборки. Существует два возможных сценария:</p>
<ul>
<li>
<div>Обработчик обновления добавляется при разработке технического проекта в хранилище технического проекта. В этом случае при переносе изменений в основное хранилище следует увеличить номер сборки основного хранилища. </div>
<li>
<div>Обработчик обновления добавляется в рамках исправления ошибки. Если ошибка исправляется только в одном хранилище (основном или исправительном), то номер сборки повышается только в нем, если в двух – значит нужно увеличить номер в обоих хранилищах.  </div></li></li></ul>
<p><a id="5.2.2" name="5.2.2"></a>5.2.2. Обработчик и изменение номера сборки должны помещаться в хранилище в рамках одной закладки. При этом обработчик обновления должен быть «привязан» к тому номеру сборки, который вместе с ним помещается в хранилище.</p>
<p><a id="5.2.3" name="5.2.3"></a>5.2.3. Если в рамках одной конфигурации обработчики обновления разбиты по технологическим подсистемам (например, в конфигурации <strong>1С:ERP </strong>обработчики разбиты на подсистемы УправлениеПредприятием и УправлениеТорговлей), то нужно повышать номер сборки как подсистемы, к которой относится обработчик, так и конфигурации.</p>
<p><a id="5.3" name="5.3"></a>5.3. Номер сборки необходимо изменять:</p>
<ol>
<li>
<div>В свойствах конфигурации.</div>
<li>
<div>В процедуре ОбновлениеИнформационнойБазы&lt;ИмяБиблиотеки&gt;.ПриДобавленииПодсистемы (только для конфигураций, основанных на <strong>Библиотеке Стандартных Подсистем</strong>).</div></li></li></ol>
<h2>Приложение 1. Порядок создания хранилища технического проекта</h2>
<ol>
<li>Обновить из хранилища конфигурацию информационной базы, подключенную к основному хранилищу<br/>
<li>Создать файл поставки конфигурации основного хранилища (*.cf)<br/>
<li>В информационную базу, которая будет использоваться для работы над техническим проектом, <strong>загрузить</strong> конфигурацию из файла поставки. После загрузки конфигурации из файла поставки конфигурация будет находиться на поддержке без возможности изменения.<br/>
<li>Создать хранилище конфигурации в соответствующей общей папке (при создании хранилища платформа включит в конфигурации возможность изменения)<br/>
<li>Добавить пользователя ТолькоПросмотр (без пароля, без права захвата объектов). Этого пользователя не нужно использовать для подключения базы к хранилищу – только для обновления из хранилища (получения конфигурации хранилища)<br/>
<li>Добавить в хранилище пользователей, перечисленных в проекте (логин – фамилия сотрудника, без пароля, с правом захвата объектов). Не нужно использовать для работы участников проекта логин пользователя ТолькоПросмотр.</li></li></li></li></li></li></ol>
<h2>Приложение 2. Порядок обновления хранилища технического проекта до состояния основного хранилища</h2>
<p>Перед выполнением переноса изменений из <em>хранилища технического проекта</em> (далее ХТП) в <em>основное хранилище</em> (далее ОХ) выполняется обновление ХТП до состояния ОХ.<br/><br/>Для того чтобы обновить ХТП до состояния ОХ необходимо выполнить следующее:</p>
<ol>
<li>Обновить информационную базу, подключенную к ОХ.<br/>
<li>Создать файл поставки конфигурации ОХ.<br/>
<li>Захватить все объекты в ХТП.<br/>
<li>Запустить сравнение основной конфигурации и конфигурации поставщика (Конфигурация – Сравнить конфигурации). Результаты сравнения сохранить в файл – это изменения, внесенные в конфигурацию при работе над техническим проектом. В меню «Действия» выбрать пункт «Отчет о сравнении конфигураций». Для дальнейшего использования лучше вывести и сохранить отчет о сравнении и в текстовом формате и формате табличного документа.<br/><br/><img align="middle" height="230" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100709.files/004.png?_=00002D8DBE473F4E-v2" style="aspect-ratio:368/230" width="368"/><script type="text/javascript">forceDocumentLayout()</script><br/>
<li>Обновить конфигурацию (Конфигурация – Поддержка – Обновить конфигурацию – Выбор файла обновления – указать файл поставки конфигурации созданный на шаге 2).<br/><br/>В появившемся окне сравнения и объединения конфигураций нажать кнопку "Фильтр" и установить флажок Показывать только дважды измененные свойства".<br/><br/><img align="middle" height="597" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100709.files/003.png?_=000118DC53DA1C0B-v2" style="aspect-ratio:884/597" width="884"/><br/><br/>На эти объекты нужно обратить внимание при объединении, остальные изменения можно объединять без проверки.<br/><br/><img align="middle" height="563" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100709.files/002.png?_=00008F5118B122C8-v2" style="aspect-ratio:853/563" width="853"/><br/>
<li>В диалоге, который появляется при нажатии на кнопку «Выполнить» окна сравнения и объединения конфигураций, для новых объектов поставщика нужно установить правило «Объект не редактируется» - как для объектов с правилом «Изменения разрешены» так и для объектов с правилом «Изменения не рекомендуются», для всех остальных установить флаг «Сохранять текущий режим» (по умолчанию он установлен).<br/><br/><img align="middle" height="426" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100709.files/006.png?_=0000C14CFDBDAE07-v2" style="aspect-ratio:686/426" width="686"/><br/>
<li>После завершения объединения нужно исправить объекты, затрагиваемые техническим проектом, изменения в которых затерлись при обновлении. По сути это означает, что нужно выполнить повторное внесение доработок, реализованных в рамках технического проекта в объекты конфигурации.<br/>
<li>Запустить сравнение обновленной основной конфигурации технического проекта и обновленной конфигурации поставщика (Конфигурация – Сравнить конфигурации)<br/><br/><img align="middle" height="230" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100709.files/005.png?_=000022032724DE70-v2" style="aspect-ratio:368/230" width="368"/><br/>
<li>Результаты сравнения сохранить в файл, имя файла должно отличаться от имени файла созданного на шаге 6. В меню «Действия» выбрать пункт «Отчет о сравнении конфигураций». Для дальнейшего использования лучше вывести и сохранить отчет о сравнении в текстовом формате.<br/>
<li>Сравнить файлы, созданные на шаге 4 и шаге 9. При правильном обновлении, сравнение файлов не должно показать отличий.</li></li></li></li></li></li></li></li></li></li></ol></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100723.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Особенности разработки конфигураций для ОС Linux и macOS.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Особенности разработки конфигураций для ОС Linux и macOS</h1><div style="clear: right; float: right;">#std723</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В большинстве случаев, в конфигурации не требуется предпринимать каких-либо специальных мер для обеспечения работы конфигурации (клиентское приложение и сервер) на ОС Linux и macOS. В этой статье перечислены отдельные рекомендации для специфических случаев, описанных в <a href="https://its.1c.ru/db/v83doc/content/97/hdoc" target="_top">приложении 7 документации по платформе 1С:Предприятие</a>.</p>
<p><a id="2" name="2"></a>2. Для реализации всех ключевых функций прикладного решения следует использовать возможности платформы 1С:Предприятие по унификации работы на различных операционных системах. </p>
<p><a id="2.1" name="2.1"></a>2.1. Вместо Windows-технологии COM (объект <strong>COMОбъект</strong>) следует использовать специализированные кроссплатформенные механизмы платформы:</p>
<ul>
<li>Для администрирования кластера серверов 1С:Предприятия, вместо работы с объектной моделью агента сервера через COM-объект <strong>v83.ComConnector</strong>, следует использовать сервер администрирования (ras) и утилиту администрирования (rac). При работе в macOS утилиты rac и ras недоступны. 

<li>Для получения путей к рабочим каталогам, вместо COM-объектов ОС Windows, следует использовать методы глобального контекста <strong>РабочийКаталогДанныхПользователя</strong>, <strong>КаталогДокументов</strong>, <strong>КаталогВременныхФайлов</strong>.</li></li></ul>
<p>В остальных случаях следует рассмотреть другие альтернативы технологии COM, работающие в ОС Linux и macOS, например, технологию создания внешних компонент Native API.</p>
<p><a id="2.2" name="2.2"></a>2.2. Внешние компоненты (клиентские и серверные), поставляемые в составе конфигурации, следует разрабатывать с использованием технологии Native API. Это позволяет создавать кроссплатформенные внешние компоненты для различных операционных систем, а также для веб-клиента, работающего в веб-браузерах, которые поддерживаются платформой 1С:Предприятие. Подробнее о разработке внешних компонент см. <a href="https://its.1c.ru/db/v83doc/content/90/hdoc" target="_top">документацию по платформе</a>.</p>
<p><a id="2.3" name="2.3"></a>2.3. Для механизмов, использующих объект <strong>Почта</strong>, следует рассмотреть альтернативные варианты:</p>
<ul>
<li>По переводу на объект <strong>ИнтернетПочта</strong>; 

<li>По разработке внешних компонент для ОС Linux и macOS, которые поддерживают работу с установленными почтовыми клиентами в ОС Linux и macOS.</li></li></ul>
<p><a id="2.4" name="2.4"></a>2.4. Если в составе конфигурации поставляются картинки в форматах WMF и EMF (метафайлы Windows), их следует заменить на растровые, например PNG или JPG.</p>
<p><a id="2.5" name="2.5"></a>2.5. Также следует использовать возможности платформы 1С:Предприятие по унификации работы с файловой системой.</p>
<p><a id="2.5.1" name="2.5.1"></a>2.5.1. В ОС Linux имена файлов регистро-зависимые, поэтому во всех местах кода, который работает с конкретным файлом, его имя (путь) должен указываться в одном регистре.</p>
<p><a id="2.5.2" name="2.5.2"></a>2.5.2. Не следует указывать разделить пути файла и маску всех файлов вручную (например, «/», «*.*»), для этого необходимо использовать функции <strong>ПолучитьРазделительПути</strong> и <strong>ПолучитьМаскуВсеФайлы</strong>.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> для работы с именами файлов также рекомендуется использовать функции общих модулей <strong>ОбщегоНазначения </strong>и <strong>ОбщегоНазначения</strong><strong>Клиент</strong>.</p>
<p dir="ltr" style="MARGIN-RIGHT: 0px">3. Для отдельных второстепенных (сервисных) функций прикладного решения допустимо отключать их работу в ОС Linux и macOS. Например, для прикладного решения в области торгового учета второстепенными могут считаться возможности по синхронизации данных через прямое подключение с другими программами, по импорту почты из сторонних почтовых клиентов и т.п.</p>
<p>Для этого следует скрывать команды таких механизмов из командного интерфейса программы при работе в ОС Linux и macOS, либо (если технически скрыть невозможно) выводить сообщение вида <br/>«&lt;Операция&gt; доступна только при работе в ОС Windows».</p>
<p>Например:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)<br/>    Информация = Новый СистемнаяИнформация;<br/>    Если Информация.ТипПлатформы &lt;&gt; ТипПлатформы.Windows_x86 И Информация.ТипПлатформы &lt;&gt; ТипПлатформы.Windows_x86_64 Тогда<br/>        ПоказатьПредупреждение(, НСтр("ru = 'Печать в Microsoft Word доступна только при работе в ОС Windows.'"));<br/>        Возврат;<br/>    КонецЕсли;<br/>    <br/>    &lt;...&gt;<br/>КонецПроцедуры</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> рекомендуется использовать функции <strong>ЭтоLinuxКлиент</strong>, <strong>ЭтоMacOSКлиент</strong> и <strong>ЭтоWindowsКлиент</strong> из общих модулей <strong>ОбщегоНазначения</strong> и <strong>ОбщегоНазначенияКлиент.</strong></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a>
<li><a href="https://its.1c.ru/db/v837doc/bookmark/dev/TI000001208" target="_top">Глава "35. Особенности разработки кроссплатформенных прикладных решений"</a> документации по платформе 1С:Предприятие</li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100480.htm' target='_blank'>Ссылка на оригинал</a><div id='16_Оформление карты маршрута бизнес-процесса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Оформление карты маршрута бизнес-процесса</h1><div style="clear: right; float: right;">#std480</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Пример оформления бизнес-процесса:<br/><img height="587" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100480.files/pic1.jpg?_=0000B143256A80FA-v2" style="aspect-ratio:565/587" width="565"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><strong>1. Общие рекомендации</strong><br/><br/><strong>1.1</strong> Бизнес-процессы рисуются <strong>сверху - вниз</strong>. Другая ориентация (например, слева направо) допустима, если позволяет изобразить бизнес-процесс наилучшим образом. <br/><br/><strong>1.2</strong> Используется стандартная <strong>сетка</strong> – шаг 20 точек, нарисованная линиями. <br/><br/><strong>1.3</strong> Не используются жирные и разноцветные <strong>шрифты</strong>. <br/><br/><strong>1.4</strong> Количество <strong>изгибов</strong> соединительных линий должно быть минимальным. Если можно соединить две точки, изогнув соединительную линию один раз, то нужно стараться сделать именно так, подгоняя размеры и положение точек. <br/><br/><strong>1.5</strong> При размещении декораций и точек маршрута рекомендуется соблюдать отступ в одну клетку от левого и верхнего края карты маршрута. <br/><br/><strong>1.6</strong> <strong>Ширину</strong> точек маршрута нужно делать равной четному количеству клеток. Это необходимо для того, чтобы соединительные линии сходились без дополнительных изгибов. <strong>Размеры</strong> точек и декораций нужно стремиться приближать к пропорциям спичечного коробка (например, 3х6 клеток). Следует избегать вытянутых по вертикали или горизонтали точек – они мешают восприятию схем. <br/><br/><strong>1.7 Выравнивание текста</strong> в точках маршрута и декорациях следует делать по центру (по умолчанию), за исключением комментариев – их лучше делать выровненными влево, как обычный текст. <br/><br/><strong>1.8</strong> Рекомендуется размещать декорации и точки маршрута так, чтобы они не пересекали границы печатного листа (меню Графическая схема - Режим просмотра страниц). <br/><br/><strong>2. Рекомендации по оформлению отдельных элементов</strong><br/><br/><strong>2.1</strong> Точки <strong>Старт</strong> и <strong>Завершение</strong> устанавливаются размером 2х2 клетки, без наименования. Количество точек старта и завершения неограниченно и определяется логикой бизнес-процесса. Отступ от точки старта или завершения до другой точки бизнес-процесса рекомендуется устанавливать в две клетки: <br/><img height="201" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100480.files/sheme1.jpg?_=00002387E87167E6-v2" style="aspect-ratio:321/201" width="321"/><br/><br/><strong>2.2</strong> Точки "<strong>Действие</strong>", "<strong>Автоматическая обработка</strong>", "<strong>Вложенный бизнес-процесс</strong>" должны иметь размер сообразно размещаемому в них тексту. Текст должен носить характер короткой директивы и отвечать на вопрос "Что нужно сделать?" (например "Выписать счет", а не "Выписка счета"). Слева от этих точек нужно располагать декорации, описывающие исходные или входящие данные, требуемые для выполнения действий, предусмотренных данной точкой. Справа от точки нужно располагать декорации, описывающие результирующие или исходящие данные, которые получаются в результате выполнения действий, предусмотренных данной точкой. <br/><br/><strong>2.3</strong> Изображения <strong>входящих документов</strong>, служащих основой для выполнения действий, предусмотренных в точках маршрута нужно располагать слева от точки на расстоянии двух клеток и соединять пунктирной линией со стрелкой. <strong>Исходящие документы</strong>, являющие результатом выполнения действий, предусмотренных точкой маршрута, нужно располагать справа от точки на расстоянии двух клеток и соединять пунктирной линией со стрелкой. Документы оформляются фигурой вида Документ: <br/><img height="140" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100480.files/sheme2.jpg?_=0000278ED65AE354-v2" style="aspect-ratio:562/140" width="562"/><br/><br/>Пропорции декорации, изображающей документ должны по возможности приближаться к формату А4 (например, 4х5 или 3х4 клетки стандартной сетки).<br/><br/><strong>2.4 Комментарии</strong> к точкам маршрута нужно изображать на расстоянии двух клеток слева от точки маршрута, если они относятся к входящему документу, или справа от точки маршрута, если к исходящему документу. Комментарий оформляется в виде фигуры "Скобки вертикальные" или "Скобки горизонтальные" и соединяется с левой или правой гранью точки маршрута пунктирной линией без стрелки: <br/><img height="261" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100480.files/sheme3.jpg?_=0000294E2F693025-v2" style="aspect-ratio:302/261" width="302"/></p>
<p><br/><strong>2.5</strong> <strong>Точки условного перехода</strong> включают в себя короткий текст вопроса, заканчивающийся знаком вопроса. Вопрос нужно формулировать так, чтобы на него можно было ответить только <strong>Да</strong> или <strong>Нет</strong> (например, <strong>Счет есть?</strong>, <strong>Отгрузка разрешена?</strong>, <strong>ОК?</strong>). Точки условия нужно стремиться сделать как можно более компактными, но не в ущерб наглядности. Это связано с тем, что, точки условия являются точками перехода, а не точками действия, и поэтому для участников бизнес-процесса второстепенны. Соединительные линии точек условия (как входящие, так и исходящие) должны иметь суммарную длину не менее двух клеток для того, чтобы надписи <strong>Да</strong> и <strong>Нет</strong> читались нормально, например:</p>
<p><img height="221" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/100/i8100480.files/sheme4.jpg?_=000037C8D20A2C33-v2" style="aspect-ratio:461/221" width="461"/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100706.htm' target='_blank'>Ссылка на оригинал</a><div id='17_Ограничения на переименование объектов метаданных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на переименование объектов метаданных</h1><div style="clear: right; float: right;">#std706</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Запрещается переименовывать общий модуль и создавать новый с тем же именем. Следует создавать новый общий модуль с новым именем, а код исходного модуля переносить в новый модуль. </p>
<p>В противном случае, при сравнении и объединении с новой конфигурацией поставщика, например, в подписках на события, которые ссылаются на общий модуль, будет установлена связь по имени с новым общим модулем (а не переименованным), где нет требуемых процедур.</p>
<p><a id="2" name="2"></a>2. В некоторых случаях, при изменении структуры метаданных возникает необходимость удалить объект метаданных и создать новый с тем же именем. Например, при «сужении» состава измерений в регистре. В таких случаях следует переименовать устаревший объект метаданных, добавив ему к имени префикс Удалить. </p>
<p>В противном случае, если удалить объект метаданных и создать новый с тем же именем, может возникнуть ошибка при обновлении конфигурации на поддержке. Если в конфигурации на поддержке в устаревший объект вносились изменения с сохранением поддержки (например, в целях переопределения поведения объекта или исправления ошибок), то он не будет удален при объединении конфигураций, и попытка обновления конфигурации базы данных завершится неудачно из-за наличия двух объектов метаданных (старого и нового) с одинаковым именем.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также </em><a href="#12_Удаление устаревших объектов метаданных из конфигурации.htm" target="_top"><em>Удаление устаревших объектов метаданных из конфигурации</em></a></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip" width="100%">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="3" name="3"></a>3. Если в конфигурации возникает необходимость хранить ссылки на объекты метаданных, то рекомендуется придерживаться следующих правил.</p>
<p><a id="3.1" name="3.1"></a>3.1. Если в конфигурации не используется <strong>Библиотека стандартных подсистем</strong> (БСП), то рекомендуется заводить строковые реквизиты (<strong>Строка</strong>, 255) для хранения полных имен объектов метаданных. Например, в справочнике <strong>ШаблоныСообщений</strong> – реквизит <strong>ПолноеИмяТипаПараметраВводаНаОсновании</strong>, в регистре сведений <strong>НастройкиПечатиОбъектов</strong> - измерение <strong>ТипОбъекта</strong> и т.п.</p>
<p>При этом если в конфигурации переименовываются (или удаляются) какие-либо объекты метаданных, то при обновлении информационной базы требуется также предусмотреть соответствующую замену (удаление) всех имен, хранимых в базе. В противном случае, ссылки на имена объектов метаданных станут рассогласованными, что приведет к различным ошибкам в тех подсистемах конфигурации, которые опираются на имена объектов метаданных.</p>
<p><a id="3.2" name="3.2"></a>3.2. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) следует использовать ссылки на справочник <strong>ИдентификаторыОбъектовМетаданных</strong>, который </p>
<ul>
<li>централизованно хранит ссылки на имена объектов метаданных конфигурации, автоматически отслеживает переименования, удаления и добавление объектов метаданных и позволяет избежать массовых операций по замене имен в таблицах; 

<li>а также позволяет сократить размер записей таблиц (ссылка вместо строки длиной 255), что улучшает общую производительность системы.</li></li></ul>
<p>Исключение составляют роли и подсистемы, для которых автоматически не отслеживаются переименования, и для них требуется в явном виде описать переименования. Подробнее см. <a href="https://its.1c.ru/db/bspdoc" target="_top">документацию к БСП</a>. </p>
<p>В противном случае, если не указать переименование ролей и подсистем, то их ссылки в справочнике <strong>ИдентификаторыОбъектовМетаданных</strong> станут рассогласованными (старый элемент справочника будет помечен на удаление, а вместо него будет создан новый), что приведет к различным ошибкам в тех подсистемах конфигурации, которые опираются на данные этого справочника. Например:</p>
<ul>
<li>варианты отчетов, связанные с переименованной подсистемой, исчезнут из панели отчетов; 

<li>дополнительные отчеты и обработки, выведенные пользователями в раздел, связанный с переименованной подсистемой, пропадут из списка; 

<li>переименованные роли, указанные в профилях групп доступа, не будут назначены пользователям.</li></li></li></ul>
<p><a id="3.3" name="3.3"></a>3.3. При этом справочник <strong>ИдентификаторыОбъектовМетаданных</strong> не предназначен для хранения ссылок на объекты метаданных других конфигурации (например, в механизмах интеграции с другими системами). Для этих целей рекомендуется использовать строковые реквизиты и реализовывать специальные механизмы по поддержанию актуальности их значений.</p>
<p><a id="3.4" name="3.4"></a>3.4. В случаях, когда ведется две и более параллельных «веток» разработки, например, выпускаются версии 2.0 и 3.0 (или организован выпуск исправительных релизов параллельно с выпуском новых функциональных релизов) нужно учесть следующее: в текущей и младших версиях конфигурации запрещается переименование с последующим созданием нового объекта метаданных с тем же полным именем, а также двойное переименование. Правильно выполнять такие переименования только в самой последней версии – 3.0.</p>
<p>В противном случае, при переходе с младшей версии на старшую версию это переименование будет учтено дважды, что приведет к рассогласованию ссылок на объекты метаданных.</p>
<p>При использовании ссылок на справочник <strong>ИдентификаторыОбъектовМетаданных</strong> Библиотеки стандартных подсистем, такой запрет действует только для ролей и подсистем.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Подробнее см. </em><a href="https://its.1c.ru/db/bspdoc" target="_top"><em>документацию к БСП</em></a></p></blockquote></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100731.htm' target='_blank'>Ссылка на оригинал</a><div id='18_Требования к установке и обновлению прикладных решений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Требования к установке и обновлению прикладных решений</h1><div style="clear: right; float: right;">#std731</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Подготовка дистрибутивов установки и обновления прикладных решений (конфигураций) системы 1С:Предприятие 8 должна выполняться в соответствии с рекомендациями, изложенными в <a href="https://its.1c.ru/db/v83doc/content/88/hdoc" target="_top">главе 30 «Поставка и поддержка конфигурации»</a> Руководства разработчика из комплекта документации к программным продуктам системы 1С:Предприятие 8.</p>
<p><a id="2" name="2"></a>2. Исходя из данных требований, полный путь к каталогу поставляемых разработчиком шаблонов конфигурации (информационных баз), в общем случае, имеет вид:</p>
<p class="Programtext">&lt;Каталог шаблонов&gt;\&lt;каталог разработчика&gt;\&lt;каталог конфигурации&gt;\&lt;каталог версии&gt;</p>
<p>При этом в каталоге версии вместо точек должны использоваться подчеркивания.<br/>Например, версия 11.1.3.6 конфигурации «Управление торговлей», редакция 11.1, будет устанавливаться в каталог:</p>
<p class="Programtext">&lt;Каталог шаблонов&gt;\1C\Trade\11_1_3_6\</p>
<p><a id="3" name="3"></a>3. В каталоге версии должен быть расположен файл-манифест 1cv8.mft, в котором описываются установленные шаблоны конфигурации (.cf) и демонстрационные информационные базы (.dt).<br/>Например, файл-манифест конфигурации «Управление торговлей», редакция 11.1, при установке которой устанавливаются 2 шаблона информационных баз - пустой (рабочей) и демонстрационной базы.</p>
<p class="Programtext">Vendor=Фирма "1С"<br/>Name=УправлениеТорговлей<br/>Version=11.1.3.6<br/>AppVersion=8.3<br/>[Config1]<br/>Catalog=1С:Управление торговлей/Управление торговлей<br/>Destination=1C\Trade<br/>Source=1cv8.cf<br/>[Config2]<br/>Catalog=1С:Управление торговлей/Управление торговлей (демо)<br/>Destination=1C\DemoTrd<br/>Source=1Cv8.dt</p>
<p><a id="4.1" name="4.1"></a>4.1. В целях исключения совпадения названий конфигураций и возможных в таком случае коллизий при отображении шаблонов информационных баз в диалоге создания ИБ, рекомендуется.</p>
<ul>
<li>
<div>В строке <strong>Catalog</strong> файла-манифеста, в наименование шаблона конфигурации (часть значения до символа «/») следует включать в явном виде название разработчика. Название разработчика может присутствовать в любом месте наименования шаблона конфигурации, например: <br/><strong>1С:Управление торговлей <br/></strong>или <br/><strong>Управление торговлей (1С)</strong></div>
<li>
<div>В строке <strong>Destination</strong> рекомендуемый каталог создания информационной базы следует указывать в виде:</div></li></li></ul>
<p class="Programtext">Destination = &lt;каталог разработчика&gt;\&lt;каталог информационной базы&gt;</p>
<p><em>&lt;каталог разработчика&gt;</em> должен содержать название разработчика, но в этом случае - адаптированное для использования в именах файловых каталогов. <br/>Например: 1C\Trade</p>
<p><a id="4.2" name="4.2"></a>4.2. Для исключения повторений названия разработчиков – поставщиков прикладных решений (конфигураций) должны быть глобально уникальными: название для использования в наименованиях шаблонов конфигураций и название для использования в именах файловых каталогов.</p>
<p>Название разработчика выбирается один раз и в дальнейшем может использоваться разработчиком при установке и регистрации шаблонов всех разработанных им прикладных решений для системы программ 1С:Предприятие 8.</p>
<p><a id="5" name="5"></a>5. Для обновления версий прикладных решений (конфигураций) выпускаются отдельные дистрибутивы обновлений, которые включают в себя файл обновления конфигурации (.cfu). </p>
<p>Основным рекомендуемым способом обновления с помощью конфигуратора является поиск подходящих файлов обновления (меню <strong>Конфигурация – Поддержка – Обновить конфигурацию</strong>). Кроме того, в конфигурациях могут быть предусмотрены и другие средства для обновления версий. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) такая возможность предусмотрена в подсистеме «Обновление конфигурации».<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/100/i8100759.htm' target='_blank'>Ссылка на оригинал</a><div id='19_Несущественные предупреждения проверки конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Несущественные предупреждения проверки конфигурации</h1><div style="clear: right; float: right;">#std759</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Следующие предупреждения проверки конфигурации (конфигуратор – меню <strong>Конфигурация</strong> – <strong>Проверка конфигурации…</strong>) не являются существенными для работоспособности прикладных решений и поэтому не подлежат обязательному исправлению:</p>
<ul>
<li>Пустой обработчик (для обработчиков оповещений в программных модулях); 

<li>Неразрешимые ссылки на объекты метаданных (в формах и в справке); 

<li>Неразрешимые ссылки на картинки (в формах); 

<li>Неправильные пути к данным (в формах).</li></li></li></li></ul>
<p>Кроме того методика поиска и исправления подобных мест отсутствует. </p>
<p><a id="2" name="2"></a>2. При регламентной проверке конфигурации не следует включать флажок <strong>Поиск использования синхронных вызовов</strong>, так как в результатах проверки выводятся, в том числе, корректные места вызовов в коде, который не исполняется в веб-клиенте (например, серверный код). См. также: <a href="#05_Ограничение на использование модальных окон и синхронных вызовов.htm" target="_top">Ограничение на использование модальных окон и синхронных вызовов</a>.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a><br/></li></ul>
<p> </p></body><hr>
<h1 id='02_Учет версий конфигураций'>Учет версий конфигураций</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/200/i8100484.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие сведения о выпуске конфигураций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие сведения о выпуске конфигураций</h1><div style="clear: right; float: right;">#std484</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Конфигурации выпускаются версиями и редакциями. </p>
<p><a id="2" name="2"></a>2.<strong> Версия</strong> - исправление текущих ошибок и внесение незначительных усовершенствований. Выпуск новой версии должен обеспечивать переход с предыдущей с сохранением данных. </p>
<p><a id="3" name="3"></a>3. <strong>Редакция</strong> - внесение существенных изменений в структуру учета, требующих преобразования данных. Формальным, но не обязательным, признаком новой редакции является необходимость переноса данных путем конвертации. При выпуске новой редакции желательно обеспечивать переход с сохранением данных. Если по каким либо причинам это невозможно, необходимо описать процедуру перехода на новую редакцию (начало работы, перенос начальных остатков и т.д.). <br/></p>
<h2>См. также</h2>
<ul>
<li><a href="#02_Нумерация редакций и версий.htm" target="_top">Нумерация редакций и версий</a></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/200/i8100483.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Нумерация редакций и версий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Нумерация редакций и версий</h1><div style="clear: right; float: right;">#std483</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Номер очередной редакции конфигурации, начинается со следующего целого номера относительно предыдущей редакции. Для обозначения редакции обычно номер редакции объединяют через точку с номером подредакции, например: редакция 1.5, редакция 1.6 и т. д. Для новых конфигураций нумерация начинается с 1.0. <br/><br/>2. Все версии одной подредакции (включая альфа, ознакомительные, бета и финальные версии) нумеруются подряд. Нумерация версий начинается с 1. <br/><br/>3. Информация о номере редакции, номере подредакции и номере версии объединяются в полный номер версии конфигурации. Он указывается в свойстве <strong>Версия</strong> конфигурации и представляет собой строку символов следующего вида: <br/><br/>{Р|РР}.{П|ПП}.{З|ЗЗ}.{С|СС} <br/><br/>где: <br/>Р - номер редакции (минимум 1 цифра, может занимать и больше разрядов); <br/>П - номер подредакции (минимум 1 цифра, может занимать и больше разрядов); <br/>З - номер версии (минимум 1 цифра, может занимать и больше разрядов); <br/>С - номер сборки (минимум 1 цифра, может занимать и больше разрядов). <br/><br/>Пример:</p>
<dl>
<dd>1.6.4.7 – 7-я сборка, 4-ой версии, редакции 1.6 </dd></dl></font>
<h2>См. также</h2><font face="Verdana" size="2">
<ul>
<li><a href="#01_Общие сведения о выпуске конфигураций.htm" target="_top">Общие сведения о выпуске конфигураций</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/200/i8100482.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Заполнение свойств конфигурации информацией о выпуске.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Заполнение свойств конфигурации информацией о выпуске</h1><div style="clear: right; float: right;">#std482</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">1. <strong>Синоним</strong>. В синониме указывается официальное название конфигурации, которое будет идентифицировать конфигурацию в документации, на коробке с продуктом, прайс-листе, рекламе, в информационных и методических материалах. В конце официального названия через запятую указывается слово "редакция" и номер редакции. </font></p>
<p><font size="2">Например: "Бухгалтерия предприятия, редакция 1.6"</font> </p>
<p><a id="2" name="2"></a>2. <strong>Имя</strong>. <font face="Verdana" size="2">Имя образуется по правилам образования имен из синонима; слово "редакция", номер редакции (и подредакции) – не указываются. </font></p>
<p><font face="Verdana" size="2">Например: "БухгалтерияПредприятия"</font></p>
<p><a id="3" name="3"></a>3. <strong>Краткая информация</strong>. <font face="Verdana" size="2">Краткая информация повторяет синоним.</font></p>
<p><a id="4" name="4"></a>4. <strong>Подробная информация</strong>. <font face="Verdana" size="2">Подробная информация повторяет синоним.</font></p>
<p><a id="5" name="5"></a>5. <strong>Логотип</strong>. <font size="2">Для типовых конфигураций фирмы "1С" к<font face="Verdana">артинка логотипа не заполняется.</font></font></p>
<p><a id="6" name="6"></a>6. <strong>Заставка</strong>. <font face="Verdana" size="2">В качестве заставки устанавливается картинка одного из типов, поддерживаемых системой 1С:Предприятие. Требования к размеру картинки см. в <a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000002041" target="_top">документации</a>.</font></p>
<p><a id="7" name="7"></a>7. <strong>Авторские права</strong>. <font face="Verdana" size="2">Указывается строка вида:</font></p>
<p><font face="Verdana"><font size="2">Copyright (C) &lt;разработчик&gt;, хххх-хххх. Все права защищены.</font></font></p>
<p><font face="Verdana"><font size="2">Для конфигураций на английском языке: Copyright (C) &lt;разработчик&gt;, хххх-хххх. All rights reserved.</font></font></p>
<p><font size="2">Вместо "хххх-хххх" указываются конкретные годы выпуска конфигурации.</font></p>
<p><font size="2">Например: Copyright (C) ООО "1С-Софт", 2009-2016. Все права защищены</font></p>
<p><a id="8" name="8"></a>8. <strong>Адрес информации о поставщике</strong>. <font face="Verdana" size="2">Для типовых конфигураций фирмы "1С" указывается строка: <br/><a href="http://www.1c.ru" target="_blank">http://www.1c.ru</a></font></p>
<p><a id="9" name="9"></a>9. <strong>Адрес информации о конфигурации</strong>. <font face="Verdana" size="2">Для типовых конфигураций фирмы "1С" указывается строка:</font></p>
<p><font face="Verdana" size="2"><a href="http://v8.1c.ru/&lt;короткое имя&gt;/" target="_blank">http://v8.1c.ru/&lt;короткое имя&gt;/</a>,</font></p>
<p><font face="Verdana" size="2">где вместо <em>&lt;короткое имя&gt;</em> указывается англоязычное короткое имя конкретной конфигурации, </font><font face="Verdana" size="2">например: </font></p>
<p><font face="Verdana" size="2"><a href="http://v8.1c.ru/trade/" target="_blank">http://v8.1c.ru/trade/</a> </font></p>
<p><a id="10" name="10"></a>10. <strong>Поставщик</strong>. <font face="Verdana" size="2">Для типовых конфигураций фирмы "1С"  в качестве поставщика указывается: </font></p>
<p><font face="Verdana" size="2">Фирма "1С"</font></p>
<p><a id="11" name="11"></a>11. <strong>Версия</strong>. <font face="Verdana" size="2">Указывается полный номер версии конфигурации. </font><font face="Verdana" size="2">Например, 1.6.4.7 </font></p>
<p>Подробнее об образовании номера версии см. раздел <a href="#02_Нумерация редакций и версий.htm" target="_top">Нумерация редакций и версий</a>.</p>
<p><a id="12" name="12"></a>12. <strong>Адрес каталога обновлений</strong>. <font face="Verdana" size="2">Для типовых конфигураций фирмы "1С" указывается строка: </font></p>
<p><font face="Verdana" size="2"><a href="http://downloads.v8.1c.ru/tmplts/" target="_blank">http://downloads.v8.1c.ru/tmplts/</a> <br/></font></p></body><hr>
<h1 id='03_Организация хранения данных'>Организация хранения данных</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100683.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие сведения об организации хранения данных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие сведения об организации хранения данных</h1><div style="clear: right; float: right;">#std683</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table width="100%">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p></td></tr></tbody></table>
<p><a id="1" name="1"></a>1. При проектировании системы одной из задач является выбор типов объектов метаданых для реализации хранения соответствующих сущностей предметной области. Неправильный выбор типов объектов ведет к неэффективности прикладного решения, невозможности его последующего развития и делает невозможным адаптацию к возможным изменениям состава решаемых задач.</p>
<p><a id="2" name="2"></a>2. При выборе типа объектов метаданных в общем случае следует руководствоваться следующей схемой прикладного решения:</p>
<p><img height="604" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/300/i8100683.files/datastorage.jpg?_=000095C72CEA9A65-v2" style="aspect-ratio:650/604" width="650"/><script type="text/javascript">forceDocumentLayout()</script></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>* Стрелки на схеме обозначают взаимосвязи между данными (взаимные ссылки).</em></p></blockquote>
<p>На схеме выделяются следующие блоки:</p>
<p><a id="1" name="1"></a>1. <strong>Условно-постоянная информация</strong>. К этой части относится информация, которая вводится один раз, сравнительно редко изменяется и многократно используется. Примером такой информации могут служить различные классификаторы, настройки, перечни, реестры, нормативно-справочная информация и т.п.</p>
<p><a id="2" name="2"></a>2. Различные <strong>события процессов предметной области</strong>, которые привязаны ко времени и могут порождать при регистрации различные сведения, изменять значения показателей. Пример – документооборот предприятия, ведение учета; регистрация заявок, звонков и т. п.</p>
<p><a id="3" name="3"></a>3. <strong>Накопленные сведения, значения показателей</strong>, которые характеризуют процессы и текущее состояние прикладной области. В отличие от первых двух частей, эти данные имеют необъектную природу и не являются самостоятельными сущностями с точки зрения прикладной области. Пример – история продаж товара, остатки на складах, текущий бухгалтерский баланс, история изменения курсов валют и т.п.</p>
<p>Отдельно выделяются средства для анализа и обработки данных, отчеты, механизмы, которые опираются на данные всех остальных блоков, но сами данных не содержат.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Подробнее о задачах и принципах хранении информации см. в книге «</em><a href="https://buh.ru/books/detail.php?ID=42696" target="_blank"><em>Профессиональная разработка в системе 1С Предприятие 8</em></a><em>» глава 6.</em></p></blockquote>
<p><a id="2.1" name="2.1"></a>2.1. Таким образом, упрощенно, для каждой сущности предметной области необходимо выбрать соответствующий блок по следующей схеме:</p>
<ul>
<li>
<div>Если необходимо хранить сравнительно редко изменяющуюся информацию, не привязанную ко времени, то это блок условно постоянной информации (1).</div>
<li>
<div>Если необходимо регистрировать события, требующие документально подтверждения с отслеживанием последовательности событий на временной оси, то это блок событий процессов предметной области (2).</div>
<li>
<div>В противном случае сущность должна относиться к блоку сведений и значений показателей (3).</div></li></li></li></ul>
<p>Более подробные критерии выбора того или иного блока:<br/></p>
<p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td><strong>Критерий / <br/>блок</strong></td>
<td><strong>Условно-постоянная<br/>информация</strong></td>
<td><strong>События процессов<br/>предметной области</strong></td>
<td><strong>Накопленные сведения,<br/>значения показателей</strong></td></tr>
<tr>
<td>Основное предназначение</td>
<td>Необходимо хранить нормативно-справочную информацию, реестры</td>
<td>Необходимо регистрировать события процессов, обеспечивать документальное подтверждение сведениям</td>
<td>Необходимо хранить данные, которые характеризуют процессы и текущее состояние прикладной области</td></tr>
<tr>
<td>Отслеживание изменения состояния</td>
<td>Не требуется</td>
<td>Требуется регистрация документа к учету, отмена регистрации учета документа, учет запусков или окончаний процесса, изменения состояния задач, формирование движений</td>
<td>Не требуется</td></tr>
<tr>
<td>Иерархия, группировка данных</td>
<td>Требуется иерархия и группировка, возможно между разными сущностями</td>
<td>Не требуется</td>
<td>Не требуется</td></tr>
<tr>
<td>Ключевые свойства</td>
<td>Необходимо иметь наименование, код</td>
<td>Необходимо учитывать дату события, его номер</td>
<td>Не требуется</td></tr>
<tr>
<td>Хранение значений дополнительных реквизитов сущности</td>
<td>Необходимо хранить редко изменяемые реквизиты произвольных данных</td>
<td>Необходимо хранить ссылки на другие объекты и значения параметров, характеризующие событие</td>
<td>Необходимо хранить только значения реквизитов для других объектов базы</td></tr>
<tr>
<td>Нумерация</td>
<td>Необходимы серии кодов по всем элементам данного типа или в пределах иерархии</td>
<td>Необходимы серии номеров по всем элементам данного типа или в пределах периода по дате, сквозная нумерация объектов разных типов</td>
<td>Не требуется</td></tr></tbody></table></p>
<p><a id="2.2" name="2.2"></a>2.2. Затем, необходимо принять решение о конкретном виде типа объекта метаданных внутри выбранного блока:</p>
<p><a id="2.2.1" name="2.2.1"></a>2.2.1. Для хранения условно-постоянной информации:</p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Если требуется хранение плана счетов для организации учета по <a href="https://its.1c.ru/db/garant/content/10036812/hdoc/1" target="_top">принципам двойной записи</a>, то используется специализированный объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/28/hdoc/01" target="_top">План счетов</a>» <br/>2. Если требуется хранение перечня видов расчета для организации <a href="https://its.1c.ru/db/garant/content/12025268/hdoc/1020" target="_top">учета начислений и удержаний</a>, то используется специализированный объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/28/hdoc/03" target="_top">План видов расчета</a>» <br/>3. Если требуется хранить список характеристик (свойств), причем состав самого списка, тип характеристик, их состав определяются пользователем, то используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/28/hdoc/02" target="_top">План видов характеристик</a>»</p></td></tr></tbody></table>
<p><a id="4" name="4"></a>4. Если требуется хранить одиночное значение, которое редактирует пользователь (как правило, это администратор, выполняющий настройки системы), не требующего ссылок из других данных, то используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/26/hdoc" target="_top">Константа</a>» <br/>5. Если необходимо определить фиксированный список значений не редактируемый пользователем, без каких-либо дополнительных реквизитов, то используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/62/hdoc" target="_top">Перечисление</a>» <br/>6. В остальных случаях, как правило, используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/22/hdoc" target="_top">Справочник</a>»</p>
<p>Более подробные критерии выбора того или иного вида объекта метаданных:<br/></p>
<p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td><strong>Критерий / <br/>тип объекта</strong></td>
<td><strong>Константа</strong></td>
<td><strong>Перечисление</strong></td>
<td><strong>План видов <br/>характеристик *</strong></td>
<td><strong>Справочник</strong></td></tr>
<tr>
<td>Основное предназначение</td>
<td>Необходимо хранение одиночных значений, предопределенных данных</td>
<td>Необходимо хранение списка неизменных представлений без дополнительных их атрибутов</td>
<td>Необходимо хранение списка сущностей и значений характеристик экземпляров сущности</td>
<td>Требуется хранение списка объектов и значений их атрибутов </td></tr>
<tr>
<td>Добавление и редактирование пользователем</td>
<td>Требуется только изменение значения</td>
<td>Не требуется</td>
<td>Требуется добавление, удаление и изменение элементов, редактирование состава и значений характеристик сущности</td>
<td>Требуется добавление, удаление, изменение элементов</td></tr>
<tr>
<td>Иерархия, группировка данных</td>
<td>Не требуется</td>
<td>Не требуется</td>
<td>Требуется в пределах одной сущности</td>
<td>Требуется в пределах одной сущности или между разными сущностями</td></tr>
<tr>
<td>Хранение значений дополнительных реквизитов сущности</td>
<td>Не требуется</td>
<td>Не требуется</td>
<td>Необходимо хранить произвольные данные для атрибутов сущности</td>
<td>Необходимо хранить произвольные данные для атрибутов сущности</td></tr>
<tr>
<td>Хранение списков значений дополнительных реквизитов</td>
<td>Не требуется</td>
<td>Не требуется</td>
<td>Требуется хранение списков наборов значений реквизитов для сущности</td>
<td>Требуется хранение списков наборов значений реквизитов для сущности</td></tr>
<tr>
<td>Возможность ввода на основании других объектов</td>
<td>Не требуется</td>
<td>Не требуется</td>
<td>Необходим ввод новых элементов с использованием информации других объектов</td>
<td>Необходим ввод новых элементов с использованием информации других объектов</td></tr>
<tr>
<td>Нумерация</td>
<td>Не требуется</td>
<td>Не требуется</td>
<td>Необходимы серии кодов по всем элементам одного типа или в пределах группировки</td>
<td>Необходимы серии кодов по всем элементам одного типа или в пределах группировки или подчинения</td></tr></tbody></table></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>* область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="2.2.2" name="2.2.2"></a>2.2.2. Для хранения событий процессов предметной области:</p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Если требуется учет одиночных событий, адресованных некоторому исполнителю (пользователю, сотруднику, группе или роли) не требуется формирование движений по результатам события: то используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/94/hdoc" target="_top">Задача</a>» <br/>2. Если требуется регистрировать в системе возникновение и ход регулярного процесса, состоящего из последовательности действий (событий), то используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/42/hdoc" target="_top">Бизнес-процесс</a>». Для учета событий, действий в рамках процесса используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/94/hdoc" target="_top">Задача</a>»</p></td></tr></tbody></table>
<p><a id="3" name="3"></a>3. В остальных случаях, как правило, используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/23/hdoc" target="_top">Документ</a>»</p>
<p>Более подробные критерии выбора того или иного вида объекта метаданных:<br/></p>
<p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td><strong>Критерий / <br/>тип объекта</strong></td>
<td><strong>Задача *</strong></td>
<td><strong>Бизнес-процесс *<br/>(с задачами)</strong></td>
<td><strong>Документ</strong></td></tr>
<tr>
<td>Основное предназначение</td>
<td>Необходимо вести учет одиночных событий, адресованных некоторым исполнителям</td>
<td>Необходимо вести учет последовательности событий, адресованных некоторым исполнителям</td>
<td>Необходима регистрация событий во времени, генерация вторичных данных, соответствующих этим событиям</td></tr>
<tr>
<td>Вложенность</td>
<td>Не требуется</td>
<td>Требуется учет процессов, вложенных в другие процессы (иерархия задач)</td>
<td>Не требуется</td></tr>
<tr>
<td>Объединение в журналы</td>
<td>Не требуется</td>
<td>Не требуется</td>
<td>Необходимо объединение документов разных видов в одном журнале</td></tr>
<tr>
<td>Состояние объекта</td>
<td>Требуются состояния «новый», «выполнено»</td>
<td>Требуются состояния «новый», «в работе», «завершен»</td>
<td>Требуются состояния «проведен», «не проведен»</td></tr>
<tr>
<td>Нумерация</td>
<td>Необходимы серии номеров по всем задачам данного вида или в пределах периода по дате</td>
<td>Необходимы серии номеров по всем процессам данного вида или в пределах периода по дате, нумерация событий внутри процесса</td>
<td>Необходимы серии номеров для документов разных видов – сквозные, или в пределах периода по дате</td></tr></tbody></table></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>* область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="2.2.3" name="2.2.3"></a>2.2.3. Для хранения накопленных сведений, значений показателей:</p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Если требуется хранение данных учета с использованием <a href="https://its.1c.ru/db/garant/content/10036812/hdoc/1" target="_top">принципа двойной записи</a>, то используется специализированный объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/20/hdoc/04" target="_top">Регистр бухгалтерии</a>» <br/>2. Если требуется хранение результатов расчета <a href="https://its.1c.ru/db/garant/content/12025268/hdoc/1020" target="_top">учета начислений и удержаний</a>, то используется специализированный  объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/20/hdoc/05" target="_top">Регистр расчета</a>»</p></td></tr></tbody></table>
<p><a id="3" name="3"></a>3. Если требуется хранение изменений показателей – приход и расход, получение остатков и оборотов за период, то используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/151/hdoc" target="_top">Регистр накопления</a>».<br/>4. Во всех остальных случаях используется объект метаданных «<a href="https://its.1c.ru/db/v8devgloss/content/152/hdoc" target="_top">Регистр сведений</a>».</p>
<p>Более подробные критерии выбора того или иного вида объекта метаданных:<br/></p>
<p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td><strong>Критерий / <br/>тип объекта</strong></td>
<td><strong>Регистр накоплений</strong></td>
<td><strong>Регистр сведений</strong></td></tr>
<tr>
<td>Основное предназначение</td>
<td>Требуется хранение изменений данных - прихода и расхода значений показателей</td>
<td>Требуется хранение информации в виде наборов записей, регистрация некоторых сведений, значений</td></tr>
<tr>
<td>Получение данных</td>
<td>Требуется получение остатков, оборотов данных</td>
<td>Необходимо получение среза информации на момент времени или текущего значения показателей</td></tr>
<tr>
<td>Подтверждение происхождения данных</td>
<td>Требуется обязательная связь с регистрирующим документом</td>
<td>Связь не обязательна</td></tr></tbody></table></p>
<p></p>
<p><a id="3" name="3"></a>3. Пример выбора типов объектов метаданных. <br/>Пусть некоторая организация занимается периодическим анкетированием. При заполнении анкеты указывается дата анкетирования. В анкете указывается набор вопросов, результатом заполнения анкеты является набор ответов. Сущность «Анкета» привязана к дате, порождает статистику – ответы на вопросы.</p>
<p>Таким образом, имеем:</p>
<ul>
<li>Периодическое событие, привязано к дате, порождает значение параметров. Это - второй блок «события предметной области». 

<li>Далее уточняем внутри блока «событий предметной области»: т.к. анкета формирует вторичные данные - результаты ответов на вопросы, то следовательно, это должен быть документ.<br/></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100541.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Уточнение сущности объекта метаданных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script><font color="#000000" face="Verdana" size="2">
<h1 style="MARGIN: 12pt 0cm 3pt">Уточнение сущности объекта метаданных</h1><div style="clear: right; float: right;">#std541</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p style="MARGIN: 12pt 0cm 3pt">1. При описании структуры прикладного решения следует использовать разные типы объектов метаданных для реализации разных по смыслу сущностей. Например, сущность «организации» описывается справочником <strong>Организации</strong>, а сущность «подразделение» - отдельным справочником <strong>Подразделения</strong>. </p>
<p style="MARGIN: 12pt 0cm 3pt">2. В то же время для уточнения сущности того или иного объекта, у объекта могут быть заведены реквизиты, в зависимости от значения которых меняется его смысловая нагрузка и поведение. Например, в справочнике <strong>Организации</strong> могут одновременно храниться «обычные» организации и обособленные подразделения (т.е. организации, у которых имеется головная организация), а в справочнике <strong>Сотрудники</strong> – принятые на работу и уволенные сотрудники.</p>
<p style="MARGIN: 12pt 0cm 3pt">В этих случаях рекомендуется заводить отдельные реквизиты, которые бы однозначно определяли вид или состояние объекта. Это могут быть реквизиты типа <strong>Булево</strong> или перечисления с видами объекта. Не следует трактовать вид объекта по косвенным признакам, в частности в зависимости от заполнения того или иного реквизита.</p>
<p style="MARGIN: 12pt 0cm 3pt">Например, неправильно</p>
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt">заводить в справочнике <strong>Организации</strong> реквизит <strong>ГоловнаяОрганизация</strong>, в зависимости от заполнения которого прикладная логика трактует вид организации – «обычная» или обособленное подразделение;</div></li></ul>
<p style="MARGIN: 12pt 0cm 3pt">правильно:</p>
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt">помимо реквизита <strong>ГоловнаяОрганизация</strong>, завести в справочнике <strong>Организации</strong> булев реквизит <strong>ОбособленноеПодразделение</strong>, в зависимости от значения которого (<strong>Истина</strong> или <strong>Ложь</strong>) однозначно трактуется вид организации, и в частности необходимость заполнения реквизита <strong>ГоловнаяОрганизация</strong>.</div></li></ul>
<p style="MARGIN: 12pt 0cm 3pt">3. В то же время, если например, у справочника <strong>Сотрудники</strong> имеются реквизиты <strong>ДатаПриема</strong> и <strong>ДатаУвольнения</strong>, то введение пары реквизитов булево типа <strong>ПринятНаРаботу</strong> и <strong>Уволен</strong> не оправдано. Для подобных сущностей с несколькими состояниями целесообразно завести один реквизит типа перечисление со статусами, например: «работает», «уволен», состав которых при необходимости может быть расширен и другими значениями.</p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100474.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Имя, синоним, комментарий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Имя, синоним, комментарий</h1><div style="clear: right; float: right;">#std474</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. <strong>Синоним</strong> объекта должен быть определен так, чтобы осмысленно, лаконично описывать объект. Заполняется обязательно.</p>
<p>Данное требование продиктовано тем, что синонимы непосредственно участвуют в формировании пользовательского интерфейса (отображаются в формах, отчетах, командном интерфейсе и т.д.) и поэтому должны корректно и одинаково во всех местах пользовательского интерфейса идентифицировать ту сущность, к которой они относятся. Помимо объектов метаданных, требование распостраняется также и на реквизиты объектов метаданных, табличные части, реквизиты табличных частей, измерения регистров, ресурсы и другие объекты конфигурации, у которых имеется синоним. </p>
<p><a id="1.2" name="1.2"></a>1.2. Не рекомендуется в синонимах объектов использовать сокращения. Исключением являются только общеупотребительные и соответствующие целевой аудитории сокращения (например, <strong>Сумма (регл.)</strong> ) и аббревиатуры (например, <strong>НДС</strong> или <strong>МСФО</strong>). </p>
<p><a id="1.3" name="1.3"></a>1.3. В синонимах объектов и текстовых сообщениях пользователю должны использоваться общепринятые термины, понятные пользователю. Не должно быть сленга, искажения названий продуктов и компаний; англоязычных фраз, записанных русскими буквами; русскоязычных английскими буквами и т.п. </p>
<p>В частности, если для англоязычного термина нет общепринятого перевода на русский язык, то следует использовать оригинальный англоязычный термин. <br/>Например, неправильно: «Загрузка данных из Эксель», «Загрузка данных из MS Excel»,<br/>правильно: «Загрузка данных из Microsoft Excel».</p>
<p><a id="1.4" name="1.4"></a>1.4. В случае если у объекта метаданных имеются стандартные реквизиты (стандартные табличные части), для них также следует указывать синонимы, исходя из прикладного смысла каждого реквизита. </p>
<p><a id="1.5" name="1.5"></a>1.5. При этом для стандартных реквизитов <strong>Родитель</strong> и <strong>Владелец</strong>, следует всегда указывать синонимы, отличные от синонимов по умолчанию. Например, в конфигурации имеется справочник <strong>Файлы</strong> со стандартным реквизитом <strong>Владелец</strong> типа <strong>СправочникСсылка.ПапкиФайлов</strong>. В этом случае<br/>неправильно</p>
<ul>
<li>оставлять синоним стандартного реквизита <strong>Владелец</strong> по умолчанию: «Владелец»;</li></ul>
<p>правильно</p>
<ul>
<li>вложить в синоним прикладной смысл: «Папка» или «Папка с файлом».</li></ul>
<p>Другой пример. В то время как для стандартного реквизита <strong>Наименование</strong> некоторых справочников может вполне подойти синоним по умолчанию «Наименование», в случае со справочником <strong>Файлы</strong> целесообразнее назначить синоним «Имя файла», а для справочника <strong>ФизическиеЛица</strong> – дать синоним «ФИО».</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#01_Пользовательские представления объектов.htm" target="_top">Пользовательские представления объектов</a>, <a href="#02_Тексты.htm" target="_top">Тексты</a></em></p></blockquote>
<p><a id="1.6" name="1.6"></a>1.6. В случае, когда есть два (или более) объекта метаданных со схожим назначением, необходимо, чтобы синонимы каждого объекта полностью описывали каждый объект. </p>
<p>Например, неправильно давать справочникам следующие синонимы:</p>
<ul>
<li><strong>Банковские счета</strong>, 

<li><strong>Банковские счета контрагентов</strong></li></li></ul>
<p>правильно:</p>
<ul>
<li><strong>Банковские счета организаций</strong>, 

<li>и <strong>Банковские счета контрагентов</strong></li></li></ul>
<p>Следует называть эти объекты явным образом, чтобы пользователь не задавался вопросом: <em>«Если в справочнике <strong>Банковские счета контрагентов</strong> хранится информация о счетах контрагентов, то информация о чьих счетах хранится справочнике <strong>Банковские счета</strong>?»</em></p>
<p>Это требование справедливо и для синонимов подчиненных объектов метаданных (реквизитов, табличных частей, измерений, ресурсов и пр.).<br/>Пример с реквизитами табличной части <strong>«Товары»</strong> документа <strong>«Пересчет товаров»</strong>.<br/>Неправильно:</p>
<ul>
<li><strong>Количество</strong>
<li><strong>Количество (по учету)</strong></li></li></ul>
<p>правильно:</p>
<ul>
<li><strong>Количество (в наличии)</strong>
<li><strong>Количество (по учету)</strong></li></li></ul>
<p>Пример со стандартным реквизитом <strong>Наименование</strong> и еще одним реквизитом справочника <strong>«Номенклатура»</strong>.<br/>Неправильно:</p>
<ul>
<li><strong>Наименование</strong>
<li><strong>Полное наименование</strong></li></li></ul>
<p>правильно:</p>
<ul>
<li><strong>Рабочее наименование</strong>
<li><strong>Наименование для печати</strong></li></li></ul>
<p><a id="2.1" name="2.1"></a>2.1. <strong>Имя</strong> объекта рекомендуется строить на основе синонима: пробелы и пр. недопустимые в имени символы, удаляются, а первые буквы слов делаются прописными. <br/>Например, неправильно:</p>
<ul>
<li>у справочника «Дополнительные свойства» задано имя <strong>НаборыДополнительныхРеквизитовИСведений</strong>; 

<li>у общей команды «Файлы присоединенные» - имя <strong>ПрисоединенныеФайлы</strong>;</li></li></ul>
<p>правильно:</p>
<ul>
<li>у справочника «Наборы дополнительных реквизитов и сведений» задано имя <strong>НаборыДополнительныхРеквизитовИСведений</strong>; 

<li>у общей команды «Присоединенные файлы» - имя <strong>ПрисоединенныеФайлы</strong>. </li></li></ul>
<p>Также допустимы ситуации, когда имя более кратко описывает объект, чем синоним – когда в имени «сокращены» одно или несколько последних «малозначащих» слов из синонима. Например:</p>
<ul>
<li>«Длительность ожидания сервера (сек)» - имя <strong>ДлительностьОжиданияСервера</strong>; 

<li>«Количество единиц измерения» - имя <strong>КоличествоЕдиниц</strong>; 

<li>«Имя реквизита (свойство)» - имя <strong>Обработки.ГрупповоеИзменениеОбъектов.Операции.ИмяРеквизита</strong>. </li></li></li></ul>
<p>Имя также может не включать союзы и предлоги из текста синонима, например: для реквизита «Значение скидки или наценки» имя <strong>ЗначениеСкидкиНаценки</strong>.</p>
<p>А также наоборот, допустимы ситуации, когда синоним более кратко описывает объект, чем имя – когда в синониме «сокращены» одно или несколько последних «технических» слов из имени.</p>
<p>Данное требование продиктовано тем соображением, что объекты конфигурации и их представления в пользовательском интерфейсе должны быть максимально легко узнаваемыми, например, на внедрении, которое проводится не самими разработчиками конфигурации, а силами технических специалистов по внедрению.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#02_Имена объектов метаданных в конфигурациях.htm" target="_top"><em>Дополнительные требования по именам объектов метаданных в конфигурациях</em></a></p></blockquote>
<p><a id="2.2" name="2.2"></a>2.2. Исключение из этого правила составляют <a href="#12_Удаление устаревших объектов метаданных из конфигурации.htm" target="_top">объекты метаданных с префиксом <strong>Удалить</strong></a>. </p>
<p>Также не следует переименовывать объекты метаданных (их реквизиты, формы и пр.) при пересмотре их синонимов, если на эти объекты распространяются требования обеспечения обратной совместимости. В частности, при разработке библиотек необходимо <a href="#07_Обеспечение совместимости библиотек.htm" target="_top">обеспечивать обратную совместимость между различными версиями библиотек в пределах одной редакции библиотеки</a>. </p>
<p><a id="2.3" name="2.3"></a>2.3. Имена объектов метаданных не должны превышать 80 символов. </p>
<p><a id="2.4" name="2.4"></a>2.4. Для подчиненных объектов метаданных, таких как реквизиты, измерения, ресурсы рекомендуется не использовать имена, совпадающие с именами объектов-владельцев. Например, измерение <strong>Пользователь</strong> (типа <strong>СправочникСсылка.Пользователи</strong>) регистра сведений <strong>ИсполнителиЗадач</strong> названо некорректно; правильное название измерения, раскрывающее его смысл: <strong>Исполнитель</strong>.</p>
<p><a id="2.5" name="2.5"></a>2.5. Также рекомендуется не использовать имена, которые применяются при именовании таблиц языка запросов (например, <strong>Документ</strong>, <strong>Справочник</strong>, <strong>РегистрСведений</strong> и т.д.). Такие имена могут приводить к ошибкам при исполнении запроса, затрудняют использование конструктора запроса и снижают наглядность текста запроса. Например, выполнение данного запроса вызывает ошибку:</p>
<p class="Programtext">ВЫБРАТЬ <br/>Сведения.Сведения <br/>ИЗ <br/>РегистрСведений.Сведения КАК Сведения</p>
<p><a id="3.1" name="3.1"></a>3.1. <strong>Комментарий</strong> задается только в тех случаях, когда необходимо дать участнику разработки конфигурации какие-либо пояснения по данному объекту конфигурации. Например, комментарий к реквизиту справочника может быть таким: "Индексирование поставлено для оптимизации отчетов с отбором по виду контрагента", или: "Используется в регламентированном учете".</p>
<p><a id="3.2" name="3.2"></a>3.2. Комментарий начинается с прописной буквы, точки ставятся только после сокращений. <br/><br/>4. В именах, синонимах и комментариях не допускается использовать букву "ё".</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="#01_Пользовательские представления объектов.htm" target="_top">Пользовательские представления объектов</a></div>
<li>
<div><a href="#04_Подсказка и проверка заполнения.htm" target="_top">Подсказка и проверка заполнения</a></div>
<li>
<div><a href="#11_Реквизит _Комментарий_ у документов.htm" target="_top">Реквизит "Комментарий" у документов</a></div></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100478.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Подсказка и проверка заполнения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Подсказка и проверка заполнения</h1><div style="clear: right; float: right;">#std478</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. <strong>Свойство «Подсказка»</strong>. Задается для тех объектов (реквизитов объектов, реквизитов табличных частей, измерений и ресурсов регистров), которые выводятся пользователю в виде элементов интерфейса и которые требуют пояснения, расшифровки и донесения до пользователя подробного описания их назначения. Для реквизитов, используемых в ежедневной работе, подсказки добавлять не следует.</p>
<p>В тексте подсказки не рекомендуется приводить инструкции и объяснять работу реквизита, вместо этого следует оптимизировать сценарии работы, с ним связанные. </p>
<p>При этом бессмысленные подсказки, автоматические генерируемые конфигуратором при создании элементов управления (групп) на формах, нужно не забывать очищать. Например, «Группа шапка» и пр.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><em><a href="#02_Подсказки на форме.htm" target="_top">Подсказки на форме</a>, <a href="#04_Подсказки для интерфейсных подсистем.htm" target="_top">Подсказки для интерфейсных подсистем</a>, <a href="#02_Тексты.htm" target="_top">Тексты</a></em> </p></blockquote></td></tr></tbody></table></font>
<p dir="ltr" style="MARGIN-RIGHT: 0px">2.1. <strong>Свойство «Проверка заполнения».</strong> Для всех типизированных объектов метаданных, а также для стандартных реквизитов и табличных частей, которые в соответствии с логикой объекта являются обязательными к заполнению, свойство "Проверка заполнения" должно быть установлено в "Выдавать ошибку".<br/><br/>В ряде случаев проведение документа с незаполненными реквизитами и табличными частями не имеет смысла с точки зрения отражения документа в учете. Например, документ <strong>Заказ клиента</strong> является запросом клиента на поставку определенного количества товара. Из определения понятно, что методически заказ с незаполненным клиентом и незаполненной табличной частью <strong>Товары</strong> не имеет смысла, поэтому у реквизита <strong>Клиент</strong> и табличной части <strong>Товары</strong> свойство "Проверка заполнения" должно быть установлено в "Выдавать ошибку".</p>
<p><a id="2.2" name="2.2"></a>2.2. При установке свойства «Проверка заполнения» следует исходить из того, что все ограничения и проверки должны быть (насколько это возможно полно) описаны в метаданных конфигурации. Поэтому если хотя бы один из сценариев работы с объектом требует обязательного заполнения реквизита, то свойство «Проверка заполнения» устанавливается в «Выдавать ошибку». Если в других сценариях работы заполнять реквизит не обязательно, то такие случаи должны быть предусмотрены в <a href="#05_Обработчик события ОбработкаПроверкиЗаполнения.htm" target="_top">обработчике события модуля объекта <strong>ОбработкаПроверкиЗаполнения</strong></a>. </p>
<p>При этом не следует придерживаться обратной схемы, когда свойство «Проверка заполнения» установлено в «Не проверять», а в обработчике <strong>ОбработкаПроверкиЗаполнения</strong> дописаны какие-либо проверки заполнения. Такая схема затрудняет анализ логики работы конфигурации.</p>
<p><a id="2.3" name="2.3"></a>2.3. Если проверка заполнения реквизита зависит от тех или иных условий, рекомендуется управлять автопометкой незаполненного значения с помощью условного оформления форм объектов. Убирать ее в случае, если при данном состоянии объекта заполнение реквизита проверять не требуется.</p>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#03_Имя, синоним, комментарий.htm" target="_top">Имя, синоним, комментарий</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100473.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Использование кодов (номеров) объектов конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование кодов (номеров) объектов конфигурации</h1><div style="clear: right; float: right;">#std473</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>Длины кодов (номеров) объектов конфигурации задаются в зависимости от их прикладного смысла. </p>
<ol>
<li>Необходимость применения кодов (номеров) объектов конфигурации определяется из их прикладного смысла. Основания для применения кодов (номеров):  

<p><a id="1.1" name="1.1"></a>1.1. Пользователям предстоит работать со списками, содержащими большое количество элементов. <br/>Пример: справочник <strong>Номенклатура</strong>.</p>
<p><a id="1.2" name="1.2"></a>1.2. Искать данные по коду (номеру) удобнее, чем по другим свойствам. <br/>Например, справочник <strong>Статьи расходов</strong>. Пользователю проще запомнить код, чем каждый раз вчитываться в название статьи. Кроме того, названия статей могут меняться.</p>
<p><a id="1.3" name="1.3"></a>1.3. Код имеет прикладной смысл, продиктованный спецификой автоматизируемой области. <br/>Например, код справочника <strong>Единицы измерения</strong> соответствует коду единицы измерения в ОКЕИ, код справочника <strong>Номера ГТД</strong> соответствует номеру грузовой таможенной декларации и т.д.</p><br/>
<li>Необходимость применения автонумерации объектов конфигурации отсутствует в следующих случаях: 

<p><a id="2.1" name="2.1"></a>2.1. Код используется как краткое представление элемента данных в виде строки. <br/>Например, для справочника <strong>Пользователи</strong> автонумерация не применяется, т.к. в коде хранится краткое имя пользователя (логин).</p>
<p><a id="2.2" name="2.2"></a>2.2. Код (номер) получается из внешних источников (т.н. входящие данные). <br/>Например, это все классификаторы. <br/>Другой пример - справочник <strong>Номера ГТД</strong>, код которого вводится исходя из данных входящих документов.</p><br/>
<li>Длина кода (номера) устанавливается в зависимости от его прикладного назначения и метода получения (ввода): 

<p><a id="3.1" name="3.1"></a>3.1. Для объектов с автонумерацией длина кода (номера) выбирается, исходя из потенциального количества всех объектов, хранимых в базе данных; <br/>объектов, относящихся к определенному периоду (для документов и бизнес-процессов); <br/>или объектов, относящихся к определенному владельцу (иерархические и подчиненные справочники, задачи). <br/>При этом в длине номера необходимо учитывать длину префиксов нумерации, например, префикс информационной базы, префикс организации, если это предусмотрено конфигурацией и т.п.</p>
<p>При разработке типовых конфигураций рекомендуемыми, но не обязательными к применению являются длины кодов (номеров) из следующего ряда: 3, 5, 9, 11. При этом в длине номера необходимо учитывать длину префиксов нумерации, например, префикс информационной базы, префикс организации, если это предусмотрено конфигурацией и т.п.</p>
<p>Если в конфигурации используется подсистема <strong>Префиксация объектов</strong> из <strong>Библиотеки стандартных подсистем</strong>, то совокупную длину (с учетом префикса) номеров документов и кодов справочников рекомендуется устанавливать не менее 11 символов (11, 13, 15, …). Подробнее см. <a href="https://its.1c.ru/db/bspdoc" target="_top">документацию к подсистеме "Префиксация объектов" на ИТС</a>.</p>
<p><a id="3.2" name="3.2"></a>3.2. Для объектов, в которых код используется как краткое представление элемента данных в виде строки (см. п. 2.1) длина кода устанавливается достаточной для хранения краткого строкового представления объектов исходя из прикладного смысла кода.</p>
<p><a id="3.3" name="3.3"></a>3.3. Для объектов, в которых код (номер) получается из внешних источников (см. п. 2.2), длина кода (номера) зависит от этого источника.</p>
<p><a id="3.4" name="3.4"></a>3.4. Рекомендуется устанавливать допустимую длину кода (номера) объектов переменной.</p><br/>
<li>
<p>В случае если прикладное решение рассчитано на работу с данными, которые могут вводиться параллельно из нескольких мест (в рамках РИБ, в других программах), в нем должна быть реализована возможность автоматической префиксации объектов конфигурации, для которых выполняются следующие условия: <br/>- используется строковый код (номер), <br/>- используется автонумерация, <br/>- данные, соответствующие области, в пределах которой коды (номера) должны быть уникальными, могут вводиться параллельно из нескольких мест (узлов РИБ, программ) и впоследствии консолидироваться, например, в результате выполнения синхронизации данных. Пример такой области для большинства видов документов – организация и период. <br/>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> реализовать данное требование позволяет подсистема <strong>Префиксация объектов</strong>.</p>
<ul></ul></li></li></li></li></ol></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100432.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Использование реквизитов строкового типа.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование реквизитов строкового типа</h1><div style="clear: right; float: right;">#std432</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. Для реквизитов строкового типа следует использовать переменную длину строки (свойство <strong>Допустимая длина</strong> = <strong>Переменная</strong>) и при этом указывать максимально допустимую длину строки. Свойство <strong>Допустимая длина</strong> может принимать значение <strong>Фиксированная</strong> только в тех случаях, когда при манипуляции этими данными действительно необходимо иметь гарантию, что строка имеет определенную длину (за счет автоматического дополнения концевыми пробелами).</p>
<p><a id="1.2" name="1.2"></a>1.2. В тех случаях, когда максимальная длина строки заранее известна (например, она регламентирована), следует указывать ее в свойстве <strong>Длина</strong> (или <strong>Длина наименования</strong> для стандартного реквизита <strong>Наименование</strong>). Например, длина строкового реквизита <strong>ИНН</strong> справочника <strong>ФизическиеЛица</strong> должна составлять 12 символов.</p>
<p><a id="1.3" name="1.3"></a>1.3. Если строка является конкатенацией других строк, то ее длина может быть определена как сумма длин исходных строк. Например, длина представления адреса должно равняться сумме длин полей, в которых хранятся части адреса.</p>
<p>1.4 Если длина строки не регламентирована, то рекомендуется выбирать такую длину, которой достаточно для хранения данных в большинстве случаев. Например, для хранения полного наименования контрагента в подавляющем большинстве случаев достаточно 250 символов, максимальная длина имени файла в большинстве файловых систем – 260, полное имя физического лица – 100 и т.п.</p>
<p><a id="2" name="2"></a>2. В отдельных случаях, допускается использование строк неограниченной длины:</p>
<p><a id="2.1" name="2.1"></a>2.1. Предполагается, что в реквизит строкового типа может быть помещен пользовательский текст, объем которого может быть значительным. Как правило, это многострочные поля на форме. Например, в поле <strong>Дополнительное описание</strong> в заказе клиента менеджер может поместить всю историю переписки с клиентом, в <a href="#11_Реквизит _Комментарий_ у документов.htm" target="_top">поле <strong>Комментарий</strong></a> – пользователь может ввести произвольный многострочный текст и т.п. </p>
<p><a id="2.2" name="2.2"></a>2.2. В строковом реквизите хранится различная техническая информация, которая генерируется программами и, чаще всего, не предназначена для чтения пользователем, а используется в различных алгоритмах обработки информации. Например, xml-документы, заголовки почтовых сообщений и т.п.</p>
<p><a id="3" name="3"></a>3. В случае использования строковых реквизитов неограниченной длины следует иметь в виду возникающие при этом ограничения в языке запросов:</p>
<p><a id="3.1" name="3.1"></a>3.1. При необходимости сравнения значений, группировки и получения различных, такие реквизиты необходимо выражать как строку определенной длины, такой, чтобы выражение было вычислено верно.</p>
<p>Для этих целей в запросе рекомендуется использовать конструкцию </p>
<p class="Programtext">ВЫРАЗИТЬ КАК СТРОКА(1000)</p>
<p><a id="3.2" name="3.2"></a>3.2. В отчетах СКД для таких полей следует, вместо этого, задавать параметр <strong>Тип</strong> <strong>значения </strong>поля (на закладке <strong>Наборы данных</strong>).</p>
<p>Следует иметь в виду, что частое приведение неограниченной строки к определенной длине в запросах и отчетах СКД может быть признаком неправильного проектного решения и служить сигналом для пересмотра типа строкового реквизита в пользу ограниченной длины строки. </p>
<p><a id="3.3" name="3.3"></a>3.3. В остальных случаях, урезать строку в запросах не требуется.</p>
<p><a id="4" name="4"></a>4. Если в печатных формах предусмотрено отображение строкового поля, то независимо от того, какая назначена длина строки, необходимо обеспечить вывод таких строк полностью, без обрезания части строки. В противном случае, может быть утеряна значимая часть информации. Например, номер дома и квартиры в поле с адресом доставки товара в печатной форме.</p>
<p class="tip">Для быстрого выявления в конфигурации всех строковых реквизитов неограниченной длины можно воспользоваться приложенной обработкой <strong><a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/СтрокиНеограниченнойДлины/СтрокиНеограниченнойДлины.zip" rel="nofollow" target="_blank">СтрокиНеограниченнойДлины.erf</a></strong><font face="Verdana" size="2"> </font></p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><font face="Verdana" size="2"><a href="#05_Формирование печатных форм.htm" target="_top">Формирование печатных форм</a> </font></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100728.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Ограничения на использование реквизитов составного типа.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на использование реквизитов составного типа</h1><div style="clear: right; float: right;">#std728</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Реквизиты составного типа, используемые в условиях соединений, отборах, а также для упорядочивания, должны содержать только ссылочные типы (<strong>СправочникСсылка.[…]</strong>, <strong>ДокументСсылка.[…]</strong> и пр.). В состав их типов не рекомендуется включать никаких других нессылочных типов, например: <strong>Строка</strong>, <strong>Число</strong>, <strong>Дата</strong>, <strong>УникальныйИдентификатор</strong>, <strong>Булево</strong>, а также <strong>ХранилищеЗначения</strong>.</p>
<p>В противном случае производительность запросов заметно снизится. Это обусловлено особенностями физического хранения реквизитов составных типов в колонках таблиц СУБД. См. <a href="https://its.1c.ru/db/metod81/content/1828/hdoc" target="_top">Особенности хранения составных типов данных</a> (статья на ИТС).</p>
<p><a id="1.2" name="1.2"></a>1.2. В отдельных случаях, для выполнения этой рекомендации можно применить следующий подход. </p>
<p>Например, в документе определен реквизит <strong>Адрес</strong> составного типа, который включает ссылку на справочник <strong>Контакты</strong> и «строку» для возможности ввода в реквизит произвольных строковых значений. Вместо этого, следует предусмотреть отдельный справочник <strong>ПроизвольныеАдреса</strong> и указать его в реквизите <strong>Адрес</strong> вместо строки. При этом добавление новых элементов в справочник <strong>ПроизвольныеАдреса</strong> следует обеспечить автоматически, «незаметно» от пользователя, в момент записи документа. А удаление ненужных элементов справочника <strong>ПроизвольныеАдреса</strong> можно организовать посредством регламентного задания.</p>
<p><a id="1.3" name="1.3"></a>1.3. Исключение могут составлять таблицы, в которых заведомо мало данных (до 1000 записей). </p>
<p><a id="2.1" name="2.1"></a>2.1. Для типизированных объектов метаданных, хранящихся в информационной базе, не следует использовать составные типы <strong>ЛюбаяСсылка</strong>, <strong>СправочникСсылка</strong>, <strong>ДокументСсылка</strong> и аналогичные. Состав типов того или иного типизированного объекта должен определяться явным образом. </p>
<p>Исключение составляют универсальные механизмы (алгоритмы), действительно рассчитанные на работу с произвольными ссылочными объектами.</p>
<p>Распространенные сложности из-за избыточного использования «сильно» составных типов:</p>
<ul>
<li>При обращении «через точку» к реквизиту такого типа без <strong>ВЫРАЗИТЬ</strong>, выполняется неявное соединение со всеми таблицами, входящими в составной тип. Это приводит к существенной деградации производительности. 

<li>Избыточная реструктуризация при удалении ссылочного объекта метаданных (например, значения перечисления или точки маршрута бизнес-процесса, которые также входят в тип <strong>ЛюбаяСсылка</strong>). 

<li>Неоправданно усложняются алгоритмы, которые избыточно должны рассчитывать на широкий набор объектов метаданных тех типов, для которых механизм не требуется в силу прикладной задачи. 

<li>Также усложняется анализ работы механизма для внедренцев и сторонних разработчиков. 

<li>При вводе значений в поля форм неудобно выбирать из очень большого списка типов конфигурации (когда реально нужно, например, 3-5 типов). 

<li>Избыточный анализ и блокировки таблиц при удалении помеченных объектов, когда выполняется поиск ссылок на удаляемый. </li></li></li></li></li></li></ul>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="2.2" name="2.2"></a>2.2. В случае если составной тип массово используется в объектах какой-либо подсистемы или во всей конфигурации, то рекомендуется использовать <a href="#08_Использование определяемых типов.htm" target="_top">определяемые типы</a>.</p>
<p>Исключение могут составлять типы ведущих измерений регистров универсальных (библиотечных) механизмов, рассчитанных на работу с произвольными ссылочными объектами. В этом случае при необходимости сузить состав определяемого типа в конфигурации придется пересоздавать библиотечный регистр, что недопустимо. Поэтому здесь использование составных типов <strong>ЛюбаяСсылка</strong>, <strong>СправочникСсылка</strong>, <strong>ДокументСсылка</strong> и аналогичных оправданно.</p></td></tr></tbody></table>
<h3>См. также:</h3>
<ul>
<li><a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top">Разыменование ссылочных полей составного типа в языке запросов</a><br/></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100603.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Требования к проведению документов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Требования к проведению документов</h1><div style="clear: right; float: right;">#std603</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">1. Документы предназначены для ввода первичной информации, связанной с регистрацией событий, воздействующих на учитываемые в системе показатели. Например, при автоматизации финансово-хозяйственной деятельности предприятия – это учет различных хозяйственных операций; в системах управления производственными процессами – регистрация производственных операций и т. д. </font></p>
<p><font size="2">2.1. Регистрация события в системе (т.е. отражение его в учете) выполняется с помощью проведения документа. Большинство документов должны проводиться (свойство <strong>Проведение</strong> установлено в значение <strong>Разрешить</strong>).</font></p>
<p><font size="2">Логически, непроведенный документ отличается от проведенного тем, что непроведенный документ является «черновиком», не отраженным в учете. Такие документы могут быть сохранены в системе, даже если они не полностью или вообще не заполнены; к ним не применяются никакие проверки и ограничения бизнес-логики (проверки заполнения, дат запрета изменения и т.п.). Данные таких документов не отражаются в учете (не выводятся в отчетах и т. п.)</font></p>
<p><font size="2">В то же время, проведенный документ – это «чистовик», формирование и обработка которого завершены и по поводу которого принято решение, что данный документ должен участвовать в учете.</font></p>
<p><font size="2">2.2. Если жизненный цикл документа состоит из нескольких этапов, которые соответствуют этапам некоторого процесса, то для описания этих этапов у документа могут быть введены дополнительные статусы. Например, документ <strong>Заказ клиента</strong> может иметь статусы: <strong>Не согласован</strong>, <strong>К обеспечению</strong>, <strong>Закрыт</strong>; документ <strong>Расходный кассовый ордер</strong> – сначала зарегистрирован в журнале регистрации кассовых ордеров (<strong>КО-3</strong>), затем подписан главным бухгалтером (руководителем), передан в кассу, затем зарегистрирован в Кассовой книге, подписан главным бухгалтером (руководителем).</font></p>
<p><font size="2">В таких случаях, проведение документа соответствует моменту первичного отражения события в учете, а статусы проведенного документа уточняют, как именно событие отражено в учете. </font></p>
<p><font size="2">Если документ проведен, то при переводе документа между статусами пользователям может быть предложено дозаполнить определенные данные документа, к этим данным могут быть применены определенные проверки и ограничения бизнес-логики, специфичные для каждого этапа. До момента проведения, перевод «черновика» документа по статусам не контролируется системой. </font></p>
<p><font size="2">Примеры поведения документов с многоэтапным отражением в учете: </font></p>
<ul>
<li><font size="2">для проведенного документа <strong>Заказ клиента</strong>:</font>
<ul>
<li><font size="2">при переводе в статус <strong>Не согласован</strong> система контролирует только основные параметры заказа;</font>
<li><font size="2">при переводе в статус <strong>К обеспечению</strong> – обязательно для заполнения поле <strong>Дата отгрузки</strong>, так как логисту необходима информация, к какой дате нужно привезти заказ;</font></li></li></ul>
<li><font size="2">для проведенного документа <strong>Расходный кассовый ордер</strong> перевод в финальный статус <strong>Зарегистрирован в Кассовой книге и подписан главным бухгалтером (руководителем)</strong> означает, что система должна создать бухгалтерские записи, а отчет кассира будет зарегистрирован в журнале-ордере (или другом регистре учета, например, в бюджетных организациях - в журнале операций).</font></li></li></ul>
<p><font size="2">2.3. Исключение из этого правила («большинство документов должны проводиться») составляют</font></p>
<ul>
<li><font size="2">документы, которые не предназначены для отражения событий в учете. С помощью таких документов только регистрируют различные события с привязкой ко времени: например, входящую корреспонденцию, звонки, встречи и т.п.</font>
<li><font size="2">отдельные документы, технология проведения которых сильно отличается от технологических возможностей платформы, но которые должны выглядеть для пользователя так, как будто они проводятся. Например, это документы <strong>Операция (бухгалтерский и налоговый учет)</strong> – для ввода операций вручную, <strong>Регламентная операция</strong> – для выполнения операции закрытия месяца с возможностью ручной корректировки движений и т.п.</font></li></li></ul>
<p><font size="2">Такие документы не проводятся.</font></p>
<p><font size="2">2.4. В случае если пользователь должен выполнять регистрацию события в системе и отражение его в учете за одно действие, необходимо записывать новый документ в режиме проведения.</font></p>
<p><font size="2">При этом недопустимо решать эту задачу другими способами, в частности, с помощью отключения проведения у документа.</font></p>
<p><font size="2">3. При отражении события в учете может возникнуть необходимость сформировать «вторичные» данные, со сложными привязками к моментам времени, периодам и к другим объектам системы. В этом случае следует помещать такие данные в регистры. Формирование движений по регистрам следует выполнять при проведении: автоматически или вручную. </font></p>
<p><font size="2">При автоматическом формировании движений, пользователь вводит информацию о событии в данные документа, а при проведении на основе введенной в документ информации генерируются движения в различные регистры. Например, для бухгалтерских операций происходит формирование проводок.</font></p>
<p><font size="2">При ручном формировании движений, пользователь вводит данные непосредственно в регистры. Такие документы обычно называются ручными операциями. Они могут использоваться для введения начальных остатков, или для ввода хозяйственных операций, которые не были предусмотрены разработчиком конфигурации.</font></p>
<p><font size="2">4. В отдельных случаях, формирование движений может выполняться отдельным документом. Это востребовано в случае схожей обработки разных видов документов, групповой обработки или реализации сложных бизнес-процессов, требующих явного разделения функций исполнителей. Тогда разные стадии отражения событий в учете реализуются не переходом по статусам у одного документа, а разными документами, которые вводятся на основании друг друга. В этой цепочке только определенные документы при проведении формируют движения.</font></p>
<p><font size="2">Например, рассмотрим ситуацию, когда платежное поручение формируется в финансовом отделе, и при этом бухгалтер при проведении не должен изменять первичный документ. В этом случае, документ <strong>Платежное поручение</strong> не делает движений, а движения по платежному поручению формируются отдельным документом <strong>Списание с расчетного счета</strong>, который специально предназначен для автоматизированного формирования движений.</font></p>
<p><font size="2">5. Непроведенные и помеченные на удаление документы не должны иметь <a href="#09_Использование активности движений.htm" target="_top">активных движений</a>. </font></p>
<p><font size="2">6. Даже если документ не формирует движений, он должен проводиться, чтобы логически отличаться от «черновика».  </font></p>
<p><font size="2">7.1.1. В случае, если в документе не менялись данные, влияющие на проведение (например, изменили только значение реквизита <strong>Комментарий</strong>) проведение проведенного ранее документа, не должно приводить к изменению его движений.</font></p>
<p><font size="2">Исключением из этого правила могут быть случаи, когда движения по регистру полностью или частично формируют внешние по отношению к документу алгоритмы (см. п.4).</font></p>
<p><font size="2">7.1.2. При разработке алгоритмов формирования движений нужно стремиться избегать решений, когда результат формирования движений зависит от состояния учетных регистров, например, от остатков, т.к. в этом случае результат проведения будет зависеть от последовательности ввода документов.<br/>Исключением из этого правила могут быть отдельные, обоснованные случаи, когда сама суть алгоритма заключается в анализе последовательности, как, например, в алгоритмах реализующих партионный учет.</font></p>
<p><font size="2">7.2. Для реализации поведения, описанного в п. 7.1, документы при формировании движений должны по максимуму опираться на данные, которые хранятся в этом документе. Данные, которые в документе не сохраняются, должны быть защищены от изменения. Это достигается реализацией следующего комплекса мер.</font></p>
<p><font size="2">7.2.1. Если поддерживается изменение пользователем внешних, по отношению к документу, данных (например, реквизитов НСИ), влияющих на формирование движений, то значения этих реквизитов должны быть сохранены в документах.</font></p>
<p><font size="2">В противном случае изменение этих данных должно быть заблокировано. В конфигурациях на основе <strong>Библиотеки стандартных подсистем</strong> для этого рекомендуется использовать возможности механизма <strong>Запрет редактирования реквизитов</strong>.</font></p>
<p><font size="2">Исключения из этого правила описаны в п. 7.1.2.</font></p>
<p><font size="2">7.2.2. Нужно стремиться, чтобы настройки программы (например, значения функциональных опций) оказывали наименьшее влияние на формирование движений. Тогда пользователь сможет свободно менять эти настройки.</font></p>
<p><font size="2">Некоторые приемы для достижения такого поведения</font></p>
<ul>
<li><font size="2">указание даты начала действия настройки (периода действия) и учет этой даты в алгоритмах формирования движений;</font>
<li><font size="2">заполнение отключенных по настройкам обязательных полей значениями по умолчанию: тогда пользователь сможет свободно включить настройку, ограничения будут связаны только с отключением такой настройки;</font>
<li><font size="2">формирование движений без учета настройки и дополнительные меры в объектах, которые отображают информацию из учетных регистров. Например, значение измерения регистра накопления всегда пишется одинаково, но отчеты по этому регистру измерение скрывают, если оно отключено.</font></li></li></li></ul>
<p><font size="2">7.2.3 Если все меры по исключению зависимости формирования движений от настроек программы исчерпаны, то необходимо предусмотреть одну из мер:</font></p>
<ul>
<li><font size="2">автоматическая обработка данных, которая запускается в фоне после изменения пользователем настройки. О запуске такой обработки пользователя нужно предупреждать перед редактированием настройки;</font>
<li><font size="2">обработка данных, которая запускается пользователем вручную. Перед редактированием настройки пользователя нужно уведомлять о необходимости запуска обработки. Так же необходимо в интерфейсах, которые могут оперировать данными, подлежащими обработке (например, в отчетах) предупреждать пользователя, о необходимости запуска обработки;</font>
<li><font size="2">если предусмотреть обработку данных не представляется возможным, то при редактировании настройки необходимо предупреждать пользователя о том, что это делать не рекомендуется после начала ведения учета.</font></li></li></li></ul>
<p><font size="2">При этом допустимо поведение, когда реакция программы на включение и отключение настройки будет разной. Например, включение настройки проходит без предупреждения, а отключать ее не рекомендуется.</font></p>
<p><font size="2">7.3. При изменении логики формирования движений для обеспечения выполнения условий п.7.1 необходимо предусмотреть <a href="#09_Обработчики обновления информационной базы (БСП).htm" target="_top">обработчики обновления информационной базы</a> либо поддерживать для существующих на момент обновления документов старые алгоритмы формирования движений.</font></p>
<p><font size="2">8</font><font size="2">. Для большинства событий отражение в учете может быть обратимым. В таком случае, для этого следует использовать механизм отмены проведения документов.</font></p>
<h2>См. также</h2>
<ul>
<li><a href="#02_Имена объектов метаданных в конфигурациях.htm" target="_top">Имена объектов метаданных в конфигурациях</a>
<li><a href="#04_Порядок записи движений документов.htm" target="_top">Порядок записи движений документов</a>
<li><a href="#10_Самодостаточность регистров.htm" target="_top">Самодостаточность регистров</a></li></li></li></ul>
<p><font size="2"><font face="Verdana"> </font></font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100633.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Использование активности движений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование активности движений</h1><div style="clear: right; float: right;">#std633</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">В случае если в конфигурации применяются механизмы, использующие переключение активности движений определенных регистров (например, для ручной корректировки движений), то следует придерживаться следующего подхода.</font></p>
<p><font size="2">1. Активность записей таких регистров должна учитываться во всех запросах и отчетах к ним. Для игнорирования неактивных записей условие выборки из регистра должно содержать дополнительное условие вида:</font></p>
<p class="Programtext"><font size="2">ГДЕ Активность = ИСТИНА</font></p>
<p><font size="2">Если в запросе выбираются записи из виртуальных таблиц, связанных с регистрами, то это условие автоматически учитывается платформой <strong>1С:Предприятие</strong> (виртуальные таблицы регистров содержат только активные записи).</font></p>
<p><font size="2">2. В частности, активность записей регистров должна учитываться в универсальных отчетах (или в любой универсальной бизнес-логике), которые поддерживают работу с произвольными регистрами конфигурации. Среди таких регистров могут оказаться и те, где используется переключение активности движений.</font></p>
<p><font size="2">3. При отмене проведения документов, которые позволяют напрямую редактировать движения в своих регистрах (т.н. ручная корректировка движений), следует отключать активность движений, а не удалять их. </font><font size="2">Пример такого документа: </font><font size="2">«Операция (бухгалтерский и налоговый учет)», в котором имеется возможность «ручного» ввода операций.<br/></font></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#08_Требования к проведению документов.htm" target="_top">Требования к проведению документов</a>
<li><a href="#04_Порядок записи движений документов.htm" target="_top">Порядок записи движений документов</a></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100477.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Самодостаточность регистров.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Самодостаточность регистров</h1><div style="clear: right; float: right;">#std477</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>При разработке структуры регистров необходимо придерживаться правила, что регистр должен быть логически независим от регистраторов. Любая логика, опирающаяся или анализирующая данные регистра, а также любые отчеты по этому регистру не должны обращаться к полям регистратора, им должно быть достаточно данных самого регистра.</p>
<p>Обращение к полям регистратора "через точку" приводит к неявному соединению с дополнительными таблицами. Кроме того, в распределенной информационной базе регистратора может и не быть, если движения в регистрах мигрируют между узлами, а регистраторы - нет.</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top">Разыменование ссылочных полей составного типа в языке запросов</a>
<li><a href="#02_Разработка планов обмена с отборами.htm" target="_top">Разработка планов обмена с отборами</a></li></li></ul>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100531.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Реквизит _Комментарий_ у документов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Реквизит «Комментарий» у документов</h1><div style="clear: right; float: right;">#std531</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. Для всех документов рекомендуется создавать реквизит <strong>Комментарий</strong> (строка неограниченной длины). В этом реквизите пользователи могут записывать по документу различные заметки служебного характера, которые не относятся к прикладной специфике документа (например, причина пометки на удаления и т.п.). Доступ к реквизиту для пользователей должен быть настроен также как и к самому документу (если документ доступен только для чтения, то и комментарий – только для чтения; если же есть право записи документа, то и значение реквизита также можно изменять).</p>
<p><a id="2" name="2"></a>2. Если же штатный сценарий работы пользователя предусматривает внесение произвольной текстовой информации в документ, то для этого необходимо предусмотреть отдельные реквизиты «прикладного» характера. Например, в документе <strong>Заказ клиента</strong> для описания дополнительных договоренностей с клиентом следует предусмотреть реквизит <strong>Дополнительная информация</strong>, а не пользоваться служебным реквизитом <strong>Комментарий</strong>.</p>
<p><a id="3" name="3"></a>3. В простейшем случае, в качестве внешнего редактора текста комментария рекомендуется использовать функцию <strong>ВвестиСтроку</strong>. При использовании в конфигурации Библиотеки стандартных подсистем можно воспользоваться специализированной процедурой <strong>ПоказатьФормуРедактированияКомментария</strong> общего модуля <strong>ОбщегоНазначенияКлиент</strong>.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#07_Поля _Ответственный_ и _Комментарий_.htm" target="_top">Поля "Ответственный" и "Комментарий" (8.2)</a>
<li><a href="#04_Поля _Ответственный_ и _Комментарий_.htm" target="_top">Поля "Ответственный" и "Комментарий" (8.3)</a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100534.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Удаление устаревших объектов метаданных из конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Удаление устаревших объектов метаданных из конфигурации</h1><div style="clear: right; float: right;">#std534</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Если при изменении структуры метаданных конфигурации планируется удалить объект метаданных (реквизит, измерение, ресурс и пр.), связанный с записями информационной базы, то необходимо принять решение об удалении или переносе данных этого объекта в новые структуры. При переносе данных в другие объекты рекомендуется придерживаться следующих правил. </p>
<p><a id="1.1" name="1.1"></a>1.1. Не удалять из конфигурации устаревшие объекты метаданных и реквизиты безвозвратно, а пометить их как устаревшие, добавив к их именам префикс <strong>"Удалить"</strong> (англ.<strong> "Obsolete"</strong>). Например: реквизит <strong>"ОсновнойДоговор" </strong>(англ. <strong>"MainContract"</strong>)  должен быть переименован в <strong>"УдалитьОсновнойДоговор" </strong>(англ. <strong>"ObsoleteMainContract"</strong>). </p>
<p>В синоним устаревшего объекта (реквизита) рекомендуется добавлять префикс <strong>"(не используется)" </strong>(англ. <strong>"(not used)"</strong>), например: <strong>"(не используется) Основной договор" </strong>(англ.<strong> "(not used) Main contract"</strong>). Если же устарел стандартный реквизит, то префикс <strong>"(не используется)"</strong> также добавляется в его синоним. </p>
<p><a id="1.2" name="1.2"></a>1.2. После изменения структуры метаданных следует обеспечить перенос данных из устаревших объектов и реквизитов в новую структуру метаданных конфигурации. </p>
<p><a id="1.3" name="1.3"></a>1.3. Если удаляемый объект метаданных является документом – регистратором движений, а соответствующие регистры с движениями остаются в составе конфигурации, то необходимо обратить внимание на необходимость сохранения движений. Для сохранения движений документов – устаревших объектов метаданных, рекомендуется: </p>
<ul>
<li>Запретить генерацию движений при проведении документов этого вида. 

<li>Запретить снятие пометки удаления для документов этого вида. 

<li>Во всех существующих движениях документов этого вида изменить регистратор на один или несколько замещающих документов-регистраторов: существующих универсальных или специально разработанных. Например <strong>"Перенос данных",</strong> <strong>"Операция".</strong>
<li>Пометить все документы этого вида на удаление. </li></li></li></li></ul>
<p><a id="1.4" name="1.4"></a>1.4. Произвести замену во всей конфигурации обращений к устаревшим объектам и реквизитам на обращение к новым данным, поскольку использование устаревших объектов и их реквизитов после изменения структуры метаданных методически неверно. В частности, исключить устаревшие объекты метаданных из всех ролей (<a href="#01_Настройка ролей и прав доступа.htm" target="_top">кроме ролей <strong>ПолныеПрава</strong> и <strong>АдминистраторСистемы</strong></a>), подписок на события и т.п., а также удалить у них код, формы, макеты, команды и другие элементы, ставшие избыточными.</p>
<p>Исключение составляет только сам код переноса данных из устаревших объектов и реквизитов в новую структуру метаданных конфигурации (см. п.1.2).</p>
<p><a id="1.5" name="1.5"></a>1.5. При сортировке устаревших объектов метаданных и реквизитов в дереве метаданных следует придерживаться общих требований к конфигурации. </p>
<p><a id="1.6" name="1.6"></a>1.6. Также рекомендуется выполнить очистку устаревших данных с тем, чтобы они не влияли на размер базы и не потребляли ресурсы (при резервном копировании, реструктуризации и других операциях). </p>
<p>В случае сложных (ошибкоемких) алгоритмов переноса данных, такую очистку целесообразно проводить не сразу, а через один или несколько релизов. Тем самым, остается возможность выпуска внепланового релиза для устранения последствий некорректной работы алгоритмов переноса.</p>
<p><a id="2" name="2"></a>2. Необходимость в переносе данных также может возникнуть при пересмотре структуры измерений регистров:</p>
<p></p>
<ul>
<li>когда измерение регистра сведений становится не актуальным: удаляется, либо изменяется его тип, либо у измерения составного типа уменьшается состав типов; 

<li>если необходимо снять признак <b>Основной отбор </b>у измерения регистра, который участвует в составе планов обмена (это эквивалентно удалению поля из таблицы базы данных).</li></li></ul>
<p></p>
<p>В этих случаях удаление поля из таблицы базы данных приведет к ошибке при реструктуризации "Записи регистра стали неуникальными". Поэтому следует создать новый регистр с правильной структурой, а старый отметить как устаревший и перенести записи из старого регистра в новый.</p>
<p>При этом создать новый регистр не требуется, если в регистр добавляется новое измерение или у измерения составного типа расширяется состав типов.</p>
<p><a id="3" name="3"></a>3. Безвозвратно удалять устаревшие объекты метаданных и реквизиты, помеченные префиксом <strong>"Удалить" </strong>(англ. <strong>"Obsolete"</strong>), следует при выпуске очередных версий конфигурации в том случае, если соблюдается одно из условий: </p>
<ol>
<li>Переход со "старой" версии конфигурации на новые версии всегда выполняется пользователями последовательно, "через" версию с реализованным переносом данных из "устаревших" объектов метаданных и реквизитов. Например: если в конфигурации версии 1.1 реквизит <strong>"ОсновнойДоговор"</strong> был помечен как устаревший, то переход с версии 1.0 на версию 2.0 всегда выполняется только последовательно: сначала на версию 1.1 (в которой происходит обработка устаревших данных), а затем на 2.0 (в которой устаревшие данные могут быть удалены безвозвратно). Непосредственный переход с версии 1.0 на 2.0 технически невозможен (запрещен). 

<li>Вероятность того, что "старой" версией конфигурации еще пользуются, стала нулевой или пренебрежимо малой. </li></li></ol>
<p>При этом может потребоваться выпустить промежуточный релиз, в котором обеспечить очистку устаревших данных - см. п.1.6. В противном случае, может завершиться ошибкой реструктуризация регистров, в измерениях которых остаются ссылки на устаревшие данные.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100632.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Использование констант.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование констант </h1><div style="clear: right; float: right;">#std632</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>Следует выполнять запись константы вне транзакций, т.к. ее запись может стать «узким» местом при конкурентой работе. <br/>Например, неправильно:</p>
<p class="Programtext">// Увеличиваем счетчик проведенных документов в константе<br/>Процедура ОбработкаПроведения(Отказ, РежимПроведения)<br/>  ТекущееЗначение = Константы.СчетчикПроведенныхДокументов.Получить();<br/>  Константы.СчетчикПроведенныхДокументов.Установить(ТекущееЗначение + 1);<br/>КонецПроцедуры</p>
<p>На время записи значения в константу, работа других сеансов приостанавливается, если в это же время они выполняют запись этой же константы. Подробнее о причинах избыточных блокировок и методах оптимизации см. базу знаний <a href="http://kb.1c.ru" target="_blank">«Технологические вопросы крупных внедрений»</a>.</p>
<p>Вместе с тем, недопустимо решать проблему блокировок констант другими методами, в частности, тотальным кешированием констант в <a href="#05_Использование параметров сеанса.htm" target="_top">параметрах сеанса</a> или в функциях <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">общих модулей с повторным использованием возвращаемых значений</a>.<br/></p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100638.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Работа с неактуальными (недействительными) объектами.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Работа с неактуальными (недействительными) объектами</h1><div style="clear: right; float: right;">#std638</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. Данная рекомендация действует для ситуаций, когда какой-либо объект информационной базы перестает быть актуальным – навсегда или на время (сотрудник увольняется или уходит в декретный отпуск, подразделение расформируется и т.д.). При этом удалять этот объект из базы недопустимо, чтобы не нарушать ссылочную целостность: на него должны ссылаться другие ранее созданные объекты. Например, объект типа <strong>Файл</strong> должен содержать в поле <strong>Автор</strong> ссылку на уволившегося сотрудника и после его увольнения.</p>
<p><a id="2" name="2"></a>2. Для запрета выбора неактуальных объектов с помощью автоподбора и быстрого выбора в полях ввода следует выбрать один из двух подходов к реализации (2.1 или 2.2). Проиллюстрируем их далее на примере пользователей информационной системы, учет которых ведется в справочнике <strong>Пользователи</strong>. </p>
<p>Для учета неактуальных пользователей у справочника <strong>Пользователи</strong> добавлен реквизит <strong>Недействителен</strong> (<strong>Булево</strong>), по умолчанию <strong>Ложь</strong>.</p>
<p><a id="2.1" name="2.1"></a>2.1. Если запрет должен действовать во всех или в большинстве полей ввода форм системы, то он задается по умолчанию.</p>
<p><a id="2.1.1" name="2.1.1"></a>2.1.1. В модуле менеджера справочника <strong>Пользователи</strong> реализуются обработчики <strong>ОбработкаПолученияДанныхВыбора</strong> и <strong>ОбработкаПолученияФормы</strong> для установки параметров отбора. Пример реализации этих обработчиков для справочника <strong>Пользователи</strong>:</p>
<p class="Programtext">Процедура ОбработкаПолученияДанныхВыбора(ДанныеВыбора, Параметры, СтандартнаяОбработка)<br/> Если Не Параметры.Отбор.Свойство("Недействителен") Тогда<br/>  Параметры.Отбор.Вставить("Недействителен", Ложь);<br/> КонецЕсли;<br/>КонецПроцедуры</p>
<p class="Programtext">Процедура ОбработкаПолученияФормы(ВидФормы, Параметры, ВыбраннаяФорма, ДополнительнаяИнформация, СтандартнаяОбработка)<br/> Если ВидФормы = "ФормаВыбора" Тогда <br/>  ПараметрИзменен = Ложь;  <br/>  Если Не Параметры.Свойство("Отбор") Тогда<br/>   Параметры.Вставить("Отбор", Новый Структура("Недействителен", Ложь));<br/>   ПараметрИзменен = Истина;<br/>  ИначеЕсли Не Параметры.Отбор.Свойство("Недействителен") Тогда<br/>   Параметры.Отбор.Вставить("Недействителен", Ложь);<br/>   ПараметрИзменен = Истина;<br/>  КонецЕсли;<br/>  <br/>  // Этот код нужен, чтобы были использованы измененные нами значения параметров<br/>  Если ПараметрИзменен Тогда  <br/>   СтандартнаяОбработка = Ложь;<br/>   ВыбраннаяФорма = "ФормаВыбора"; // передаем имя формы выбора<br/>  КонецЕсли;<br/> КонецЕсли;<br/>КонецПроцедуры</p>
<p><a id="2.1.2" name="2.1.2"></a>2.1.2. Для тех реквизитов, где это поведение нужно изменить (например, нужно выводить всех пользователей или должно работать другое ограничение) следует явно установить свойства <strong>«Параметры выбора»</strong> и <strong>«Связи параметров выбора»</strong> с необходимыми в конкретном контексте значениями выбора:</p>
<ul>
<li>если требуется выбирать недействующих пользователей, указываем в свойстве реквизита <strong>«Параметры выбора»</strong> значение <strong>Отбор.Недействителен(Ложь)</strong>, 

<li>а если не требуется ограничивать выбор вообще, то оба значения - <strong>Истина</strong> и <strong>Ложь</strong>.</li></li></ul>
<p><a id="2.2" name="2.2"></a>2.2. Если запрет на выбор неактуальных объектов сильно зависит от контекста (сценариев работы), то не следует его устанавливать по умолчанию.</p>
<ul>
<li>Модуль менеджера справочника <strong>Пользователи </strong>не реализуется.  

<li>В простейшем случае, во всех объектах, в которых есть реквизиты типа <strong>СправочникСсылка.Пользователи</strong> устанавливаются значения свойств <strong>«Параметры выбора»</strong> и <strong>«Связи параметров выбора»</strong>, как описано выше в пункте 2.1.2. 

<li>В тех случаях, когда критерий ограничения не может быть описан параметрами выбора, то реализуются обработчики формы <strong>ОбработкаПолученияДанныхВыбора</strong>, <strong>ОбработкаВыбора</strong> и <strong>ОкончаниеВводаТекста</strong>, а также разрабатывается отдельная форма выбора, в которой реализуется та же логика ограничения.</li></li></li></ul>
<p><a id="3" name="3"></a>3. В формах списка и выбора пользователей рекомендуется добавить флажок «Показывать недействительных пользователей». С его помощью возможно выбрать или открыть карточку пользователя, а также снова сделать пользователя действительным (например сотрудницу, вернувшуюся из декретного отпуска).</p>
<p><a id="4" name="4"></a>4. Для отображения неактуальных объектов в списках рекомендуется использовать элемент стиля <strong>ТекстЗапрещеннойЯчейкиЦвет</strong> (192,192,192).</p>
<p><img height="453" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/100/300/i8100638.files/users.png?_=00006CF5DF77F234-v2" style="WIDTH: 861px; HEIGHT: 453px" width="453"/><script type="text/javascript">forceDocumentLayout()</script></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/300/i8100697.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Использование предопределенных элементов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование предопределенных элементов</h1><div style="clear: right; float: right;">#std697</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><em>Действует для версии платформы 1С:Предприятие 8.3.3 и выше без режима совместимости с версией 8.2</em></p>
<p><a id="1.1" name="1.1"></a>1.1. В справочниках, планах счетов, планах видов характеристик и планах видов расчета имеется возможность создавать предопределенные элементы автоматически или программно.</p>
<p><a id="1.2" name="1.2"></a>1.2. В большинстве случаев, предопределенные элементы рекомендуется создавать автоматически, поскольку они постоянно нужны и требуется упростить обращение к этим элементам из кода.<br/>Например, предопределенная страна <strong>Россия</strong> в справочнике <strong>Страны мира</strong>, предопределенные профиль групп доступа <strong>Администратор</strong> и т.п.</p>
<p>Для этого</p>
<ul>
<li>в свойстве <strong>ОбновлениеПредопределенныхДанных</strong> справочника, плана счетов, плана видов характеристик или плана видов расчета должно быть установлено значение <strong>Авто</strong> (по умолчанию), а также не следует допускать программных вызовов метода <strong>УстановитьОбновлениеПредопределенныхДанных</strong> этих объектов для переключения этого режима. 

<li>запретить удаление предопределенных элементов пользователями, выключив во всех ролях <a href="#02_Стандартные роли.htm" target="_top">следующие права</a> (по умолчанию выключены): 

<ul>
<li><strong>ИнтерактивноеУдалениеПредопределенныхДанных</strong>
<li><strong>ИнтерактивнаяПометкаУдаленияПредопределенныхДанных</strong>
<li><strong>ИнтерактивноеСнятиеПометкиУдаленияПредопределенныхДанных</strong>
<li><strong>ИнтерактивноеУдалениеПомеченныхПредопределенныхДанных</strong></li></li></li></li></ul></li></li></ul>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.3" name="1.3"></a>1.3. Исключение составляют дочерние узлы РИБ, в котором предопределенные элементы автоматически не создаются (и не обновляются при изменении в метаданных), а должны быть переданы из главного узла вместе с изменениями конфигурации. </p>
<p>При этом:</p>
<p>а) конфигурация должна обеспечивать загрузку сообщения обмена в подчиненный узел РИБ до выполнения другого прикладного кода, который обращается к получаемым из главного узла предопределенным элементам;</p>
<p>б) в прикладной логике загрузки данных из главного узла (обработчик события <strong>ПриПолученииДанныхОтГлавного</strong>, правила регистрации объектов) следует избегать обращений к предопределенным элементам, поскольку нет гарантии, что они уже были загружены из сообщения обмена;</p>
<p>в) код обработчиков обновления ИБ, который обрабатывает предопределенные элементы, не должен выполняться в подчиненных узлах РИБ:</p>
<p class="Programtext">Если ПланыОбмена.ГлавныйУзел() = Неопределено Тогда<br/> // заполняем предопределенные элементы<br/> // ...<br/>КонецЕсли;</p>
<p>При использовании в конфигурации подсистемы "Обмен данными" Библиотеки стандартных подсистем (БСП) версии 2.1.4 и выше требования (а) и (б) снимаются.</p></td></tr></tbody></table>
<p><a id="1.4" name="1.4"></a>1.4. Для таблиц с предопределенными элементами, которые не входят в состав плана обмена РИБ (и на которые не ссылаются другие таблицы, входящие в состав плана обмена РИБ) свойство <strong>ОбновлениеПредопределенныхДанных</strong> необходимо устанавливать в значение <strong>ОбновлятьАвтоматически</strong>. </p>
<p>Значение <strong>Авто</strong> в этом случае не подходит, так как для подчиненного узла <strong>Авто</strong> означает <strong>НеОбновлятьАвтоматически</strong>, то есть предопределенные элементы таблицы автоматически созданы не будут.</p>
<p>При включенном режиме совместимости с версией 8.3.3 также необходимо при первом запуске подчиненного узла РИБ (сразу после того, как была обновлена его конфигурация) устанавливать автоматическое обновление в данных с помощью вызова:</p>
<p class="Programtext">Справочники.&lt;ИмяСправочника&gt;.УстановитьОбновлениеПредопределенныхДанных(ОбновлениеПредопределенныхДанных.ОбновлятьАвтоматически);</p>
<p><a id="2" name="2"></a>2. В некоторых случаях, предопределенные элементы не требуется создавать автоматически, если их наличие зависит от какого-либо условия: включенной функциональной опции, режима работы программы и т.п.</p>
<p>Например, те или иные предопределенные виды расчетов в плане видов расчета <strong>Начисления</strong> зависят от значений функциональных опций <strong>ИспользоватьУчетВремениСотрудниковВЧасах</strong>, <strong>ИспользоватьСдельныйЗаработок</strong> и др.</p>
<p>Для этого</p>
<ul>
<li>в свойстве <strong>ОбновлениеПредопределенныхДанных</strong> справочника, плана счетов, плана видов характеристик или плана видов расчета нужно установить в значение "Не обновлять автоматически" 

<li>предусмотреть код создания (и <a href="#14_Работа с неактуальными (недействительными) объектами.htm" target="_top">пометки недействительным</a>) предопределенного элемента в зависимости от бизнес-логики, например:</li></li></ul>
<p class="Programtext">Если ПолучитьФункциональнуюОпцию("ИспользоватьУчетВремениСотрудниковВЧасах") Тогда<br/> НачислениеОбъект = ПланыВидовРасчета.Начисления.СоздатьВидРасчета();<br/> НачислениеОбъект.ИмяПредопределенныхДанных = "ОкладПоЧасам";<br/> // ...<br/> НачислениеОбъект.Записать();<br/>КонецЕсли;  </p>
<ul>
<li>учитывать в прикладном коде отсутствие предопределенных элементов в ИБ. В противном случае, при обращении к несуществующему предопределенному элементу из кода или текста запроса будет вызвано исключение:</li></ul>
<p class="Programtext">  ... = ПланВидовРасчета.Начисления.ОкладПоЧасам;<br/>  ... = ПредопределенноеЗначение("ПланВидовРасчета.Начисления.ОкладПоЧасам");</p>
<p>При использовании в конфигурации Библиотеки стандартных подсистем (БСП) версии 2.1.4 и выше рекомендуется использовать функцию <strong>ПредопределенныйЭлемент</strong> общего модуля <strong>ОбщегоНазначения</strong> или <strong>ОбщегоНазначенияКлиент</strong>, которая возвращает <strong>Неопределено</strong> для несуществующих в ИБ предопределенных элементов:</p>
<p class="Programtext">  ... = ОбщегоНазначенияКлиент.ПредопределенныйЭлемент("ПланВидовРасчета.Начисления.ОкладПоЧасам");<br/></p>
<h3>См. также</h3>
<ul>
<li>
<div><a href="#03_Получение предопределенных значений на клиенте.htm" target="_top">Получение предопределенных значений на клиенте</a></div></li></ul></body><hr>
<h1 id='04_Обработчики событий объектов'>Обработчики событий объектов</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100464.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Обработчик события ПередЗаписью.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчик события ПередЗаписью</h1><div style="clear: right; float: right;">#std464</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. В данном обработчике модуля объекта, как правило, должны выполняться действия, связанные с заполнением значений реквизитов объекта (набора записей, значения константы; далее упрощенно - "объект"), проверки правильности их заполнения, связанности состояния объекта с некоторыми внешними данными. Также в данном обработчике следует выполнять действия, связанные с обращением к "старым" значениям реквизитов объекта, сохраненным в базу данных (имеет смысл при редактировании уже записанных ранее объектов, наборов записей и т.п.). </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также </em><a href="#05_Обработчик события ОбработкаПроверкиЗаполнения.htm" target="_top"><em>раздел «Проверки, выполняемые в и вне транзакции записи объекта» статьи «Обработчик события ОбработкаПроверкиЗаполнения»</em></a></p></blockquote>
<p><a id="2" name="2"></a>2. Все действия в процедуре-обработчике события<strong> ПередЗаписью</strong> должны выполняться после <a href="#08_Использование признака ОбменДанными.Загрузка в обработчиках событий объекта.htm" target="_top">проверки на <strong>ОбменДанными.Загрузка</strong></a>. </p>
<p>Например:</p>
<p class="Programtext"><span style="FONT-SIZE: 10pt">Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)</span></p>
<p class="Programtext">  Если ОбменДанными.Загрузка Тогда<br/>     Возврат;<br/>  КонецЕсли;<br/><br/>  // Предпроверки и дозаполнение реквизитов объекта<br/>  ...<br/><br/>КонецПроцедуры</p></font>
<div><br/></div></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100465.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Обработчик события ПриЗаписи.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчик события ПриЗаписи</h1><div style="clear: right; float: right;">#std465</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. В данном обработчике модуля объекта (набора записей, значения константы; далее - "объект"), как правило, выполняются действия по записи связанной с объектом данных в других объектах конфигурации, а также выполняются другие действия, связанные с изменением объекта. <br/><br/>Запрещается в данном обработчике изменять содержимое записываемого объекта, поскольку на момент выполнения обработчика, объект уже записан в БД. </p>
<p><a id="2" name="2"></a>2. Все действия в процедуре-обработчике события <strong>ПриЗаписи</strong> должны выполняться после <a href="#08_Использование признака ОбменДанными.Загрузка в обработчиках событий объекта.htm" target="_top">проверки на <strong>ОбменДанными.Загрузка</strong></a>. </p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#05_Обработчик события ОбработкаПроверкиЗаполнения.htm" target="_top">Раздел «Проверки, выполняемые в и вне транзакции записи объекта» статьи «Обработчик события ОбработкаПроверкиЗаполнения»</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100752.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Обработчик события ПередУдалением.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчик события ПередУдалением</h1><div style="clear: right; float: right;">#std752</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В данном обработчике модуля объекта, как правило, должны выполняться действия, которые необходимо выполнить перед удалением объекта. Например, перед удалением присоединенного файла может потребоваться произвести очистку ссылок на этот файл в объекте-владельце.</p>
<p><a id="2" name="2"></a>2. Все действия в процедуре-обработчике события <strong>ПередУдалением</strong> должны выполняться после <a href="#08_Использование признака ОбменДанными.Загрузка в обработчиках событий объекта.htm" target="_top">проверки на <strong>ОбменДанными.Загрузка</strong></a>.</p>
<p>Т. е. они не должны выполняться перед удалением объекта через механизм обмена данными, так как это может привести к ошибкам. Примером таких ошибок является обращение к предопределенным объектам после очистки области данных.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100466.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Обработчик события ПриКопировании.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчик события ПриКопировании</h1><div style="clear: right; float: right;">#std466</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В данном обработчике модуля объекта выполняются действия, связанные с созданием нового объекта путем копирования. </p>
<p>В частности, в данном обработчике выполняются действия по очистке содержимого реквизитов объекта в случаях, когда значения этих реквизитов не должны сохраняться при копировании. <br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100463.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Обработчик события ОбработкаПроверкиЗаполнения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчик события ОбработкаПроверкиЗаполнения</h1><div style="clear: right; float: right;">#std463</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. В данном обработчике модуля объекта выполняются действия, связанные с проверкой правильности заполнения значений реквизитов объектов (измерений, ресурсов, реквизитов табличных частей и т.п., далее: просто "реквизиты").</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также </em><a href="#04_Подсказка и проверка заполнения.htm" target="_top"><em>Подсказка и проверка заполнения</em></a> </p></blockquote>
<p><a id="1.2" name="1.2"></a>1.2. Данным обработчиком следует пользоваться в случаях, когда для проверки корректности значений реквизитов обычной проверки на заполненность уже недостаточно (например, значение реквизита логически связано со значением другого реквизита), или же требование к тому, чтобы значение реквизита было заполнено не является безусловным.</p>
<p>Если проверка заполнения какого-либо реквизита - условная (т.е. зависит от значений других реквизитов или значения параметризированной функциональной опции) в обработчике следует предусмотреть код, который удаляет имя такого реквизита из массива проверяемых реквизитов <strong>ПроверяемыеРеквизиты</strong>. В общем виде, схема проверки заполнения выглядит следующим образом:</p>
<ul>
<li>создать массив<strong> НепроверяемыеРеквизиты</strong>; 

<li>в процессе проверки условий, добавлять в этот массив имена непроверяемых реквизитов (табличных частей); 

<li>вызвать процедуру для удаления непроверяемых реквизитов (текст процедуры <strong>УдалитьНепроверяемыеРеквизитыИзМассива</strong> приведен ниже).</li></li></li></ul>
<p>При этом не рекомендуется использовать другие схемы проверки заполнения значений реквизитов, так как они затрудняют анализ логики работы конфигурации, поскольку скрывают из свойства "Проверка заполнения" случаи условной проверки заполнения значений объектов.<br/>Например, неправильно:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты) <br/><br/>  ... <br/><br/>  // Проверка значения реквизита на соответствие некоторым требованиям <br/>  Если НЕ ИННСоответствуетТребованиям(ИНН) Тогда <br/>    Сообщение = Новый СообщениеПользователю(); <br/>    Сообщение.Текст = НСтр("ru = 'ИНН задан неверно.'"); <br/>    Сообщение.Поле = "ИНН"; <br/>    Сообщение.УстановитьДанные(ЭтотОбъект); <br/>    Сообщение.Сообщить(); <br/>    Отказ = Истина; <br/>  КонецЕсли; <br/><br/>  ... </p>
<p class="Programtext">  // Значение реквизита не должно быть пустым в зависимости от значения другого реквизита <br/>  Если ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо Тогда <br/>    // Для индивидуального предпринимателя должно быть сопоставлено физ. лицо <br/>    ПроверяемыеРеквизиты.Добавить("ИндивидуальныйПредприниматель"); <br/>  КонецЕсли; <br/><br/>  ... <br/><br/>КонецПроцедуры</p></blockquote>
<p>правильно:</p>
<p class="Programtext">Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты) <br/><br/>  НепроверяемыеРеквизиты = Новый Массив();<br/>  ... </p>
<p class="Programtext">  // Проверка значения реквизита на соответствие некоторым требованиям <br/>  Если НЕ ИННСоответствуетТребованиям(ИНН) Тогда <br/>    Сообщение = Новый СообщениеПользователю(); <br/>    Сообщение.Текст = НСтр("ru = 'ИНН задан неверно.'"); <br/>    Сообщение.Поле = "ИНН"; <br/>    Сообщение.УстановитьДанные(ЭтотОбъект); <br/>    Сообщение.Сообщить(); <br/>    Отказ = Истина; <br/>    НепроверяемыеРеквизиты.Добавить("ИНН"); <br/>  КонецЕсли; </p>
<p class="Programtext">  ...<br/>  // Значение реквизита не должно быть пустым в зависимости от другого реквизита <br/>  Если ЮрФизЛицо &lt;&gt; Перечисления.ЮрФизЛицо.ФизЛицо Тогда  <br/>    НепроверяемыеРеквизиты.Добавить("ИндивидуальныйПредприниматель"); <br/>  КонецЕсли; </p>
<p class="Programtext">  ... <br/>  УдалитьНепроверяемыеРеквизитыИзМассива(ПроверяемыеРеквизиты, НепроверяемыеРеквизиты);<br/>КонецПроцедуры;</p>
<p class="Programtext">Процедура УдалитьНепроверяемыеРеквизитыИзМассива(МассивРеквизитов, МассивНепроверяемыхРеквизитов) Экспорт</p>
<p class="Programtext">  Для Каждого ЭлементМассива Из МассивНепроверяемыхРеквизитов Цикл<br/> <br/>    // перед удалением реквизита из массива необходимо проверить, что он там есть<br/>    // (не был удален ранее платформой или в коде).<br/>    ПорядковыйНомер = МассивРеквизитов.Найти(ЭлементМассива);<br/>    Если ПорядковыйНомер &lt;&gt; Неопределено Тогда<br/>      МассивРеквизитов.Удалить(ПорядковыйНомер);<br/>    КонецЕсли;<br/> <br/>  КонецЦикла;<br/> <br/>КонецПроцедуры</p>
<p><a id="1.3" name="1.3"></a>1.3. Следует учитывать, что обработчик <strong>ОбработкаПроверкиЗаполнения</strong> вызывается не при каждой записи объекта, в частности, он не вызывается в случаях если запись были инициирована программно. </p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1.4" name="1.4"></a>1.4. В случае использования в конфигурации подсистемы "Обмен данными" Библиотеки стандартных подсистем обработчик <strong>ОбработкаПроверкиЗаполнения</strong> вызывается при проведении документов, после их загрузки из сообщения обмена. Для отключения некоторых проверок в этом режиме в обработчике можно анализировать дополнительное свойство объекта <strong>ДополнительныеСвойства</strong>.<strong>ОтложенноеПроведение</strong>.</p></td></tr></tbody></table>
<h1>Проверки, выполняемые в и вне транзакции записи объекта</h1>
<p><a id="2.1" name="2.1"></a>2.1. Проверки в обработчике <strong>ОбработкаПроверкиЗаполнения</strong> выполняются вне транзакции записи объекта. Поскольку в случае некорректного заполнения объекта выполнение операции будет прервано еще до записи объекта в базу данных, то размещение проверок в этом обработчике является наиболее эффективным.</p>
<p>При выполнении внетранзакционных проверок в обработчике <strong>ОбработкаПроверкиЗаполнения</strong> необходимо учитывать тот факт, что новое состояние объекта еще не записано. Если требуется выполнить запрос к тем или иным данным системы, например, прочитать признак <strong>ВидНоменклатуры</strong> для товаров, выбранных в табличной части документа, "отталкиваясь" от данных документа, то такую поверку можно выполнить, применяя сохранение необходимых для запроса данных во временные таблицы.</p></font><font face="Verdana" size="2">
<p><a id="2.2" name="2.2"></a>2.2. В то же время, в обработчике <strong>ОбработкаПроверкиЗаполнения</strong> не следует размещать проверки, которые должны гарантировать целостное состояние объекта или зависящих от него данных (например, движений) на которые рассчитывает система. Поэтому для реквизитов, некорректные значения которых могут привести к рассогласованности данных в информационной базе, проверку корректности следует выполнять в обработчиках событий, возникающих в транзакции записи - <strong><a href="#01_Обработчик события ПередЗаписью.htm" target="_top">ПередЗаписью</a></strong>, <strong><a href="#02_Обработчик события ПриЗаписи.htm" target="_top">ПриЗаписи</a></strong>, <strong>ОбработкаПроведения</strong> (для документов). </p>
<p>Для транзакционных проверок, в свою очередь, выделяются два случая:</p>
<ol>
<li>Проверка состояния движений, формируемых документами оперативного учета. Такие проверки довольно часто встречаются в приложениях с оперативным учетом.  

<li>Проверка состояния других объектов информационной базы, ссылки на которых содержатся в текущем объекте. Такие проверки следует применять очень редко. Не следует злоупотреблять количеством проверок в транзакции записи объекта. Следует помнить, что внутри транзакции записи имеет смысл выполнять только проверки таких ресурсов или таких правил соответствия объектов друг другу, которые не изменяются без проверок всеми участниками процесса.</li></li></ol>
<p>В первом случае, проверку остатков некоторого ресурса имеет смысл выполнять в транзакции записи только в том случае, если все документы выполняют такую же проверку в транзакции записи. Если хоть один из документов, изменяющих ресурс, делает это без проверок, выполнение проверок другими участниками процесса бессмысленно и такие проверки необходимо выполнять вне транзакции. Исключением может быть только случай, когда документ, который выполняет изменение контролируемого ресурса без проверок, вводится крайне редко. Например, не смотря на то, что документ "Инвентаризация товаров" изменяет остатки товаров без проверок, эта ситуация допустима в виду того, что он вводится крайне редко. Каждое такое исключение из правила должно быть оправданным.</p>
<p>Во втором случае, если при записи <strong>Подразделения</strong> в транзакции записи выполняется проверка, что сотрудник, выбранный в качестве руководителя подразделения, имеет должность "Руководитель", то при записи <strong>Сотрудника</strong> также должна выполняться и "встречная" проверка этого же правила: нельзя записать <strong>Сотрудника</strong> с должностью отличной от "Руководитель", если он указан руководителем того или иного подразделения. Поскольку правило, что "Сотрудник", выбранный руководителем подразделения, должен иметь должность "Руководитель", может быть нарушено как при записи подразделения, так и при записи сотрудника, то и проверка должна выполняться или в транзакции записи обоих объектов, или вне транзакции записи обоих объектов (а может и не выполняться вообще). </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100396.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Обработчик события ОбработкаЗаполнения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчик события ОбработкаЗаполнения</h1><div style="clear: right; float: right;">#std396</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В случае если в силу каких-либо условий необходимо ограничивать ввод на основании по команде "Создать на основании", то такую проверку следует выполнять в обработчике <strong>ОбработкаЗаполнения </strong>модуля объекта (набора записей). Например, это могут быть проверки вида:</p>
<ul>
<li>Для команды "Создать на основании" не различимы группы и элементы справочников и планов видов характеристик: команда одинаково доступна в форме списка как для групп, так и для элементов. Требуется запретить ввод на основании групп. 

<li>Требуется запретить ввод на основании непроведенных документов. </li></li></ul>
<p><a id="2" name="2"></a>2. Для оповещения пользователя о причинах отказа, в обработчике <strong>ОбработкаЗаполнения</strong> следует использовать исключения:</p>
<p class="Programtext">Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка) <br/><br/>   Если ТипЗнч(ДанныеЗаполнения) = Тип("СправочникСсылка.Сотрудники") Тогда <br/>      Если ПолучитьЗначениеРеквизита(ДанныеЗаполнения, "ЭтоГруппа") = Истина Тогда <br/>         ВызватьИсключение "Ввод приказа о приеме на основании группы сотрудников невозможен!<br/>                           |Выберите сотрудника. Для раскрытия группы используйте клавиши Ctrl и стрелку вниз"; <br/>      КонецЕсли; <br/><br/>      // обработка заполнения объекта по данным заполнения <br/><br/>   КонецЕсли; <br/><br/>КонецПроцедуры</p>
<p>При этом не рекомендуются какие-либо иные решения для подобных проверок. В частности, не следует создавать дополнительные команды для ввода на основании и размещать проверки в обработчиках этих команд.</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip" width="100%">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="3" name="3"></a>3. Рекомендуется придерживаться следующей логической структуры обработчика <strong>ОбработкаЗаполнения</strong> (отдельные шаги могут быть пропущены):</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><a id="3.1" name="3.1"></a>3.1. Выполнение специального заполнения в зависимости от типа параметра <strong>ДанныеЗаполнения</strong>.</p>
<p>Например:</p>
<p class="Programtext">ТипДанныхЗаполнения = ТипЗнч(ДанныеЗаполнения);<br/>Если ТипДанныхЗаполнения = Тип("Структура") Тогда<br/>   ЗаполнитьДокументПоОтбору(ДанныеЗаполнения);<br/>ИначеЕсли ТипДанныхЗаполнения = Тип("ДокументСсылка.ЗаказКлиента") Тогда<br/>   ЗаполнитьДокументНаОснованииЗаказаКлиента(ДанныеЗаполнения);<br/>// ...</p>
<p><a id="3.2" name="3.2"></a>3.2. Выполнение общего заполнения, с целью заполнить значениями по умолчанию реквизиты, которые не были заполнены специальным заполнением. При этом необходимо предварительно проверять реквизит на заполненность.</p>
<p>Например:</p>
<p class="Programtext">Если Не ЗначениеЗаполнено(Подразделение) Тогда<br/>   Подразделение = ЗначениеНастроекПовтИсп.ПодразделениеПоУмолчанию();<br/>КонецЕсли;</p>
<p>Также при заполнении реквизитов значениями по умолчанию следует, по возможности, использовать свойство метаданных <strong>"Значение заполнения"</strong>. Значение, указанное в этом свойстве будет автоматически присваиваться реквизиту при выходе из обработчика <strong>ОбработкаЗаполнения</strong>, в случае если параметр <strong>СтандартнаяОбработка</strong> установлен в <strong>Истина</strong>, и реквизит не был заполнен в обработчике.</p></blockquote>
<p dir="ltr">Выполнение данной рекомендации позволит уменьшить количество логических ошибок заполнения и повысит читаемость кода.</p></td></tr></tbody>
<p></p></table>
<ul>
<li><a href="#11_Перехват исключений в коде.htm" target="_top">Перехват исключений в коде</a>
<li><a href="#08_Обращение из кода к автоматически формируемым элементам управления формы.htm" target="_top">Обращение из кода к автоматически формируемым элементам управления формы</a></li></li></ul></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100746.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Обработчики событий ОбработкаПолученияПредставления и ОбработкаПолученияПолейПредставления.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчики событий ОбработкаПолученияПредставления и ОбработкаПолученияПолейПредставления</h1><div style="clear: right; float: right;">#std746</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. С помощью данных обработчиков модуля менеджера объекта можно переопределить представление объекта информационной базы, которое выводится в полях форм и в списках. <br/>Пример реализации:</p>
<p class="Programtext">Процедура ОбработкаПолученияПолейПредставления(Поля, СтандартнаяОбработка)<br/> Поля.Добавить("Наименование");<br/> Поля.Добавить("Дата");<br/> СтандартнаяОбработка = Ложь;<br/>КонецПроцедуры</p>
<p class="Programtext">Процедура ОбработкаПолученияПредставления(Данные, Представление, СтандартнаяОбработка)<br/> Наименование = ?(ПустаяСтрока(Данные.Наименование), НСтр("ru = 'Без описания'"), Данные.Наименование);<br/> Дата = Формат(Данные.Дата, ?(ПолучитьФункциональнуюОпцию("ИспользоватьДатуИВремяВСрокахЗадач"), "ДЛФ=DT", "ДЛФ=D"));<br/> Представление = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru = '%1 от %2'"), Наименование, Дата);<br/> СтандартнаяОбработка = Ложь;<br/>КонецПроцедуры</p>
<p><a id="2" name="2"></a>2. Обработчики вызываются при любой необходимости получения представления какого-либо объекта информационной базы. Поэтому избыточные данные или неправильный выбор данных для формирования представления могут привести к существенному замедлению работы системы. </p>
<p>Также не следует выполнять в этих обработчиках запросы или получение объектов информационной базы (в том числе, запрещены обращения к реквизитам объектов ссылочных типов через точку, что приводит к чтению всего объекта целиком из базы данных). Также нежелательно использовать получение представления и реквизитов ссылок.</p>
<p><a id="3" name="3"></a>3. Обработчики могут быть также вызваны, в том числе, при записи и удалении объекта в режиме обмена данными. Представление объекта при этом запрашивается для формирования записи в журнал регистрации. Поэтому к ним предъявляются те же требования, что и к логике регистрации объектов  - см. п. 1.2 <a href="#02_Разработка планов обмена с отборами.htm" target="_top">Разработка планов обмена с отборами</a>.</p>
<p>Эти требования также справедливы при разработке планов обмена для синхронизации с другими программами (не РИБ, по правилам конвертации) с помощью подсистемы «Обмен данными» Библиотеки стандартных подсистем.<br/>Например, недопустимо <a href="#15_Использование предопределенных элементов.htm" target="_top">обращаться к предопределенным элементам</a>, которые еще могли быть не загружены в базу или, наоборот, уже удалены в ходе обмена данными:</p>
<p class="Programtext">Процедура ОбработкаПолученияПредставления(Данные, Представление, СтандартнаяОбработка)</p>
<p class="Programtext">    СтандартнаяОбработка = Ложь;<br/>    Если Данные.ВидОбразования = Справочники.ВидыОбразованияФизическихЛиц.ПослевузовскоеОбразование Тогда<br/>        Представление = НСтр("ru = 'Послевузовское образование'"); <br/>    Иначе<br/>      ...</p>
<p><a id="4" name="4"></a>4. При реализации обработчиков следует также учитывать требования о поддержке <a href="#13_Поддержка толстого клиента, управляемое приложение, клиент-сервер.htm" target="_top">толстого клиента, управляемое приложение, клиент-сервер</a>.<br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#05_Получение представлений для ссылочных значений в табличном документе.htm" target="_top">Получение представлений для ссылочных значений в табличном документе</a>
<li><a href="#01_Пользовательские представления объектов.htm" target="_top">Пользовательские представления объектов</a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/400/i8100773.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Использование признака ОбменДанными.Загрузка в обработчиках событий объекта.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование признака ОбменДанными.Загрузка в обработчиках событий объекта</h1><div style="clear: right; float: right;">#std773</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Все действия в процедурах-обработчиков событий <a href="#01_Обработчик события ПередЗаписью.htm" target="_top">ПередЗаписью</a>, <a href="#02_Обработчик события ПриЗаписи.htm" target="_top">ПриЗаписи</a>, <a href="#03_Обработчик события ПередУдалением.htm" target="_top">ПередУдалением</a> должны выполняться после проверки на <strong>ОбменДанными.Загрузка</strong>:</p>
<p class="Programtext">Процедура ПередЗаписью(Отказ) <br/>Если ОбменДанными.Загрузка Тогда <br/>     Возврат; <br/>КонецЕсли; </p>
<p class="Programtext">// код обработчика<br/>// ...<br/>КонецПроцедуры</p>
<p>Это необходимо для того, чтобы никакая бизнес-логика объекта не выполнялась при записи объекта через механизм обмена данными, поскольку она уже была выполнена для объекта в том узле, где он был создан. В этом случае все данные загружаются в ИБ «как есть», без искажений (изменений), проверок или каких-либо других дополнительных действий, препятствующих загрузке данных.</p>
<p>Кроме механизма обмена данными есть и другие случаи, когда это должно быть так. В общем виде следует руководствоваться следующим подходом: механизмы, не рассчитанные на особенности конкретных конфигураций, должны иметь возможность загрузить данные при установленном флаге загрузки так, как будто текста обработчика нет вообще:</p>
<p class="Programtext">Объект.ОбменДанными.Загрузка = Истина;<br/>Объект.Записать();</p>
<p>Например, требуется загрузить всю базу из XML «как есть». Для этого должно быть достаточно установить записываемым объектам <strong>ОбменДанными.Загрузка = Истина</strong> и все данные должны загрузиться без искажений, проверок и дополнительных  действий, т. е. так же как и при пустом обработчике.</p>
<p><a id="2" name="2"></a>2. Исключение составляет механизм обмена данными, который в ходе загрузки данных в базу регистрирует эти данные к выгрузке на других узлах плана обмена. </p>
<p>В тех случаях, когда в конфигурации используется подсистема «Обмен данными» БСП, и возникла необходимость отключить ее, следует устанавливать дополнительное свойство <strong>ОтключитьМеханизмРегистрацииОбъектов</strong>:</p>
<p class="Programtext">Объект.ОбменДанными.Загрузка = Истина;<br/>Объект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов");<br/>Объект.Записать();</p>
<p>В случае других исключений, причина исключения из этого правила должна быть описана в комментарии к выполняемым действиям.</p>
<p><a id="3" name="3"></a>3. Требования выше также распространяются на обработчики подписок на эти события.</p>
<p><a id="4" name="4"></a>4. При этом вызывающая сторона, выставляя записываемому объекту признак <strong>ОбменДанными.Загрузка</strong> в <strong>Истина</strong>, берет на себя ответственность за целостность данных этого объекта.</p>
<p>Например, при записи объекта через механизм обмена данными в РИБ это обеспечивается корректным состоянием объекта в том узле, где он был создан (или изменен). </p>
<p>В других случаях вызывающая сторона должна принять меры по корректному заполнению записываемого объекта. Например, при загрузке данных через механизм обмена данными по правилам конвертации или с помощью формата <a href="#03_Интеграция прикладных решений через формат EnterpriseData.htm" target="_top">EnterpriseData</a>, следует выполнять все необходимые действия по (до)заполнению объекта. Эти действия рекомендуется размещать в экспортных процедурах самого объекта, которые используются вызывающей стороной при записи объекта в режиме обмена данными.</p></body><hr>
<h1 id='05_Регламентные задания'>Регламентные задания</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/500/i8100540.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие требования к регламентным заданиям.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие требования к регламентным заданиям</h1><div style="clear: right; float: right;">#std540</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. В общем случае, регламентные задания следует использовать, когда необходимо выполнить определенные периодические или однократные действия в соответствии с расписанием. </p>
<p><a id="2" name="2"></a>2. При этом если регламентные задания не требуется добавлять или удалять в зависимости от действий пользователя или логики конфигурации, следует использовать предопределенные регламентные задания. Такие задания автоматически создаются в информационной базе с тем расписанием и состоянием, которое было задано разработчиком в Конфигураторе. Примеры предопределенных регламентных заданий:</p>
<ul>
<li>загрузка курсов валют; 

<li>извлечение текста для полнотекстового индексирования; 

<li>обновление агрегатов.</li></li></li></ul>
<p><a id="3.1" name="3.1"></a>3.1. Недопустимо выполнять регламентные задания, если соответствующая им функциональность отключена в программе. Иначе регламентные задания будут приводить к запускам сеансов, занимая вычислительные ресурсы сервера 1С:Предприятие. Для этого необходимо программно управлять признаком предопределенного регламентного задания <b>Использование</b> в зависимости от включенных функциональных опций (ФО). </p></font><font face="Verdana" size="2">
<p>Например, имеем регламентное задание <strong>ПолучениеИОтправкаЭлектронныхПисем</strong> (с установленным флажком <strong>Использование</strong>), которое должно выполняться только в том случае, если установлена ФО <strong>ИспользоватьПочтовыйКлиент</strong>.</p>
<p>Неправильно: создавать предопределенное регламентное задание, зависящее от ФО, с установленным флажком <strong>Использование</strong>.</p>
<p>Правильно: снять флажок <strong>Использование</strong> и управлять использованием регламентного задания в зависимости от включения/выключения функциональной опции. <br/>Если в конфигурации используется подсистема «Регламентные задания» Библиотеки стандартых подсистем (БСП), то для такой настройки следует использовать процедуру <strong>ПриОпределенииНастроекРегламентныхЗаданий</strong> общего модуля <strong>РегламентныеЗаданияПереопределяемый</strong>. Например: </p>
<p class="Programtext">Настройка = Настройки.Добавить();<br/>Настройка.РегламентноеЗадание = Метаданные.РегламентныеЗадания.ОбновлениеСтатусовДоставкиSMS;<br/>Настройка.ФункциональнаяОпция = Метаданные.ФункциональныеОпции.ИспользоватьПочтовыйКлиент;<br/>Настройка.ДоступноВМоделиСервиса = Ложь; </p>
<p>После чего в состав определяемого типа <strong>МестоХраненияФункциональныхОпций</strong> необходимо добавить константы, соответствующие функциональным опциям, используемым для управления регламентными заданиями.</p>
<p>Для конфигураций без БСП следует управлять использованием регламентного задания, разместив, например, в модуле менеджера значения константы <strong>ИспользоватьПочтовыйКлиент</strong> следующий код:</p>
<p class="Programtext">Процедура ПриЗаписи(Отказ)<br/> <br/> Задание = РегламентныеЗадания.НайтиПредопределенное(Метаданные.РегламентныеЗадания.ПолучениеИОтправкаЭлектронныхПисем);<br/> <br/> Если Задание.Использование &lt;&gt; Значение Тогда<br/>  Задание.Использование = Значение;<br/>  Задание.Записать();<br/> КонецЕсли;<br/> <br/>КонецПроцедуры</p>
<p><a id="3.2" name="3.2"></a>3.2. Дополнительно следует обезопасить выполнение регламентного задания, включенного через консоль или другим способом, минуя включение ФО, вставив в начало процедуры обработки регламентного задания следующий код:</p>
<p class="Programtext">ОбщегоНазначения.ПриНачалеВыполненияРегламентногоЗадания();<br/>Если НЕ ПолучитьФункциональнуюОпцию("ИспользоватьПочтовыйКлиент") Тогда<br/> ВызватьИсключение НСтр("ru = 'Регламентное задание недоступно по функциональным опциям.'");<br/>КонецЕсли;</p>
<p>Если в конфигурации используется подсистема «Регламентные задания» БСП и настроены зависимости регламентных заданий от ФО (как указано в п.3.1), то вместо этого достаточно вставить вызов, как показано в п.6.</p>
<p><a id="4.1" name="4.1"></a>4.1. Если выполнение регламентного задания зависит от данных информационной базы, то флажок <strong>Предопределенное</strong> у регламентного задания следует отключать. <br/>Например:</p>
<ul>
<li>обмен данными с другими информационными базами должен проводиться с каждой базой по индивидуальному расписанию; 

<li>запуск каждой дополнительной обработки в базе требуется выполнять по отдельному расписанию.</li></li></ul>
<p>В этих случаях требуется создавать экземпляры регламентных заданий и параметризовать их объектами ИБ (например, узлами ИБ, элементами справочника <strong>Дополнительные обработки</strong> и т.п.) из кода на встроенном языке с помощью метода <strong>РегламентныеЗадания</strong>.<strong>СоздатьРегламентноеЗадание</strong>. При этом в свойстве <strong>Наименование</strong> необходимо указывать представление объекта, на основании которого создается регламентное задание. Например, есть рассылка отчетов (элемент справочника), расписание, которое было настроено в карточке рассылки и ее автор, тогда добавление на основании нее регламентного задания будет выглядеть так:</p>
<p class="Programtext">// Снимаем ограничение, что только администратор может создавать регламентные задания.<br/>УстановитьПривилегированныйРежим(Истина);<br/>Задание = РегламентныеЗадания.СоздатьРегламентноеЗадание(Метаданные.РегламентныеЗадания.РассылкаОтчетов);</p>
<p class="Programtext">ПараметрыЗадания = Новый Массив;<br/>ПараметрыЗадания.Добавить(РассылкаОтчетов);<br/>Задание.Параметры = ПараметрыЗадания;</p>
<p class="Programtext">Задание.ИмяПользователя = АвторРассылки;<br/>Задание.Использование = Истина;<br/>Задание.Наименование = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru = 'Рассылка отчетов: %1'"), СокрЛП(РассылкаОтчетов);<br/>Задание.Расписание = РасписаниеРассылки; <br/>Задание.Записать();</p>
<p><a id="4.2" name="4.2"></a>4.2. Если в конфигурации используется подсистема «Регламентные задания» БСП, то необходимо также запрещать интерактивное создание и запуск параметризованных регламентных заданий из формы <strong>Регламентные и фоновые задания</strong>. Для этого необходимо указать такое задание в процедуре <strong>ПриОпределенииНастроекРегламентныхЗаданий</strong> общего модуля <strong>РегламентныеЗаданияПереопределяемый</strong>. Например:</p>
<p class="Programtext">Настройка = Настройки.Добавить();<br/>Настройка.РегламентноеЗадание = Метаданные.РегламентныеЗадания.РассылкаОтчетов;<br/>Настройка.Параметризуется = Истина;</p>
<p>Также выполнить п.6.</p>
<p><a id="5" name="5"></a>5. Во избежание различных конфликтных ситуаций рекомендуется в копиях информационной базы автоматически блокировать все регламентные задания, обращающиеся к внешним ресурсам (рассылка почты, синхронизация данных с другими программами и т.п.). Например, если копия информационной базы была развернута для тестирования или передана в службу технической поддержки.</p>
<p>Если в конфигурации используется подсистема «Регламентные задания» БСП, то для этого необходимо перечислить такие задания в процедуре <strong>ПриОпределенииНастроекРегламентныхЗаданий </strong>общего модуля <strong>РегламентныеЗаданияПереопределяемый</strong>. Например:</p>
<p class="Programtext">Настройка = Настройки.Добавить();<br/>Настройка.РегламентноеЗадание = Метаданные.РегламентныеЗадания.РассылкаОтчетов;<br/>Настройка.РаботаетСВнешнимиРесурсами = Истина;</p>
<p>И выполнить п.6. </p>
<p>В этом случае при перемещении информационной базы администратору будет задан вопрос об отключении таких заданий. </p>
<p><a id="6" name="6"></a>6. Если регламентное задание попадает под требования, описанные в пунктах 3.1, 4.2, 5 и используется подсистема «Регламентные задания» БСП, то вначале процедур обработчиков таких заданий необходимо помещать вызов: </p>
<p class="Programtext">ОбщегоНазначения.ПриНачалеВыполненияРегламентногоЗадания(Метаданные.РегламентныеЗадания.&lt;ИмяЗадания&gt;); </p></font>
<p><font face="Verdana" size="2">Первый параметр при этом заполнять обязательно.</font> </p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#02_Настройка расписания регламентных заданий.htm" target="_top">Настройка расписания регламентных заданий</a>
<li><a href="#03_Запуск регламентных заданий.htm" target="_top">Запуск регламентных заданий</a>
<li><a href="#08_Регламентные задания_ требования по локализации.htm" target="_top">Регламентные задания: требования по локализации</a>
<li><a href="#04_Ограничения на регламентные задания при работе в режиме сервиса.htm" target="_top">Ограничения на регламентные задания при работе в режиме сервиса</a></li></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/500/i8100402.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Настройка расписания регламентных заданий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Настройка расписания регламентных заданий</h1><div style="clear: right; float: right;">#std402</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p>При разработке регламентных заданий необходимо выбирать время и интервал запуска, исходя из прикладного назначения регламентных заданий, а также руководствуясь соображением, что частое выполнение регламентных заданий может негативно влиять на производительность сервера приложений <strong>1С:Предприятие</strong>:</p>
<ul>
<li>
<div>регламентное задание не должно выполняться чаще, чем это нужно с прикладной точки зрения;</div>
<li>
<div>с точки зрения оптимальной загрузки сервера приложений для большинства регламентных заданий нормальным является интервал выполнения заданий в 1 день; </div>
<li>
<div>исключения могут составлять случаи, когда критичным является частое выполнение заданий с прикладной точки зрения, например, для поддержания актуальности данных за короткий период;</div>
<li>
<div>ни в каких случаях не следует задавать периодичность выполнения регламентных заданий меньше одной минуты;</div>
<li>
<div>периодичность выполнения частых (с периодичностью менее одного дня) регламентных заданий должна быть сбалансирована со временем выполнения задания: например, если типичное время выполнения 20 секунд, то периодичность раз в минуту, скорее всего, избыточна;</div>
<li>
<div>выполнение ресурсоемких регламентных операций необходимо по возможности переносить на время минимальной загрузки сервера приложений <strong>1С:Предприятие</strong>. Например, в нерабочее время или на выходные дни;</div>
<li>
<div>несколько различных ресурсоемких регламентных заданий лучше "разносить" по времени, исходя из ожидаемого времени их выполнения. </div></li></li></li></li></li></li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#01_Общие требования к регламентным заданиям.htm" target="_top">Предопределенные регламентные задания</a>
<li><a href="#03_Запуск регламентных заданий.htm" target="_top">Запуск регламентных заданий</a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/500/i8100539.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Запуск регламентных заданий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Запуск регламентных заданий</h1><div style="clear: right; float: right;">#std539</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. Рекомендуется предоставлять пользователям альтернативную возможность по выполнению регламентных заданий вручную. Например, предлагать «по кнопке» выполнить обработку данных, обычно выполняемую регламентным заданием в фоне. Это вызвано тем соображением, что работа системы не должна зависеть от автоматического выполнения регламентных заданий. В частности:</p>
<ul>
<li>выполнение регламентных заданий может быть осознанно выключено на кластере серверов 1С:Предприятия; 

<li>в отличие от клиент-серверного режима работы 1С:Предприятия версии 8.2 и ранее, в котором регламентные и фоновые задания выполняются на сервере, в файловом режиме отсутствовала возможность по их автоматическому выполнению.</li></li></ul>
<p>В зависимости от специфики регламентных заданий, различается способ их запуска.</p>
<p><a id="1.1" name="1.1"></a>1.1. В случае если <strong>регламентное задание изменяет в системе некоторые данные</strong>, которые необходимы определенному бизнес-процессу или выводятся в конкретном «рабочем месте» (форме), то в таких «рабочих местах» дополнительно рекомендуется размещать команду для выполнения этого действия. Например:</p>
<ul>
<li>в форме для поиска в данных рекомендуется вывести дату актуальности индекса, если он не актуален, и команду «Обновить»; 

<li>в списке входящих писем указано, когда они последний раз принимались, и имеется команда «Получить почту»; 

<li>в рабочем месте ответственного за партионный учет указано, на какой момент времени проводилось последний раз распределение по партиям, и команда «Выполнить» для распределения по партиям.</li></li></li></ul>
<p>Такие рабочие места должны информировать пользователя о дате актуальности представленных данных и команду для их обновления или обработки (которая выполняет то же действие, что и регламентное задание). Команда должна быть доступна только пользователям с необходимыми для ее выполнения правами. </p>
<p>Пример ручного запуска задания по очистке устаревших версий объектов:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ЗапуститьРегламентноеЗадание()<br/>   ИмяМетода = Метаданные.РегламентныеЗадания.ОчисткаУстаревшихВерсийОбъектов.ИмяМетода;</p>
<p class="Programtext">   // Проверка, выполняется ли фоновое задание по очистке устаревших версий.<br/>   Отбор = Новый Структура;<br/>   Отбор.Вставить("ИмяМетода", ИмяМетода);<br/>   Отбор.Вставить("Состояние", СостояниеФоновогоЗадания.Активно);<br/>   ФоновыеЗаданияОчистки = ФоновыеЗадания.ПолучитьФоновыеЗадания(Отбор);<br/>   Если ФоновыеЗаданияОчистки.Количество() = 0 Тогда<br/>      НаименованиеФоновогоЗадания = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(<br/>        НСтр("ru = 'Запуск вручную: %1'"), РегламентноеЗаданиеМетаданные.Синоним);<br/>      ФоновыеЗадания.Выполнить(ИмяМетода,,, НаименованиеФоновогоЗадания);<br/>   КонецЕсли;<br/>КонецПроцедуры</p>
<p><a id="1.2" name="1.2"></a>1.2. Если <strong>работа регламентного задания оказывает влияние на данные, отображаемые в заранее неизвестном количестве рабочих мест, или влияет на информационную базу в целом</strong>, то не представляется возможным выделить какое-то одно рабочее место для размещения команды запуска всех таких заданий. Примеры регламентных заданий, не «привязанных» к конкретным рабочим местам:</p>
<ul>
<li>обновление и перестроение агрегатов; 

<li>установка периода рассчитанных итогов.</li></li></ul>
<p>Результат работы таких регламентных заданий оказывает влияние сразу на множество внутренних и внешних отчетов системы, которые опираются на итоги и агрегаты.</p>
<p>В этом случае рекомендуется заводить отдельное рабочее место для выполнения таких регламентных заданий. При использовании в конфигурации Библиотеки стандартных подсистем такое рабочее место уже входит в состав подсистемы «Регламентные задания» (форма «Регламентные и фоновые задания»).</p>
<p><a id="1.3" name="1.3"></a>1.3. В тех же случаях когда <strong>регламентное задание не изменяет данные в системе</strong>, а формирует различные отчеты или рассылки из нее, также рекомендуется предусматривать отдельное рабочее место для выполнения таких регламентных заданий. </p>
<p>Примеры регламентных заданий, которые не меняют данные в базе:</p>
<ul>
<li>рассылка по почтовым адресатам информации об ошибках в журнале регистрации;  

<li>рассылка информации о новых/просроченных задачах;  

<li>периодический запуск внешних обработок для рассылки отчетов.</li></li></li></ul>
<p>При использовании в конфигурации Библиотеки стандартных подсистем такое рабочее место уже входит в состав подсистемы «Регламентные задания» (форма «Регламентные и фоновые задания»).</p>
<p><a id="2" name="2"></a>2. Для администраторов информационных баз действует рекомендация: на период выполнения обновления ИБ блокировать работу регламентных заданий. Однако если обновление выполняет неподготовленный пользователь, в особенности, в файловом режиме работы, то рекомендуется дополнительно предусмотреть следующие меры:</p>
<ul>
<li>в файловом режиме работы, при неудачной попытке установки монопольного режима для обновления данных ИБ предлагать автоматически блокировать работу регламентных заданий (перезапуск программы с ключом командной строки <strong>/AllowExecuteScheduledJobs -Off</strong>);  

<li>в начале кода обработчиков регламентных заданий проверять режим работы и прерывать работу регламентного задания с помощью вызова исключения, если обновление ИБ еще не завершено.</li></li></ul>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> первая рекомендация реализована в подсистеме «Обновление версии ИБ», а для выполнения второй предусмотрена процедура <strong>ПриНачалеВыполненияРегламентногоЗадания</strong> общего модуля <strong>ОбщегоНазначения</strong>, вызов которой необходимо размещать в начале кода обработчиков регламентных заданий.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#02_Настройка расписания регламентных заданий.htm" target="_top">Настройка расписания регламентных заданий</a>
<li><a href="#01_Общие требования к регламентным заданиям.htm" target="_top">Предопределенные регламентные задания</a>
<li><a href="#04_Ограничения на регламентные задания при работе в режиме сервиса.htm" target="_top">Ограничения на регламентные задания при работе в режиме сервиса</a> </li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/100/500/i8100760.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Ограничения на регламентные задания при работе в режиме сервиса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на регламентные задания при работе в режиме сервиса</h1><div style="clear: right; float: right;">#std760</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В прикладных решениях, ориентированных на работу в режиме сервиса по <a href="https://v8.1c.ru/platforma/tekhnologiya-1cfresh/" target="_blank">Технологии 1cFresh</a>, не должно быть регламентных заданий, которые включены в состав любого из разделителей. Это ограничение обусловлено тем, что при большом количестве областей данных в одной информационной базе разделенные регламентные задания могут вызвать перегрузку рабочих процессов, обслуживающих данную информационную базу, и серьезно затруднить работу пользователей сервиса.</p>
<p><a id="2" name="2"></a>2. Если требуется обеспечить регулярное выполнение определенного программного кода в приложениях пользователя, размещенных в разделенной информационной базе, необходимо использовать возможности подсистемы БТС <b>Очередь заданий</b>, либо разработать аналогичный механизм очереди заданий самостоятельно.</p>
<p>Пример № 1. Необходимо при включенной функциональной опции <b>Обмен с сайтом</b> ежедневно выполнять обмен с указанным в настройках сайтом. Должна быть возможность настройки индивидуального расписания выполнения для каждого приложения.</p>
<div>
<div>Неправильно:</div>
<div>
<ul>
<li>Добавить в конфигурацию предопределенное регламентное задание <b>ОбменССайтом</b>; 

<li>Включить добавленное задание в состав общих реквизитов, разделяющих данные.</li></li></ul></div>
<div>Правильно:</div>
<div>
<ul>
<li>Добавить в конфигурацию непредопределенное регламентное задание <b>ОбменССайтом</b>; 

<li>Исключить добавленное задание из состава общих реквизитов, разделяющих данные; 

<li>В общем модуле <b>ОчередьЗаданийПереопределяемый</b> в процедуру <b>ПриОпределенииПсевдонимовОбработчиков</b> добавить:</li></li></li></ul>
<p class="Programtext">     СоответствиеИменПсевдонимам.Вставить(Метаданные.РегламентныеЗадания.ОбменССайтом.ИмяМетода);</p>
<ul>
<li>При включении функциональной опции <b>Обмен с сайтом</b> добавить или включить использование задания, используя процедуры: 

<ul>
<li><b>РегламентныеЗаданияСервер.ДобавитьЗадание</b> - если задание еще не существует; 

<li><b>РегламентныеЗаданияСервер.ИзменитьЗадание</b> - если задание существует и использование выключено.</li></li></ul>
<li>При выключении функциональной опции удалить или отключить использование задания с помощью процедур: 

<ul>
<li><b>РегламентныеЗаданияСервер.УдалитьЗадание</b> - если задание существует; 

<li><b>РегламентныеЗаданияСервер.ИзменитьЗадание</b> - если задание существует и использование включено.</li></li></ul></li></li></ul>Пример № 2. Задание из примера № 1 необходимо выполнить от имени определенного пользователя.</div>
<div><br/></div>
<div>Неправильно:</div>
<div>
<ul>
<li>Добавить в конфигурацию регламентное задание, включенное в состав общих реквизитов, разделяющих данные; 

<li>Добавить задание, используя менеджер регламентных заданий, и установить имя пользователя, под которым будет выполняться данное регламентное задание.</li></li></ul></div>
<div>
<div>Правильно:</div></div>
<div>
<ul>
<li>Добавить в конфигурацию регламентное задание, исключенное из состава общих реквизитов, разделяющих данные; 

<li>Создать задание с помощью <b>РегламентныеЗаданияСервер.ДобавитьЗадание</b>, передав в параметрах имя пользователя.</li></li></ul>
<ul></ul>Пример № 3. Необходимо в начале каждого месяца во всех приложениях выполнять регламентную операцию пересчета итогов регистров накопления. Расписание задания является единым для информационной базы и может изменяться администратором сервиса для всех приложений информационной базы.</div>
<div>
<ul>
<li>Добавить в конфигурацию предопределенное регламентное задание <b>ПересчетИтогов</b>.</li></ul></div>
<div>
<div>Неправильно:</div>
<div>
<ul>
<li>Включить добавленное задание в состав общих реквизитов, разделяющих данные.</li></ul></div>
<div>Правильно:</div>
<div>
<ul>
<li>Исключить добавленное задание из состава общих реквизитов, разделяющих данные; 

<li>В общем модуле ОчередьЗаданийПереопределяемый в процедуру ПриПолученииСпискаШаблонов добавить:<br/></li></li></ul>
<p class="Programtext">     Шаблоны.Добавить(Метаданные.РегламентныеЗадания.ПересчетИтогов.ИмяМетода);</p></div></div>
<div>3. В прикладных решениях, ориентированных на работу в режиме сервиса по Технологии 1cFresh, не должно быть участков, где из программного кода напрямую выполняется управление регламентными заданиями. Для управления регламентными заданиями необходимо использовать программный интерфейс БСП, реализованный в модуле <strong>РегламентныеЗаданияСервер</strong>.</div></div>
<p><br/>Неправильно:</p>
<p class="Programtext">// Ищем задание по наименованию.<br/>Отбор = Новый Структура();<br/>Отбор.Вставить(“Метаданные”, “ПроверкаЦен”);<br/>Задания = РегламентныеЗадания.ПолучитьРегламентныеЗадания(Отбор);</p>
<p class="Programtext">// Проверяем, что задание найдено.<br/>Если Задания.Количество() &lt;&gt; 1 Тогда<br/> // Запись в журнал ошибки опущена.<br/> Возврат;<br/>КонецЕсли;</p>
<p class="Programtext">// Включаем найденное задание.<br/>НашеЗадание = Задания[0];<br/>НашеЗадание.Использование = Истина;<br/>НашеЗадание.Записать();</p>
<p>Правильно:</p>
<p class="Programtext">// Ищем задание по наименованию.<br/>Отбор = Новый Структура();<br/>Отбор.Вставить(“Метаданные”, “ПроверкаЦен”);<br/>Задания = РегламентныеЗаданияСервер.НайтиЗадания(Отбор);</p>
<p class="Programtext">// Проверяем, что задание найдено.<br/>Если Задания.Количество() &lt;&gt; 1 Тогда<br/> // Запись в журнал ошибки опущена.<br/> Возврат;<br/>КонецЕсли;</p>
<p class="Programtext">// Включаем найденное задание.<br/>НашеЗадание = Задания[0];<br/>Параметры = Новый Структура();<br/>Параметры.Вставить(“Использование”, Истина);<br/>РегламентныеЗаданияСервер.ИзменитьЗадание(НашеЗадание.УникальныйИдентификатор, Параметры);</p>
<p><a id="4" name="4"></a>4. Следует учитывать, что подсистема <b>Очередь заданий</b> не гарантирует выполнение регламентного задания в точном соответствии с указанным расписанием. Точность соблюдения расписания зависит от общего количества запланированных заданий, длительности их выполнения и количества исполняющих потоков (регулируется константой «Максимальное количество исполняющихся фоновых заданий»).</p>
<p><a id="4.1" name="4.1"></a>4.1. Рекомендуется в общем случае при работе в режиме сервиса не предоставлять пользователям возможность настройки расписания регламентных заданий.</p>
<p><a id="4.2" name="4.2"></a>4.2. Если сценарий работы подразумевает оперативную реакцию системы (обновление информации), которую очередь регламентных заданий не обеспечивает, то следует рассмотреть другие решения.</p>
<ul>
<li>Если имеется техническая возможность настроить получение push-уведомлений от системы, с которой требуется обмен информацией, то не следует использовать регламентное задание. Вместо этого следует загружать данные только при получении уведомления, а отправлять данные только при наличии потребности в этом. Пример доставки push-уведомлений имеется в Системе взаимодействий, когда сервер принимает входящий SIP-звонок. 

<li>В иных случаях рекомендуется оставить регламентное задание (которое работает через очередь заданий) и организовать оперативное получение и отправку данных в то время, когда пользователь фактически работает в программе в том рабочем месте, в котором он ожидает оперативное обновление информации.</li></li></ul>
<p>Например, регламентное задание по отправке и получению почты должно ожидаемо выполняться раз в 5 минут, но в режиме сервиса в нагруженной базе запускается с периодичностью 1 ч. 40 мин, что является неприемлемым. В таком случае оперативная работа с почтой должна быть организована таким образом:</p>
<ul>
<li>Регламентное задание по отправке и получению почты работает с той периодичностью, с которой позволяет очередь заданий; 

<li>При открытии списка писем выполняется разовая дозагрузка и отправка писем для учетных записей, доступных пользователю (*); 

<li>С помощью клиентского обработчика ожидания выполняется регулярная отправка и получение писем с необходимой периодичностью, независимо от очереди заданий (*).</li></li></li></ul>
<p>Таким образом, при начале работы с почтой не приходится долго ждать получения писем, так как с помощью очереди заданий к этому моменту уже будет получена значительная часть новых писем. При этом оперативное взаимодействие с почтовыми серверами выполняется только тогда, когда оно действительно требуется – при фактической работе со списком писем.</p>
<p>* Для того чтобы не вызывать длительных задержек при работе пользователя, серверный вызов рекомендуется выполнять в <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">длительной операции</a>. При этом серверная логика также должна выполняться максимально быстро, только в объеме, необходимом для работы конкретного пользователя, чтобы не перегружать сервер и не затруднять работу других пользователей сервиса.<br/></p></body><hr>
<h1 id='02_Реализация обработки данных'>Реализация обработки данных</h1>
<h1 id='01_Работа с запросами'>Работа с запросами</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100437.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Оформление текстов запросов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Оформление текстов запросов</h1><div style="clear: right; float: right;">#std437</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Все ключевые слова языка запросов пишутся заглавными буквами. <br/><br/></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip" width="100%">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2" name="2"></a>2. Рекомендуется указывать и необязательные конструкции запроса, прежде всего - явно назначать псевдонимы полям, в целях повышения наглядности текста запроса и "устойчивости" использующего его кода. Например, если в алгоритме используется запрос с полем, объявленным как </p>
<p class="Programtext">Касса.Валюта</p>
<p>при изменении имени реквизита нужно будет также изменить и код, осуществляющий обращение по имени свойства <strong>Валюта</strong> к выборке из результата запроса. Если же поле будет объявлено как</p>
<p class="Programtext">Касса.Валюта КАК Валюта</p>
<p>то изменение имени реквизита приведет только к изменению текста запроса. </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>2а. Особенно внимательно следует относиться к автоматически присваиваемым псевдонимам для полей – реквизитов других полей, типа "... Касса.Валюта.Наименование...". В приведенном выше примере поле получит автоматический псевдоним <strong>ВалютаНаименование</strong>, а не <strong>Наименование</strong>. </p>
<p>2б. Следует обязательно указывать ключевое слово <strong>КАК</strong> перед псевдонимом поля источника. </p></blockquote></td></tr></tbody></table></p>
<p><a id="3" name="3"></a>3. Текст запроса должен быть структурирован, не следует писать запрос в одну строку, даже короткий. Текст запроса должен быть нагляден, поскольку это существенно улучшает его понимание другими разработчиками. <br/><br/>4. В запросы, сложные для понимания, в которых используются вложенные запросы, объединения или соединения рекомендуется вставлять комментарии. Комментарии, например, могут объяснять для получения каких данных используется та или иная таблица в соединении или объединении. </p>
<p>При этом необходимо иметь в виду, что при использовании конструктора запросов, все комментарии в запросе удаляются автоматически без предупреждения.<br/><br/>5. При создании объекта <strong>Запрос</strong> рекомендуется указывать комментарии, для получения какой информации или каких иных целей будет использован данный запрос. <br/><br/>6.1 При программной "сборке" текста запроса рекомендуется комментировать все этапы его сборки. </p>
<p><a id="6.2" name="6.2"></a>6.2. Нужно стараться, чтобы каждая часть формируемого запроса могла быть открыта с помощью конструктора запросов</p>
<ul>
<li>это позволяет осуществить экспресс-проверку корректности синтаксиса запроса 

<li>это упрощает разработку и сопровождение кода конфигурации, в том числе сторонними разработчиками</li></li></ul>
<p>Типичные случаи программной модификации текста запроса</p></font>
<h2>Изменение имени поля выборки или таблицы</h2><font face="Verdana" size="2">
<p>Неправильно</p></font><font face="Verdana" size="2">
<p class="Programtext">ТекстЗапроса =<br/>"ВЫБРАТЬ<br/>| Номенклатура.Наименование  КАК Наименование ,<br/>| Номенклатура. " + ИмяПоляКод + " КАК КодАртикул<br/>|ИЗ<br/>| Справочник.Номенклатура КАК Номенклатура";</p>
<p><br/>Правильно</p>
<p class="Programtext">ТекстЗапроса =<br/>"ВЫБРАТЬ<br/>| Номенклатура.Наименование  КАК Наименование,<br/>| &amp;ИмяПоляКод  КАК КодАртикул<br/>|ИЗ<br/>| Справочник.Номенклатура КАК Номенклатура";</p>
<p class="Programtext">ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ИмяПоляКод", "Номенклатура." + ИмяПоляКод);</p>
<p>или аналогично для имени таблицы</p>
<p class="Programtext">ТекстЗапроса =<br/>"ВЫБРАТЬ<br/>| ТаблицаСправочника.Наименование КАК Наименование,<br/>| ТаблицаСправочника.Код КАК Код <br/>|ИЗ<br/>| &amp;ТаблицаСправочника КАК ТаблицаСправочника";<br/>ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ТаблицаСправочника", "Справочник." + ИмяСправочника);</p>
<p>или еще один вариант для имени таблицы</p></font><font face="Verdana" size="2">
<p class="Programtext">ТекстЗапроса =<br/>"ВЫБРАТЬ<br/>| Номенклатура.Наименование  КАК НаименованиеТовара ,<br/>| ЕСТЬNULL(ТаблицаОстатков.ВНаличииОстаток,0) КАК ОстатокТовара<br/>|ИЗ<br/>| Справочник.Номенклатура КАК Номенклатура<br/>| ЛЕВОЕ СОЕДИНЕНИЕ #ТаблицаОстатков КАК ТаблицаОстатков<br/>| ПО Номенклатура.Ссылка= ТаблицаОстатков.Номенклатура";<br/><br/>Если ИспользуетсяАдресноеХранение Тогда<br/> ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "#ТаблицаОстатков", "РегистрНакопления.ТоварыВЯчейках.Остатки");<br/>Иначе<br/> ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "#ТаблицаОстатков", "РегистрНакопления.ТоварыНаСкладах.Остатки");<br/>КонецЕсли;</p></font>
<p>Использование комментария для помещения во временную таблицу результата запроса</p>Неправильно <br/><pre class="Programtext">ТекстЗапроса =

"ВЫБРАТЬ

|	Контрагенты.Ссылка КАК Ссылка

|// ПОМЕСТИТЬ втКонтрагенты

|ИЗ

|	Справочник.Контрагенты КАК Контрагенты";



Если ВыгрузитьВоВременнуюТаблицу Тогда

	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "// ПОМЕСТИТЬ", "ПОМЕСТИТЬ");

КонецЕсли;

</pre>
<p>Правильно </p><pre class="Programtext">ТекстЗапроса =

"ВЫБРАТЬ

|	Контрагенты.Ссылка КАК Ссылка

|ПОМЕСТИТЬ втКонтрагенты

|ИЗ

|	Справочник.Контрагенты КАК Контрагенты";



Если Не ВыгрузитьВоВременнуюТаблицу Тогда

	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "ПОМЕСТИТЬ втКонтрагенты", "");

КонецЕсли;

</pre>
<h2>Конкатенация нескольких текстов запросов в пакет</h2><font face="Verdana" size="2">
<p>Неправильно</p>
<p class="Programtext">ТекстЗапроса = " ";<br/>Если ИспользоватьУпаковки Тогда<br/>  ТекстЗапроса = <br/>  "ВЫБРАТЬ<br/>  | Упаковки.Ссылка КАК Ссылка<br/>  |ИЗ<br/>  | Справочник.Упаковки КАК Упаковки;<br/>  |/////////////////////////////////////////////////////////////<br/>  |";<br/>КонецЕсли;</p>
<p class="Programtext">ТекстЗапроса = ТекстЗапроса +<br/>"ВЫБРАТЬ<br/>| Номенклатура.Ссылка КАК Ссылка<br/>|ИЗ<br/>| Справочник. Номенклатура КАК Номенклатура";</p>
<p>Правильно</p></font><font face="Verdana" size="2">
<p class="Programtext">ТекстЗапроса = " ";<br/>Если ИспользоватьУпаковки Тогда<br/>  ТекстЗапроса =<br/>  "ВЫБРАТЬ<br/>  | Упаковки.Ссылка КАК Ссылка<br/>  |ИЗ<br/>  | Справочник.Упаковки КАК Упаковки";</p></font><font face="Verdana" size="2">
<p class="Programtext">  ТекстЗапроса = ТекстЗапроса +<br/>  "<br/>  |;<br/>  |/////////////////////////////////////////////////////////////<br/>  |";<br/><span style="FONT-SIZE: 10pt">КонецЕсли;</span></p></font><font face="Verdana" size="2">
<p class="Programtext">ТекстЗапроса = ТекстЗапроса +<br/>"ВЫБРАТЬ<br/>| Номенклатура.Ссылка КАК Ссылка<br/>|ИЗ<br/>| Справочник.Номенклатура КАК Номенклатура";</p>
<p>Или</p>
<p class="Programtext">Разделитель =<br/>"<br/>|;<br/>|/////////////////////////////////////////////////////////////<br/>|";</p>
<p class="Programtext">ТекстыЗапросовПакета = Новый Массив;</p>
<p class="Programtext">ТекстЗапроса =<br/>"ВЫБРАТЬ<br/>| Упаковки.Ссылка КАК Ссылка<br/>|ИЗ<br/>| Справочник.Упаковки КАК Упаковки";</p>
<p class="Programtext">ТекстыЗапросовПакета.Добавить(ТекстЗапроса);</p>
<p class="Programtext">ТекстЗапроса =<br/>"ВЫБРАТЬ<br/>| Номенклатура.Ссылка КАК Ссылка<br/>|ИЗ<br/>| Справочник.Номенклатура КАК Номенклатура";</p>
<p class="Programtext">ТекстыЗапросовПакета.Добавить(ТекстЗапроса);<br/>ТекстЗапроса = СтрСоединить(ТекстыЗапросовПакета, Разделитель);<br/></p></font>
<h3>См. также</h3>
<ul>
<li><a href="#04_Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!).htm" target="_top">Запросы, динамические списки и отчеты на СКД: требования по локализации</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100436.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Многократное выполнение однотипных запросов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Многократное выполнение однотипных запросов</h1><div style="clear: right; float: right;">#std436</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Рекомендуется получать все необходимые однотипные данные одним запросом, вместо выполнения серии запросов. Это ускоряет исполнение запроса к базе данных. Для объединения запросов в один используются, например, условия <b>В</b>, ключевое слово <b>ОБЪЕДИНИТЬ ВСЕ</b> и пакет запросов.<br/><br/>Правильно:</p></font><font face="Verdana" size="2">
<p class="Programtext">ОбщийЗапрос = Новый Запрос(" <br/>  |ВЫБРАТЬ <br/>  | БанковскиеСчета.Ссылка КАК Счет <br/>  |ИЗ <br/>  | Справочник.БанковскиеСчета КАК БанковскиеСчета <br/>  |ГДЕ <br/>  | БанковскиеСчета.Банк В(&amp;БанкиДляОбработки)"); <br/><br/>ОбщийЗапрос.УстановитьПараметр("БанкиДляОбработки", БанкиДляОбработки); <br/>ВыборкаСчетов = ОбщийЗапрос.Выполнить().Выбрать(); <br/>Пока ВыборкаСчетов.Следующий() Цикл <br/>  ОбработатьСчетаВБанке(ВыборкаСчетов.Счет); <br/>КонецЦикла; </p>
<p>Неправильно:</p></font><font face="Verdana" size="2">
<p class="Programtext">ЧастныйЗапрос = Новый Запрос(" <br/>  |ВЫБРАТЬ <br/>  | БанковскиеСчета.Ссылка КАК Счет <br/>  |ИЗ <br/>  | Справочник.БанковскиеСчета КАК БанковскиеСчета <br/>  |ГДЕ <br/>  | БанковскиеСчета.Банк = &amp;Банк"); <br/><br/>Для каждого Банк Из БанкиДляОбработки Цикл <br/>  ЧастныйЗапрос.УстановитьПараметр("Банк", Банк); <br/>  ВыборкаСчетов = ЧастныйЗапрос.Выполнить().Выбрать(); <br/>  Пока ВыборкаСчетов.Следующий() Цикл <br/>    ОбработатьСчетаВБанке(ВыборкаСчетов.Счет); <br/>  КонецЦикла; <br/>КонецЦикла; </p><p">При использовании Библиотеки стандартных подсистем (БСП) правильно вызывать программный интерфейс, предназначенный для работы со списками объектов, например, однократно вызывать функцию <b>ОбщегоНазначения.ЗначениеРеквизитаОбъектов</b> вместо <b>ЗначениеРеквизитаОбъекта</b> в цикле, <b>УправлениеКонтактнойИнформацией.КонтактнаяИнформацияОбъектов</b> вместо <b>КонтактнаяИнформацияОбъекта</b> в цикле.  

<p></p>
<p><a id="2" name="2"></a>2. Допускается разделение запроса на серию запросов в следующих случаях:</p>
<ul>
<li>заметное усложнение разработки запроса для выбора сразу всех однотипных данных; 

<li>деградация производительности запроса. Например, когда запрос содержит обращение к виртуальным таблицам, формируемым на определенную дату (как в случае с виртуальными таблицами остатков регистра накопления, срезом последних периодического регистра сведений и т.п.); 

<li>порционная обработка большого объема данных 

<ul>
<li>в обработчиках обновления; 

<li>в групповом проведении, изменении данных, удалении помеченных объектов, контроле ведения учета и т.п.; 

<li>при загрузке данных из файла или внешних источников, получении почты и т.п. </li></li></li></ul></li></li></li></ul>
<p></p>
<p>В этих случаях запросы в цикле:</p>
<ul>
<li>необходимы для порционности; 

<li>либо они незначительно замедляют по сравнению с записью самих данных; 

<li>либо они неустранимы на текущих средствах платформы (например, чтение и запись наборов регистра в цикле по значениям измерения). </li></li></li></ul>
<p><a id="3" name="3"></a>3. Запросы к разным таблицам также рекомендуется объединять в один с помощью <b>ОБЪЕДИНИТЬ ВСЕ</b> или пакета запросов. Однако, выигрыш во времени исполнения может оказаться незначительным.</p></p"></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100438.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Проверка на пустой результат выполнения запроса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Проверка на пустой результат выполнения запроса</h1><div style="clear: right; float: right;">#std438</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Проверку того, что результат выполнения запроса не содержит строк следует выполнять с помощью метода <strong>Пустой</strong>. Поскольку на получение выборки из результата запроса (выгрузка его в таблицу значений) будет затрачиваться дополнительное время. <br/><br/>Неправильно:</p>
<p class="Programtext">Выборка = Запрос.Выполнить().Выбрать(); <br/>Если Выборка.Следующий() Тогда <br/>  Возврат Истина; <br/>Иначе <br/>  Возврат Ложь; <br/>КонецЕсли;</p>
<p>Правильно:</p>
<p class="Programtext">Возврат НЕ Запрос.Выполнить().Пустой()</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2" name="2"></a>2. В то же время если требуется выбрать (или выгрузить) результат запроса, то предварительный вызов метода <strong>Пустой</strong> не требуется.<br/>Например, вместо:</p>
<p class="Programtext">РезультатЗапроса = Запрос.Выполнить(); <br/>Если НЕ РезультатЗапроса.Пустой() Тогда // избыточный вызов<br/>  Выборка = РезультатЗапроса.Выбрать(); <br/>  Пока Выборка.Следующий() Цикл<br/>  ...</p>
<p>правильно:</p>
<p class="Programtext">Выборка = Запрос.Выполнить().Выбрать(); <br/>Пока Выборка.Следующий() Цикл<br/>...</p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100435.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Ограничение на использование конструкции _ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ_ в запросах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение на использование конструкции "ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ" в запросах </h1><div style="clear: right; float: right;">#std435</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip" width="100%">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1.1" name="1.1"></a>1.1. При разработке текстов запросов следует иметь в виду, что при работе в клиент-серверном варианте, когда в качестве СУБД используется <strong>PostgreSQL</strong>, производительность выполнения запросов с конструкцией<strong> ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ</strong> значительно снижается. В особенности это касается случаев, когда в запросе встречаются две и более таких конструкций. </p>
<p>Поэтому в общем случае не рекомендуется использовать конструкцию <strong>ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ</strong> в запросах. И в тех случаях, где это возможно, рекомендуется переписать текст исходного запроса без использования этой конструкции.</p>
<p>Например, следующий запрос:</p>
<p class="Programtext">ВЫБРАТЬ<br/> ЕСТЬNULL(ПланПродаж.Номенклатура, ФактическиеПродажи.Номенклатура) КАК Номенклатура,<br/> ЕСТЬNULL(ПланПродаж.Сумма, 0) КАК СуммаПлан,<br/> ЕСТЬNULL(ФактическиеПродажи.Сумма, 0) КАК СуммаФакт<br/>ИЗ<br/> ПланПродаж КАК ПланПродаж<br/>  ПОЛНОЕ СОЕДИНЕНИЕ ФактическиеПродажи КАК ФактическиеПродажи<br/>  ПО ПланПродаж.Номенклатура = ФактическиеПродажи.Номенклатура</p>
<p>может быть реализован без конструкции  <strong>ПОЛНОЕ [ВНЕШНЕЕ] СОЕДИНЕНИЕ</strong> следующим образом:</p>
<p class="Programtext">ВЫБРАТЬ<br/> ПланФактПродаж.Номенклатура КАК Номенклатура,<br/> СУММА(ПланФактПродаж.СуммаПлан) КАК СуммаПлан,<br/> СУММА(ПланФактПродаж.СуммаФакт) КАК СуммаФакт<br/>ИЗ<br/> (ВЫБРАТЬ<br/>  ПланПродаж.Номенклатура КАК Номенклатура,<br/>  ПланПродаж.Сумма КАК СуммаПлан,<br/>  0 КАК СуммаФакт<br/> ИЗ<br/>  ПланПродаж КАК ПланПродаж<br/> <br/> ОБЪЕДИНИТЬ ВСЕ<br/> <br/> ВЫБРАТЬ<br/>  ФактическиеПродажи.Номенклатура,<br/>  0,<br/>  ФактическиеПродажи.Сумма<br/> ИЗ<br/>  ФактическиеПродажи КАК ФактическиеПродажи) КАК ПланФактПродаж</p>
<p class="Programtext">СГРУППИРОВАТЬ ПО<br/> ПланФактПродаж.Номенклатура</p>
<p><a id="1.2" name="1.2"></a>1.2. Исключение составляют случаи, когда текст исходного запроса не может быть переписан без использования конструкции <strong>ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ</strong> по объективным причинам. Следует иметь в виду, что при выполнении данной конструкции на СУБД <strong>PostgreSQL</strong> она автоматически заменяется платформой <strong>1С:Предприятие</strong> на эквивалентную, которая может быть исполнена в СУБД <strong>PostgreSQL</strong>. При этом сохраняются все атрибуты запроса, такие как модификаторы <strong>ПЕРВЫЕ</strong>, <strong>РАЗЛИЧНЫЕ</strong>, а также <strong>УПОРЯДОЧИТЬ ПО</strong>. В таких случаях не следует "механически" заменять конструкцию <strong>ПОЛНОЕ ВНЕШНЕЕ СОЕДИНЕНИЕ</strong> только с той целью, чтобы от нее избавиться в тексте запроса.</p></td></tr></tbody></table>
<p><a id="2" name="2"></a>2. Не допускается одновременно использовать конструкцию <strong>ПОЛНОЕ СОЕДИНЕНИЕ</strong> и обращение к табличным частям из раздела <strong>ВЫБРАТЬ</strong>. </p>
<p>Данное требование продиктовано особенностью выполнения подобных запросов на СУБД <strong>PostgreSQL</strong> и необходимостью переносимости прикладных решений на эту СУБД. </p></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100434.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Использование ключевых слов _ОБЪЕДИНИТЬ_ и _ОБЪЕДИНИТЬ ВСЕ_ в запросах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование ключевых слов "ОБЪЕДИНИТЬ" и "ОБЪЕДИНИТЬ ВСЕ" в запросах </h1><div style="clear: right; float: right;">#std434</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В общем случае, при объединении в запросе результатов нескольких запросов следует использовать конструкцию <strong>ОБЪЕДИНИТЬ ВСЕ</strong>, а не <strong>ОБЪЕДИНИТЬ</strong>. Поскольку во втором варианте, при объединении запросов полностью одинаковые строки заменяются одной, на что затрачивается дополнительное время, даже в случаях, когда одинаковых строк в запросах заведомо быть не может. </p>
<p>Исключением являются ситуации, когда выполнение замены нескольких одинаковых строк одной является необходимым условием выполнения запроса. <br/><br/>Правильно:</p>
<p class="Programtext">ВЫБРАТЬ <br/>ПоступлениеТоваровУслуг.Ссылка <br/>ИЗ <br/>Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг <br/><br/>ОБЪЕДИНИТЬ ВСЕ <br/><br/>ВЫБРАТЬ <br/>РеализацияТоваровУслуг.Ссылка <br/>ИЗ <br/>Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг</p>
<p>Неправильно:</p>
<p class="Programtext">ВЫБРАТЬ <br/>ПоступлениеТоваровУслуг.Ссылка <br/>ИЗ <br/>Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг <br/><br/>ОБЪЕДИНИТЬ <br/><br/>ВЫБРАТЬ <br/>РеализацияТоваровУслуг.Ссылка <br/>ИЗ <br/>Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг</p></font><font face="Verdana" size="2"></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100412.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Упорядочивание результатов запроса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Упорядочивание результатов запроса</h1><div style="clear: right; float: right;">#std412</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Если алгоритм обработки результатов запроса зависит от порядка записей в запросе или если результат обработки запроса в той или иной форме представляется пользователю, то в тексте запроса следует использовать предложение <strong>УПОРЯДОЧИТЬ ПО</strong>. В отсутствие выражения <strong>УПОРЯДОЧИТЬ ПО</strong> невозможно сделать никаких предположений о том, в каком порядке будут представлены записи в результатах запроса. </p>
<p>Типичные примеры проблем, которые могут возникать (даже при работе на одной и той же СУБД в непредсказуемые моменты времени):</p>
<ul>
<li>разная последовательность строк табличной части при заполнении по результатам запроса; 

<li>разный порядок вывода данных (строк, колонок) в отчетах; 

<li>разное заполнение движений документа по результатам запроса (*). </li></li></li></ul>
<p>Вероятность возникновения разных результатов при выполнении одинаковых действий повышается </p>
<ul>
<li>при переносе информационной базы на другую СУБД 

<li>при смене версии СУБД 

<li>при изменении параметров СУБД </li></li></li></ul>
<p>* Примечание: упорядочивание результатов запросов, по которым формируются движения, оправдано только в том случае, если упорядочивание является частью алгоритма формирования движений (например, списание остатков партий товаров по FIFO). В остальных случаях упорядочивать записи не следует, так как дополнительное упорядочивание будет создавать избыточную нагрузку на СУБД.</p>
<p><a id="1.2" name="1.2"></a>1.2. При сортировке по полю запроса, которое может потенциально содержать NULL, следует учитывать, что в разных СУБД порядок сортировки по этому полю может отличаться. </p>
<p><strong>Неправильно:</strong></p>
<p class="Programtext">ВЫБРАТЬ<br/>  СправочникНоменклатура.Ссылка КАК НоменклатураСсылка,<br/>  ЗапасыОстатки.КоличествоОстаток КАК КоличествоОстаток<br/>ИЗ<br/>  Справочник.Номенклатура КАК СправочникНоменклатура<br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.Запасы.Остатки КАК ЗапасыОстатки<br/>    ПО (ЗапасыОстатки.Номенклатура = СправочникНоменклатура.Ссылка)</p>
<p class="Programtext">УПОРЯДОЧИТЬ ПО<br/>  КоличествоОстаток</p>
<p><strong>Правильно:</strong></p>
<p class="Programtext">ВЫБРАТЬ<br/>  СправочникНоменклатура.Ссылка КАК НоменклатураСсылка,<br/>  ЕСТЬNULL(ЗапасыОстатки.КоличествоОстаток, 0) КАК КоличествоОстаток<br/>ИЗ<br/>  Справочник.Номенклатура КАК СправочникНоменклатура<br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.Запасы.Остатки КАК ЗапасыОстатки<br/>    ПО (ЗапасыОстатки.Номенклатура = СправочникНоменклатура.Ссылка)</p>
<p class="Programtext">УПОРЯДОЧИТЬ ПО<br/>  КоличествоОстаток<br/></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="https://its.1c.ru/db/v8310doc/bookmark/dev/TI000001285" target="_top">Особенности работы с различными СУБД</a></em></p></blockquote>
<p><a id="1.3" name="1.3"></a>1.3. Если результаты запроса должны тем или иным образом отображаться пользователю, то </p>
<ul>
<li>упорядочивать результаты таких запросов необходимо по полям примитивных типов; 

<li>упорядочивание по полям ссылочных типов нужно заменять на упорядочивание по строковым представлениям этих полей. </li></li></ul>
<p>В противном случае порядок следования строк будет выглядеть для пользователя случайным (необъяснимым).</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#13_Особенности сортировки в таблице значений.htm" target="_top">Особенности сортировки в таблице значений</a></em></p></blockquote>
<p><a id="1.4" name="1.4"></a>1.4. Отсутствие предложения <strong>УПОРЯДОЧИТЬ ПО</strong> оправдано только в тех случаях, когда</p>
<ul>
<li>алгоритм обработки результатов запроса не рассчитывает на определенный порядок записей 

<li>результат обработки выполненного запроса не показывается пользователю 

<li>результат запроса - заведомо одна запись</li></li></li></ul>
<p>В таких случаях рекомендуется не добавлять предложение <strong>УПОРЯДОЧИТЬ ПО</strong> в текст запроса, так как это приводит к дополнительным затратам времени при выполнении запроса.</p>
<h2>Совместное использование с конструкцией РАЗЛИЧНЫЕ</h2>
<p><a id="2" name="2"></a>2. Если в запросе используется конструкция <strong>РАЗЛИЧНЫЕ</strong>, упорядочивание следует выполнять только по полям, включенным в выборку (в секции <strong>ВЫБРАТЬ</strong>). <br/><br/>Данное требование связано со следующей особенностью выполнения запросов: в поля выборки неявно включаются поля упорядочивания, что в свою очередь может привести к появлению в результате запроса нескольких строк с одинаковыми значениями полей выборки. </p>
<h2>Ограничения на использование конструкции АВТОУПОРЯДОЧИВАНИЕ</h2>
<p><a id="3" name="3"></a>3. Использование конструкции <strong>ПЕРВЫЕ</strong> совместно с конструкцией <strong>АВТОУПОРЯДОЧИВАНИЕ</strong> запрещено. </p>
<p>В остальных случаях конструкцию <strong>АВТОУПОРЯДОЧИВАНИЕ</strong> также не рекомендуется использовать, так как разработчик не контролирует, какие именно поля будут использованы для упорядочивания. Применение такой конструкции оправдано только в тех случаях, когда получаемый порядок записей не важен, но при этом он должен быть одинаковым в не зависимости от применяемой СУБД. </p>
<p>Причины использования конструкции <strong>АВТОУПОРЯДОЧИВАНИЕ</strong> следует указывать в комментарии, размещенном непосредственно перед текстом запроса. <br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100535.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Округление результатов арифметических операций в запросах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Округление результатов арифметических операций в запросах</h1><div style="clear: right; float: right;">#std535</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1" name="1"></a>1. Если в операции деления заранее известны порядки числителя и знаменателя, то следует по возможности избегать выполнения деления числа заведомого маленького порядка на число заведомо большого порядка. Например, вместо:</p>
<p class="Programtext">0.02 / 28346 * 9287492</p>
<p>правильно:</p>
<p class="Programtext">0.02 * 9287492 / 28346</p>
<p><a id="2" name="2"></a>2. При выполнении арифметических операций в запросах к базе данных платформа <strong>1С:Предприятия</strong> поддерживает точность вычислений до 8 разрядов дробной части. Однако, из-за особенностей работы различных СУБД в некоторых ситуациях точность результатов может отличаться от 8. Более подробно о вычислении разрядности результатов можно почитать в статье ИТС <a href="https://its.1c.ru/db/metod81/content/2665/hdoc" target="_top">Разрядность результатов выражений и агрегатных функций в языке запросов</a>. </p>
<p>Если точность результата выполнения запроса к базе данных, содержащего</p>
<ul>
<li>арифметические операции деления, 

<li>агрегатные функции <strong>СРЕДНЕЕ</strong>, 

<li>арифметические операции умножения, если каждый из множителей может иметь дробную часть, </li></li></li></ul>
<p>различается на различных СУБД, то рекомендуется к операндам и/ или результатам этих операций применять оператор явного приведения разрядности и точности числовых данных: </p>
<p class="Programtext">ВЫРАЗИТЬ(... КАК Число(m, n))</p>
<p>Оператор <strong>ВЫРАЗИТЬ</strong> следует применять к операндам, если на какой-нибудь СУБД точность получаемого результата недостаточна. Например, требуется 10 разрядов после запятой, а получается 6. </p>
<p>При этом указанная общая разрядность операндов должна быть минимальной, но не меньше той, которая достаточна для представления значений каждого из операндов. Неоправданное завышение разрядности может привести к потере точности последующих вычислений и несколько снизить скорость выполнения запроса. </p>
<p>Важно иметь в виду, что на разных СУБД имеются различные ограничения на максимальную разрядность десятичных чисел. Самое жесткое ограничение - это 31 разряд в целой и дробной частях. Чем меньшее значение разрядности будет указано для операндов, тем выше сможет быть точность результата. Например, если в результате требуется не менее 10 разрядов дробной части, первый операнд заведомо помещается в 15 разрядов целой части, а второй операнд заведомо помещается в 5 знаков целой части, то выражение может быть записано так:</p>
<p class="Programtext">ВЫБРАТЬ<br/>ВЫРАЗИТЬ(Таблица.Множитель * Таблица.Числитель КАК Число(25,10)) / ВЫРАЗИТЬ(Таблица.Знаменатель КАК Число(15,10)) КАК Результат <br/>ИЗ Таблица КАК Таблица</p>
<p>Оператор <strong>ВЫРАЗИТЬ</strong> следует применять к результату, если точность вычислений на всех СУБД достаточна, но на некоторых она больше, а на других меньше. При этом указанная общая разрядность результата должна быть минимальной, но не меньше той, которая достаточна для представления значений результата. Если в приведенном примере известно, что <strong>Знаменатель</strong> не может быть меньше 0.00001, то для представления результата достаточно 20 разрядов целой части. В этом случае выражение может быть записано так:</p>
<p class="Programtext">ВЫБРАТЬ<br/>ВЫРАЗИТЬ(Таблица.Множитель * Таблица.Числитель / Таблица.Знаменатель КАК Число(30,10)) КАК Результат<br/>ИЗ Таблица КАК Таблица</p>
<p>Иногда может быть целесообразно выполнить приведения к требуемой точности как операндов, так и результата. Например:</p>
<p class="Programtext">ВЫБРАТЬ<br/>ВЫРАЗИТЬ(ВЫРАЗИТЬ(Таблица.Множитель * Таблица.Числитель КАК Число(25,10)) / ВЫРАЗИТЬ(Таблица.Знаменатель КАК Число(15,10)) КАК Число(30,10)) КАК Результат<br/>ИЗ Таблица КАК Таблица</p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100726.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Особенности использования в запросах оператора ПОДОБНО.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<p></p>
<style>H1 {

	FONT-SIZE: 18pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; COLOR: #003366; TEXT-ALIGN: left

}

.Programtext {

	FONT-SIZE: 10pt; FONT-FAMILY: Courier New; COLOR: #000080

}

PRE {

	FONT-SIZE: 10pt; COLOR: #000080

}

H2 {

	FONT-SIZE: 14pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left

}

H3 {

	FONT-SIZE: 12pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left

}

.table {

	FONT-SIZE: 90%

}

BODY {

	FONT-SIZE: 80%; FONT-FAMILY: Verdana

}

TD {

	FONT-SIZE: 80%

}

</style>
<meta content="MSHTML 9.00.8112.16443" name="GENERATOR"/>
<h1>Особенности использования в запросах оператора ПОДОБНО</h1><div style="clear: right; float: right;">#std726</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Оператор ПОДОБНО в тексте запроса необходимо использовать только </p>
<ul>
<li>с константным строковым литералом, например: <br/>Реквизит ПОДОБНО "123%" 

<li>с параметром запроса, например: <br/>Реквизит ПОДОБНО &amp;Шаблон</li></li></ul>
<p>Не следует формировать строку шаблона вычислениями или конкатенацией.</p>
<p>Правильно:</p>
<p class="Programtext">Реквизит ПОДОБНО "123%"<br/>Реквизит ПОДОБНО &amp;Шаблон</p>
<p>Неправильно:</p>
<p class="Programtext">Реквизит ПОДОБНО "123" + "%"<br/>Реквизит ПОДОБНО &amp;Шаблон + "%"<br/>Реквизит ПОДОБНО Таблица.Шаблон</p>
<p><a id="2" name="2"></a>2. При разработке конфигурации необходимо использовать такие шаблоны для оператора ПОДОБНО, которые одинаково работают на всех СУБД, поддерживаемых платформой 1С:Предприятие:</p>
<ul>
<li><b>%</b> (процент) – последовательность, содержащая любое количество произвольных символов; 

<li><b>_</b> (подчеркивание) – один произвольный символ.</li></li></ul>
<p>Недопустимы, т.к. не работает на IBM DB 2:</p>
<ul>
<li><b>[…]</b> (в квадратных скобках один или несколько символов) – любой одиночный символ из перечисленных внутри квадратных скобок. В перечислении могут встречаться диапазоны, например a-z, означающие произвольный символ, входящий в диапазон, включая концы диапазона; 

<li><b>[^…]</b> (в квадратных скобках значок отрицания, за которым следует один или несколько символов) – любой одиночный символ, кроме тех, которые перечислены следом за значком отрицания.</li></li></ul>
<p>При разработке прикладных решений необходимо учитывать все ограничения, чтобы обеспечивать работу на всех СУБД, поддерживаемых платформой 1С:Предприятие (см. документацию к платформе 1С:Предприятие):</p>
<ul>
<li>Длина строки шаблона не должна превышать 1024 символа (ограничение MS SQL 2005).</li></ul>
<p><a id="3" name="3"></a>3. Необходимо экранировать все спецсимволы (_%[]^), чтобы они трактовались как часть искомого текста (а не как спецсимвол). Иначе если пользователь в строке поиска, например, введет текст со скобками [ ], то при выполнении запроса возникнет ошибка вида: ERROR:  invalid regular expression: invalid character range (PostgreSQL).</p>
<p>Для экранирования необходимо:</p>
<ul>
<li>выбрать спецсимвол экранирования, например (~); 

<li>установить спецсимвол перед символами операнда, например (~%). Чтобы экранировать выбранный спецсимвол, его необходимо задвоить, например (~~). 

<li>и дополнить шаблон ключевым словом СПЕЦСИМВОЛ. </li></li></li></ul>
<p>Например, для поиска по строке "100%":</p>
<p class="Programtext">"100~%" СПЕЦСИМВОЛ "~"</p>
<p>При этом нужно иметь в виду, что установка параметров запроса с помощью <b>Запрос.УстановитьПараметр</b> не экранирует спецсимволы шаблона для ПОДОБНО. Для экранирования спецсимволов в конфигурациях с <b>Библиотекой стандартных подсистем</b> (БСП) рекомендуется вызывать процедуру <b>ОбщегоНазначения.СформироватьСтрокуДляПоискаВЗапросе</b>.</p>
<p>Правильно:</p>
<p class="Programtext">ВЫБРАТЬ<br/>Номенклатура.Ссылка КАК Ссылка <br/><span>ИЗ<br/></span><span>Справочник.Номенклатура КАК Номенклатура<br/></span><span>ГДЕ<br/></span><span>Номенклатура.Наименование ПОДОБНО &amp;Шаблон СПЕЦСИМВОЛ "~"<br/></span><span>…</span></p>
<p class="Programtext">Запрос.УстановитьПараметр("Шаблон", "%" + ОбщегоНазначения.СформироватьСтрокуДляПоискаВЗапросе(ИскомыйТекст) + "%");</p>
<p>Реализация для конфигураций без <b>Библиотеки стандартных подсистем</b> (БСП):</p>
<p class="Programtext">Функция СформироватьСтрокуДляПоискаВЗапросе(Знач СтрокаПоиска) Экспорт</p>
<p class="Programtext">Результат = СтрокаПоиска;<br/>Результат = СтрЗаменить(Результат, "~", "~~");<br/>Результат = СтрЗаменить(Результат, "%", "~%");<br/>Результат = СтрЗаменить(Результат, "_", "~_");<br/>Результат = СтрЗаменить(Результат, "[", "~[");<br/>Результат = СтрЗаменить(Результат, "]", "~]");<br/>Результат = СтрЗаменить(Результат, "^", "~^");<span class="Apple-tab-span" style="FONT-SIZE: 10pt; WHITE-SPACE: pre"> </span></p>
<p class="Programtext">Возврат Результат;</p>
<p class="Programtext">КонецФункции</p>
<p><a id="4" name="4"></a>4. Сравнение выполняется без учета регистра символов.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также </h3>
<ul>
<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a>
<li><a href="#01_Оформление текстов запросов.htm" target="_top">Оформление текстов запросов</a>
<p></p>
<p></p></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100758.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Псевдонимы источников данных в запросах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Псевдонимы источников данных в запросах</h1><div style="clear: right; float: right;">#std758</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Псевдоним источника данных должен быть осмысленным, чтобы было понятным его назначение в данном контексте. Требования к псевдонимам источников схожи с требованиями к <a href="#07_Правила образования имен переменных.htm" target="_top">именам переменных в коде.</a> </p>
<ul>
<li>псевдонимы следует образовывать от терминов предметной области таким образом, чтобы было понятно, как источник данных будет использоваться в запросе; 

<li>псевдонимы следует образовывать путем удаления пробелов между словами. При этом каждое слово в имени пишется с прописной буквы (например, <strong>ТоварыНаСкладах</strong>). Предлоги и местоимения из одной буквы также пишутся прописными буквами; 

<li>псевдонимы запрещается начинать с подчеркивания; 

<li>псевдонимы не должны состоять из одного символа.</li></li></li></li></ul><strong>Неправильно:</strong>
<p class="Programtext">ВЫБРАТЬ<br/>  Таблица1.Ссылка КАК Товар,<br/>  ЕстьNULL(Таблица2.КоличествоОстаток, 0) КАК Остаток<br/>ИЗ<br/>  Справочник.Номенклатура КАК Таблица1<br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыНаСкладах.Остатки КАК Таблица2<br/>    ПО Таблица1.Ссылка = Таблица2.Номенклатура</p>
<p><strong>Правильно:</strong></p>
<p class="Programtext">ВЫБРАТЬ<br/>  ВсяНоменклатура.Ссылка КАК Товар,<br/>  ЕстьNULL(ОстаткиНаСкладах.КоличествоОстаток, 0) КАК Остаток<br/>ИЗ<br/>  Справочник.Номенклатура КАК ВсяНоменклатура<br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыНаСкладах.Остатки КАК ОстаткиНаСкладах<br/>    ПО ВсяНоменклатура.Ссылка = ОстаткиНаСкладах.Номенклатура</p>
<p>В частности не рекомендуется использовать имена классов объектов метаданных ("Справочник", "Документ" и т.д.), т.к. обычно такой псевдоним не будет описывать назначение источника в конкретном запросе. </p>
<p><a id="2" name="2"></a>2. В ряде случаев при разработке универсальных механизмов, рассчитанных на работу с произвольными таблицами данных, или при написании универсальных запросов, когда вместо источника данных при исполнении кода подставляется имя конкретной таблицы, допустимо использование универсальных псевдонимов.</p>
<p><strong>Пример:</strong></p>
<p class="Programtext">"ВЫБРАТЬ<br/>  Таблица.Наименование КАК Наименование<br/>  Таблица.Код КАК Код<br/>ИЗ<br/>  &amp;Таблица КАК Таблица";<br/><br/>ТекстЗапроса = СтрЗаменить(ТекстЗапроса , "&amp;Таблица", "Справочник." + ИмяСправочника);</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/100/i8100787.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Вычисление количества записей в запросах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Вычисление количества записей в запросах </h1><div style="clear: right; float: right;">#std787</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. При вычислении количества записей на языке запросов следует всегда использовать функцию КОЛИЧЕСТВО, а не СУММА. В противном случае, при количестве записей 10 млн. и более произойдет переполнение, что связано с разрядностью числа по умолчанию (7 разрядов), используемого в СУБД платформой 1С:Предприятие. </p>
<p>Правильно:</p>
<p class="Programtext">КОЛИЧЕСТВО(*)<br/>КОЛИЧЕСТВО(&lt;Поле&gt;)</p>
<p>Неправильно:</p>
<p class="Programtext">СУММА(1)<br/>ЕСТЬNULL(СУММА(1), 0)</p></font><font face="Verdana" size="2"></font><font face="Verdana" size="2">
<p><a id="2" name="2"></a>2. Если количество требуется вычислять условно и функцию КОЛИЧЕСТВО применить невозможно, тогда следует расширить разрядность числа по умолчанию с помощью оператора ВЫРАЗИТЬ (например, до 17 разрядов).</p>
<p>Правильно:</p>
<p class="Programtext">ВЫБРАТЬ<br/> КОЛИЧЕСТВО(*) КАК Количество,<br/> СУММА(ВЫБОР<br/>   КОГДА Номенклатура.ЭтоГруппа<br/>    ТОГДА ВЫРАЗИТЬ(1 КАК ЧИСЛО(17, 0))<br/>   ИНАЧЕ 0<br/>  КОНЕЦ) КАК КоличествоГрупп,<br/> СУММА(ВЫБОР<br/>   КОГДА НЕ Номенклатура.ЭтоГруппа<br/>    ТОГДА ВЫРАЗИТЬ(1 КАК ЧИСЛО(17, 0))<br/>   ИНАЧЕ 0<br/>  КОНЕЦ) КАК КоличествоЭлементов<br/>ИЗ<br/> Справочник. Номенклатура КАК Номенклатура</p>
<p>Неправильно:</p>
<p class="Programtext">ВЫБРАТЬ<br/> КОЛИЧЕСТВО(*) КАК Количество,<br/> СУММА(ВЫБОР<br/>   КОГДА Номенклатура.ЭтоГруппа<br/>    ТОГДА 1<br/>   ИНАЧЕ 0<br/>  КОНЕЦ) КАК КоличествоГрупп,<br/> СУММА(ВЫБОР<br/>   КОГДА НЕ Номенклатура.ЭтоГруппа<br/>    ТОГДА 1<br/>   ИНАЧЕ 0<br/>  КОНЕЦ) КАК КоличествоЭлементов<br/>ИЗ<br/> Справочник. Номенклатура КАК Номенклатура</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#07_Округление результатов арифметических операций в запросах.htm" target="_top">Округление результатов арифметических операций в запроса</a></li></ul></font></body><hr>
<h1 id='02_Оптимизация запросов'>Оптимизация запросов</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100729.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие требования по разработке оптимальных запросов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие требования по разработке оптимальных запросов</h1><div style="clear: right; float: right;">#std729</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><font color="#008000"><em>Методическая рекомендация (полезный совет)</em></font></p>
<p>Прежде чем перейти к более продвинутым методам оптимизации запросов, необходимо убедиться, что сам запрос – адекватен решаемой задаче.</p>
<p><a id="1.1" name="1.1"></a>1.1. Следует минимизировать объем выборки таким образом, чтобы выбирать ровно те данные, которые требуются для решения задачи. <br/>Например, если нужно получить значения конкретных полей, не следует выбирать все поля «на всякий случай» с помощью конструкции ВЫБРАТЬ * ИЗ …<br/>Вместо выборки большого объема данных для их последующей обработки (свертка, сортировка, проведение вычислений и пр.) на сервере 1С:Предприятие, следует, в первую очередь, ответить на вопрос: «А есть ли возможность переложить эту работу на базу данных, чтобы получить уже готовый результат?» </p>
<p><a id="1.2" name="1.2"></a>1.2. Также в большинстве случаев, следует минимизировать и общее количество запросов к СУБД. </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#02_Многократное выполнение однотипных запросов.htm" target="_top">Многократное выполнение однотипных запросов</a>.</em></p></blockquote>
<p><a id="2" name="2"></a>2. С другой стороны, не следует пытаться любой ценой перенести выполнение задачи в СУБД. СУБД обычно оптимизирует и выполняет простые запросы более эффективно, чем сложные.</p>
<p><a id="2.1" name="2.1"></a>2.1. Следует рассмотреть альтернативные меры:</p>
<ul>
<li>по подготовке различных (более простых, частных) текстов запроса в зависимости от предусловий и значений параметров запроса – вместо отправки в СУБД одного большого универсального запроса; 

<li>по более эффективной постобработке данных, выбранных запросом из СУБД, на стороне сервера 1С:Предприятия средствами встроенного языка.</li></li></ul>
<p><a id="2.2" name="2.2"></a>2.2. При разработке запросов нужно быть уверенным, что они использует эффективные планы выполнения запросов. Для сложных запросов СУБД с высокой вероятностью выберет неправильный план выполнения запроса, что особенно актуально для СУБД DB2, PostgreSQL и Oracle. <br/>Поэтому не следует неоправданно усложнять запрос, в первую очередь:</p>
<ul>
<li>Не следует добавлять <a href="#04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm" target="_top">вложенные запросы</a> только для повышения читаемости. 

<li>Избегать сложных условий соединения и в предложении ГДЕ, в особенности <a href="#05_Ограничения на использование вложенных запросов в условии соединения.htm" target="_top">содержащие подзапросы</a> и конструкции ВЫБОР. 

<li>Использовать в запросе минимально необходимое число таблиц. В зависимости от структуры таблиц, много может быть уже и 5-7 таблиц в одном запросе (время, затрачиваемое оптимизатором СУБД на анализ запроса, растет нелинейно, в итоге получается плохой план выполнения).</li></li></li></ul>
<p>Для того чтобы узнать, какой план выполнения запроса выбран оптимизатором СУБД, можно воспользоваться консолью запросов, технологическим журналом или средствами СУБД. Как правило, запрос – сложный и будет плохо выполняться, если в скомпилированном плане выполнения запроса есть timeout warning, который означает, что оптимизатору СУБД не хватило времени на поиск наилучшего плана запроса.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также:</em> <a href="#06_Запросы в динамических списках.htm" target="_top">Запросы в динамических списках</a><br/></p></blockquote></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100652.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Несоответствие индексов и условий запроса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Несоответствие индексов и условий запроса</h1><div style="clear: right; float: right;">#std652</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em>
<p></p>
<p><a id="1.1" name="1.1"></a>1.1. Необходимо убедиться в том, что для всех условий, использованных в запросе, имеются подходящие индексы.   <br/></p>
<p>Условия используются в следующих секциях запроса: </p>
<ul>
<li>
<div>ВЫБРАТЬ … ИЗ … ГДЕ &lt;условие&gt;</div>
<li>
<div>СОЕДИНЕНИЕ … ПО &lt;условие&gt;</div>
<li>
<div>ВЫБРАТЬ … ИЗ &lt;ВиртуальнаяТаблица&gt;(, &lt;условие&gt;)</div>
<li>
<div>ИМЕЮЩИЕ &lt;условие&gt;</div></li></li></li></li></ul>
<p>Для каждого условия должен существовать подходящий индекс. Подходящим является индекс, удовлетворяющий следующим требованиям: <br/></p>
<ol>
<li>
<div>Индекс содержит все поля перечисленные в условии;</div>
<li>
<div>Эти поля находятся в самом начале индекса;</div>
<li>
<div>Эти поля идут подряд, то есть между ними не «вклиниваются» поля, не участвующие в условии запроса</div></li></li></li></ol>
<p><br/>1.2. Если в структуре базы данных отсутствует индекс, удовлетворяющий всем перечисленным условиям, то для получения результата СУБД будет вынуждена сканировать таблицу или один из ее индексов. Это приведет к увеличению времени выполнения запроса, а также к возможному снижению параллельности системы, поскольку возрастет количество установленных блокировок.   </p>
<p>Требования к индексу связаны с физической структурой индекса в СУБД. Эта структура представляет собой дерево значений проиндексированных полей. На первом уровне дерева находятся значения первого поля индекса, на втором - второго и так далее. Такая структура позволяет достичь высокой эффективности при поиске по индексу. Кроме того, она гарантирует отсутствие деградации производительности индекса с ростом количества данных.  </p>
<p>Однако, индекс такой структуры, очевидно, может быть использован только строго определенным образом. Сначала необходимо провести поиск по значению первого поля индекса, затем - второго и так далее. Если, например, условие по первому полю индекса не указано, то индекс уже не сможет обеспечить быстрый поиск. Если указано условие по нескольким первым полям индекса, а затем одно или несколько полей индекса не задано, то индекс может быть использован только частично.</p>
<p><a id="2" name="2"></a>2. При создании объекта метаданных <strong>1С:Предприятие</strong> автоматически создает индексы, которые должны подходить для работы большинства запросов. </p>
<p>Основные индексы, создаваемые <strong>1С:Предприятием</strong>: </p>
<ul>
<li>
<div>индекс по уникальному идентификатору (ссылке) для всех объектных сущностей (справочники, документы и т.д.);</div>
<li>
<div>индекс по регистратору (ссылке на документ) для таблиц движений регистров, подчиненных регистратору;</div>
<li>
<div>индекс по периоду и значениям всех измерений для итоговых таблиц регистров накопления;</div>
<li>
<div>индекс по периоду, счету и значениям всех измерений для итоговых таблиц регистров бухгалтерии. </div></li></li></li></li></ul>
<p><a id="3" name="3"></a>3. В тех случаях, когда автоматически созданных индексов недостаточно, можно дополнительно проиндексировать реквизиты объекта метаданных. </p>
<p>При этом реквизиты справочников и документов рекомендуется индексировать с дополнительным упорядочиванием. Такой индекс будет учитывать упорядочивание по основному представлению объекта, тем самым он будет эффективно использоваться, например, когда в списке установлен отбор по данному реквизиту, а сам список упорядочен по полям основного представления объекта. </p>
<p>Следует иметь в виду, что создание индекса ускоряет процесс поиска информации, но может несколько замедлить процесс ее изменения (добавления, редактирования и удаления). Поэтому индексы следует создавать осознанно и только в том случае, если точно известен запрос, для которого такой индекс необходим. Не следует создавать индексы "на всякий случай" или заведомо избыточные индексы. В частности:</p>
<ul>
<li>не следует дополнительно индексировать первое измерение регистра, поскольку для поиска по значению первого измерения подходит основной индекс таблицы итогов, который автоматически создаст платформа; 

<li>не следует создавать индексы по низкоселективным полям (полям, которые содержат малое количество уникальных значений по сравнению с количеством записей в таблице). Например, индексировать реквизит типа <strong>Булево</strong> имеет смысл, только если незначительная часть записей всегда будет иметь одно значение, и в запросах всегда выбираются записи по этому значению</li></li></ul>
<h3>Примеры</h3>
<p>В конфигурации описан регистр накопления <strong>ТоварыНаСкладах</strong>: </p>
<p><img border="1" height="333" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/200/i8100652.files/1.png?_=00003FFBE209B5F6-v2" style="aspect-ratio:269/333" width="269"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p>Платформа <strong>1С:Предприятие</strong> автоматически создаст для таблицы остатков данного регистра индекс по периоду и всем измерениям в том порядке, в котором они перечислены в конфигураторе. </p>
<p>Рассмотрим несколько примеров запросов и проанализируем, смогут ли они оптимально выполняться при такой структуре данных. </p>
<h3>Запрос 1</h3>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| ТоварыНаСкладахОстатки.Склад,<br/>| ТоварыНаСкладахОстатки.Номенклатура,<br/>| ТоварыНаСкладахОстатки.Качество<br/>|ИЗ<br/>| РегистрНакопления.ТоварыНаСкладах.Остатки(, Номенклатура = &amp;Номенклатура) КАК ТоварыНаСкладахОстатки";  <br/></p>
<p>В данном случае нарушено требование 2 раздела 1.1. В условии отсутствует отбор по первому полю индекса (<strong>Склад</strong>). Такой запрос не сможет выполниться оптимально. Для его выполнения серверу СУБД придется перебирать все записи таблицы. Время выполнения этой операции напрямую зависит от количества записей в таблице остатков регистра и может быть очень большим (и будет увеличиваться с ростом количества данных). </p>
<p>Варианты оптимизации: </p>
<ul>
<li>
<div>Проиндексировать измерение <strong>Номенклатура</strong></div>
<li>
<div>Поставить измерение <strong>Номенклатура</strong> первым в списке измерений. Следует осторожно использовать этот метод. В конфигурации могут присутствовать другие запросы, которые могут замедлиться в результате этой перестановки.</div></li></li></ul>
<h3>Запрос 2</h3><pre class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| ТоварыНаСкладахОстатки.Склад,<br/>| ТоварыНаСкладахОстатки.Номенклатура,<br/>| ТоварыНаСкладахОстатки.ХарактеристикаНоменклатуры,<br/>|ИЗ<br/>| РегистрНакопления.ТоварыНаСкладах.Остатки(<br/>| ,<br/>| ХарактеристикаНоменклатуры = &amp;ХарактеристикаНоменклатуры<br/>| Номенклатура = &amp;Номенклатура<br/>| И Склад = &amp;Склад) КАК ТоварыНаСкладахОстатки"; <br/></pre>
<p>В данном случае нарушено требование 3 раздела 1.1. Между измерениями  <strong>Номенклатура</strong> и <strong>ХарактеристикаНоменклатуры</strong> в структуре регистра находится измерение <strong>Качество</strong>, которое не задано в условии запроса. Этот запрос также не сможет выполняться оптимально. При его выполнении СУБД выполнит поиск по первым полям индекса, но затем вынужденно просканирует некоторую его часть. Сканирование может привести к существенному увеличению времени выполнения запроса.</p>
<p>Варианты оптимизации: </p>
<ul>
<li>
<div>Проиндексировать измерение <strong>ХарактеристикаНоменклатуры</strong>. В этом случае в индексе первым будет поле <strong>ХарактеристикаНоменклатуры</strong>, а за ним все измерения регистра в порядке их следования в конфигурации. </div>
<li>
<div>Поменять местами измерения <strong>Качество</strong> и <strong>ХарактеристикаНоменклатуры</strong>. Данную рекомендацию следует использовать, если время выполнения запроса критическим образом сказывается на работе системы (например, запрос выполняется достаточно часто, или он выполняется не часто, но время его выполнения неприемлемо большое), т.к. это может замедлить выполнение других запросов, присутствующих в конфигурации.</div></li></li></ul>
<h3>Запрос 3</h3>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| ТоварыНаСкладахОстатки.Склад,<br/>| ТоварыНаСкладахОстатки.Номенклатура,<br/>| ТоварыНаСкладахОстатки.Качество,<br/>| ТоварыНаСкладахОстатки.КоличествоОстаток<br/>|ИЗ<br/>| РегистрНакопления.ТоварыНаСкладах.Остатки(<br/>| ,<br/>| Номенклатура = &amp;Номенклатура<br/>| И Склад = &amp;Склад) КАК ТоварыНаСкладахОстатки";</p>
<p>В этом случае требования соответствия индекса и запроса не нарушены. Данный запрос будет выполнен СУБД оптимальным способом. Следует обратить внимание на то, что порядок следования условий в запросе не обязан совпадать с порядком следования полей в индексе. Это не является проблемой и будет нормально обработано СУБД. </p>
<h3>См. также</h3>
<ul>
<li><a href="https://its.1c.ru/db/metod8dev/content/1590/hdoc" target="_top">Индексы таблиц базы данных</a>
<li><a href="#07_Эффективные условия запросов.htm" target="_top">Эффективные условия запросов</a></li></li></ul></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100654.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Разыменование ссылочных полей составного типа в языке запросов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Разыменование ссылочных полей составного типа в языке запросов</h1><div style="clear: right; float: right;">#std654</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. В языке запросов возможно обращаться не только к полям исходных таблиц запроса, перечисленных в предложении <strong>ИЗ</strong>, но и к полям таблицы, на которую ссылается поле исходной таблицы запроса, если это поле имеет ссылочный тип. Имена полей при этом пишутся "через точку". Применение такой конструкции приводит к неявному соединению с дополнительными таблицами для получения значений полей "через точку". </p>
<p>Например, в запросе</p>
<p class="Programtext">ВЫБРАТЬ <br/>ТоварныеЗапасы.Товар КАК Товар, <br/>ТоварныеЗапасы.Количество КАК Количество, <br/>ТоварныеЗапасы.Товар.Артикул КАК Артикул <br/>ИЗ <br/>РегистрНакопления.ТоварныеЗапасы КАК ТоварныеЗапасы <br/>... </p>
<p>кроме явно указанной в предложении <strong>ИЗ</strong> таблицы <strong>РегистрНакопления.ТоварныеЗапасы</strong> неявно участвует таблица <strong>Справочник.Товары</strong> для получения значения поля <strong>Артикул</strong>. А в случае использования ограничений доступа на уровне записей (RLS), к запросу добавляются ещё и таблицы, участвующие в RLS к таблице <strong>Справочник.Товары</strong>.</p>
<p><a id="1.2" name="1.2"></a>1.2. Большое число исходных таблиц запроса приводит к его усложнению и может значительно увеличивать время его выполнения. Особенно это важно помнить в тех случаях, когда поле таблицы ссылочного типа имеет <a href="#07_Ограничения на использование реквизитов составного типа.htm" target="_top">составной тип</a> и может содержать ссылки на несколько таблиц. В таком случае, получение полей других таблиц "через точку" от такого поля составного типа приведет к соединениию со всеми таблицами, ссылки на которые могут оказаться в данном поле и в RLS к этим таблицам.</p>
<p>Например, в приведенном ниже запросе получение даты регистратора приведет к неявному соединению с таблицами всех документов - регистраторов регистра <strong>ТоварныеЗапасы</strong></p>
<p class="Programtext">ВЫБРАТЬ <br/>... <br/>ТоварныеЗапасы.Регистратор.Дата, <br/>... <br/>ИЗ <br/>РегистрНакопления.ТоварныеЗапасы КАК ТоварныеЗапасы <br/>...</p>
<p>Подобное получение данных "через точку" от ссылочных полей составного типа крайне нежелательно. Каждое исключение из этого правила должно тщательно анализироваться. </p>
<p><a id="2.1" name="2.1"></a>2.1. Следует избегать избыточности при создании полей составных ссылочных типов. Необходимо указывать ровно столько возможных типов для данного поля, сколько необходимо. Не следует без необходимости использовать типы "любая ссылка" или "ссылка на любой документ" и т.п. </p>
<p>Вместо этого следует более тщательно проанализировать прикладную логику и назначить для поля ровно те возможные типы ссылок, которые необходимы для решения задачи.</p>
<p><a id="2.2" name="2.2"></a>2.2. Для того чтобы избежать запросов с использованием большого числа исходных таблиц следует жертвовать компактностью хранения данных ради производительности и помещать соответствующие данные в исходную таблицу запроса. </p>
<p>Например, в регистре <strong>ТоварныеЗапасы</strong> можно завести реквизит <strong>ДатаРегистратора</strong>, заполнять его при проведении документов и использовать затем в запросах:</p>
<p class="Programtext">ВЫБРАТЬ <br/>... <br/>ТоварныеЗапасы.ДатаРегистратора, <br/>... <br/>ИЗ <br/>РегистрНакопления.ТоварныеЗапасы КАК ТоварныеЗапасы <br/>...</p>
<p>Это приведет к дублированию информации и некоторому (незначительному) увеличению ее объема, но может существенно повысить производительность и стабильность работы запроса.</p>
<p><a id="2.3" name="2.3"></a>2.3. При необходимости следует жертвовать компактностью и универсальностью кода ради производительности:</p>
<ul>
<li>Как правило, для выполнения конкретного запроса в данных условиях не нужны все возможные типы данной ссылки. В этом случае, следует ограничить количество возможных типов при помощи функции <strong>ВЫРАЗИТЬ</strong>. 

<li>Если данный запрос является универсальным и используется в нескольких разных ситуациях (где типы ссылки могут быть разными), то можно формировать запрос динамически, подставляя в функцию <strong>ВЫРАЗИТЬ</strong> тот тип, который необходим при данных условиях. <br/></li></li></ul>
<p>Это увеличит объем исходного кода и, возможно, сделает его менее универсальным, но может существенно повысить производительность и стабильность работы запроса.<br/></p>
<p>Например, неправильно:</p>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| Продажи.Регистратор.Номер,<br/>| Продажи.Регистратор.Дата,<br/>| Продажи.Контрагент,<br/>| Продажи.Количество,<br/>| Продажи.Стоимость<br/>|ИЗ<br/>| РегистрНакопления.Продажи КАК Продажи<br/>|ГДЕ ... </p>
<p>В данном запросе используется обращение к реквизитам регистратора. Регистратор является полем составного типа, которое может принимать значения ссылки на один из 56 видов документов.   <br/>SQL-текст этого запроса будет включать 56 левых соединений с таблицами документов. Это может привести к серьезным проблемам производительности при выполнении запроса. <br/></p>
<p>Правильно:</p>
<p>Для решения данной конкретной задачи нет необходимости соединяться со всеми 56 видами документов. Условия запроса таковы, что при его выполнении будут выбраны только движения документов <strong>РеализацияТоваровУслуг</strong> и <strong>ЗаказыПокупателя</strong>. В этом случае можно значительно ускорить работу запроса, ограничив количество соединений при помощи функции <strong>ВЫРАЗИТЬ()</strong>.  </p>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| ВЫБОР<br/>|   КОГДА Продажи.Регистратор ССЫЛКА Документ.РеализацияТоваровУслуг<br/>|     ТОГДА ВЫРАЗИТЬ(Продажи.Регистратор КАК Документ.РеализацияТоваровУслуг).Номер<br/>|   КОГДА Продажи.Регистратор ССЫЛКА Документ.ЗаказПокупателя<br/>|     ТОГДА ВЫРАЗИТЬ(Продажи.Регистратор КАК Документ.ЗаказПокупателя).Номер<br/>| КОНЕЦ КАК Номер,<br/>| ВЫБОР<br/>|   КОГДА Продажи.Регистратор ССЫЛКА Документ.РеализацияТоваровУслуг<br/>|     ТОГДА ВЫРАЗИТЬ(Продажи.Регистратор КАК Документ.РеализацияТоваровУслуг).Дата<br/>|   КОГДА Продажи.Регистратор ССЫЛКА Документ.ЗаказПокупателя<br/>|     ТОГДА ВЫРАЗИТЬ(Продажи.Регистратор КАК Документ.ЗаказПокупателя).Дата<br/>| КОНЕЦ КАК Дата,<br/>| Продажи.Контрагент,<br/>| Продажи.Количество,<br/>| Продажи.Стоимость<br/>|ИЗ<br/>| РегистрНакопления.Продажи КАК Продажи<br/>|ГДЕ<br/>| Продажи.Регистратор ССЫЛКА Документ.РеализацияТоваровУслуг<br/>| ИЛИ Продажи.Регистратор ССЫЛКА Документ.ЗаказыПокупателя";  </p>
<p><br/>Этот запрос является более громоздким и, возможно, менее универсальным (он не будет правильно работать для других ситуаций - когда возможны другие значения типов регистратора). Однако, при его выполнении будет сформирован SQL запрос, который будет содержать всего два соединения с таблицами документов. Такой запрос будет работать значительно быстрее и стабильнее, чем запрос в его первоначальном виде. </p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li>
<div><a href="#10_Самодостаточность регистров.htm" target="_top">Самодостаточность регистров</a></div>
<li>
<div><a href="#07_Ограничения на использование реквизитов составного типа.htm" target="_top">Ограничения на использование реквизитов составного типа</a></div></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100655.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на соединения с вложенными запросами и виртуальными таблицами</h1><div style="clear: right; float: right;">#std655</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. При написании запросов не следует использовать соединения с вложенными запросами. Следует соединять друг с другом только объекты метаданных или временные таблицы. Если запрос использует соединения с вложенными запросами, то его следует переписать с <a href="#10_Использование временных таблиц.htm" target="_top">использованием временных таблиц</a> (не важно с какой стороны соединения находится вложенный запрос), кроме случая, когда вложенный запрос сканирует мало записей. </p>
<p>Если запрос содержит соединения с вложенными запросами, то это может привести к следующим негативным последствиям: <br/></p>
<ul>
<li>Крайне медленное выполнение запроса при слабой загрузке серверного оборудования. Замедление запроса может быть очень значительным (до нескольких порядков); 

<li>Нестабильная работа запроса. При некоторых условиях запрос может работать достаточно быстро, при других - очень медленно; 

<li>Значительная разница по времени выполнения запроса на разных СУБД; 

<li>Повышенная чувствительность запроса к актуальности и полноте статистик. Сразу после полного обновления статистик запрос может работать быстро, но через некоторое время опять замедлиться.</li></li></li></li></ul>
<p>Пример потенциально опасного запроса, использующего соединение с вложенным запросом: </p>
<p class="Programtext">ВЫБРАТЬ ...<br/>ИЗ Документ.РеализацияТоваровУслуг<br/>ЛЕВОЕ СОЕДИНЕНИЕ (<br/>   ВЫБРАТЬ ИЗ РегистрСведений.Лимиты<br/>   ГДЕ ...<br/>   СГРУППИРОВАТЬ ПО ...<br/>) ПО ...</p>
<p>Оптимизатор сервера СУБД (независимо от того, какую СУБД вы используете) не всегда может правильно оптимизировать подобный запрос. В данном случае, проблемой для оптимизатора является выбор правильного способа соединения. Существуют несколько алгоритмов соединения двух выборок. Выбор того или иного алгоритма зависит от того, сколько записей будет содержаться в одной и в другой выборке. В том случае, если вы соединяете две физические таблицы, СУБД может легко определить объем обоих выборок на основании имеющейся статистики. Если же одна из соединяемых выборок представляет собой вложенный запрос, то понять, какое количество записей она вернет, становится очень сложно. В этом случае СУБД может ошибиться с выбором плана, что приведет к катастрофическому падению производительности запроса.</p>
<p><a id="1.2" name="1.2"></a>1.2. Для вышеприведенного примера получится следующий пакетный запрос:</p>
<p class="Programtext">// Создать менеджер временных таблиц<br/>МенеджерВТ = Новый МенеджерВременныхТаблиц;<br/>Запрос = Новый Запрос;<br/>Запрос.МенеджерВременныхТаблиц = МенеджерВТ;<br/>// Текст пакетного запроса<br/>Запрос.Текст = "<br/>  // Заполняем временную таблицу. Запрос к регистру лимитов.<br/>   | ВЫБРАТЬ ...<br/>   | ПОМЕСТИТЬ Лимиты<br/>   | ИЗ РегистрСведений.Лимиты<br/>   | ГДЕ ...<br/>   | СГРУППИРОВАТЬ ПО ...<br/>   | ИНДЕКСИРОВАТЬ ПО ...;<br/>  <br/>  // Выполняем основной запрос с использованием временной таблицы<br/>   ВЫБРАТЬ ...<br/>   ИЗ Документ.РеализацияТоваровУслуг<br/>   ЛЕВОЕ СОЕДИНЕНИЕ Лимиты<br/>   ПО ...;"</p>
<p>Переписывание запроса по приведенной выше методике имеет своей целью упростить работу оптимизатору СУБД. В переписанном запросе все выборки, участвующие в соединениях будут представлять собой физические таблицы, и СУБД сможет легко определить размер каждой выборки. Это позволит СУБД гарантированно выбрать самый быстрый из всех возможных планов. Причем, СУБД будет делать правильный выбор независимо ни от каких условий. Переписанный подобным образом запрос будет работать одинаково хорошо на любых СУБД, что особенно важно при разработке тиражных решений. Кроме того, переписанный подобным образом запрос лучше читается, проще для понимания и отладки. </p>
<p><a id="2" name="2"></a>2. Если в запросе используется соединение с виртуальной таблицей языка запросов <strong>1С:Предприятия</strong> (например, <strong>РегистрНакопления.Товары.Остатки</strong>) и запрос работает с неудовлетворительной производительностью, то рекомендуется вынести обращение к виртуальной таблице в отдельный запрос с сохранением результатов во временной таблице (см. пункт 1.1).</p>
<p><a id="3" name="3"></a>3. Следует избегать неявных подзапросов, которые получаются при использовании вложенных соединений:</p>
<p class="Programtext">ВЫБРАТЬ ...<br/>ИЗ Справочник.Номенклатура <br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыНаСкладах<br/>        ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыОрганизаций<br/>        ПО ...<br/>    ПО ...</p>
<p>Проблема в том, что, по сути, этот запрос аналогичен следующему:</p>
<p class="Programtext">ВЫБРАТЬ ...<br/>ИЗ Справочник.Номенклатура <br/>    ЛЕВОЕ СОЕДИНЕНИЕ (<br/>        ВЫБРАТЬ ...<br/>        ИЗ РегистрНакопления.ТоварыНаСкладах<br/>            ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыОрганизаций<br/>            ПО ...)<br/>    ПО ...</p>
<p>Вместо вложенных соединений, как показано выше, следует использовать последовательные соединения:</p>
<p class="Programtext">ВЫБРАТЬ ...<br/>ИЗ Справочник.Номенклатура <br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыНаСкладах<br/>    ПО ...<br/>    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыОрганизаций<br/>    ПО ...</p>
<p>При этом следует понимать, что вложенные и последовательные соединения – это разные запросы, которые могут дать разный результат.</p>
<p>Если вложенное соединение использовано из предположения, что оно аналогично последовательному соединению, то следует просто переписать его на последовательное соединение.</p>
<p>Если вложенное соединение делается осмысленно, то от него следует отказаться, т.к. оно может существенно снизить производительность, как и соединение с подзапросом. Как и в случае с подзапросом, такое соединение можно заменить на соединение с временной таблицей, но лучше вначале подумать, как заменить его на последовательное соединение, т.к. оно будет работать эффективнее временной таблицы.<br/></p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также </h3><font face="Verdana" size="2">
<ul>
<li><a href="#05_Ограничения на использование вложенных запросов в условии соединения.htm" target="_top">Использование вложенных запросов в условии соединения</a>
<li><a href="#10_Использование временных таблиц.htm" target="_top">Использование временных таблиц</a></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100656.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Ограничения на использование вложенных запросов в условии соединения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на использование вложенных запросов в условии соединения</h1><div style="clear: right; float: right;">#std656</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Не следует использовать вложенные запросы в условии соединения. Это может привести к значительному замедлению запроса и (в отдельных случаях) к его полной неработоспособности на некоторых СУБД. Пример запроса с использованием вложенного запроса в условии соединения:   <br/></p>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>   | ОстаткиТоваров.Номенклатура КАК Номенклатура,<br/>   | Цены.Цена КАК ЦенаПрошлогоМесяца<br/>   |ИЗ<br/>   | РегистрНакопления.ТоварыНаСкладах.Остатки(...) КАК ОстаткиТоваров<br/>   | ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Цена КАК Цены<br/>   | ПО Цены.Номенклатура = ОстаткиТоваров.Номенклатура И<br/>   | Цены.Период В (<br/>   | ВЫБРАТЬ МАКСИМУМ(ЦеныПрошлогоМесяца.Период)<br/>   | ИЗ РегистрСведений.Цена КАК ЦеныПрошлогоМесяца<br/>   | ГДЕ ЦеныПрошлогоМесяца.Период &lt; НАЧАЛОПЕРИОДА(ОстаткиТоваров.Период, МЕСЯЦ)<br/>   | И ЦеныПрошлогоМесяца.Номенклатура = ОстаткиТоваров.Номенклатура<br/>   | )<br/>   | ГДЕ ОстаткиТоваров.Склад = &amp;Склад";  </p>
<p>В данном случае вложенный запрос в условии соединения используется для получения как бы "среза последних" на конец предыдущего периода. Причем, для каждой номенклатуры период может быть разным.<br/>Подобный запрос рекомендуется переписать с использованием временных таблиц. Например, это можно сделать следующим образом: </p>
<p class="Programtext">Запрос.Текст = "<br/>  // Максимальные даты установки цен в прошлом периоде для данных номенклатур<br/>   |ВЫБРАТЬ<br/>   | ОстаткиТоваров.Номенклатура КАК Номенклатура,<br/>   | МАКСИМУМ(Цены.Период) КАК Период<br/>   |ПОМЕСТИТЬ ДатыПоНоменклатурам<br/>   |ИЗ<br/>   | РегистрНакопления.ТоварыНаСкладах.Остатки(..., Склад = &amp;Склад) КАК ОстаткиТоваров<br/>   | ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Цена КАК Цены<br/>   | ПО Цены.Номенклатура = ОстаткиТоваров.Номенклатура И<br/>   | Цены.Период &lt; НАЧАЛОПЕРИОДА(ОстаткиТоваров.Период, МЕСЯЦ)<br/>   | СГРУППИРОВАТЬ ПО ОстаткиТоваров.Номенклатура;<br/>  <br/>  // Выбрать данные по цене за найденный период<br/>   |ВЫБРАТЬ<br/>   | ДатыПоНоменклатурам.Номенклатура КАК Номенклатура,<br/>   | Цены.Цена КАК ЦенаПрошлогоМесяца<br/>   |ИЗ ДатыПоНоменклатурам<br/>   | ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Цена КАК Цены<br/>   | ПО Цены.Номенклатура = ОстаткиТоваров.Номенклатура И<br/>   | Цены.Период = ДатыПоНоменклатурам.Период";</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm" target="_top">Ограничения на соединения с вложенными запросами и виртуальными таблицами</a>
<li><a href="#10_Использование временных таблиц.htm" target="_top">Использование временных таблиц</a></li></li></ul>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100657.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Обращения к виртуальным таблицам.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обращения к виртуальным таблицам</h1><div style="clear: right; float: right;">#std657</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. При использовании виртуальных таблиц в запросах, следует передавать в параметры таблиц все условия, относящиеся к данной виртуальной таблице. Не рекомендуется обращаться к виртуальным таблицам при помощи условий в секции <strong>ГДЕ</strong> и т.п. </p>
<p>Такой запрос будет возвращать правильный (с точки зрения функциональности) результат, но СУБД будет намного сложнее выбрать оптимальный план для его выполнения. В некоторых случаях это может привести к ошибкам оптимизатора СУБД и значительному замедлению работы запроса. </p>
<p>Например, следующий запрос использует секцию <strong>ГДЕ</strong> запроса для выборки из виртуальной таблицы:</p>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| Номенклатура<br/>|ИЗ<br/>| РегистрНакопления.ТоварыНаСкладах.Остатки()<br/>|ГДЕ<br/>| Склад = &amp;Склад";</p>
<p>Возможно, что в результате выполнения этого запроса сначала будут выбраны все записи виртуальной таблицы, а затем из них будет отобрана часть, соответствующая заданному условию.</p>
<p>Рекомендуется ограничивать количество выбираемых записей на самом раннем этапе обработки запроса. Для этого следует передать условия в параметры виртуальной таблицы. </p>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| Номенклатура<br/>|ИЗ<br/>| РегистрНакопления.ТоварыНаСкладах.Остатки(, Склад = &amp;Склад)";</p>
<p><a id="2.1" name="2.1"></a>2.1. При обращении к виртуальной таблице следует передавать в условия наиболее простые конструкции, например, "Измерение = Значение". Не рекомендуется использовать подзапросы и соединения(*) в параметрах виртуальной таблицы, так как это приводит к медленной работе запроса.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>* Примечание: как явные соединения в подзапросах, так и неявные – при обращении к полям «через точку» от ссылки и соединения, добавляемые из ограничений доступа к данным (RLS), предусмотренных в ролях конфигурации. </em></p></blockquote>
<p><a id="2.2" name="2.2"></a>2.2. При необходимости использовать подзапросы рекомендуется соблюдать следующие условия:</p>
<ul>
<li>
<div>в подзапросе только одна таблица, нет соединений с другими таблицами;</div>
<li>
<div>если в подзапросе таблица табличной части (например, <strong>Документ.Накладная.СписокТоваров</strong>), то не должно быть обращения к реквизитам таблицы-шапки (<strong>Накладная.Проведен</strong>);</div>
<li>
<div>если в подзапросе таблица, у которой могут быть табличные части (например, <strong>Документ.Накладная</strong>), то не должно быть обращений к табличным частям (например, <strong>ГДЕ Документ.Накладная.СписокТоваров.Номенклатура = "1"</strong>);</div>
<li>
<div>если в подзапросе временная таблица, то не должно быть условий (раздела <strong>ГДЕ</strong>);</div>
<li>
<div>если в подзапросе постоянная таблица, то условие (раздел <strong>ГДЕ</strong>) допустимо, только если условие выполняется для 80% (или более) случаев; отсутствие условия означает выполнение для 100% случаев.</div>
<li>
<div>если в подзапросе постоянная таблица, то в ограничениях доступа к данным (RLS) не должно содержатся подзапросов и соединений (допускаются только простые условия вида <strong>ГДЕ Реквизит = Значение</strong>,<strong> "ГДЕ Истина"</strong>). Например, при использовании стандартных шаблонов RLS, входящих в состав подсистемы «Управление доступом» <strong>Библиотеки стандартных подсистем</strong> к запросу неявно добавляется конструкция Exists с несколькими подзапросами и соединениями. В таких случаях следует переписать исходный запрос с использованием временной таблицы или привилегированного режима.</div></li></li></li></li></li></li></ul>
<p>Например, неправильно:</p>
<p class="Programtext">... ИЗ<br/>РегистрНакопления.ТоварыКОтгрузке.Остатки(<br/>&amp;ДатаОтгрузки,<br/>&amp;ОтображениеРаспоряжений<br/> И ДокументОтгрузки.Склад = &amp;Склад       -- неявное соединение «через точку»<br/> ИЛИ ДокументОтгрузки В<br/>  (ВЫБРАТЬ                               -- подзапрос с соединением<br/>   Распоряжения.Распоряжение КАК ДокументОтгрузки<br/>  ИЗ<br/>  Документ.ЗаданиеНаПеревозку.Распоряжения КАК Распоряжения –- доступ к этому документу ограничен по сложному RLS, который неявно добавляет еще пару соединений<br/>  ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЗаданиеНаПеревозку.СкладыПогрузки КАК  СкладыПогрузки <br/>  ПО<br/>  Распоряжения.Ссылка = СкладыПогрузки.Ссылка<br/>  И СкладыПогрузки.Склад = &amp;Склад<br/>  И Распоряжения.Ссылка.Проведен         –- здесь и ниже обращения к реквизитам шапки<br/>  И Распоряжения.Ссылка.Статус В (...)))</p>
<p>правильно:</p>
<p class="Programtext">... ИЗ<br/>РегистрНакопления.ТоварыКОтгрузке.Остатки(<br/> &amp;ДатаОтгрузки,<br/> Склад = &amp;Склад                         -- теперь это реквизит регистра<br/> ИЛИ ДокументОтгрузки В<br/> (ВЫБРАТЬ<br/>  ЗаданияНаПеревозку.Распоряжение<br/>  ИЗ<br/>  ВременнаяТаблицаЗаданийНаПеревозку КАК ЗаданияНаПеревозку))  -- выборка из временной таблицы без условий</p>
<p><a id="2.3" name="2.3"></a>2.3. В случае, если нужно использовать несколько условий с подзапросами, следует выбрать одно, удовлетворяющее условиям выше и отфильтровывающее максимальное количество записей. Остальные условия следует накладывать на внешний запрос.</p>
<p>Кроме того, в ряде случаев можно обойтись и без перемещения условий на внешний запрос, если применять временные таблицы. <br/>Например, вместо условия (неправильно):</p>
<p class="Programtext">Номенклатура В (...) И Характеристика В (...) И Серия В(...)</p>
<p>правильно:</p>
<p class="Programtext">(Номенклатура, Характеристика, Серия) В (ВЫБРАТЬ Номенклатура, Характеристика, Серия ИЗ ВременнаяТаблицаТоваров)</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li>
<div><a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top">Разыменование ссылочных полей составного типа в языке запросов</a> </div>
<li>
<div><a href="https://its.1c.ru/db/metod81/content/5457/hdoc" target="_top">Использование параметра Условие при обращении к виртуальной таблице</a> (статья на ИТС)</div>
<li>
<div><a href="#09_Эффективное обращение к виртуальной таблице «Остатки».htm" target="_top">Эффективное обращение к виртуальной таблице «Остатки»<br/></a></div></li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100658.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Эффективные условия запросов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Эффективные условия запросов</h1><div style="clear: right; float: right;">#std658</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Условия запросов должны быть написаны оптимально с точки зрения производительности, чтобы исключить существенное увеличение длительности выполнения запросов при увеличении объема данных в таблицах.</p>
<p>Поля основного условия в секциях ГДЕ, ПО и виртуальных таблицах должны быть проиндексированы. Основное условие может быть уточнено дополнительным условием, но объединять их следует только по И.</p>
<p>Важно понимать структуру индексов, которые получаются при индексировании полей и учитывать их при построении основного условия (см. <a href="https://its.1c.ru/db/metod8dev/content/1590/hdoc" target="_top">Индексы таблиц базы данных</a>, <a href="#02_Несоответствие индексов и условий запроса.htm" target="_top">Несоответствие индексов и условий запроса</a>). Например, при индексировании разных полей одного объекта метаданных создаются разные индексы, а не один в который помещаются все проиндексированные поля и использоваться основным условием будет только один из них.</p>
<p><strong>Основное условие</strong> – это то, что позволяет ограничить объем выборки больше других условий и его составляющие объединены по И.</p>
<p><strong>Дополнительное условие</strong> – это то, что объединено с основным условием по И и его составляющие могут быть любой сложности (НЕ, &lt;&gt;, +, -, /, *, функции и т.п.).</p>
<p>Основное условие должно содержать только такие операции, которые позволяют выполнять поиск по индексу:</p>
<ul>
<li>для первого и всех используемых полей индекса, кроме последнего, только = и И; 

<li>для последнего или единственного используемого поля индекса допустимо использовать =, &gt;, &lt;, &gt;=, &lt;=, ПОДОБНО, МЕЖДУ, В, ИЛИ (приводимое к В); 

<li>нельзя использовать арифметические операции, функции, отрицания и неравенства.</li></li></li></ul>
<p>Для условий в ГДЕ или в виртуальной таблице следует индексировать поля в основной таблице, из которой выполняется выборка.</p>
<p>Для условий в ПО ЛЕВОГО соединения следует индексировать поля в правой таблице.</p>
<p>Для условий в ПО ВНУТРЕННЕГО соединения следует индексировать поля в таблице с большим количеством записей.</p>
<p>Основное условие желательно строить таким образом, чтобы оно использовало индексы, которые автоматически создает платформа.</p>
<p><a id="1.1" name="1.1"></a>1.1. Описанные выше требования допустимо не соблюдать, если в таблицах, из которых выполняется выборка, или с которыми выполняется соединение, всегда будет мало данных (менее 1000 записей) или запросы с такими условиями выполняются очень редко.</p>
<p><a id="1.2" name="1.2"></a>1.2. Если записей в таблице много и выполнить указанные выше требования невозможно, то можно попробовать:</p>
<ul>
<li>преобразовать условия (см. п. 3, п. 4); 

<li>добавить в таблицу заранее вычисляемые индексированные поля, которые заполняются при записи в нее и используются вместо сложного условия; 

<li>если указанные выше рекомендации не помогли, то следует пересмотреть архитектуру решения так, чтобы можно было выполнить эти условия.</li></li></li></ul>
<p><a id="2" name="2"></a>2. Оператор ИЛИ</p>
<p><a id="2.1" name="2.1"></a>2.1. В основном условии оператор ИЛИ можно использовать только для последнего из используемых или единственного поля индекса, когда оператор ИЛИ можно заменить на оператор В.</p>
<p>ПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле = &amp;Значение1<br/>    ИЛИ Таблица.Поле = &amp;Значение2</p>
<p>т.к. можно переписать при помощи оператора В (специально переписывать не нужно, можно оставить, как есть):</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле В (&amp;Значения)</p>
<p>НЕПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 = &amp;Значение1<br/>    ИЛИ Таблица.Поле2 = &amp;Значение2</p>
<p>нельзя переписать при помощи "В", но можно переписать при помощи "ОБЪЕДИНИТЬ ВСЕ" (каждое поле Поле1 и Поле2 должны быть проиндексированы):</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 = &amp;Значение1<br/><br/>ОБЪЕДИНИТЬ ВСЕ<br/><br/>ГДЕ<br/>    Таблица.Поле2 = &amp;Значение1</p>
<p>Примечание: заменить ИЛИ на ОБЪЕДИНИТЬ ВСЕ можно не всегда, убедитесь, что результат будет действительно тем же, что и при ИЛИ, перед тем, как применять.</p>
<p><a id="2.2" name="2.2"></a>2.2. В дополнительном условии оператор ИЛИ можно использовать без ограничений.</p>
<p>ПРАВИЛЬНО 1:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 = &amp;Значение1 // Основное условие (использует индекс)<br/>    И // Дополнительное условие (можно использовать ИЛИ)<br/>    (Таблица.Поле2 = &amp;Значение2 ИЛИ Таблица.Поле3 = &amp;Значение3)</p>
<p>ПРАВИЛЬНО 2:</p>
<p class="Programtext">ГДЕ<br/>    (Таблица.Поле1 = &amp;Значение1 ИЛИ Таблица.Поле1 = &amp;Значение2)<br/>    И<br/>    (Таблица.Поле2 = &amp;Значение3 ИЛИ Таблица.Поле2 = &amp;Значение4)</p>
<p>т.к. можно переписать при помощи В (специально переписывать не нужно, можно оставить, как есть):</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 В (&amp;Значения1)   // Основное условие<br/>    И Таблица.Поле2 В (&amp;Значения2) // Дополнительное условие (или наоборот)</p>
<p><a id="3" name="3"></a>3. Оператор ПОДОБНО</p>
<p>В основном условии для последнего из используемых или единственного поля индекса можно использовать оператор ПОДОБНО. Функции работы со строками, в некоторых случаях, можно привести к оператору ПОДОБНО и использовать его в основном условии.</p>
<p>НЕПРАВИЛЬНО 1:</p>
<p class="Programtext">ГДЕ<br/>    ПОДСТРОКА(Таблица.Поле, 1, 6) = "строка"</p>
<p>ПРАВИЛЬНО 1:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле ПОДОБНО "строка%"</p>
<p>НЕПРАВИЛЬНО 2:</p>
<p class="Programtext">ГДЕ<br/>    ПОДСТРОКА(Таблица.Поле, 3, 6) = "строка"</p>
<p>НЕПРАВИЛЬНО 2:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле ПОДОБНО "__строка%" // Литерал не должен начинаться с символов "_" или "%"</p>
<p>ПРАВИЛЬНО 2:</p>
<p>Добавить новое вычисляемое при записи в таблицу поле, которое будет содержать фрагмент ПОДСТРОКА(Таблица.Поле, 3, 6). Проиндексировать это поле и искать по следующему условию:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.ВычисляемоеПоле ПОДОБНО "строка%"</p>
<p><a id="4" name="4"></a>4. Оператор МЕЖДУ</p>
<p>В основном условии для последнего из используемых или единственного поля индекса можно использовать оператор МЕЖДУ. Функции работы с датой, в некоторых случаях, можно привести к оператору МЕЖДУ и использовать его в основном условии.</p>
<p>НЕПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    МЕСЯЦ(Таблица.Поле) = 1</p>
<p>ПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле МЕЖДУ &amp;ДатаНачалаМесяца И &amp;ДатаКонцаМесяца</p>
<p>Например, ДатаНачалаМесяца=01.01.2016, ДатаКонцаМесяца=31.01.2016 23:59:59</p>
<p><a id="5" name="5"></a>5. Выражение ВЫБОР</p>
<p>Выражение ВЫБОР можно использовать только в дополнительных условиях.</p>
<p>ПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 = &amp;Значение1 // Основное условие (использует индекс)<br/>    И // Дополнительное условие (можно использовать ВЫБОР)<br/>    ВЫБОР<br/>        КОГДА Таблица.Поле2 = &amp;Значение2<br/>            ТОГДА Таблица.Поле3 = &amp;Значение3<br/>        ИНАЧЕ Таблица.Поле4 = &amp;Значение4<br/>    КОНЕЦ</p>
<p>НЕПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    ВЫБОР // Основное условие (поиск по индексу использоваться не будет)<br/>        КОГДА Таблица.Поле2 = &amp;Значение2<br/>            ТОГДА Таблица.Поле3 = &amp;Значение3<br/>        ИНАЧЕ Таблица.Поле4 = &amp;Значение4<br/>    КОНЕЦ</p>
<p><a id="6" name="6"></a>6. Арифметические операции</p>
<p>Арифметические операции над полями можно выполнять только в дополнительных условиях.</p>
<p>ПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 = &amp;Значение1 // Основное условие (использует индекс)<br/>    И // Дополнительное условие (можно выполнять арифметические операции)<br/>    Таблица.Поле2 - 1 &gt; 0</p>
<p>НЕПРАВИЛЬНО:</p>
<p class="Programtext">ГДЕ<br/>    Таблица.Поле1 - 1 &gt; 0 // Основное условие (поиск по индексу невозможен)</p>
<p><a id="7" name="7"></a>7. Если в конфигурации описано несколько ролей с разным ограничением доступа на уровне записей (RLS), то не следует назначать одному пользователю более одной такой роли. Если один пользователь будет включен, например, в две роли с RLS - бухгалтер и кадровик, то при выполнении всех его запросов к их условиям будут добавляться условия обоих RLS с использованием логического ИЛИ. Таким образом, даже если в исходном запросе нет условия ИЛИ, оно появится там после добавления условий RLS. Такой запрос так же может выполняться неоптимально - медленно и с избыточными блокировками.</p>
<p>Вместо этого следует:</p>
<ul>
<li>
<div>Пересмотреть состав ролей таким образом, чтобы к одному объекту метаданных давала доступ только одна роль (на чтение, запись и т.п.);</div>
<li>
<div>При необходимости разработки нескольких ролей, предоставляющих доступ к одному объекту метаданных, задавать в них одинаковые условия RLS. В этом случае к тексту запроса будет добавлено только одно условие, без объединения по ИЛИ;</div>
<li>
<div>Либо если это допустимо с точки зрения прикладной области, создать "смешанную" роль - "бухгалтер-кадровик" и прописать ее RLS таким образом, чтобы избежать использования ИЛИ в условии, а пользователя включить в эту одну роль.<font face="Verdana" size="2"></font></div></li></li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также<font face="Verdana" size="2"></font></h3>
<li><a href="https://its.1c.ru/db/metod8dev/content/5842/hdoc/_top/rls" target="_top">Типичные причины неоптимальной работы запросов и методы оптимизации</a> (статья на ИТС) 

<li><a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a>
<li><a href="#01_Настройка ролей и прав доступа.htm" target="_top">Настройка ролей и прав доступа</a><br/></li></li></li></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100708.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Разрешение итогов для периодических регистров сведений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Разрешение итогов для периодических регистров сведений</h1><div style="clear: right; float: right;">#std708</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><font color="#008000"><em>Методическая рекомендация (полезный совет)</em></font></p>
<p><a id="1.1" name="1.1"></a>1.1. Для периодических регистров сведений рекомендуется разрешить итоги, если выполнены все следующие условия:</p>
<ul>
<li>в регистре ожидается большой объем данных (например, оправданно для регистра с ценами номенклатуры; но не имеет смысла для регистра с курсами валют); 

<li>в конфигурации предусмотрены частотные запросы к срезам последних на текущий момент времени и/или к срезам первых для получения актуальных данных (т.е. когда не задан период в параметрах виртуальных таблиц <strong>СрезПервых </strong>и <strong>СрезПоследних</strong>); 

<li>при этом остальные условия для виртуальных таблиц <strong>СрезПервых</strong> и <strong>СрезПоследних</strong> задаются только на значения измерений (и разделителей, находящихся в режиме <strong>Независимо и совместно</strong>); 

<li>в ограничениях доступа к данным регистра используются только измерения (и разделители, находящиеся в режиме <strong>Независимо и совместно</strong>).</li></li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Полный список всех условий, когда в запросах задействуются итоги регистра сведений, см. в </em><a href="https://its.1c.ru/db/v83doc/content/63/hdoc/IssOgl3_5.14.1.1.Общаяинформацияорегистрахсведений" target="_top"><em>документации к платформе 1С:Предприятие</em></a><em>.</em></p></blockquote>
<p>Например, если в конфигурации предусмотрены часто выполняющиеся запросы к регистру <strong>ЦеныНоменклатуры</strong> для получения текущих цен номенклатуры:</p>
<p class="Programtext">ВЫБРАТЬ<br/> Номенклатура.Артикул КАК Артикул,<br/> ЦеныНоменклатуры.Цена КАК Цена,<br/> ...<br/>ИЗ<br/> Справочник.Номенклатура КАК Номенклатура<br/> ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних(, ВидЦены =  &amp;ВидЦены) КАК ЦеныНоменклатуры<br/>ПО ЦеныНоменклатуры.Номенклатура = Номенклатура.Ссылка<br/> ...</p>
<p>то при соблюдении всех остальных условий, перечисленных выше, установка свойства <strong>Разрешить итоги: срез последних</strong> существенно ускорит выполнение таких запросов, засчет того, что выборка будет выполняться напрямую из дополнительных таблиц, в которых хранятся только последние значения (для среза последних) и первые значения (для среза первых).</p>
<p><a id="1.2" name="1.2"></a>1.2. Кроме того, следует рассмотреть альтернативные варианты по пересмотру запросов к регистру таким образом, чтобы эти условия выполнялись.</p>
<p>Например, если в некоторых случаях данные в регистр <strong>ЦеныНоменклатуры</strong> записываются будущей датой, а при подборе товаров к этому регистру выполняется запрос всегда на текущую дату (дата явно задана в параметре виртуальной таблицы <strong>СрезПоследних</strong>), то итоги не будут ускорять выполнение таких запросов. Поскольку итоги строятся только для первых и последних записей регистра. </p>
<p>Однако если при открытии формы подбора товаров анализировать, есть ли регистраторы с будущей датой, и если их нет – выполнять другой запрос к срезу последних без установки даты, то такой запрос будет работать быстрее.</p>
<p><a id="2" name="2"></a>2. Во всех остальных случаях, не следует разрешать итоги для периодических регистров сведений. Прежде всего, если</p>
<ul>
<li>чаще всего (всегда) к виртуальным таблицам среза первых/последних периодического регистра сведений выполняются запросы на конкретный период (например, на дату документа). 

<li>в условиях для виртуальных таблиц <strong>СрезПервых</strong> и <strong>СрезПоследних</strong> чаще всего (всегда) используются подзапросы и соединения (обращения «через точку» к полям связанных таблиц). Например, в этом случае:</li></li></ul>
<p class="Programtext">ВЫБРАТЬ<br/>...<br/>ИЗ<br/>РегистрСведений.КурсыВалют.СрезПоследних(, Валюта.Код = &amp;КодВалютыСклада) КАК КурсыВалют</p>
<p><a id="3" name="3"></a>3. Не требуется предусматривать в конфигурации отдельного механизма пересчета итогов, так как актуализация таблиц  итогов выполняется автоматически при каждой записи набора записей в регистр.</p>
<p>Исключение составляют отдельные случаи, когда актуализация итогов при записи отключалась принудительно с помощью вызова метода <strong>РегистрСведенийМенеджер.УстановитьИспользованиеИтогов(Ложь)</strong>.<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100733.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Эффективное обращение к виртуальной таблице «Остатки».htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Эффективное обращение к виртуальной таблице «Остатки»</h1><div style="clear: right; float: right;">#std733</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>Эффективность обращения к виртуальным таблицам во многом зависит от того, как построено обращение к этой таблице. Стандарт <a href="#06_Обращения к виртуальным таблицам.htm" target="_top">Обращения к виртуальным таблицам</a> описывает общие требования и рекомендации по работе с виртуальными таблицами. В этом стандарте изложены дополнительные рекомендации по повышению эффективности обращения к виртуальной таблице <strong>Остатки</strong> регистров накопления и бухгалтерии.</p>
<p>При обращении к любой виртуальной таблице платформа 1С:Предприятие генерирует запрос к СУБД, содержащий вложенный запрос. Самым эффективным вложенным запросом для чтения остатков будет чтение хранимой таблицы текущих остатков без применения группировки по измерениям. Платформа <strong>1С:Предприятие</strong> сгенерирует такой запрос, если будут соблюдены все перечисленные ниже условия:<br/></p>
<ul>
<li>
<div>получение остатков ведется без указания даты;</div>
<li>
<div>не используется разделение итогов (необходимо учитывать при использовании такого режима может снижаться параллельность записи в регистр. См. также <a href="#04_Режим разделения итогов для регистров накопления.htm" target="_top">Режим разделения итогов для регистров накопления</a>, <a href="#03_Режим разделения итогов для регистров бухгалтерии.htm" target="_top">Режим разделения итогов для регистров бухгалтерии</a>);</div>
<li>
<div>внешний по отношению к виртуальной таблице запрос использует все измерения (в предложении ВЫБРАТЬ или в условиях соединения).</div></li></li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>Пример.</h3>
<p>Регистр накопления ОстаткиТовара содержит два измерения: Склад и Номенклатура, а также ресурс Количество. Необходимо запросом получить список всей номенклатуры, с указанием количества товаров на конкретном складе.</p>
<h3>НЕПРАВИЛЬНО</h3>
<p class="Programtext">ВЫБРАТЬ<br/> СпрНоменклатура.Ссылка КАК Товар, <br/> ЕСТЬNULL(ОстаткиТоваров.Остаток, 0 ) КАК Остаток<br/>ИЗ<br/>Справочник.Номенклатура КАК СпрНоменклатура<br/> ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваров.Остатки(&amp;СегодняшняяДата, Склад = &amp;Склад) КАК ОстаткиТоваров<br/>ПО ОстаткиТоваров.Номенклатура = СпрНоменклатура.Ссылка</p>
<p>В этом запросе:</p>
<ul>
<li>
<div>в условия виртуальной таблицы передана дата, поэтому будет использована не только хранимые таблицы остатков, но и таблица движений. Т.к. необходимо получить текущие остатки, то дату в запрос передавать не нужно;</div>
<li>
<div>измерение <strong>Склад</strong> не используется во внешнем по отношению к виртуальной таблице запросе, поэтому вложенный запрос остатков будет содержать группировку этому измерению.</div></li></li></ul>
<h3>ПРАВИЛЬНО</h3>
<p class="Programtext">ВЫБРАТЬ<br/> СпрНоменклатура.Ссылка КАК Товар, <br/> ЕСТЬNULL(ОстаткиТоваров.Остаток, 0 ) КАК Остаток<br/>ИЗ<br/>Справочник.Номенклатура КАК СпрНоменклатура<br/> ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваров.Остатки(, Склад = &amp;Склад) КАК ОстаткиТоваров<br/>ПО ОстаткиТоваров.Номенклатура = СпрНоменклатура.Ссылка<br/> И ОстаткиТоваров.Склад = &amp;Склад<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/200/i8100777.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Использование временных таблиц.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование временных таблиц</h1><div style="clear: right; float: right;">#std777</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В общем случае, временные таблицы рекомендуется использовать для повышения производительности и стабильности выполнения запросов. Их можно использовать для других целей (например, для улучшения архитектуры кода), но при этом, нужно понимать, что это может в некоторых случаях приводить к снижению производительности.</p>
<p><a id="2" name="2"></a>2. Есть ситуации, когда временные таблицы не следует создавать или создание временных таблиц необходимо минимизировать.</p>
<p><a id="2.1" name="2.1"></a>2.1. Не следует создавать временные таблицы с очень большим объемом данных (сотни тысяч записей). Иначе это приведет к существенному снижению производительности при записи и исчерпанию свободного места на диске. Если алгоритму требуется работать с большим объемом данных, то он должен выполнять обработку этих данных порциями.</p>
<p><a id="2.2" name="2.2"></a>2.2. Следует максимально ограничивать количество данных, выбираемых во временную таблицу. Не следует помещать во временную таблицу больше данных, чем требуется последующим запросам.</p>
<p><a id="2.3" name="2.3"></a>2.3. Не следует помещать во временную таблицу поля, которые не используются в последующих запросах, т.к. время и место для их размещения тратится впустую.</p>
<p><a id="2.4" name="2.4"></a>2.4. Не следует создавать и удалять временные таблицы в цикле, если можно создать одну временную таблицу до выполнения цикла.</p>
<p><a id="2.5" name="2.5"></a>2.5. Не следует копировать одну временную таблицу в другую только ради того, чтобы переименовать первую таблицу во вторую. Вместо этого, следует передавать имя таблицы.</p>
<p><a id="3" name="3"></a>3. Временные таблицы следует всегда индексировать, когда это даст прирост производительности.</p>
<p><a id="3.1" name="3.1"></a>3.1. Индекс следует строить если:</p>
<p><a id="3.1.1" name="3.1.1"></a>3.1.1. Большая временная таблица участвует в соединении (не важно, с какой стороны). В индекс следует добавлять поля, участвующие в условии <strong>ПО</strong>.</p>
<p><a id="3.1.2" name="3.1.2"></a>3.1.2. Обращение к временной таблице выполняется в подзапросе конструкции логического оператора <strong>В (...)</strong>. В индекс следует добавлять поля временной таблицы из списка выбора, соответствующие перечисленным с левой стороны логического оператора <strong>В (...)</strong>.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также:</em> стандарт 652 «<a href="#02_Несоответствие индексов и условий запроса.htm" target="_top">Несоответствие индексов и условий запроса</a>».</p></blockquote>
<p><a id="3.2" name="3.2"></a>3.2. Маленькие временные таблицы индексировать не нужно (менее 1000 записей).</p>
<p><a id="3.3" name="3.3"></a>3.3. Если условий выбора или соединений с временной таблицей больше одного, и только одно из них проверяется часто, то индекс следует строить для наиболее часто проверяемого условия.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также </h3><font face="Verdana" size="2">
<ul>
<li><a href="#05_Ограничения на использование вложенных запросов в условии соединения.htm" target="_top">Использование вложенных запросов в условии соединения</a>
<li><a href="#04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm" target="_top">Ограничения на соединения с вложенными запросами и виртуальными таблицами</a> </li></li></ul></font></body><hr>
<h1 id='03_Обработка и модификация данных'>Обработка и модификация данных</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/300/i8100783.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Транзакции_ правила использования.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Транзакции: правила использования</h1><div style="clear: right; float: right;">#std783</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p id="chapter1">Транзакции применяются для целостного изменения связанных данных, т.е. все действия с базой данных, выполняемые в рамках транзакции или выполняются целиком, или целиком откатываются.</p>
<p><a id="1" name="1"></a>1. Использование транзакций в <strong>1С:Предприятии</strong> обладает рядом особенностей:</p>
<ul>
<li>
<div>не поддерживаются вложенные транзакции (см. подробнее <a href="https://its.1c.ru/db/metod8dev/content/2334/hdoc" target="_top">Вложенность транзакций</a>);</div>
<li>
<div>при возникновении исключения в общем случае транзакция не может быть зафиксирована – при этом не важно, было ли это исключение обработано или нет (см. подробнее <a href="https://its.1c.ru/db/metod8dev/content/2313/hdoc" target="_top">Ошибки базы данных и транзакции</a>, <a href="https://its.1c.ru/db/metod8dev/content/2733/hdoc" target="_top">Особенности работы объектов при отмене транзакции</a>);</div>
<li>
<div>транзакция может быть инициирована явно в прикладном коде при использовании метода <strong>НачатьТранзакцию</strong>. Так же платформа <strong>1С:Предприятие</strong> неявным образом начинает транзакцию при любой записи в базу данных (см. подробнее <a href="https://its.1c.ru/db/v8313doc/bookmark/dev/TI000000527" target="_top">Документация платформы. Механизм транзакций</a>);</div></li></li></li></ul>
<p id="chapter1.2">Эти особенности накладывают ряд требований к написанию кода с использованием транзакций. Несоблюдение этих требований может приводить к возникновению ошибок вида «В этой транзакции уже происходили ошибки», которые может быть крайне сложно воспроизвести и отладить.</p>
<p><a id="1.1" name="1.1"></a>1.1. Поскольку исключение не отменяет транзакцию сразу, но запрещает успешное завершение транзакции, то все вызовы <strong>НачатьТранзакцию</strong> с одной стороны и <strong>ЗафиксироватьТранзакцию</strong> или <strong>ОтменитьТранзакцию</strong> с другой стороны должны быть парными.</p>
<p><a id="1.2" name="1.2"></a>1.2. Начало транзакции и ее фиксация (отмена) должны происходить в контексте одного метода</p>
<p><font color="#008000">Правильно</font></p>
<p class="Programtext">Процедура ЗаписатьДанныеВИБ()</p>
<p class="Programtext">    НачатьТранзакцию();</p>
<p class="Programtext">    Попытка<br/>        ... // чтение или запись данных<br/>        ДокументОбъект.Записать()<br/>        ЗафиксироватьТранзакцию();<br/>    Исключение<br/>        ОтменитьТранзакцию();<br/>        ... // дополнительные действия по обработке исключения<br/>    КонецПопытки;</p>
<p class="Programtext">КонецПроцедуры</p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">Процедура ЗаписатьДанныеВИБ()<br/> <br/>    НачатьТранзакцию();<br/>    ЗаписатьДокумент();</p>
<p class="Programtext">КонецПроцедуры;</p>
<p class="Programtext">Процедура ЗаписатьДокумент()</p>
<p class="Programtext">    Попытка<br/>        ... // чтение или запись данных<br/>        ДокументОбъект.Записать()<br/>        ЗафиксироватьТранзакцию();<br/>    Исключение<br/>        ОтменитьТранзакцию();<br/>    ... // дополнительные действия по обработке исключения<br/>    КонецПопытки;</p>
<p class="Programtext">КонецПроцедуры</p>
<p><a id="1.3" name="1.3"></a>1.3. При использовании транзакций необходимо предусмотреть обработку исключений, придерживаясь следующих правил:</p>
<ul>
<li>
<div>метод <strong>НачатьТранзакцию</strong> должен быть за пределами блока <strong>Попытка-Исключение</strong> непосредственно перед оператором <strong>Попытка</strong>;</div>
<li>
<div>все действия, выполняемые после вызова метода <strong>НачатьТранзакцию</strong>, должны находиться в одном блоке Попытка, в том числе чтение, блокировка и обработка данных;</div>
<li>
<div>метод <strong>ЗафиксироватьТранзакцию</strong> должен идти последним в блоке <strong>Попытка</strong> перед оператором <strong>Исключение</strong>, чтобы  гарантировать, что после <strong>ЗафиксироватьТранзакцию</strong> не возникнет исключение; </div>
<li>
<div>необходимо предусмотреть обработку исключений – в блоке <strong>Исключение</strong> нужно сначала вызвать метод <strong>ОтменитьТранзакцию</strong>, а затем выполнять другие действия, если они требуются;</div>
<li>
<div>рекомендуется в блоке <strong>Исключение</strong> делать запись в <a href="#10_Использование Журнала регистрации.htm" target="_top">журнал регистрации</a>;</div>
<li>
<div>при использовании вложенных транзакций (см. п. 1.4) в конце блока <strong>Исключение</strong> рекомендуется добавить оператор <strong>ВызватьИсключение</strong>.  В противном случае исключение не будет передано выше по стеку вызовов, там не сработает обработка исключения, внешняя транзакция не будет явным образом отменена и платформа вызовет исключение «В данной транзакции происходила ошибка»</div></li></li></li></li></li></li></ul>
<p>Пример</p>
<p class="Programtext">НачатьТранзакцию();<br/>Попытка<br/>    БлокировкаДанных = Новый БлокировкаДанных;<br/>    ЭлементБлокировкиДанных = БлокировкаДанных.Добавить("Документ.ПриходнаяНакладная");<br/>    ЭлементБлокировкиДанных.УстановитьЗначение("Ссылка", СсылкаДляОбработки);<br/>    ЭлементБлокировкиДанных.Режим = РежимБлокировкиДанных.Исключительный;<br/>    БлокировкаДанных.Заблокировать();</p>
<p class="Programtext">    ... // чтение или запись данных<br/><br/>    ДокументОбъект.Записать();</p>
<p class="Programtext">    ЗафиксироватьТранзакцию();<br/>Исключение<br/>    ОтменитьТранзакцию();</p>
<p class="Programtext">    ЗаписьЖурналаРегистрации(НСтр("ru = 'Выполнение операции'"),<br/>        УровеньЖурналаРегистрации.Ошибка,<br/>        ,<br/>        ,<br/>        ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));</p>
<p class="Programtext">    ВызватьИсключение; // есть внешняя транзакция</p>
<p class="Programtext">КонецПопытки;</p>
<p><a id="1.4" name="1.4"></a>1.4. Использование вложенных транзакций приводит к усложнению кода. Принимая решение об использовании этой возможности, нужно очень взвешенно оценить решаемую задачу: возможно, это усложнение просто не оправдано.</p>
<p><a id="1.4.1" name="1.4.1"></a>1.4.1. Не стоит усложнять код, явно используя метод <strong>НачатьТранзакцию</strong>, когда кроме записи объекта другие действия c базой данных не делаются – платформа при записи сама откроет транзакцию. </p>
<p>Не нужно явно открывать транзакцию тогда, когда не требуется выполнять <a href="#04_Ответственное чтение данных.htm" target="_top">ответственное чтение данных</a>. Например, обычно ответственное чтение не требуется при записи нового объекта (нового набора записей регистра). </p>
<p>При использовании методов <strong>ПолучитьОбъект </strong>(или <strong>Прочитать </strong>для наборов записей) необходимо анализировать должно ли чтение быть отвественным и в зависимости от этого принимать решение о явном использовании метода <strong>НачатьТранзакцию</strong>.</p>
<p><font color="#008000">Правильно</font></p>
<p class="Programtext">Попытка<br/>    ДокументОбъект = Документы.ПриходнаяНакладная.СоздатьДокумент();<br/>    ... // действия по заполнению объекта<br/>    ДокументОбъект.Записать();<br/>Исключение<br/>    ... // действия по обработке исключения<br/>КонецПопытки;</p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">НачатьТранзакцию();<br/>Попытка<br/>    ДокументОбъект = Документы.ПриходнаяНакладная.СоздатьДокумент();<br/>    ... // действия по заполнению объекта<br/>    ДокументОбъект.Записать();<br/>    ЗафиксироватьТранзакцию();<br/>Исключение<br/>    ОтменитьТранзакцию();<br/>КонецПопытки;</p>
<p><a id="1.4.2" name="1.4.2"></a>1.4.2. Если метод рассчитан на вызов только в рамках уже открытой транзакции (например, метод предназначен для вызова только из событий <strong>ПередЗаписью</strong>, <strong>ОбработкаПроведения</strong> и т.п.) в общем случае явным образом открывать в нем транзакцию не имеет никакого практического смысла.</p>
<p><a id="1.4.3" name="1.4.3"></a>1.4.3. При необходимости повысить качество сообщений об ошибках – на каждом уровне разработчик может предусмотреть свою обработку исключений, для чего, возможно, потребуется открыть вложенную транзакцию.</p>
<p>Пример. Вызывается метод <strong>ДобавитьЭлектроннуюПодпись</strong>. Внутри, если что-то пошло не так, нужно обработать исключение и добавить текст вида: «Не удалось добавить электронную подпись к объекту %ПредставлениеОбъекта% по причине:%ОписаниеОшибки%». В противном случае исключение будет обработано выше по стеку вызовов, например, при записи файла и будет выдано сообщение вида: «Не удалось записать файл %ИмяФайла% по причине: %ОписаниеОшибки%», где в «%ОписаниеОшибки%», будет просто указание на строчку кода и пользователю будет непонятно, зачем вообще программа записывала файл, если он просто его подписывал.</p>
<p><a id="1.4.4" name="1.4.4"></a>1.4.4. При обработке исключения, если транзакция все еще активна, например, исключение возникло во вложенной транзакции, нельзя обращаться к базе данных, так как это приведет к исключению «В этой транзакции уже происходили ошибки». При этом нужно учитывать, что обращение к базе данных может быть неявным, например, для получения представления ссылки.</p>
<p><a id="2" name="2"></a>2. Ограничение на длину (продолжительность) транзакции.</p>
<p><a id="2.1" name="2.1"></a>2.1. В общем случае в рамках одной транзакции нужно выполнять только те действия, которые неделимы, исходя из бизнес-логики.</p>
<p>Пример. При проведении документа записывается документ и его движения в регистрах. Если не прошла запись хотя бы в один регистр вся операция проведения должна быть отменена.</p>
<p><a id="2.1.1" name="2.1.1"></a>2.1.1. Если с точки зрения бизнес-логики действия могут быть выполнены по отдельности, то их в общем случае не следует объединять в одну транзакцию.</p>
<p><a id="2.1.2" name="2.1.2"></a>2.1.2. Исключением из п.2.1.1 могут быть случаи, когда с целью оптимизации несколько несвязанных объектов обрабатываются в рамках одной транзакции. В этом случае необходимо взвешенно подходить к выбору порции обработки данных: нужно стремиться к достижению золотой середины между длительностью одной транзакции и объемом фиксируемых данных с одной стороны и количеством транзакций с другой.</p>
<p><a id="2.2" name="2.2"></a>2.2. Следует избегать транзакций, которые выполняются длительное время.</p>
<p>Например, <font color="#ff0000">неправильно</font>: для загрузки адресного классификатора записывать все данные, относящиеся к одной версии классификатора в одной транзакции, для того, чтобы в случае ошибки откатить целиком загружаемую версию классификатора. Т.к. данных по одной версии классификатора много (объем около 1 Гб), то для выполнения такой транзакции, во-первых, может не хватить оперативной памяти (особенно при использовании файловой информационной базы на 32-разрядной ОС), а, во-вторых, такая операция будет выполняться достаточно долго и ее нельзя будет оптимизировать за счет выполнения в несколько потоков.</p>
<p><font color="#008000">Правильно: </font>разбить загрузку новой версии классификатора на небольшие порции так, чтобы запись порции в одной транзакции не превышала 20 секунд в условиях высоконагруженной информационной системы и реализовать функциональность по откату к предыдущей версии в случае ошибки. Максимальная продолжительность указана исходя из того, что время ожидания установки транзакционной блокировки данных в информационной базе по умолчанию равно 20 сек.</p>
<p>См. также <a href="https://its.1c.ru/db/metod8dev/content/2274/hdoc" target="_top">Особенности использования транзакций при обмене данными</a>.</p>
<p>2.2.1 Чем дольше выполняется транзакция, тем большее время будут заняты ресурсы сервера <strong>1С:Предприятия</strong> и СУБД. Как правило длинные транзакции занимают следующие ресурсы:</p>
<ul>
<li>в ходе выполнения транзакции все изменения в базе данных записываются в журнал транзакций, что необходимо для возможности откатить транзакцию; 

<li>блокировки, установленные в транзакции, остаются до конца транзакции; 

<li>на сервере <strong>1С:Предприятия</strong> блокировки занимают оперативную память; 

<li>другие ресурсы, необходимые самой бизнес-логике, которая выполняется в транзакции.</li></li></li></li></ul>
<p>Все это в целом может снижать эффективность использования ресурсов.</p>
<p><a id="2.2.2" name="2.2.2"></a>2.2.2. Если две транзакции пересекаются по блокируемым ресурсам, то транзакция, которая начала выполняться позже, будет ожидать возможность установления блокировки ограниченное время (по умолчанию – 20 секунд), после чего будет завершена с исключением «Превышено время ожидания установки блокировки». Поэтому длинные транзакции могут сильно снижать удобство параллельной работы пользователей.</p>
<p>Возникновение таких исключений – это повод провести анализ действий, которые выполняются в конфликтующих транзакциях</p>
<ul>
<li>
<div>возможно, какие-то действия можно вынести за транзакцию (см. п. 2.4);</div>
<li>
<div>если действие вынести нельзя, то нужно постараться оптимизировать алгоритм его выполнения;</div>
<li>
<div>также нужно проанализировать оптимальность устанавливаемых блокировок (см. группу стандартов <strong>Избыточные блокировки и методы оптимизации</strong>)</div></li></li></li></ul>
<p><a id="2.3" name="2.3"></a>2.3. В рамках транзакции нужно стремиться выполнять минимум действий – только те, которые нельзя в соответствии с бизнес-логикой выполнять вне транзакции. В частности:</p>
<ul>
<li>
<div>сложные, ресурсоемкие расчеты нужно стремиться делать до начала транзакции, если это позволяет бизнес-логика;</div>
<li>
<div>если расчет должен выполняться в транзакции, то нужно стремиться сделать его как можно более простым. Например, контроль остатков можно делать уже после записи простым запросом к записываемому регистру;</div>
<li>
<div>проверка заполнения объекта должна делаться вне транзакции (см. <a href="#05_Обработчик события ОбработкаПроверкиЗаполнения.htm" target="_top">Проверки, выполняемые в и вне транзакции записи объекта</a>);</div>
<li>
<div>запросы, перед выполнением которых не нужно устанавливать блокировку данных, нужно стремиться выполнять до начала транзакции (см. <a href="#04_Ответственное чтение данных.htm" target="_top">Ответственное чтение данных</a>);</div>
<li>
<div>запросы, выполняемые в рамках транзакций нужно стремиться оптимизировать (см. группу стандартов <strong>Оптимизация запросов</strong>)</div>
<li>
<div>не следует в транзакции вызывать внешние ресурсы (сетевые папки, интранет- и интернет-сайты, почтовые, FTP-, HTTP-, веб-сервисы и т.п.):</div>
<ul>
<li <div="">обращение к внешнему ресурсу может быть длительным; 

<li <div="">
<div>ресурс может быть недоступен;</div>
<li <div="">
<div>может произойти ошибка тайм-аута.</div></li></li></li></ul></li></li></li></li></li></li></ul>
<p><a id="3" name="3"></a>3. Обязательное использование транзакции.</p>
<p><a id="3.1" name="3.1"></a>3.1. В случае, если для ускорения операции записи в регистр используется отключение итогов, такую операцию вместе с отключением и включением итогов необходимо выполнять в транзакции, иначе в других сеансах может возникнуть ошибка при получении среза последних.</p>
<p>Пример: </p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">    РегистрыСведений.КурсыВалют.УстановитьИспользованиеИтогов(Ложь);<br/>    <br/>    НаборЗаписей = РегистрыСведений.КурсыВалют.СоздатьНаборЗаписей();<br/>    НаборЗаписей.Отбор.Валюта.Установить(ВалютаСсылка);<br/>    НаборЗаписей.Загрузить(ТаблицаКурсов);<br/>    НаборЗаписей.ОбменДанными.Загрузка = Истина;<br/>    <br/>    НаборЗаписей.Записать();<br/>    <br/>    РегистрыСведений.КурсыВалют.УстановитьИспользованиеИтогов(Истина);<br/>    РегистрыСведений.КурсыВалют.ПересчитатьИтоги();</p>
<p><font color="#008000">Правильно</font></p>
<p class="Programtext">    НачатьТранзакцию();<br/>    Попытка<br/>        РегистрыСведений.КурсыВалют.УстановитьИспользованиеИтогов(Ложь);<br/>        <br/>        НаборЗаписей = РегистрыСведений.КурсыВалют.СоздатьНаборЗаписей();<br/>        НаборЗаписей.Отбор.Валюта.Установить(ВалютаСсылка);<br/>        НаборЗаписей.Загрузить(ТаблицаКурсов);<br/>        НаборЗаписей.ОбменДанными.Загрузка = Истина;<br/>        <br/>        НаборЗаписей.Записать();<br/>        <br/>        РегистрыСведений.КурсыВалют.УстановитьИспользованиеИтогов(Истина);<br/>        <br/>        ЗафиксироватьТранзакцию();<br/>    Исключение<br/>        ОтменитьТранзакцию();<br/>        ВызватьИсключение;<br/>    КонецПопытки;<br/>    <br/>    РегистрыСведений.КурсыВалют.ПересчитатьИтоги();</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/300/i8100460.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Использование управляемого режима блокировки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование управляемого режима блокировки</h1><div style="clear: right; float: right;">#std460</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В конфигурациях следует использовать "Управляемый" режим блокировок (свойство <strong>Режим управления блокировкой данных</strong> конфигурации устанавливается в значение <strong>Управляемый</strong>) и учитывать особенности работы в этом режиме, в частности: </p>
<ul>
<li>Чтение данных другими транзакциями будет невозможно только в том случае, если в текущей и других транзакциях устанавливаются несовместимые управляемые блокировки. 

<li>Явная управляемая блокировка должна устанавливаться перед чтением данных:  

<ul>
<li>если считываются данные, которые в дальнейшем должны быть изменены;  

<li>необходимо обеспечить неизменность считываемых данных до конца транзакции. </li></li></ul>
<li>При установке управляемой блокировки необходимо стремиться, чтобы блокировка была установлена только на те записи, которые будут обработаны системой в результате отработки программного кода. 

<li>Не следует применять в запросах конструкцию <strong>ДЛЯ ИЗМЕНЕНИЯ</strong>, как не имеющую смысла в этом режиме. </li></li></li></li></ul>
<p>При работе в автоматическом режиме управления блокировкой <strong>1С:Предприятие</strong> устанавливает высокую степень изоляции данных в транзакции на уровне СУБД. Это позволяет полностью исключить возможность получения нецелостных или некорректных данных без каких-либо специальных усилий со стороны прикладных разработчиков.</p>
<p>Но, при этом могут возникать избыточные блокировки на уровне СУБД. Эти блокировки связанны как с особенностями реализации механизмов блокировок в самой СУБД, так и с тем, что СУБД не может учитывать (и не учитывает) физический смысл и структуру объектов метаданных <strong>1С:Предприятия</strong>. <br/></p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. такке</h3><font face="Verdana" size="2">
<ul>
<li><a href="#04_Ответственное чтение данных.htm" target="_top">Использование транзакций при чтении данных</a>
<li><a href="#01_Общие сведения об избыточных блокировках.htm" target="_top">Общие сведения об избыточных блокировках</a>
<li>методика перевода приложений в управляемый режим блокировки содержится в статье «<a href="http://kb.1c.ru/articleView.jsp?id=30" target="_blank">Блокировки данных в 1С:Предприятии 8</a>»</li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/300/i8100490.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Блокировка данных объекта для редактирования из кода.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Блокировка данных объекта для редактирования из кода</h1><div style="clear: right; float: right;">#std490</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">1.1. <font size="2">Прежде чем изменять существующий объект информационной базы из кода на встроенном языке, следует предварительно его заблокировать (установить «блокировку данных для редактирования» или «объектную блокировку»), тем самым, во-первых, убедиться, не заблокирован ли он другими объектами, во-вторых, попытаться предотвратить его изменение другими пользовательскими сеансами (или другими экземплярами объекта в этом же сеансе).</font></font></p><font size="2">
<p><font size="2">В противном случае, если при изменении и записи из встроенного языка не устанавливать блокировку объекта на время редактирования, то может возникнуть, например, ситуация, когда пользователь не сможет сохранить свои изменения, если эти же самые данные были конкурентно изменены в другом сеансе.</font></p>
<p>При этом блокировка данных для редактирования не запрещает запись заблокированных данных в других пользовательских сеансах (или в других экземплярах объекта в этом же сеансе), а лишь не позволяет нескольким объектам одновременно установить блокировку одних и тех же данных. В отличие от <a href="#04_Ответственное чтение данных.htm" target="_top">транзакционных блокировок данных</a>, пессимистическая блокировка данных для редактирования предназначена для обеспечения конкурентной работы пользователей с объектами информационной базы 1С:Предприятия (элементами справочников, документами и т.д.) Подробнее о блокировке данных для редактирования см. документацию по платформе <strong>1С:Предприятие 8</strong>.</p><font size="2">
<p><a id="1.2" name="1.2"></a>1.2. Для блокировки данных для редактирования из встроенного языка следует вызывать метод объектов <strong>Заблокировать</strong> или метод глобального контекста <strong>ЗаблокироватьДанныеДляРедактирования</strong>. </p></font></font>
<p><font size="2">Пример № 1. Требуется заблокировать объект и, если это удалось, модифицировать данные. В противном случае – проинформировать пользователя об отказе в выполнении операции с помощью сообщения вида: <br/><br/><em>«Не удалось заблокировать запись. Действие (изменение, удаление или блокировка записи) не выполнено. Ошибка блокировки объекта. Объект уже заблокирован: компьютер: &lt;имя компьютера&gt;, пользователь: &lt;имя пользователя&gt;, сеанс: &lt;номер сеанса&gt;, начат: &lt;дата и время&gt;, приложение: &lt;тип клиентского приложения&gt;».</em></font></p>
<p class="Programtext"><font size="2">ФайлОбъект = ДанныеФайла.Ссылка.ПолучитьОбъект();<br/>// Выполнить блокировку объекта от изменения другими режимами<br/>// или пользователями; в случае блокировки - <br/>// вывести пользователю сообщение об исключении.<br/>ФайлОбъект.Заблокировать(); <br/>// Затем изменить и записать объект<br/>ФайлОбъект.Редактирует = Справочники.Пользователи.ПустаяСсылка();<br/>ФайлОбъект.Записать();</font></p>
<p><font size="2">Аналогичным образом, можно воспользоваться методом глобального контекста <strong>ЗаблокироватьДанныеДляРедактирования</strong>:</font></p>
<p class="Programtext"><font size="2">ФайлОбъект = ДанныеФайла.Ссылка.ПолучитьОбъект();<br/>// Выполнить блокировку объекта от изменения другими режимами<br/>// или пользователями; в случае блокировки - <br/>// вывести пользователю сообщение об исключении.<br/>ЗаблокироватьДанныеДляРедактирования(ДанныеФайла.Ссылка); <br/>// Затем изменить и записать объект<br/>ФайлОбъект.Редактирует = Справочники.Пользователи.ПустаяСсылка();<br/>ФайлОбъект.Записать();</font></p>
<p><font size="2">Пример № 2. Требуется пропустить обработку объекта, если он заблокирован для редактирования. При очередном вызове процедуры (например, из фонового или регламентного задания) будет предпринята повторная попытка изменения объекта.</font></p>
<p class="Programtext"><font size="2">ФайлОбъект = ТекущаяВерсия.ПолучитьОбъект();<br/>// Выполнить блокировку объекта от изменения другими режимами или пользователями.<br/>УстановитьПолноеНаименование = Истина;<br/>Попытка <br/>  ФайлОбъект.Заблокировать();<br/>Исключение<br/>  // в случае блокировки - не выполнять изменение объекта<br/>  УстановитьПолноеНаименование = Ложь;<br/>  // записать предупреждение в журнал регистрации<br/>  ЗаписьЖурналаРегистрации(НСтр("ru = 'Фоновое обновление имен файлов'", Метаданные.ОсновнойЯзык.КодЯзыка),<br/>    УровеньЖурналаРегистрации.Предупреждение,, ФайлОбъект, ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));<br/>КонецПопытки;</font></p>
<p class="Programtext"><font size="2">// Пропустить обработку объекта, если он заблокирован.<br/>Если УстановитьПолноеНаименование Тогда<br/>  ФайлОбъект.ПолноеНаименование = ПолноеНаименование;<br/>  ФайлОбъект.Записать();<br/>КонецЕсли; </font></p><font size="2">
<p><font size="2">1.3. При редактировании данных в формах, платформа 1С:Предприятие автоматически устанавливает блокировку объекта, указанного в качестве основного реквизита формы.</font></p></font>
<p><font size="2">2. Не следует проверять блокировку объектов для редактирования в следующих случаях:</font></p>
<ul>
<li><font size="2">при выполнении отдельных операций, имеющих по логике работы больший приоритет по сравнению с интерактивными действиями пользователя. Например, загрузка данных при обмене;</font>
<li><font size="2">при действиях, которые гарантированно выполняются в монопольном режиме. Например, в процедурах обновления и первоначального заполнения данных информационной базы.</font><font face="Verdana" size="2"></font></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/300/i8100648.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Ответственное чтение данных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ответственное чтение данных</h1><div style="clear: right; float: right;">#std648</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Ответственным следует считать любое чтение данных, на основе результатов которого производятся изменения в информационной базе или принимаются решения.</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Если чтение данных из информационной базы должно быть ответственным, следует производить такое чтение в транзакции с предварительной установкой <a href="#02_Использование управляемого режима блокировки.htm" target="_top">управляемых блокировок</a>. Например, ответственное чтение данных требуется в следующих случаях:</p>
<ul>
<li>
<div>Чтение данных при проведении, для последующего формирования движений;</div>
<li>
<div>Чтение данных для последующей целостной передачи в другую систему, например в программы типа «Клиент банк»;</div>
<li>
<div>Выполнение групповой обработки объектов, при реструктуризации данных в обработчиках отложенного и оперативного обновления ИБ (*)<br/><br/><em>* Примечание: перед модификацией ссылочных объектов, обычно, следует устанавливать на них </em><a href="#03_Блокировка данных объекта для редактирования из кода.htm" target="_top"><em>пессимистичные объектные блокировки</em></a><em>.</em></div></li></li></li></ul>
<p>Неправильно:</p>
<p class="Programtext">// 1. Прочитать регистр сведений<br/>Запрос = Новый Запрос(<br/>  "ВЫБРАТЬ РАЗРЕШЕННЫЕ<br/>  | ЗаметкиПоПредмету.КоличествоЗаметок КАК КоличествоЗаметок<br/>  |ИЗ<br/>  | РегистрСведений.ЗаметкиПоПредмету КАК ЗаметкиПоПредмету<br/>  |ГДЕ<br/>  | ЗаметкиПоПредмету.Предмет = &amp;Предмет");<br/>Запрос.УстановитьПараметр("Предмет", ПредметЗаметок);<br/>Выборка = Запрос.Выполнить().Выбрать();<br/> <br/>КоличествоЗаметок = 0;<br/>Если Выборка.Следующий() Тогда<br/>  КоличествоЗаметок = Выборка.КоличествоЗаметок;<br/>КонецЕсли;<br/> <br/>// 2. Записать в регистр сведений<br/>НаборЗаписей = РегистрыСведений.ЗаметкиПоПредмету.СоздатьНаборЗаписей();<br/>НаборЗаписей.Отбор.Предмет.Установить(ПредметЗаметок);<br/>НоваяЗапись = НаборЗаписей.Добавить();<br/>НоваяЗапись.Предмет = ПредметЗаметок;<br/>НоваяЗапись.КоличествоЗаметок = КоличествоЗаметок + 1;<br/>НаборЗаписей.Записать();</p>
<p>Правильно:</p>
<p class="Programtext">// 1. Начать транзакцию для пакета из двух операций чтения и записи регистра<br/>НачатьТранзакцию();</p>
<p class="Programtext">Попытка<br/>  // 2. Установить исключительную блокировку на интересующий диапазон записей регистра, <br/>  // для того чтобы гарантировать, что в момент записи количество заметок не изменилось с момента чтения в каком-либо другом сеансе.<br/>  БлокировкаДанных = Новый БлокировкаДанных;<br/>  ЭлементБлокировкиДанных = БлокировкаДанных.Добавить("РегистрСведений.ЗаметкиПоПредмету");<br/>  ЭлементБлокировкиДанных.УстановитьЗначение("Предмет", ПредметЗаметок);<br/>  ЭлементБлокировкиДанных.Режим = РежимБлокировкиДанных.Исключительный;<br/>  БлокировкаДанных.Заблокировать();<br/> <br/>  // 3. Прочитать регистр сведений<br/>  Запрос = Новый Запрос(<br/>    "ВЫБРАТЬ РАЗРЕШЕННЫЕ<br/>    | ЗаметкиПоПредмету.КоличествоЗаметок КАК КоличествоЗаметок<br/>    |ИЗ<br/>    | РегистрСведений.ЗаметкиПоПредмету КАК ЗаметкиПоПредмету<br/>    |ГДЕ<br/>    | ЗаметкиПоПредмету.Предмет = &amp;Предмет");<br/>  Запрос.УстановитьПараметр("Предмет", ПредметЗаметок);<br/> <br/>  Выборка = Запрос.Выполнить().Выбрать();<br/> <br/>  КоличествоЗаметок = 0;<br/>  Если Выборка.Следующий() Тогда<br/>    КоличествоЗаметок = Выборка.КоличествоЗаметок;<br/>  КонецЕсли;<br/> <br/>  // 4. Записать в регистр сведений<br/>  НаборЗаписей = РегистрыСведений.ЗаметкиПоПредмету.СоздатьНаборЗаписей();<br/>  НаборЗаписей.Отбор.Предмет.Установить(ПредметЗаметок);<br/>  НоваяЗапись = НаборЗаписей.Добавить();<br/>  НоваяЗапись.Предмет = ПредметЗаметок;<br/>  НоваяЗапись.КоличествоЗаметок = КоличествоЗаметок + 1;<br/>  НаборЗаписей.Записать();<br/> <br/>  ЗафиксироватьТранзакцию();<br/>Исключение<br/>  // 5. Если при установке блокировки возникла исключительная ситуация из-за того, что регистр уже заблокирован в другом сеансе (или по другим причинам),<br/>  // отменить транзакцию и записать сведения об ошибке в журнал регистрации.<br/>  ОтменитьТранзакцию();<br/>  ЗаписьЖурналаРегистрации(НСтр("ru = 'Заметки'", ОбщегоНазначения.КодОсновногоЯзыка()), УровеньЖурналаРегистрации.Ошибка,,, ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));<br/>  ВызватьИсключение;<br/>КонецПопытки;</p></td></tr></tbody></table>
<p><a id="1.2" name="1.2"></a>1.2. В некоторых случаях, ответственное чтение не требуется в силу решаемой прикладной задачи, например:</p>
<ul>
<li>Получение данных динамическими списками;  

<li>Поиск данных; 

<li>Формирование большинства отчетов.</li></li></li></ul>
<p>В некоторых случаях, ответственное чтение не требуется, так как конкурентная работа с данными маловероятна или полностью исключена, например:</p>
<ul>
<li>
<div>Обращение к условно постоянной информации. Например, чтение константы <strong>ВалютаРегламентированногоУчета</strong> или обращение к учетной политике;</div>
<li>
<div>Действия, которые гарантированно выполняются в монопольном режиме. Например, в процедурах обновления и первоначального заполнения данных информационной базы;</div>
<li>
<div>Действия над данными, доступ к которым имеет только один пользователь, поэтому конкурентная работа с ними маловероятна или полностью исключена. <br/>Например, персональные данные, хранящиеся в «разрезе» пользователей;</div>
<li>
<div>Мобильное приложение, где конкурентная работа с данными маловероятна или полностью исключена.</div></li></li></li></li></ul>
<p><a id="1.3" name="1.3"></a>1.3. В большинстве случаев, при выполнении чтения в обработчиках событий связанных с модификацией данных, весь код обработчика выполняется в рамках системной транзакции, которая открыта платформой, и явно открывать новую транзакцию не требуется.</p>
<p>Например, в системной транзакции выполняются обработчики модулей объектов и соответствующие им подписки на события:</p>
<ul>
<li>
<div><strong><a href="#01_Обработчик события ПередЗаписью.htm" target="_top">ПередЗаписью</a></strong>;</div>
<li>
<div><strong><a href="#02_Обработчик события ПриЗаписи.htm" target="_top">ПриЗаписи</a></strong>;</div>
<li>
<div><strong><a href="#03_Обработчик события ПередУдалением.htm" target="_top">ПередУдалением</a></strong>.</div></li></li></li></ul>
<p>Подробнее – см. <a href="https://its.1c.ru/db/v8doc" target="_top">документацию к платформе 1С:Предприятие</a>.</p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="2" name="2"></a>2. Выбор: исключительная или разделяемая блокировка</p>
<p><a id="2.1" name="2.1"></a>2.1. Если в транзакции производится ответственное чтение данных с их последующим изменением, необходимо установить <strong>исключительную управляемую блокировку</strong> (до выполнения чтения). В противном случае возможно возникновение взаимоблокировки.</p>
<p>Пример установки исключительной блокировки (без открытия транзакции – в предположении, что ранее уже была открыта системная транзакция): </p>
<p class="Programtext">// 1. Установить исключительную блокировку для ответственного чтения объекта с целью его дальнейшего изменения<br/>Блокировка = Новый БлокировкаДанных;<br/>ЭлементБлокировки = Блокировка.Добавить("Справочник.Приказы");<br/>ЭлементБлокировки.УстановитьЗначение("Ссылка", ПриказСсылка);<br/>ЭлементБлокировки.Режим = РежимБлокировкиДанных.Исключительный; // можно не указывать, т.к. по умолчанию Исключительный<br/>Блокировка.Заблокировать();</p>
<p class="Programtext">// 2. Получить объект для его дальнейшей модификации<br/>Объект = ПриказСсылка.ПолучитьОбъект();<br/>Если Объект = Неопределено Тогда // объект может быть уже удален в других сеансах<br/>  Возврат;<br/>КонецЕсли;</p>
<p class="Programtext">// 3. Выполнить блокировку объекта от изменения другими сеансами<br/>ЗаблокироватьДанныеДляРедактирования(ПриказСсылка);<br/><br/>// 4. Записать измененный объект<br/>Объект.Реквизит = ...<br/>Объект.Записать();</p>
<p><a id="2.2" name="2.2"></a>2.2. Если в транзакции производится ответственное чтение данных без их последующего изменения (например, для формирования движений), необходимо установить разделяемую блокировку на читаемые данные и исключительную блокировку на изменяемые данные.</p>
<p>Пример установки разделяемой блокировки (без открытия транзакции – в предположении, что ранее уже была открыта системная транзакция):</p>
<p class="Programtext">// 1. Установить разделяемую блокировку для ответственного чтения нескольких связанных объектов<br/>Блокировка = Новый БлокировкаДанных;<br/>ЭлементБлокировки = Блокировка.Добавить("Справочник.Приказы");<br/>ЭлементБлокировки.УстановитьЗначение("Ссылка", ПриказСсылка);<br/>ЭлементБлокировки.Режим = РежимБлокировкиДанных.Разделяемый;<br/>Блокировка.Заблокировать();</p>
<p class="Programtext">// 2. Прочитать первый объект - приказ <br/>ПриказОбъект = ПриказСсылка.ПолучитьОбъект();<br/><br/>// 3. Прочитать второй объект – пользователя (автора приказа)<br/>Блокировка = Новый БлокировкаДанных;<br/>ЭлементБлокировки = Блокировка.Добавить("Справочник.Пользователи");<br/>ЭлементБлокировки.УстановитьЗначение("Ссылка", ПриказОбъект.Автор);<br/>ЭлементБлокировки.Режим = РежимБлокировкиДанных.Разделяемый;<br/>Блокировка.Заблокировать();<br/><br/>АвторПриказа = ПриказОбъект.Автор.ПолучитьОбъект();</p></td></tr></tbody></table>
<p> </p>
<h3>См. также</h3>
<ul>
<li>
<div><a href="#01_Общие сведения об избыточных блокировках.htm" target="_top">Общие сведения об избыточных блокировках</a></div>
<li>
<div><a href="#01_Транзакции_ правила использования.htm" target="_top">Транзакции: правила использования</a><br/></div></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/300/i8100496.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Чтение отдельных реквизитов объекта из базы данных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Чтение отдельных реквизитов объекта из базы данных</h1><div style="clear: right; float: right;">#std496</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">При чтении отдельных реквизитов объекта из базы данных следует иметь в виду, что вызов метода <strong>ПолучитьОбъект</strong> или обращение к реквизитам объекта через точку от ссылки приводит к загрузке объекта из базы целиком, вместе с его табличными частями.</font></p>
<p><font size="2">Поэтому для чтения значений отдельных реквизитов из базы данных следует использовать запрос. Например, неправильно:</font></p>
<p class="Programtext"><font size="2">Процедура ЗаполнитьКодИНаименованиеСтраны()<br/> <br/> СтранаСсылка = … // получаем ссылку на элемент справочника <br/> КодСтраны = СтранаСсылка.Код; // первое обращение загружает объект целиком<br/> НаименованиеСтраны = СтранаСсылка.Наименование;<br/> <br/>КонецПроцедуры</font></p>
<p><font size="2">правильно:</font></p>
<p class="Programtext"><font size="2">Процедура ЗаполнитьКодИНаименованиеСтраны()<br/> <br/> Запрос = Новый Запрос(<br/>  "ВЫБРАТЬ<br/>  | СтраныМира.Код,<br/>  | СтраныМира.Наименование<br/>  |ИЗ<br/>  | Справочник.СтраныМира КАК СтраныМира<br/>  |ГДЕ<br/>  | СтраныМира.Ссылка = &amp;Ссылка");<br/> Запрос.УстановитьПараметр("Ссылка", Ссылка);<br/> <br/> Выборка = Запрос.Выполнить().Выбрать();<br/> Выборка.Следующий();</font></p>
<p class="Programtext"><font size="2"> КодСтраны = Выборка.Код;<br/> НаименованиеСтраны = Выборка.Наименование;</font></p>
<p class="Programtext"><font size="2">КонецПроцедуры</font></p>
<p><font size="2">Для упрощения синтаксиса рекомендуется также использовать специальные функции <strong>ЗначенияРеквизитовОбъекта</strong> или <strong>ЗначениеРеквизитаОбъекта</strong> (входят в состав <a href="http://v8.1c.ru/libraries/ssl/index.htm" target="_blank">Библиотеки стандартных подсистем</a>).<br/></font><font size="2">В этом случае исходный пример будет выглядеть так:</font></p>
<p class="Programtext"><font size="2">Процедура ЗаполнитьКодИНаименованиеСтраны()</font></p>
<p class="Programtext"><font size="2"> ЗначенияРеквизитов = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(СтранаСсылка, "Код, Наименование");<br/> КодСтраны = ЗначенияРеквизитов.Код;<br/> НаименованиеСтраны = ЗначенияРеквизитов.Наименование;<br/> <br/>КонецПроцедуры</font></p>
<p><font size="2"></font><font face="Verdana" size="2"> </font></p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/300/i8100497.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Запись событий в историю работы пользователя.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Запись событий в историю работы пользователя</h1><div style="clear: right; float: right;">#std497</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В историю работы автоматически попадают события интерактивного добавления или изменения объектов информационной базы (документов, элементов справочника и пр.) Дополнительно рекомендуется записывать в историю работы пользователя и другие события, которые приводят к записи объектов в результате действий пользователя. Например: команда «Поместить файл» для элемента справочника <strong>Файлы</strong>.</p>
<p>Для добавления событий в историю работы пользователя предназначен объект <strong>ИсторияРаботыПользователя</strong> типа <strong>МенеджерИсторииРаботыПользователя</strong>. Пример:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПоместитьФайл(Команда)<br/>  // Поместить файл в базу<br/>  // …<br/>  // И добавить событие в историю работы пользователя<br/>  ИсторияРаботыПользователя.Добавить(ПолучитьНавигационнуюСсылку(Объект.Ссылка));<br/>КонецПроцедуры<br/></p></font></body><hr>
<h1 id='04_Избыточные блокировки и методы оптимизации'>Избыточные блокировки и методы оптимизации</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/400/i8100659.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие сведения об избыточных блокировках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие сведения об избыточных блокировках</h1><div style="clear: right; float: right;">#std659</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1" name="1"></a>1. Проектные ошибки при выборе и проектировании структуры того или иного объекта метаданных для реализации прикладной функциональности, могут привести к большому количеству избыточных блокировок и как следствие к серьезному падению общей производительности системы.  </p>
<p>Ожидание на блокировке данных происходит в том случае, если две различные сессии <strong>1С:Предприятия</strong> пытаются захватить один и тот же ресурс. При работе с разными ресурсами ожидание на блокировке не происходит. В данном контексте термин «ресурс» используется в качестве обозначения неделимой совокупности данных, которая блокируется (или не блокируется) только вся целиком.</p>
<p dir="ltr" style="MARGIN-RIGHT: 0px">Таким образом, вопрос сводится к тому, какие именно ресурсы захватываются при выполнении того или иного действия с данными. Или, иначе говоря, насколько «мелко нарезаны» данные <strong>1С:Предприятия</strong>. </p>
<p dir="ltr" style="MARGIN-RIGHT: 0px">При анализе структуры метаданных следует обратить внимание на следующие объекты: </p>
<ul>
<li>
<div><a href="#02_Сдвиг границы последовательности документов.htm" target="_top">Последовательность</a></div>
<li>
<div><a href="#03_Режим разделения итогов для регистров бухгалтерии.htm" target="_top">Регистры бухгалтерии</a></div>
<li>
<div><a href="#04_Режим разделения итогов для регистров накопления.htm" target="_top">Регистры накопления</a></div></li></li></li></ul>
<h3>См. также </h3>
<ul>
<li>
<div><a href="#05_Блокирующее чтение остатков в начале транзакции.htm" target="_top">Блокирующее чтение остатков в начале транзакции</a></div>
<li>
<div><a href="#02_Использование управляемого режима блокировки.htm" target="_top">Использование управляемого режима блокировки</a></div>
<li>
<div><a href="#02_Несоответствие индексов и условий запроса.htm" target="_top">Несоответствие индексов и условий запроса</a></div>
<li>
<div><a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top">Разыменование ссылочных полей составного типа в языке запросов</a></div>
<li>
<div><a href="#04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm" target="_top">Запросы, выполняющие соединение с вложенными запросами или виртуальными таблицами</a></div>
<li>
<div><a href="#05_Ограничения на использование вложенных запросов в условии соединения.htm" target="_top">Использование вложенных запросов в условии соединения</a></div>
<li>
<div><a href="#06_Обращения к виртуальным таблицам.htm" target="_top">Фильтрация виртуальных таблиц без использования параметров</a></div>
<li>
<div><a href="#07_Эффективные условия запросов.htm" target="_top">Ограничение на использование логического ИЛИ в условиях запросов</a></div></li></li></li></li></li></li></li></li></ul></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/400/i8100662.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Сдвиг границы последовательности документов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Сдвиг границы последовательности документов<br/></h1><div style="clear: right; float: right;">#std662</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Не рекомендуется двигать границу последовательности при проведении документов. Это может привести к возникновению ожиданий на блокировках и снижению общей производительности системы. Операцию движения границы последовательности следует вынести из оперативных операций в регламентные, например выполнять регламентной обработкой с заданной частотой. </p>
<p>Граница последовательности по одному набору значений измерений является одним ресурсом. Это означает, что при движении границы последовательности по одному набору значений измерений разные пользователи будут пытаться захватить один и тот же ресурс, то есть будут блокировать друг друга. </p></font>
<h3>Пример</h3><font face="Verdana" size="2">
<p>В системе, построенной на базе УПП версий 1.х, используется учетная политика, предполагающая вычисление себестоимости списываемых товаров в оперативном режиме (непосредственно в момент списания).  <br/></p>
<p><img height="441" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/400/i8100662.files/untitled2.png?_=0000D073543A73D2-v2" style="aspect-ratio:642/441" width="642"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><br/>Алгоритмы партионного учета в УПП используют последовательность «Партионный учет», имеющую одно измерение: <strong>Организация</strong>. </p>
<p>Для вычисления себестоимости списываемых товаров при проведении расходного документа необходимо переместить границу последовательности для данной организации на момент времени проводимого документа.</p>
<p>Если два пользователя будут одновременно проводить расходные документы по одной организации (что весьма вероятно), то они будут блокировать друг друга. Такое поведение системы не является особенностью реализации последовательностей в <strong>1С:Предприятии</strong>, но продиктовано требованиями самого алгоритма – необходимо знать точную последовательность расположения документов. То есть все конкурирующие по времени (одновременно проводящиеся) документы должны выстроиться друг за другом. </p>
<p>Движение границы последовательности при оперативном проведении документов способно значительно снизить общую производительности системы. В данном случае правильным решением было бы выключение этого флажка, то есть отказ от оперативного расчета себестоимости при проведении документов. Вместо этого следует использовать регламентную обработку, входящую в состав УПП, которая будет вычислять себестоимость с некоторой заданной частотой. </p></font>
<h3><br/>См. также</h3><font face="Verdana" size="2">
<ul>
<li>«<a href="#01_Общие сведения об избыточных блокировках.htm" target="_top">Общие сведения об избыточных блокировках</a>»<br/></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/400/i8100663.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Режим разделения итогов для регистров бухгалтерии.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Режим разделения итогов для регистров бухгалтерии</h1><div style="clear: right; float: right;">#std663</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Если в системе осуществляется оперативная запись движений по бухгалтерскому регистру в многопользовательском режиме, то рекомендуется включить для данного регистра режим разделения итогов. При включенном режиме разделения итогов пользователи смогут параллельно обновлять таблицу остатков даже в том случае, если у них совпадает период, счет и значения измерений. </p>
<p>В противном случае таблица остатков регистра бухгалтерии может стать узким местом при конкурентной работе большого количества пользователей. </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также </em><a href="#05_Блокирующее чтение остатков в начале транзакции.htm" target="_top"><em>Блокирующее чтение остатков в начале транзакции</em></a></p></blockquote></font>
<h3>Пример 1</h3><font face="Verdana" size="2">
<p>В конфигурации определен регистр <strong>Хозрасчетный</strong> с измерениями <strong>Организация </strong>и <strong>Валюта</strong>.   </p>
<p><img height="339" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/400/i8100663.files/untitled3.png?_=000061E9F862D5CF-v2" style="aspect-ratio:294/339" width="294"/><script type="text/javascript">forceDocumentLayout()</script><br/>   <br/>При этом запрещено разделение итогов регистра:  </p>
<p><img height="309" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/400/i8100663.files/untitled4.png?_=0000B8D563FEA39A-v2" style="aspect-ratio:455/309" width="455"/> <br/>   <br/>Предположим, что два пользователя одновременно проводят документы, которые осуществляют движение по данному регистру. <br/>Пользователи будут блокировать друг друга в том случае, если движения: <br/></p>
<ul>
<li>относятся к одному и тому же периоду; 

<li>относятся к одному и тому же счету; 

<li>имеют одинаковые значения измерений, то есть организацию и валюту.</li></li></li></ul>
<p>В реальной жизни одновременное выполнение перечисленных условий является весьма вероятным, поскольку большинство пользователей будет работать в одном периоде, с одним счетом и с одинаковыми значениями измерений (<strong>организация</strong> и <strong>валюта</strong>). Это может привести к возникновению ожиданий на блокировках и снижению общей производительности системы.</p>
<p>Для решения этой проблемы следует включить режим разделения итогов (см. следующий пример). <br/></p></font>
<h3>Пример 2</h3><font face="Verdana" size="2">
<p>Если для этого же регистра разрешить и включить режим разделения итогов, то ситуация изменится.   <br/>Разрешим режим разделения итогов (в режиме <strong>конфигурирования</strong>): </p>
<p><img height="307" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/400/i8100663.files/untitled5.png?_=0000BA65F6ED0C82-v2" style="aspect-ratio:455/307" width="455"/>  <br/>   <br/>Включим режим разделения итогов (в режиме <strong>1С:Предприятия</strong>):</p>
<p><img height="233" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/400/i8100663.files/untitled6.png?_=00007CFF5413D392-v2" style="aspect-ratio:483/233" width="483"/></p>
<p>После этого конкурирующие пользователи смогут параллельно записывать движения по регистру даже в том случае, если совпадают период, номер счета и значения всех измерений.   <br/>Однако, если при этом осуществляется <a href="#05_Блокирующее чтение остатков в начале транзакции.htm" target="_top">контроль остатков по данному регистру</a>, то эффекта от включения режима разделения не будет. </p></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="https://its.1c.ru/db/metod81/content/1393/hdoc" target="_top">Устройство и использование режима разделения итогов регистров</a> (статья на ИТС) 

<li><a href="#09_Эффективное обращение к виртуальной таблице «Остатки».htm" target="_top">Эффективное обращение к виртуальной таблице «Остатки»<br/></a></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/400/i8100664.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Режим разделения итогов для регистров накопления.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Режим разделения итогов для регистров накопления</h1><div style="clear: right; float: right;">#std664</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. При проектировании регистра накопления следует помнить, что остатки по одному набору измерений хранятся в одном ресурсе регистра. То есть, степень параллельности при работе с регистром фактически зависит от состава его измерений. Состав измерений необходимо подбирать в соответствии с тем, насколько мелко должны быть «нарезаны» остатки, исходя из прикладной функциональности системы. </p>
<p><a id="2" name="2"></a>2. В том случае, если состав измерений не позволяет обеспечить необходимую параллельность при работе с регистром, рекомендуется использовать режим разделения итогов аналогично <a href="#03_Режим разделения итогов для регистров бухгалтерии.htm" target="_top">регистрам бухгалтерии</a>. <br/>Следует учитывать, что режим разделения итогов не обеспечит параллельность при контроле остатков по регистру. Если контроль остатков необходим, то следует перенести его <a href="#05_Блокирующее чтение остатков в начале транзакции.htm" target="_top">как можно ближе к концу транзакции</a>. </p>
<p>Рассмотрим в качестве примера регистр накопления <strong>ТоварыНаСкладах</strong> со следующим составом измерений: </p>
<p><img height="339" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/200/400/i8100664.files/untitled7.png?_=0000A39B2608BCE2-v2" style="aspect-ratio:294/339" width="294"/><script type="text/javascript">forceDocumentLayout()</script></p></font>
<h3>  <br/>Пример 1</h3><font face="Verdana" size="2">
<p>Предположим два пользователя одновременно проводят документы, которые записывают движения в данный регистр накопления. При этом первый пользователь пишет следующий набор записей: </p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" width="50%">
<tbody>
<tr>
<td>№</td>
<td>Склад </td>
<td>Номенклатура </td></tr>
<tr>
<td>1</td>
<td>Основной склад</td>
<td>Кресло-качалка </td></tr>
<tr>
<td>2</td>
<td>Основной склад </td>
<td>Кухонный гарнитур "Тинга-2"</td></tr>
<tr>
<td>3</td>
<td>Склад №2</td>
<td>Мебельный гарнитур "Торэ" </td></tr></tbody></table></p>
<p>Второй пользователь пишет в этот же регистр следующий набор записей:</p>
<p>
<table border="1" width="50%">
<tbody>
<tr>
<td>№</td>
<td>Склад </td>
<td>Номенклатура </td></tr>
<tr>
<td>1</td>
<td>Основной склад</td>
<td>Мебельный гарнитур "Торэ" </td></tr>
<tr>
<td>2</td>
<td>Склад №2</td>
<td>Кресло-качалка</td></tr></tbody></table></p>
<p>Эти наборы записей не содержат строк, совпадающих по значениям всех измерений, поэтому ожидание на блокировке в данном случае не возникнет. </p></font>
<h3>Пример 2</h3><font face="Verdana" size="2">
<p>Предположим, что второй пользователь записывает следующий набор записей </p>
<p>
<table border="1" width="50%">
<tbody>
<tr>
<td>№</td>
<td>Склад </td>
<td>Номенклатура </td></tr>
<tr>
<td>1</td>
<td>Основной склад</td>
<td>Кухонный гарнитур "Тинга-2"</td></tr>
<tr>
<td>2</td>
<td>Склад №2</td>
<td>Кресло-качалка </td></tr>
<tr>
<td>3</td>
<td>Оптовый склад</td>
<td>Спальный гарнитур "Инга-М"</td></tr></tbody></table></p>
<p>Этот набор записей содержит строку (№1), совпадающую по значениям всех измерений со строкой набора записей первого пользователя (№2).</p>
<p>В этом случае возникнет ожидание на блокировке и один из пользователей будет дожидаться окончания операции другого пользователя, то есть общая производительность системы снизится.</p>
<p>Регистр накопления также поддерживает режим разделения итогов, который позволит в данной ситуации избежать блокировки (см. Пример 3).</p></font>
<h3>Пример 3</h3><font face="Verdana" size="2">
<p>Если для данного регистра накопления включен режим разделения итогов, то будет возможна параллельная запись двух наборов, даже в том случае если они содержат одинаковые (по значениям измерений) строки. </p>
<p>Однако, если при этом используется контроль остатков, то режим разделения итогов не даст положительного эффекта. Иначе говоря, режим разделения итогов для регистра накопления работает аналогично <a href="#03_Режим разделения итогов для регистров бухгалтерии.htm" target="_top">регистру бухгалтерии</a>. Для снижения влияния этой блокировки на общую производительность системы <a href="#05_Блокирующее чтение остатков в начале транзакции.htm" target="_top">нужно перенести контроль остатков как можно ближе к концу транзакции</a>. </p></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="https://its.1c.ru/db/metod81/content/1393/hdoc" target="_top">Устройство и использование режима разделения итогов регистров</a> (статья на ИТС) 

<li><a href="#09_Эффективное обращение к виртуальной таблице «Остатки».htm" target="_top">Эффективное обращение к виртуальной таблице «Остатки»</a><br/></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/200/400/i8100661.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Блокирующее чтение остатков в начале транзакции.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Блокирующее чтение остатков в начале транзакции</h1><div style="clear: right; float: right;">#std661</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. В ряде случаев необходимо выполнять блокирующее чтение итогов. Примером такой задачи является контроль остатков при проведении документа. Если в результате проведения документа остатки станут отрицательными, то транзакция должна быть отменена (проводить такой документ нельзя). </p>
<p><a id="1.2" name="1.2"></a>1.2. Операция чтения остатков должна быть блокирующей, то есть необходимо запретить двум пользователям одновременно читать один и тот же остаток за период, счет и значение измерения. <br/></p>
<p>Если чтение будет неблокирующим, то возможна ситуация, при которой два пользователя одновременно прочитают один и тот же остаток (например 10 единиц) и примут решение о возможности списания части этого остатка. Если сумма списаний двух пользователей будет больше 10, то в итоге остаток получится отрицательным.</p>
<p>Например, первый пользователь спишет 8 единиц (8 меньше 10, следовательно операция разрешена), а второй пользователь спишет 6 единиц (на таком же основании). Результатом будет -4 единицы остатка, что недопустимо с точки зрения прикладной логики системы.</p>
<p><a id="2" name="2"></a>2. Обычно, для контроля остатков используется запрос в модуле набора записей регистра, который идет перед записью набора. При этом возможны следующие проблемы:</p>
<ul>
<li>
<div>Разработчик, как правило, не контролирует порядок записи движений в разные регистры - запись обычно осуществляется автоматически платформой <strong>1С:Предприятия</strong>. Запрос контроля остатков реализуется в модуле набора записей и вызывается при записи движений регистра. Если этот регистр будет записываться в начале транзакции (например, первым), то установленная блокировка будет мешать работе других пользователей в течение длительного периода времени (пока будут записываться все остальные регистры), и ее влияние на производительность системы может оказаться неоправданно большим.</div>
<li>
<div>В некоторых случаях, возможно, нет необходимости в контроле остатков, поскольку записываемые движения заведомо не могут привести к получению отрицательных остатков.</div></li></li></ul>
<p>Для того чтобы минимизировать влияние блокирующего чтения остатков на производительность системы, необходимо:</p>
<ul>
<li>
<div>Проанализировать, какие именно остатки нуждаются в блокирующем чтении и при каких обстоятельствах. Например, контроль остатков не требуется при проведении приходного документа, поскольку он может только увеличить остатки. Так же не требуется контролировать остатки при перепроведении документа, который списывает в этот раз не больше остатков чем при первом проведении (этот контроль уже проводился). И так далее.</div>
<li>
<div>В начале транзакции (например, в обработчике <strong>ОбработкаПроведения</strong> документа) в явном виде записать движения по всем регистрам, которые в данном случае не требуют контроля остатков. Следует всегда придерживаться одинакового порядка записи регистров (например, алфавитного). Необходимо обратить внимание на то, что у всех записываемых регистров накопления и бухгалтерии должен быть включен разделитель итогов, а у наборов записей свойство <strong>БлокироватьДляИзменения</strong> должна быть установлена в значение Ложь.</div>
<li>
<div>Выполнить все остальные действия, которые должны быть выполнены в рамках этой транзакции.</div>
<li>
<div>В самом конце транзакции в явном виде записать движения по тем регистрам, которые требуют контроля остатков. Для наборов записей этих регистров следует установить опцию <strong>БлокироватьДляИзменения</strong> в значение Истина. Это необходимо для предотвращения взаимоблокировки. В этом случае при записи набора записей будет установлена блокировка остатков регистра по данному набору значений измерений.</div>
<li>
<div>Для каждого регистра выполнить запрос контроля остатков. Следует обратить внимание, что в данном случае нет необходимости использовать явную управляемую блокировку (опцию <strong>ДЛЯ ИЗМЕНЕНИЯ</strong> - в автоматическом режиме), поскольку проверяемые остатки уже заблокированы их записью на предыдущем шаге. Запрос должен считывать только отрицательные остатки по заданному набору значений измерений. Если такие записи имеются, то транзакция должна быть отменена. Если запрос вернул пустой результат, то транзакция должна быть зафиксирована.</div></li></li></li></li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>Пример</h3>
<p>В процедуре <strong>ПередЗаписью</strong> модуля набора записей регистра бухгалтерии <strong>Хозрасчетный</strong> выполняется следующий запрос:  </p>
<p class="Programtext">Запрос.Текст = "ВЫБРАТЬ<br/>| СуммаОстаток,<br/>| СуммаОстатокДт,<br/>| СуммаОстатокКт<br/>|ИЗ<br/>| РегистрБухгалтерии.Хозрасчетный.Остатки(&amp;Период, &amp;Счет, , Организация = &amp;Организация)";</p>
<p><br/>При выполнении этого запроса будут прочитаны (и заблокированы от записи) остатки по указанному условию для всех пользовательских подключений. То есть, разные ресурсы (созданные режимом разделения итогов) будут как бы объединены в один. По этой причине параллельность останется такой же, как если бы режим разделения итогов не был включен.  </p>
<p>Для того чтобы минимизировать влияние этой блокировки на общую производительность системы, рекомендуется перенести ее как можно ближе к концу транзакции. Например, можно вынести эту проверку в модуль документа в обработчик события <strong>ПриПроведении</strong> после записи (в явном виде) всех движений по всем регистрам. </p>
<h3>См. также</h3>
<ul>
<li>
<div><a href="#04_Ответственное чтение данных.htm" target="_top">Использование транзакций при чтении данных</a></div>
<li>
<div><a href="#03_Режим разделения итогов для регистров бухгалтерии.htm" target="_top">Регистры бухгалтерии</a></div></li></li></ul></body><hr>
<h1 id='03_Соглашения при написании кода'>Соглашения при написании кода</h1>
<h1 id='01_Оформление модулей'>Оформление модулей</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100456.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Тексты модулей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Тексты модулей</h1><div style="clear: right; float: right;">#std456</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Тексты модулей должны быть написаны на русском языке. </p>
<p>Исключение составляют <a href="#02_Имена объектов метаданных в конфигурациях.htm" target="_top">веб-сервисы</a>, имена методов и параметров которых рекомендуется задавать на английском языке (например, метод <strong>TestConnection</strong> веб-сервиса <strong>EnterpriseDataExchange</strong>), а также различные идентификаторы сторонних информационных систем, например, названия полей «внешних» структур данных, которые программно обрабатываются в коде. </p>
<p><a id="1.1" name="1.1"></a>1.1. В текстах модулей не допускается использовать букву "ё". </p>
<p>Исключения составляют интерфейсные тексты, выводимые пользователю в сообщениях, формах и справке, где употребление буквы «ё» в ряде случаев допустимо. Подробнее см. <a href="#02_Тексты.htm" target="_top">Тексты</a>.</p>
<p><a id="1.2" name="1.2"></a>1.2. Кроме того, в текстах модулей не допускается использовать неразрывные пробелы и знак минус "-" в других кодировках (короткое, длинное тире и т.п.). </p>
<p>Такие символы часто оказываются в тексте модулей при копировании из офисных документов и приводят к ряду сложностей при разработке. Например, не работает поиск фрагментов текста, включающих «неправильные» минусы и пробелы; некорректно выводятся подсказки типов параметров процедур и функций в конфигураторе и расширенная проверка в 1С:EDT; указание «неправильного» минуса в выражениях приведет к синтаксической ошибке.<br/></p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2" name="2"></a>2. Программные модули не должны иметь неиспользуемых процедур и функций. </p></td></tr></tbody></table>
<p><a id="3" name="3"></a>3. Программные модули не должны иметь закомментированных фрагментов кода, а также фрагментов, которые каким-либо образом связаны с процессом разработки (отладочный код, служебные отметки, например, TODO, MRG и т.п.) и с конкретными разработчиками этого кода. Например, недопустимо оставлять подобные фрагменты в коде после завершения отладки или рефакторинга:</p><pre class="Programtext">Процедура ПередУдалением(Отказ)

//    Если Истина Тогда

//        Сообщение("Для отладки");

//    КонецЕсли;

КонецПроцедуры

</pre>
<p>также неправильно:</p><pre class="Programtext">Процедура ПередУдалением(Отказ)

    Если Истина Тогда

        // Иванов: доделать 

    КонецЕсли;

КонецПроцедуры

</pre>
<p>Правильно: после завершения отладки или рефакторинга удалить обработчик <strong>ПередУдалением</strong> из кода.</p>
<p>Неправильно в текстах запросов использовать комментарии для их модификации:</p><pre class="Programtext">ТекстЗапроса = "ВЫБРАТЬ

|	Контрагенты.Ссылка КАК Ссылка

|// ПОМЕСТИТЬ втКонтрагенты

|ИЗ

|	Справочник.Контрагенты КАК Контрагенты";



Если ВыгрузитьВоВременнуюТаблицу Тогда

	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "// ПОМЕСТИТЬ", "ПОМЕСТИТЬ");

КонецЕсли;

</pre>
<p>О модификации текстов запросов смотрите <a href="#01_Оформление текстов запросов.htm" target="_top">п.6 стандарта Оформление текстов запросов</a></p>
<p><a id="4" name="4"></a>4. Тексты модулей оформляются по принципу "один оператор в одной строке". Наличие нескольких операторов допускается только для "однотипных" операторов присваивания, например:</p>
<p></p><pre class="Programtext">НачальныйИндекс = 0; Индекс = 0; Результат = 0;

</pre>
<p><a id="5" name="5"></a>5. Текст модуля должен быть оформлен синтаксическим отступом. Для синтаксического отступа используется табуляция (а не пробелы, чтобы при смене числа знаков в табуляции выравнивание текста сохранялось).</p>
<p>Размер табуляции - стандартный (4 символа). <br/><br/>5.1. С крайней левой позиции должны начинаться только:</p>
<ul>
<li>операторы <strong>Процедура</strong>, <strong>КонецПроцедуры</strong>, <strong>Функция</strong>, <strong>КонецФункции</strong>;  

<li>заголовки (описания) процедур и функций;  

<li>объявление переменных модуля;  

<li>код вне процедур и функций (с учетом синтаксического отступа); 

<li>директивы компилятора <strong>&amp;НаКлиенте</strong>, <strong>&amp;НаСервере </strong>и т.д. и аннотации <b>&amp;Перед</b>, <b>&amp;После</b> и др. 

<li>инструкции препроцессора (в т.ч. <strong>#Область</strong> и <strong>#КонецОбласти</strong>)</li></li></li></li></li></li></ul>
<p><a id="5.2" name="5.2"></a>5.2. Процедуры <strong>НачатьТранзакцию</strong> и <strong>ЗафиксироватьТранзакцию</strong> не являются операторными скобками, поэтому текст внутри этих процедур не сдвигается. <br/><br/>6. При длине строки более 120 символов следует использовать переносы. Строки длиннее 120 символов делать не рекомендуется, за исключением тех случаев, когда перенос невозможен (например, в коде определена длинная строковая константа, которая выводится без переносов в окно сообщений с помощью объекта <strong>СообщениеПользователю</strong>). </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#02_Перенос выражений.htm" target="_top">Перенос выражений.</a></em></p></blockquote>
<p><a id="7.1" name="7.1"></a>7.1. Тексты модулей могут содержать <strong>комментарии</strong>. Комментарии должны быть достаточно понятными, чтобы пояснять работу модуля или комментируемого оператора. Тексты комментариев должны составляться по правилам русского языка, в деловом стиле, быть эмоционально сдержанными и не содержать слов, не относящихся к функциональности программы.  </p>
<p><a id="7.2" name="7.2"></a>7.2. Небольшие комментарии пишутся в конце строки, которую комментируют, например:</p><pre class="Programtext">НайденныеОшибки.Колонки.Добавить("Номер"); // для совместимости

</pre>
<p><a id="7.3" name="7.3"></a>7.3. Большие комментарии или комментарии к фрагменту кода пишутся перед комментируемым кодом в отдельной строке. Текст выравнивается по левой границе комментируемого фрагмента. Между символами комментария "//" и текстом комментария должен быть пробел.</p><pre class="Programtext">// Инициализируем переменные для выполнения расчетов,

// которые выполняются далее по тексту модуля.

ТекущаяДата = ОбщегоНазначения.ПолучитьРабочуюДату(); 

ТекущийГод = Год(ТекущаяДата); 

ТекущийМесяц = Месяц(ТекущаяДата); 

ТекущаяНеделя = НеделяГода(ТекущаяДата); 

ТекущийДень = День(ТекущаяДата);

</pre>
<p><a id="8" name="8"></a>8. Тексты больших процедур и функций можно разбивать на отдельные сворачиваемые области. При этом имена областей должны удовлетворять требованиям стандарта <a href="#07_Правила образования имен переменных.htm" target="_top">Правила образования имен переменных</a> </p>
<p class="tip">Для автоматического форматирования кода можно воспользоваться обработкой <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/АвтоформатированиеКодаИЛокализация/АвтоформатированиеКодаИЛокализация.zip" rel="nofollow" target="_blank">автоформатирования кода и локализации</a>.</p>
<h3>См. также</h3>
<ul>
<li><a href="#09_Правила создания общих модулей.htm" target="_top">Правила создания общих модулей</a>
<li><a href="#02_Структура модуля.htm" target="_top">Структура модуля</a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100455.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Структура модуля.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Структура модуля</h1><div style="clear: right; float: right;">#std455</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. В программном модуле (общие модули, модули объектов, модули менеджеров объектов, модули форм, команд и т.п.) в общем случае могут присутствовать следующие разделы в приведенной ниже последовательности:</p>
<ul>
<li>заголовок модуля 

<li>раздел описания переменных 

<li>экспортные процедуры и функции модуля, составляющие его программный интерфейс 

<li>обработчики событий объекта (формы) 

<li>служебные процедуры и функции модуля 

<li>раздел инициализации </li></li></li></li></li></li></ul>
<p>Некоторые разделы могут присутствовать только в модулях определенного вида. Например, обработчики событий элементов форм могут присутствовать только в модулях форм, а раздел описания переменных и раздел инициализации не могут быть определены в неглобальных общих модулях, модулях менеджеров объектов, наборов записей, значений констант и модуле сеанса.</p>
<p>Требование о разделении кода модуля на разделы призвано повысить читаемость кода и упростить внесение изменений в код разными авторами (разработчиками) как при коллективной разработке, так и при доработке прикладных решений на конкретных внедрениях.</p>
<p><a id="1.2" name="1.2"></a>1.2. Объемные разделы модулей рекомендуется разбивать на подразделы по функциональному признаку.</p>
<p><a id="1.3" name="1.3"></a>1.3. Разделы и подразделы оформляются в виде областей. При этом имена областей должны удовлетворять требованиям стандарта <a href="#07_Правила образования имен переменных.htm" target="_top">Правила образования имен переменных</a></p>
<p><a id="1.4" name="1.4"></a>1.4. Шаблон (заготовка для копирования) разделов для общих модулей:</p>
<p class="Programtext"><strong>русск.</strong></p><pre class="Programtext">#Область ПрограммныйИнтерфейс

// Код процедур и функций

#КонецОбласти



#Область СлужебныйПрограммныйИнтерфейс

// Код процедур и функций

#КонецОбласти



#Область СлужебныеПроцедурыИФункции

// Код процедур и функций

#КонецОбласти

</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region Public

// Enter code here.

#EndRegion



#Region Internal

// Enter code here.

#EndRegion



#Region Private

// Enter code here.

#EndRegion

</pre>
<ul>
<li>Раздел <strong>«Программный интерфейс»</strong> содержит экспортные процедуры и функции, предназначенные для использования другими объектами конфигурации или другими программами (например, через внешнее соединение). 

<li>Раздел «<strong>Служебный программный интерфейс</strong>»  предназначен для модулей, которые являются частью некоторой функциональной подсистемы. В нем должны быть размещены экспортные процедуры и функции, которые допустимо вызывать только из других функциональных подсистем этой же библиотеки. 

<li>Раздел <strong>«Служебные процедуры и функции»</strong> содержит процедуры и функции, составляющие внутреннюю реализацию общего модуля. В тех случаях, когда общий модуль является частью некоторой <a href="#06_Использование подсистем.htm" target="_top">функциональной подсистемы</a>, включающей в себя несколько объектов метаданных, в этом разделе также могут быть размещены служебные экспортные процедуры и функции, предназначенные только для вызова из других объектов данной подсистемы. <br/><br/>Для объемных общих модулей рекомендуется разбивать этот раздел на подразделы, по функциональному признаку. Например: </li></li></li></ul>
<p class="Programtext"><strong>русск.</strong></p><pre class="Programtext">#Область ОбновлениеИнформационнойБазы

// Код процедур и функций

#КонецОбласти

</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region InfobaseUpdate

// Enter code here.

#EndRegion

</pre>
<p><a id="1.5" name="1.5"></a>1.5. Шаблон оформления разделов для модулей объектов, менеджеров, наборов записей, обработок, отчетов и т.п.:</p>
<p class="Programtext"><strong>русск.</strong></p><pre class="Programtext">#Область ОписаниеПеременных



#КонецОбласти



#Область ПрограммныйИнтерфейс

// Код процедур и функций

#КонецОбласти



#Область ОбработчикиСобытий

// Код процедур и функций

#КонецОбласти



#Область СлужебныйПрограммныйИнтерфейс

// Код процедур и функций

#КонецОбласти



#Область СлужебныеПроцедурыИФункции

// Код процедур и функций

#КонецОбласти



#Область Инициализация



#КонецОбласти</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region Variables



#EndRegion



#Region Public

// Enter code here.

#EndRegion



#Region EventHandlers

// Enter code here.

#EndRegion



#Region Internal

// Enter code here.

#EndRegion



#Region Private

// Enter code here.

#EndRegion



#Region Initialize



#EndRegion

</pre>
<ul>
<li>Раздел <strong>«Программный интерфейс»</strong> содержит экспортные процедуры и функции, предназначенные для использования в других модулях конфигурации или другими программами (например, через внешнее соединение). Не следует в этот раздел помещать экспортные функции и процедуры, которые предназначены для вызова исключительно из модулей самого объекта, его форм и команд. Например, процедуры заполнения табличной части документа, которые вызываются из обработки заполнения в модуле объекта и из формы документа в обработчике команды формы не являются программным интерфейсом модуля объекта, т.к. вызываются только в самом модуле и из форм этого же объекта. Их следует размещать в разделе «Служебные процедуры и функции». 

<li>Раздел <strong>«Обработчики событий»</strong> содержит обработчики событий модуля объекта (<strong>ПриЗаписи</strong>, <strong>ПриПроведении</strong> и др.) 

<li>Раздел «<strong>Служебный программный интерфейс</strong>» имеет такое же предназначение, как и в общих модулях. 

<li>Раздел <strong>«Служебные процедуры и функции»</strong> имеет такое же предназначение, как и в общих модулях.</li></li></li></li></ul>
<p><a id="1.6" name="1.6"></a>1.6. Шаблон оформления разделов для модулей форм:</p>
<p class="Programtext"><strong>русск.</strong></p><pre class="Programtext">#Область ОписаниеПеременных



#КонецОбласти



#Область ОбработчикиСобытийФормы

// Код процедур и функций

#КонецОбласти



#Область ОбработчикиСобытийЭлементовШапкиФормы

// Код процедур и функций

#КонецОбласти



#Область ОбработчикиСобытийЭлементовТаблицыФормы&lt;ИмяТаблицыФормы&gt;

// Код процедур и функций

#КонецОбласти



#Область ОбработчикиКомандФормы

// Код процедур и функций

#КонецОбласти



#Область СлужебныеПроцедурыИФункции

// Код процедур и функций

#КонецОбласти

</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region Variables



#EndRegion



#Region FormEventHandlers

// Enter code here.

#EndRegion



#Region FormHeaderItemsEventHandlers

// Enter code here.

#EndRegion



#Region <tablename>FormTableItemsEventHandlers&lt;FormTableName&gt;

// Enter code here.

#EndRegion



#Region FormCommandsEventHandlers

// Enter code here.

#EndRegion



#Region Private

// Enter code here.

#EndRegion

</tablename></pre>
<ul>
<li>Раздел <strong>«Обработчики событий формы»</strong> содержит процедуры-обработчики событий формы: <strong>ПриСозданииНаСервере</strong>, <strong>ПриОткрытии</strong> и т.п. 

<li>Раздел <strong>«Обработчики событий элементов шапки формы»</strong> содержит процедуры-обработчики элементов, расположенных в основной части формы (все, что не связано с таблицами на форме). 

<li>В разделах <strong>«Обработчики событий элементов таблицы формы &lt;имя таблицы формы&gt;»</strong> размещаются процедуры-обработчики таблиц формы и элементов таблиц. Для процедур-обработчиков каждой таблицы должен быть создан свой раздел. 

<li>Раздел <strong>«Обработчики команд формы»</strong> содержит процедуры-обработчики команд формы (имена которых задаются в свойстве Действие команд формы). 

<li>Раздел <strong>«Служебные процедуры и функции»</strong> имеет такое же предназначение, что и в общих модулях. </li></li></li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#03_Правила создания модулей форм.htm" target="_top">Правила создания модулей форм</a><br/></em></p></blockquote>
<p><a id="1.7" name="1.7"></a>1.7. Шаблон оформления разделов для модулей команд:</p>
<p class="Programtext"><strong>русск.</strong></p><pre class="Programtext">#Область ОбработчикиСобытий

// Код процедур и функций

#КонецОбласти



#Область СлужебныеПроцедурыИФункции

// Код процедур и функций

#КонецОбласти

</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region EventHandlers

// Enter code here.

#EndRegion



#Region Private

// Enter code here.

#EndRegion

</pre>
<p class="Programtext"><br/></p>
<ul>
<li>Раздел <strong>«Обработчики событий»</strong> содержит процедуру-обработчик команды <strong>ОбработкаКоманды</strong>. 

<li>Раздел <strong>«Служебные процедуры и функции»</strong> имеет такое же предназначение, что и в общих модулях. </li></li></ul>
<p><a id="1.8" name="1.8"></a>1.8. В модуле не должно быть пустых областей.</p>
<p><a id="2" name="2"></a>2. Общие требования к разделам программных модулей.</p>
<p><a id="2.1" name="2.1"></a>2.1. <strong>Заголовок модуля</strong> представляет собой комментарий в самом начале модуля. В заголовке модуля приводится его краткое описание и условия применения. <br/>Например: </p><pre class="Programtext">////////////////////////////////////////////////////////////////////////////////

// Клиентские процедуры и функции общего назначения:

// - для работы со списками в формах;

// - для работы с журналом регистрации;

// - для обработки действий пользователя в процессе редактирования

//   многострочного текста, например комментария в документах;

// - прочее.

//  

////////////////////////////////////////////////////////////////////////////////

</pre>
<p>Для модулей форм в заголовке рекомендуется размещать описание параметров формы.</p>
<p><a id="2.2" name="2.2"></a>2.2. <strong>Раздел описания переменных</strong>. Имена переменных назначаются согласно <a href="#07_Правила образования имен переменных.htm" target="_top">общим правилам образования имен переменных</a>, а их использование описывается в статье <a href="#08_Использование глобальных переменных в программных модулях.htm" target="_top">Использование глобальных переменных в программных модулях</a>.</p>
<p>Все переменные модуля должны быть снабжены комментарием, достаточным для понимания их назначения. Комментарий рекомендуется размещать в той же строке, где объявляется переменная. <br/>Пример:</p>
<p class="Programtext"><strong>русск.</strong></p><pre class="Programtext">#Область ОписаниеПеременных



Перем ВалютаУчета;

Перем АдресПоддержки;

...



#КонецОбласти

</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region Variables



Var PresentationCurrency;

Var SupportEmail;

...



#EndRegion

</pre>
<p><a id="2.3" name="2.3"></a>2.3. <strong>Программный интерфейс</strong>. Экспортные процедуры и функции, составляющие программный интерфейс модуля, размещаются сразу же после описания переменных. Такие процедуры и функции предназначены для использования другими объектами конфигурации или другими программами (например, через внешнее соединение), поэтому должны быть расположены в модуле на "видном месте". </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#04_Описание процедур и функций.htm" target="_top">Описание процедур и функций</a></em></p></blockquote>
<p><a id="2.4.1" name="2.4.1"></a>2.4.1. <strong>Обработчики событий формы, команд и элементов формы</strong>. Перед служебными процедурами и функциями в модуле формы располагаются обработчики событий формы, а также обработчики событий команд и элементов формы. </p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2.4.2" name="2.4.2"></a>2.4.2. Рекомендуется обработчики одного элемента формы располагать вместе, придерживаясь, при этом, порядка их следования в панели свойств редактора формы в конфигураторе.</p>
<p><a id="2.4.3" name="2.4.3"></a>2.4.3. У каждого события должна быть назначена своя процедура-обработчик. Если одинаковые действия должны выполняться при возникновении событий в разных элементах формы следует:</p>
<ul>
<li>
<div>создать отдельную процедуру (функцию), выполняющую необходимые действия</div>
<li>
<div>для каждого элемента формы создать отдельный обработчик с именем, назначаемым по умолчанию</div>
<li>
<div>из каждого обработчика вызвать требуемую процедуру (функцию).</div></li></li></li></ul>
<p>Например, неправильно:</p><pre class="Programtext">&amp;НаКлиенте

Процедура ПоИсполнителюПриИзменении(Элемент)

 ПараметрыОтбора = Новый Соответствие();

 ПараметрыОтбора.Вставить("ПоАвтору", ПоАвтору);

 ПараметрыОтбора.Вставить("ПоИсполнителю", ПоИсполнителю);

 УстановитьОтборСписка(Список, ПараметрыОтбора);

КонецПроцедуры



&amp;НаКлиенте

Процедура ПоАвторуПриИзменении(Элемент)

 ПоИсполнителюПриИзменении(Неопределено);

КонецПроцедуры

</pre>
<p>правильно:</p><pre class="Programtext">&amp;НаКлиенте

Процедура ПоИсполнителюПриИзменении(Элемент)

 УстановитьОтбор();

КонецПроцедуры



&amp;НаКлиенте

Процедура ПоАвторуПриИзменении(Элемент)

 УстановитьОтбор();

КонецПроцедуры



&amp;НаСервере

Процедура УстановитьОтбор()

 ПараметрыОтбора = Новый Соответствие();

 ПараметрыОтбора.Вставить("ПоАвтору", ПоАвтору);

 ПараметрыОтбора.Вставить("ПоИсполнителю", ПоИсполнителю);

 УстановитьОтборСписка(Список, ПараметрыОтбора);

КонецПроцедуры 

</pre>
<p>Это требование обусловлено тем, что логически процедуры-обработчики событий не предназначены для использования в коде модуля, а вызываются непосредственно платформой. Смешение же этих двух сценариев в одной процедуре неоправданно усложняет ее логику и снижает ее устойчивость (вместо одного предусмотренного сценария вызова - по событию из платформы - код процедуры должен рассчитывать и на другие "прямые" вызовы из кода).</p></td></tr></tbody></table>
<p><a id="2.5" name="2.5"></a>2.5. <strong>Обработчики событий модулей объекта и менеджера объекта </strong>размещаются после раздела с программным интерфейсом, но до служебных процедур и функций модуля.<strong> </strong>  

<table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2.5.1" name="2.5.1"></a>2.5.1. Рекомендуется располагать обработчики, придерживаясь порядка их следования в описании встроенного языка.</p></td></tr></tbody></table>
<p><a id="2.6" name="2.6"></a>2.6. <strong>Служебные процедуры и функции модуля</strong>, которые не являются обработчиками событий, а составляют внутреннюю реализацию модуля, размещаются в модуле следом за обработчиками событий. </p>
<p>В тех случаях когда общий модуль является частью некоторой функциональной подсистемы, включающей в себя несколько объектов метаданных, в этом разделе также могут быть размещены служебные экспортные процедуры и функции, предназначенные только для вызова из других объектов данной подсистемы.</p>
<p>Процедуры и функции, связанные между собой по характеру или по логике работы рекомендуется располагать вместе. В модулях форм не рекомендуется явно группировать процедуры и функции модуля на серверные, клиентские и функции без контекста, так как такое «технологическое» упорядочивание затрудняет понимание логики модуля, отвлекая внимание разработчика на детали ее реализации. </p>
<p><a id="2.7" name="2.7"></a>2.7. <strong>Раздел инициализации</strong> содержит операторы, инициализирующие переменные модуля или объект (форму). <br/>Например:</p>
<p class="Programtext"><span style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; COLOR: navy; LINE-HEIGHT: 115%; mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><strong>русск.</strong></span></p><span style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'; COLOR: navy; LINE-HEIGHT: 115%; mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><pre class="Programtext">#Область Инициализация



АдресПоддержки = "v8@1c.ru"; 

ВыполнитьИнициализацию();

...



#КонецОбласти</pre>
<p class="Programtext"><strong>англ.</strong></p><pre class="Programtext">#Region Initialize



SupportEmail = "v8@1c.ru";

Ctor();

...



#EndRegion

</pre>
<p class="Programtext"><br/></p>
<p class="tip">Для оформления разделов кода в виде областей рекомендуется воспользоваться <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/КонвертацияМодулейДляИспользованияОбластей/КонвертацияМодулейДляИспользованияОбластей.zip" rel="nofollow" target="_blank">приложенной обработкой</a>.</p></span></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100647.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Имена процедур и функций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Имена процедур и функций</h1><div style="clear: right; float: right;">#std647</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Правильный выбор имен процедур и функций очень важен для повышения читаемости кода. В большинстве случаев хорошо выбранное имя процедуры в сочетании с правильно подобранными именами параметров избавляют от необходимости ее как-то дополнительно описывать. В ряде случаев, сложности в выборе имени процедуры и (или) ее параметров свидетельствуют о неправильной архитектуре программного кода. И наоборот, если "самодокументирующееся" имя придумать легко, значит процедура спроектирована правильно.</p>
<blockquote>
<p><em>См. также: <a href="#04_Описание процедур и функций.htm" target="_top">Описание процедур и функций</a></em></p></blockquote>
<p><a id="2" name="2"></a>2. Имена процедур, функций и <a href="#05_Параметры процедур и функций.htm" target="_top">формальных параметров</a> следует образовывать от терминов предметной области таким образом, чтобы из имени было понятно назначение. Следует стремиться к тому, чтобы имена были "говорящими" (документировали сами себя).<br/>Например, неправильно:</p><pre class="Programtext">Функция ВыполнитьПроверку(Параметр1, Рекв, ТЗ)

Функция ПолучитьМассивыРеквизитов(ХозяйственнаяОперация, МассивВсехРеквизитов, МассивРеквизитовОперации)

</pre>
<p>Правильно:</p><pre class="Programtext">Функция РеквизитОбъектаЗаданногоТипа(Объект, ИмяРеквизита, ТипЗначения)

Функция ЗаполнитьИменаРеквизитовПоХозяйственнойОперации(ХозяйственнаяОперация, ИменаВсеРеквизиты, ИменаРеквизитыОперации)

</pre>
<p><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana">3. Имена следует образовывать путем удаления пробелов между словами. При этом, каждое слово в имени пишется с прописной буквы. Предлоги и местоимения из одной буквы также пишутся прописными буквами. <o:p></o:p></span></p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="4" name="4"></a>4. Не рекомендуется в названиях процедур и функций описывать типы принимаемых параметров и (или) возвращаемых значений.</p>
<p>Например, неправильно:</p><pre class="Programtext">Функция ПолучитьМассивРолейСПравомДобавления()

Функция ПолучитьСтруктуруДополнительныхНастроек()

</pre>
<p>Правильно:</p><pre class="Programtext">Функция ИменаРолейСПравомДобавления()

Функция ДополнительныеНастройки()</pre>
<p>Эта рекомендация справедлива в большинстве случаев за редким исключением, когда без описания типа возвращаемого значения не ясно назначение самой процедуры или функции.</p>
<p><a id="5" name="5"></a>5. Имена процедур в общем случае, следует образовывать от неопределенной формы глагола, от сути выполняемого действия, например: <br/><br/>Неправильно:</p><pre class="Programtext">Процедура ЗагрузкаКонтрагента()

</pre>
<p>Правильно:</p><pre class="Programtext">Процедура ЗагрузитьКонтрагента()

</pre>
<p><a id="6.1" name="6.1"></a>6.1. Имена функций в общем случае следует образовывать от описания возвращаемого значения. </p>
<p>Неправильно:</p><pre class="Programtext">Функция ПолучитьПолноеИмяПользователя() 

Функция СоздатьПараметрыЗаполненияЦенПоставщика() 

Функция ОпределитьДатуНачалаСеанса()

</pre>
<p>Правильно:</p><pre class="Programtext">Функция ПолноеИмяПользователя() 

Функция НовыеПараметрыЗаполненияЦенПоставщика() 

Функция ДатаНачалаСеанса()

</pre>
<p><a id="6.2" name="6.2"></a>6.2. Если функция предназначена для создания какого-либо объекта, то рекомендуется в ее имени использовать слово "Новый". Например,<br/>Неправильно:</p><pre class="Programtext">Функция ДобавитьПолеФормы()

Функция СоздатьЭлементСправочникаФайлы()

Функция ПолучитьТаблицуКоманд()

</pre>
<p>Правильно:</p><pre class="Programtext">Функция НовоеПолеФормы() 

Функция НовыйЭлементСправочникаФайлы()

Функция НоваяТаблицаКоманд()

</pre>
<p><a id="6.3" name="6.3"></a>6.3. Если функция выполняет проверку какого-то условия, то ее имя рекомендуется начинать со слова "Это" или использовать причастия.<br/>Неправильно:</p><pre class="Programtext">Функция ПроверитьПроведенностьДокумента()

Функция ПроверитьИзменениеРеквизитовДокумента()

Функция ВнешняяЗадача()

</pre>
<p>Правильно:</p><pre class="Programtext">Функция ДокументПроведен()

Функция РеквизитыДокументыИзменены()

Функция ЭтоВнешняяЗадача()

</pre>
<p><a id="6.4" name="6.4"></a>6.4. В имени функции рекомендуется использовать глаголы в неопределенной форме в тех случаях, когда для понимания назначения функции важно, каким образом было получено возвращаемое значение. Например:</p><pre class="Programtext">Функция ВыбратьДанныеПоПравилу(Правило, ПользовательскиеНастройки)

Функция ПреобразоватьДанныеПоПравилу(НаборыДанных, ПараметрыПреобразования)</pre>
<p><a id="6.5" name="6.5"></a>6.5. Если выполнение функции предполагает, прежде всего, какое-либо действие, и при этом возврат значения не является ее основной задачей (например, это признак успешно выполненного действия), то имена таких функций следует образовывать от неопределенной формы глагола, как и для процедур. <br/>Например:</p><pre class="Programtext">Функция РазрешитьРедактированиеРеквизитовОбъекта(Форма) </pre></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100453.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Описание процедур и функций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Описание процедур и функций</h1><div style="clear: right; float: right;">#std453</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Описание <a href="#03_Имена процедур и функций.htm" target="_top">процедур и функций</a> рекомендуется выполнять в виде комментария к ним. Необходимость комментирования отдельных участков кода процедур и функций должна определяться разработчиком исходя из сложности и нестандартности конкретного участка кода.</p>
<p>При разработке на платформе 1С:Предприятие 8.3 текст комментария также выводится в контекстной подсказке процедур, функций и их параметров. Подробнее см. раздел «<a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000000942" target="_top">Контекстная подсказка при вводе текстов модулей</a>» главы 27 «Инструменты разработки» в документации к платформе.</p>
<p>При разработке в <strong>1C:Enterprise Development Tools</strong> (EDT) текст комментария также используется для уточнения типизации параметров и возвращаемого значения процедур и функций, и тем самым помогает выявлять ошибки кодирования на этапе разработки.</p>
<p><a id="2" name="2"></a>2. Обязательного комментирования требуют процедуры и функции входящие в <a href="#02_Структура модуля.htm" target="_top">программный интерфейс модулей</a> - такие процедуры и функции предназначены для использования в других функциональных подсистемах (или в других приложениях), за которые могут отвечать другие разработчики, поэтому они должны быть хорошо документированы.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#08_Ограничения на использование экспортных процедур и функций.htm" target="_top"><em>Ограничения на использование экспортных процедур и функций</em></a><em> и <a href="#03_Правила создания модулей форм.htm" target="_top">Использование экспортных процедур и функций в модулях форм</a></em></p></blockquote>
<p><a id="3" name="3"></a>3. Прочие процедуры и функции (в том числе обработчики событий модулей форм, объектов, наборов записей, менеджеров значений и т.п.) рекомендуется комментировать, если требуется пояснить назначение процедуры (функции) или особенности её работы. Также рекомендуется описывать причины невыполнения некоторых действий, если они кажутся неочевидными для данной процедуры или функции. </p>
<p>Но если процедура (функция) не сложна для понимания и ее назначение и порядок работы следуют из ее названия и имен формальных параметров, комментарий допускается не писать.</p>
<p><a id="4" name="4"></a>4.  Следует избегать комментариев, не дающих дополнительных пояснений о работе не-экспортной процедуры (функции). <br/>Например, неправильно:</p><pre class="Programtext">// Процедура - обработчик события "ПриОткрытии" формы

//

&amp;НаКлиенте

Процедура ПриОткрытии()



// Процедура-обработчик команды "Рассчитать"

//

&amp;НаКлиенте

Процедура Рассчитать()



// Процедура-обработчик события "ПриИзменении" элемента формы "РедактированиеТолькоВДиалоге"

//

&amp;НаКлиенте

Процедура РедактированиеТолькоВДиалогеПриИзменении(Элемент)

</pre>
<p>В этих примерах комментарии избыточны, так как из названий процедур очевидно, что это обработчики событий. А с их описанием и назначением параметров можно ознакомиться в синтакс-помощнике.</p><pre class="Programtext">// Функция возвращает статью движения денежных средств по данным документа

Функция СтатьяДвиженияДенежныхСредств(ДанныеДокумента)

</pre>
<p>Этот комментарий не дает никакой дополнительной информации о функции.</p>
<p><a id="5" name="5"></a>5. Комментарий размещается перед объявлением процедуры (функции) и имеет следующий вид. <br/><br/>5.1. <strong>Секция "Описание" </strong>(англ. <strong>"Description"</strong>)  содержит описание назначения процедуры (функции), достаточное для понимания сценариев ее использования без просмотра ее исходного кода. Также может содержать краткое описание принципов работы и перекрестные ссылки на связанные процедуры и функции.</p>
<p>Может быть единственной секцией для процедур без параметров. Описание не должно совпадать с именем процедуры (функции). Для процедур и функций секция должна начинаться с глагола. Для функций это, как правило: «Возвращает…». В тех случаях, когда возвращаемый результат является не основным в работе функции, – то с основного действия, например: «Проверяет…», «Сравнивает…», «Вычисляет…» и т.п. Не рекомендуется начинать описание с избыточных слов «Процедура...», «Функция...», а также с имени самой процедуры (функции), от удаления которых смысл не меняется.</p>
<p>Например, неправильно:</p><pre class="Programtext">// Конструктор объекта WSПрокси.

// ...

Функция WSПрокси(ПараметрыПрокси) Экспорт



// Функция СтрокаТаблицыЗначенийВСтруктуру создает структуру со свойствами, соответствующими...

Функция СтрокаТаблицыЗначенийВСтруктуру(СтрокаТаблицыЗначений) Экспорт

</pre>
<p>Правильно:</p><pre class="Programtext">// Создает прокси на основе определения веб-сервиса и связывает

// его с точкой подключения веб-сервиса.

// В дополнении к платформенному конструктору Новый WSПрокси:

//  - включает в себя вызов конструктора WSОпределения;

//  - на время сеанса кэширует файл WSDL для оптимизации частых обращений к веб-сервису;

//  - не требует явного указания ИнтернетПрокси (он подставляется автоматически, если настроен);

//  - выполняет быструю проверку доступности веб-сервиса с помощью операции Ping.

// ...

Функция WSПрокси(ПараметрыПрокси) Экспорт



// Создает структуру со свойствами, соответствующими...

Функция СтрокаТаблицыЗначенийВСтруктуру(СтрокаТаблицыЗначений) Экспорт

</pre>
<p><a id="5.2" name="5.2"></a>5.2. <strong>Секция "Параметры" </strong>(англ.<strong> "Parameters"</strong>)<strong>  </strong>описывает <a href="#05_Параметры процедур и функций.htm" target="_top">параметры процедуры (функции)</a>. Если их нет, секция пропускается. Предваряется строкой "Параметры:", затем с новой строки размещаются описания всех параметров. </p>
<p><a id="5.2.1" name="5.2.1"></a>5.2.1. <strong>Описание параметра</strong> начинается с новой строки, далее имя параметра, затем дефис и список типов (*), далее дефис и текстовое описание параметра. </p>
<p><strong>Имя параметра</strong> необходимо стремиться выбирать таким образом, чтобы его назначение было понятно в контексте функции без дополнительных пояснений</p>
<p><strong>Описание типа</strong> является обязательным. Тип может быть описан явно, при этом может быть указан или один тип или список типов. Под «списком типов» подразумеваются имена типов, разделенные запятыми. Имя типа может быть простым (в одно слово) или составным - в два слова, разделенных точкой. <br/>Например: <strong>Строка, Структура, Произвольный, СправочникСсылка.Сотрудники</strong>.</p>
<p>В качестве типов значений следует использовать только существующие в платформе типы, а также специальные типы, предусмотренные в EDT: <strong>ОпределяемыйТип.&lt;Имя&gt;</strong>, <strong>СправочникСсылка</strong>, <strong>ОбъектМетаданныхОтчет</strong>, <strong>РасширениеДекорацииФормыДляНадписи</strong> и т.п.</p>
<p>Например, неправильно:</p><pre class="Programtext">// КоллекцияСтрок - КоллекцияЗначений – коллекция для сравнения;<br/>// ФормируемыйОтчет - ОбъектМетаданных: Отчет<br/>// ПрисоединенныйФайлОбъект - элемент справочника файлов.</pre>
<p>Правильно:</p><pre class="Programtext">// КоллекцияСтрок – ТаблицаЗначений, Массив, СписокЗначений – коллекция для сравнения.<br/>// ФормируемыйОтчет – ОбъектМетаданныхОтчет<br/>// ПрисоединенныйФайлОбъект - ОпределяемыйТип.ПрисоединенныйФайлОбъект - элемент справочника файлов.</pre>
<p><strong>Текстовое описание</strong> параметра рекомендуется заполнять в том случае, когда только имени параметра в контексте функции не достаточно для понимания его назначения, либо требуется дать дополнительную информацию о типе, поясняющие назначение параметра, а также может приводиться наглядный пример с ожидаемым значением параметра.</p>
<p>Например, неправильно:</p>
<p class="Programtext">// Проверяет, что переданные адреса включены в задачу. Если проверка не проходит – генерируется исключение.<br/>//<br/>// Параметры:<br/>//  Адреса - Строка - строка, содержащая электронные адреса<br/>//  ЗадачаИсполнителя - ЗадачаСсылка.ЗадачаИсполнителя – проверяемая задача<br/>//<br/>Процедура<font color="#000080"> ПроверитьАдресаЗадачи(</font>Адреса, ЗадачаИсполнителя)</p>
<p>Правильно:</p>
<p class="Programtext">// Проверяет, что переданные адреса включены в задачу. Если проверка не проходит – генерируется исключение.<br/>//<br/>// Параметры:<br/>//  Адреса - Строка - содержит электронные адреса, разделенные запятой. Например, <a href="mailto:support@mycorp.ru,v8@localdomain" target="_blank">support@mycorp.ru,v8@localdomain</a>.<br/>//  ЗадачаИсполнителя - ЗадачаСсылка.ЗадачаИсполнителя<br/>//<br/>Процедура ПроверитьАдресаЗадачи(Адреса, ЗадачаИсполнителя)</p>
<p>В данном примере текстовое описание для параметра «Адреса» нужно чтобы</p>
<ul>
<li>указать правило передачи нескольких адресов (через зяпятую); 

<li>привести пример.</li></li></ul>
<p>Текстовое описание для параметра <strong>ЗадачаИсполнителя</strong> не нужно.<br/></p>
<p><a id="5.2.2" name="5.2.2"></a>5.2.2. <a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">Для параметров типа Структура и ТаблицаЗначений (ДеревоЗначений)</a> в описании типа необходимо указывать ссылку на функцию, выходным значением которой является эта структура или таблица значений. Например, ссылку на функцию-конструктор.</p>
<p>Пример:</p>
<p class="Programtext">// Заполняет цены в строке табличной части<br/>// Параметры:<br/>// ТекущаяСтрока – СтрокаТабличнойЧасти<br/>// ПараметрыЗаполненияЦен – см. ЦенообразованиеСервер.ПараметрыЗаполненияЦен<br/>//<br/>Процедура ЗаполнитьЦеныВСтрокеТЧ(ТекущаяСтрока, ПараметрыЗаполненияЦен);</p>
<p>В редких случаях, когда метод обрабатывает коллекции универсальным образом, не нужно описывать свойства и колонки параметра, достаточно указать просто тип Структура или ТаблицаЗначений (ДеревоЗначений).</p>
<p><a id="5.2.3" name="5.2.3"></a>5.2.3. Для параметров типа <strong>Массив</strong> следует указывать тип элементов с помощью ключевого слова <strong>"из"</strong> (англ. <strong>"of"</strong>):</p>
<p>Например, неправильно:</p><pre class="Programtext">// МассивПеренаправленныхЗадач - Массив - массив перенаправленных задач.<br/>// МассивПеренаправленныхЗадач - Массив - задачи (ЗадачаСсылка.ЗадачаИсполнителя), перенаправленные другому исполнителю.</pre>
<p class="Programtext">Правильно:<br/>// СведенияОбОбновлении  - Массив из см. ОбновлениеИнформационнойБазы.ПараметрыОбновления</p>
<p>Допускается не указывать тип элементов массивов только в методах, которые работают с массивами универсальным образом. Например, в Библиотеке стандартных подсистем есть методы <strong>ДополнитьМассив</strong>, <strong>УдалитьВсеВхожденияЗначенияИзМассива</strong> и т.д.</p>
<p><a id="5.2.4" name="5.2.4"></a>5.2.4. Также для параметра типа <strong>СтрокаТаблицыЗначений</strong> (<strong>СтрокаДереваЗначений</strong>) возможно задать состав свойств, соответствующий колонкам его таблицы-владельца (дерева-владельца):<br/>Например:</p>
<p class="Programtext">// СведенияОРегионе – СтрокаТаблицыЗначений: см. РегистрыСведений.АдресныеОбъекты.КлассификаторСубъектовРФ</p>
<p>где <strong>КлассификаторСубъектовРФ</strong> - экспортная функция модуля менеджера регистра сведения АдресныеОбъекты, которая возвращает таблицу значений.</p>
<p><a id="5.2.5" name="5.2.5"></a>5.2.5. Также для каждого параметра можно задать одно или несколько дополнительных описаний типов параметра. Каждое дополнительное описание начинается с новой строки, затем обязательный дефис, далее список типов параметра далее дефис и текстовое описание. <br/>Например:</p><pre class="Programtext">// Параметры:

//   Реквизиты - Строка - имена реквизитов, перечисленные через запятую.

//                        Например, "Код, Наименование, Родитель".

//             - Структура, ФиксированнаяСтруктура - в качестве ключа передается

//                        псевдоним поля для возвращаемой структуры с результатом,

//                        а в качестве значения (опционально) фактическое имя поля в таблице.

//                        Если значение не определено, то имя поля берется из ключа.

//             - Массив Из Строка, ФиксированныйМассив Из Строка - имена реквизитов.</pre>
<p><a id="5.2.6" name="5.2.6"></a>5.2.6. Описание также могут быть заданы с помощью ссылки на <a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">функцию-конструктор</a> в формате <strong>"см. ПутьКФункции"</strong> (англ <strong>"see MethodPath"</strong>). <br/>Например:</p>
<p class="Programtext">// ПараметрыУказанияСерий - см. НоменклатураКлиентСервер.ПараметрыУказанияСерий<br/>// Дубли - см. ОбработкаОбъект.ПоискИУдалениеДублей.ГруппыДублей<br/>// РеквизитыКомпонент - Массив из см. ВнешниеКомпоненты.РеквизитыКомпоненты</p>
<p>При разработке кода, обращающегося к реквизитам конкретного объекта метаданных или формы, можно ссылаться на типы реквизитов этого объекта (формы):</p>
<p class="Programtext">//  Запросы - см. Обработки.КонсольЗапросов.ТабличнаяЧасть.Запросы<br/>//  ТипыДанных - см. Обработки.КонсольЗапросов.Реквизит.ДоступныеТипыДанных<br/>//  Вложения - см. Справочники.ШаблоныСообщений.ФормаЭлемента.Вложения<br/>//  КонтактнаяИнформация - см. Документы.ЗаказПокупателя.ФормаДокумента.Объект.КонтактнаяИнформация</p>
<p>Также в редких случаях, когда подходящей функции-конструктора не существует и ее невозможно создать, допустимо указывать ссылку на другую процедуру (при полном совпадении параметров) или на параметр другой процедуры или функции, например:</p>
<p class="Programtext">// См. ПодключаемыеКомандыПереопределяемый.ПриОпределенииКомандПодключенныхКОбъекту<br/>//<br/>Процедура ПриОпределенииКомандПодключенныхКОбъекту(НастройкиФормы, Источники, ПодключенныеОтчетыИОбработки, Команды) Экспорт</p>
<p class="Programtext">// Параметры:<br/>//  НастройкиФормы - см. ПодключаемыеКомандыПереопределяемый.ПриОпределенииКомандПодключенныхКОбъекту.НастройкиФормы<br/>//  Источники - см. ПодключаемыеКомандыПереопределяемый.ПриОпределенииКомандПодключенныхКОбъекту.Источники<br/>//  ПодключенныеОтчетыИОбработки - см. ПодключаемыеКомандыПереопределяемый.ПриОпределенииКомандПодключенныхКОбъекту.ПодключенныеОтчетыИОбработки<br/>//  Команды - см. ПодключаемыеКомандыПереопределяемый.ПриОпределенииКомандПодключенныхКОбъекту.Команды<br/>//<br/>Процедура ПриОпределенииКомандПодключенныхКОбъекту(НастройкиФормы, Источники, ПодключенныеОтчетыИОбработки, Команды) Экспорт</p>
<p><a id="5.3" name="5.3"></a>5.3. <strong>Секция "Возвращаемое значение" </strong>(англ. <strong>"Returns"</strong>) описывает тип и содержание возвращаемого значения функции. Для процедур эта секция отсутствует. Предваряется строкой "Возвращаемое значение:". Затем с новой строки тип возвращаемого значения, дефис и текст описания. При использовании возвращаемого значения составного типа следует каждый тип писать с новой строки и с дефиса. Например:</p><pre class="Programtext">// Возвращаемое значение:

//  Строка



// Возвращаемое значение:

//  Булево - Истина, если хотя бы одна из переданных ролей доступна текущему пользователю, либо у него есть административные права.



// Возвращаемое значение: 

//  - ЛюбаяСсылка - ссылка на предопределенный элемент.

//  - Неопределено - если предопределенный элемент есть в метаданных, но не создан в ИБ.



// Возвращаемое значение:

//  - СправочникСсылка.Пользователи

//  - СправочникСсылка.ВнешниеПользователи</pre>
<p>Текстовое описание возвращаемого значения рекомендуется заполнять в том случае, когда только одного описания функции недостаточно, либо требуется дать дополнительную информацию о типе, например, о составе свойств или колонок возвращаемого значения. Также может быть приведен пример с ожидаемым значением возвращаемого значения, либо сквозной пример размещается в секции "Пример" ниже.<br/>Формат описания возвращаемого значения с типом <strong>Массив</strong> аналогичен описанному в п. 5.2.3. <br/>Формат описания возвращаемого значения с типом <strong>Структура</strong> и <strong>ТаблицаЗначений</strong> описан в стандарте <a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">Структуры и таблицы значений в качестве параметров процедур и функций</a>.</p>
<p><a id="5.4" name="5.4"></a>5.4. <strong>Секция "Пример" </strong>(англ. <strong>"Example"</strong>) содержит пример использования процедуры, или функции. Предваряется строкой "Пример:". Далее с новой строки пример использования. Имя процедуры (функции) следует писать вместе с именем общего модуля, в котором она расположена. Из примера должно быть понятно, что передается на входе и что возвращается на выходе.<br/>Например, неправильно:</p><pre class="Programtext">// Пример:

//  ПодставитьПараметрыВСтроку(ШаблонСтроки, СтрокаЗамены);

</pre>
<p>Правильно:</p><pre class="Programtext">// Пример:

//  СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru='%1 пошел в %2'"), "Вася", "Зоопарк") = "Вася пошел в Зоопарк".

</pre>
<p><a id="5.4.1" name="5.4.1"></a>5.4.1. В <a href="#05_Переопределение общих модулей в условиях иерархии библиотек.htm" target="_top">переопределяемых модулях</a> в <strong>секции "Пример"</strong> следует размещать пример реализации переопределяемой процедуры, а не пример ее вызова. Например, для процедуры ПриОпределенииОбщихПараметровБазовойФункциональности(ОбщиеПараметры):</p><pre class="Programtext">// Пример:

//  ОбщиеПараметры.МинимальноНеобходимаяВерсияПлатформы = "8.3.4.365";

//  ОбщиеПараметры.РекомендуемыйОбъемОперативнойПамяти = 2;

</pre>
<p><a id="5.5" name="5.5"></a>5.5. В редких случаях, когда сразу несколько параметров имеют дополнительные типы, рекомендуется добавить <strong>секцию "Варианты вызова"</strong> (англ. <strong>"Сall options"</strong>), в которой дать описания наиболее частых или всех возможных вариантов вызова функции с различными комбинациями типов параметров. Секция начинается фразой "Варианты вызова:" с новой строки, затем идут описания вариантов, каждое начинается с новой строки. Каждый вариант вызова представляется в виде имени функции со списком типов, перечисленных через запятую в круглых скобках, затем следует дефис и текстовое описание варианта.</p>
<p>Например:</p><pre class="Programtext">// ...

//

// Параметры:

//   Параметр1 - Тип11, Тип12        - ...

//   Параметр2 - Тип21, Тип22, Тип23 - ...

//

// Варианты вызова:

//   УниверсальнаяПроцедура(Тип11, Тип21) - описание ...

//   УниверсальнаяПроцедура(Тип12, Тип22) - описание ...

//   УниверсальнаяПроцедура(Тип11, Тип23) - описание ...

//

Процедура УниверсальнаяПроцедура(Параметр1, Параметр2) Экспорт

</pre>
<p><a id="5.6" name="5.6"></a>5.6. В любом месте документирующего комментария можно добавить переход к другим объектам конфигурации, процедурам и функциям (в частности, для перехода к <a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">функциям-конструкторам структур</a>). При использовании <strong>1C:Enterprise Development Tools </strong>среда оформит такие переходы в виде гиперссылки. <br/>Например:</p><pre class="Programtext">// Описание универсальной процедуры.

// 

// См. УправлениеДоступом.ЗаполнитьНаборыЗначенийДоступа

//

// Параметры:

//   Параметр1 – Произвольный – описание параметра см. Справочник.Контрагенты.

//

Процедура УниверсальнаяПроцедура(Параметр1)

</pre>
<p><a id="5.7" name="5.7"></a>5.7. В случаях когда возникает необходимость отметить процедуру (функцию) как устаревшую, в первой строке ее описания размещается слово <strong>"Устарела"</strong> (англ. <strong>"Deprecated"</strong>).<br/>Например:</p><pre class="Programtext">// Устарела. Следует использовать ОбщегоНазначения.РазделениеВключено и

// ОбщегоНазначения.ДоступноИспользованиеРазделенныхДанных

// ... 

Функция ИспользованиеРазделителяСеанса() Экспорт

</pre>
<p><a id="6" name="6"></a>6. Если требуется прокомментировать процедуру или функцию с директивой компиляции, то вначале следует размещать комментарий, а затем - <br/>директиву компиляции. Например:</p><pre class="Programtext">// Процедура - обработчик события формы ПриСозданииНаСервере.

// Обрабатывает параметры формы и заполняет реквизиты формы значениями.

// А также выполняет следующие действия:

// ...

//

&amp;НаСервере

Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)

</pre>
<p>Такой стиль размещения комментария позволяет в первую очередь обращать внимание на определение функции и директиву компиляции, а потом - на комментарий, который может занимать достаточно большое количество строк. </p>
<p><a id="7" name="7"></a>7. Код процедур и функций должен отделяться друг от друга в тексте модуля пустыми строками.</p>
<h3>Примеры описания процедур и функций</h3>
<p>Пример описания функции с одним параметром:</p><pre class="Programtext">// Определяет доступность ролей ИменаРолей текущему пользователю,

// а также доступность административных прав.

//

// Параметры:

//   ИменаРолей - Строка - имена ролей, доступность которых проверяется, разделенные запятыми.

//

// Возвращаемое значение:

//   Булево - Истина, если хотя бы одна из переданных ролей доступна текущему пользователю,

//   либо у него есть административные права.

//

// Пример:

// Если РолиДоступны("ИспользованиеРассылокОтчетов,ОтправкаПоПочте") Тогда ...

//

Функция РолиДоступны(ИменаРолей) Экспорт 

</pre>
<p>Пример описания процедуры без параметров:</p><pre class="Programtext">// В обработчике события ПередЗаписью документа выполняется;

// - очистка табличной части услуги, в случае если указан договор с комиссионером;

// - проверка заполнения реквизита ЕдиницаИзмеренияМест табл. части Товары;

// - синхронизация с "подчиненным" счетом-фактурой;

// - заполнение склада и заказа покупателя в табличных частях Товары и ВозвратнаяТара;

// - удаление неиспользуемых строк табличной части "Серийные номера";

// - заполнение переменной модуля объекта УдалятьДвижение.

//

Процедура ПередЗаписью() 



КонецПроцедуры</pre><pre class="Programtext"> </pre>
<script type="text/javascript">forceDocumentLayout(true)</script><table borderwidth="0">
<tbody>
<tr>
<td class="tip">
<p>Для автоматического упорядочивания комментариев к процедурам или функциям с директивами компиляции можно воспользоваться приложенной обработкой <strong><a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/ФорматированиеДирективКомпиляции/ФорматированиеДирективКомпиляции.zip" rel="nofollow" target="_blank">ФорматированиеДирективКомпиляции.epf</a></strong>.</p>
<p>Для этого необходимо:</p>
<ol>
<li>Выгрузить модули конфигурации (команда меню Конфигурация -&gt; Выгрузить файлы конфигурации...) 

<li>Открыть обработку в режиме <strong>1С:Предприятие</strong> и указать каталог, в который были выгружены модули - далее нажать кнопку "Форматировать" 

<li>Загрузить модули в конфигурацию (команда меню Конфигурация -&gt; Загрузить файлы конфигурации...)</li></li></li></ol></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100640.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Параметры процедур и функций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Параметры процедур и функций</h1><div style="clear: right; float: right;">#std640</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При объявлении формальных параметров процедур и функций (далее по тексту: функций) необходимо придерживаться <a href="#07_Правила образования имен переменных.htm" target="_top">общих правил образования имен переменных</a>. В частности, имена параметров следует образовывать от терминов предметной области таким образом, чтобы из имени параметра было понятно его назначение.</p>
<p><a id="2" name="2"></a>2. Не следует использовать вместо параметров функций другие средства конфигурирования (<a href="#08_Использование глобальных переменных в программных модулях.htm" target="_top">переменные модулей</a>, реквизиты формы и т.п.)</p>
<p><a id="3" name="3"></a>3. Параметры в функции должны идти в логической последовательности. Рекомендуется располагать параметры по принципу от общего к частному. <br/>Например, неправильно:</p><pre class="Programtext">Процедура ПересчитатьСуммуДокумента(ИмяПоляСумма, ДокументОбъект, СуммаВключаетНДС = Истина)

 

Процедура ПоменятьЦветПоляФормы(Цвет, ИмяПоля, Форма)

</pre>
<p>правильно сначала расположить основные параметры <strong>ДокументОбъект</strong> и<strong> Форма</strong>:</p><pre class="Programtext">Процедура ПересчитатьСуммуДокумента(ДокументОбъект, ИмяПоляСумма, СуммаВключаетНДС = Истина)

 

Процедура ПоменятьЦветПоляФормы(Форма, ИмяПоля, Цвет)

</pre>
<p><a id="4" name="4"></a>4. Необязательные параметры (параметры со значениями по умолчанию) должны располагаться после обязательных параметров (без значений по умолчанию). <br/>Например:</p><pre class="Programtext">Функция КурсВалютыНаДату(Валюта, Дата = Неопределено) Экспорт

</pre>
<p><a id="5" name="5"></a>5. Не рекомендуется объявлять в функциях много параметров (нужно ориентироваться на количество не более семи параметров), при этом не должно быть много параметров со значениями по умолчанию (нужно ориентироваться на количество не более трех таких параметров). В противном случае, читаемость вызывающего кода сильно снижается. Например, можно легко ошибиться в количестве запятых при передаче необязательных параметров. </p>
<p>При необходимости передавать в функцию большое число параметров рекомендуется:</p>
<ul>
<li>группировать однотипные параметры в один или несколько составных параметров типа <strong>Структура</strong>. Например, в структуры могут быть объединены параметры, описывающие состав и значения полей некоторого объекта (<strong>ДанныеЗаполнения</strong>, <strong>ПараметрыПроведения, ДанныеФайла</strong> и т.п.); 

<li>либо полностью пересмотреть логику работы функции, например, разделив ее на несколько разных, более простых функций.</li></li></ul>
<p>Например, неправильно:</p><pre class="Programtext">// Добавляет новое поле на форму, инициализирует его значениями по умолчанию.

Функция ДобавитьПолеФормы(ИмяПоля, Заголовок = Неопределено, ОбработчикПриИзменении = "", ОбработчикНачалоВыбора = "", ШиринаПоля,

      ЦветФона = Неопределено, ЦветФонаЗаголовка = Неопределено, Родитель = Неопределено, КартинкаШапки = Неопределено, ПутьКДанным = Неопределено,

      ТолькоПросмотрПоля = Ложь, СвязиПараметровВыбора = Неопределено)

…

КонецФункции



// вызывающий код

НовоеПоле = ДобавитьПолеФормы("СтараяЦена", НСтр("ru='Цена'"),,, 12, ЦветФона, ЦветЗаголовка, НоваяГруппа,,,Истина);

НовоеПоле.ЦветТекста = WebЦвета.Серый;

</pre>
<p>Правильно пересмотреть логику работы функций, оставив в ней только один ключевой параметр <strong>ИмяПоля</strong>:</p><pre class="Programtext">// Добавляет новое поле на форму, инициализирует его значениями по умолчанию.

Функция НовоеПолеФормы(ИмяПоля)  

…

КонецФункции



// вызывающий код

НовоеПоле = НовоеПолеФормы("СтараяЦена");

НовоеПоле.Заголовок  = НСтр("ru='Цена'");

НовоеПоле.ЦветФона   = ЦветФона;

НовоеПоле.ЦветТекста = WebЦвета.Серый;

НовоеПоле…. = …

…

</pre>
<p>Другой пример. Неправильно:</p><pre class="Programtext">// Создает элемент справочника "Номенклатура"

Процедура СоздатьЭлементНоменклатуры(Наименование, ТоварУслуга, ЕдиницаИзмерения, ВесНетто, ПроверятьУникальность = Истина)

…

КонецПроцедуры

</pre>
<p>Правильно сгруппировать параметры, описывающие значения реквизитов номенклатуры, в структуру <strong>ЗначенияРеквизитов</strong>:</p><pre class="Programtext">// Создает элемент справочника "Номенклатура"

Процедура СоздатьЭлементНоменклатуры(ЗначенияРеквизитов, ПроверятьУникальность = Истина)

…

КонецПроцедуры

</pre>
<p><a id="6" name="6"></a>6. При вызове функций необходимо избегать громоздких конструкций, которые приводят к снижению читаемости кода, увеличивают вероятность ошибок и затрудняют отладку. <br/>В частности:</p>
<p><a id="6.1" name="6.1"></a>6.1. Не рекомендуется при передаче параметров в одну функцию применять вложенные вызовы других функций.<br/>Неправильно:</p><pre class="Programtext">СтруктураВложений.Вставить(ПрисоединенныйФайл.Наименование,

 Новый Картинка(ПолучитьИзВременногоХранилища(ПрисоединенныеФайлы.ПолучитьДанныеФайла(ПрисоединенныйФайл.Ссылка).СсылкаНаДвоичныеДанныеФайла)));

</pre>
<p>Правильно разбивать такие вызовы на отдельные операторы с помощью вспомогательных локальных переменных:</p><pre class="Programtext">АдресФайлаИзображения = ПрисоединенныеФайлы.ПолучитьДанныеФайла(ПрисоединенныйФайл.Ссылка).СсылкаНаДвоичныеДанныеФайла;

ДанныеИзображения = Новый Картинка(ПолучитьИзВременногоХранилища(АдресФайлаИзображения));

СтруктураВложений.Вставить(ПрисоединенныйФайл.Наименование, ДанныеИзображения);

</pre>
<p>В то же время, если код с вложенными вызовами получается компактным (не требует переноса выражений) и легко читаемым, то вложенные вызовы допустимы. <br/>Например:</p><pre class="Programtext">Предупреждение(НСтр("ru='Для выполнения операции необходимо установить расширение работы с файлами.'"));



ПеречитатьСуммуПоКурсу(Сумма, КурсВалютыНаДату(Валюта));

</pre>
<p><a id="6.2" name="6.2"></a>6.2. Также не рекомендуется при вызове функций использовать вложенный конструктор структуры: <strong>Новый Структура(...)</strong>. Вложенное объявление структуры допустимо только в тех случаях, когда количество ее свойств небольшое (нужно ориентироваться на количество свойств не более трех).</p>
<p>Неправильно:</p><pre class="Programtext">ЗаполнитьЦены(Объект.Товары, , Новый Структура("Дата, Валюта, Соглашение, ПоляЗаполнения",

   Объект.Дата, Объект.Валюта, Объект.Соглашение, "Цена, СтавкаНДС, ВидЦены, СрокПоставки"),

  Новый Структура("ПересчитатьСумму, ПересчитатьСуммуСНДС, ПересчитатьСуммуНДС, ПересчитатьСуммуРучнойСкидки, ОчиститьАвтоматическуюСкидку, ОчиститьСуммуВзаиморасчетов",

   "КоличествоУпаковок", СтруктураПересчетаСуммы, СтруктураПересчетаСуммы, "КоличествоУпаковок", Неопределено, Неопределено));</pre>
<p>Правильно:</p><pre class="Programtext">ПараметрыЗаполнения = Новый Структура;

ПараметрыЗаполнения.Вставить("Дата", Объект.Дата);

ПараметрыЗаполнения.Вставить("Валюта", Объект.Валюта);

ПараметрыЗаполнения.Вставить("Соглашение", Объект.Соглашение);

ПараметрыЗаполнения.Вставить("ПоляЗаполнения", "Цена, СтавкаНДС, ВидЦены, СрокПоставки");

 

ДействияСИзмененнымиСтроками = Новый Структура;

ДействияСИзмененнымиСтроками.Вставить("ПересчитатьСумму","КоличествоУпаковок");

ДействияСИзмененнымиСтроками.Вставить("ПересчитатьСуммуСНДС", ПараметрыПересчетыСуммы);

ДействияСИзмененнымиСтроками.Вставить("ПересчитатьСуммуНДС", ПараметрыПересчетыСуммы);

ДействияСИзмененнымиСтроками.Вставить("ПересчитатьСуммуРучнойСкидки","КоличествоУпаковок");

ДействияСИзмененнымиСтроками.Вставить("ОчиститьАвтоматическуюСкидку");

ДействияСИзмененнымиСтроками.Вставить("ОчиститьСуммуВзаиморасчетов ");



ЗаполнитьЦены(Объект.Товары, ПараметрыЗаполнения, ДействияСИзмененнымиСтроками);

</pre>
<p><a id="7" name="7"></a>7. При вызове функций не следует пропускать обязательные параметры. В противном случае, в параметр будет передано значение <strong>Неопределено</strong>, на которое функция может быть не рассчитана. Если же значение <strong>Неопределено</strong> является допустимым, то нужно или его передавать в функцию явно, или сделать этот параметр необязательным со значением по умолчанию <strong>Неопределено</strong>.</p>
<p>Например, для вызова процедуры</p>
<p>Процедура ПоменятьЦветПоляФормы(Форма, ИмяПоля, Цвет)</p>
<p>неправильно:</p><pre class="Programtext">ПоменятьЦветПоляФормы(,"РезультатПроверки", ЦветаСтиля.ПоясняющийОшибкуТекст); // пропущен первый параметр Форма

ПоменятьЦветПоляФормы(,,); // пропущены все обязательные параметры

</pre>
<p>правильно:</p><pre class="Programtext">ПоменятьЦветПоляФормы(ЭтотОбъект, "РезультатПроверки", Цвет); // указаны все обязательные параметры</pre>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="https://its.1c.ru/db/metod81/content/2606/hdoc" target="_top">Передача параметров по ссылке и по значению при вызове процедур и функций</a> (статья на ИТС) 

<li><a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">Особенности использования структур в качестве параметров процедур и функций</a>
<li><a href="#12_Использование объектов типа Структура.htm" target="_top">Использование объектов типа Структура</a><font face="Verdana" size="2"></font></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100641.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Особенности использования структур в качестве параметров процедур и функций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 8pt; LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 1"><b><span style='FONT-SIZE: 18pt; FONT-FAMILY: "Arial",sans-serif; COLOR: #003366; mso-fareast-font-family: "Times New Roman"; mso-font-kerning: 18.0pt; mso-fareast-language: RU'>Структуры и таблицы значений в качестве параметров процедур и функций<o:p></o:p></span></b></p></h1><div style="clear: right; float: right;">#std641</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<blockquote>
<p><em>Основная статья: <a href="#05_Параметры процедур и функций.htm" target="_top">Параметры процедур и функций</a></em> </p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 8pt; LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style='FONT-SIZE: 10pt; FONT-FAMILY: "Verdana",sans-serif; COLOR: black; mso-fareast-font-family: "Times New Roman"; mso-fareast-language: RU; mso-bidi-font-family: "Times New Roman"'>Для процедур и функций (далее по тексту: функций) с параметрами типа <b>Структура, ТаблицаЗначений, </b>а также<b> ДеревоЗначений </b>(далее по тексту рекомендации для таблицы значений также относятся к дереву значений) рекомендуется придерживаться следующего подхода к разработке.<o:p></o:p></span></p>
<p>1.1 Помимо функции, которая собственно реализует прикладную функциональность (далее по тексту: вызываемая функция), необходимо определить функцию-конструктор параметров возвращающую:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>• структуру-заготовку со свойствами,<br/>• или пустую таблицу значений (дерево значений) с типизированными колонками,</p></blockquote>
<p>которую вызывающий код должен проинициализировать конкретными значениями и передать в вызываемую функцию.<br/></p>
<p>Пример вызывающего кода:</p>
<p class="Programtext">Процедура ПриИзмененииНоменклатурыСервер(ИдентификаторТекущейСтроки)</p>
<p class="Programtext"> // Получаем новую структуру параметров.<br/> ПараметрыЗаполненияЦен = ЦенообразованиеКлиентСервер.ПараметрыЗаполненияЦеныВСтрокеТЧ(); <br/> // Заполняем параметры.<br/> ПараметрыЗаполненияЦен.Дата   = Объект.Дата;<br/> ПараметрыЗаполненияЦен.Валюта = Объект.Валюта;<br/> <br/> ТекущаяСтрока = Объект.Товары.НайтиПоИдентификатору(ИдентификаторТекущейСтроки);</p>
<p class="Programtext"> // Передаем структуру параметров в прикладную функцию.<br/> ЦенообразованиеСервер.ЗаполнитьЦеныВСтрокеТЧ(ТекущаяСтрока, ПараметрыЗаполненияЦен);</p>
<p class="Programtext">КонецПроцедуры</p>
<p>Пример функции-конструктора параметров в модуле <strong>ЦенообразованиеКлиентСервер</strong>:</p>
<p class="Programtext">// Функция-конструктор параметров процедуры ЦенообразованиеСервер.ЗаполнитьЦеныВСтрокеТЧ<br/>// Возвращаемое значение:<br/>//  Cтруктура:<br/>//        * Дата – Дата<br/>//        * Валюта - СправочникСсылка.Валюты - ссылка пересчитываемой валюты <br/>//        * ПересчитыватьСумму - Булево<br/>//<br/>Функция ПараметрыЗаполненияЦеныВСтрокеТЧ() Экспорт<br/> <br/> ПараметрыЗаполненияЦен = Новый Структура;<br/> ПараметрыЗаполненияЦен.Вставить("Дата");<br/> ПараметрыЗаполненияЦен.Вставить("Валюта");<br/> ПараметрыЗаполненияЦен.Вставить("ПересчитыватьСумму", Истина);<br/> Возврат ПараметрыЗаполненияЦен;<br/> <br/>КонецФункции</p>
<p><a id="1.2" name="1.2"></a>1.2. Имена свойств структуры соответствуют параметрам вызываемой функции. При этом параметры со значениями по умолчанию должны быть явно проинициализированы в этой структуре.<br/>1.3. Для создания параметра с типом <strong>ТаблицаЗначений</strong> допускается не создавать отдельную функцию-конструктор, если таблица значений является результатом каких-либо расчетов в прикладном коде. Например, есть функция, которая делает запрос к информационной базе и передает результат в другую функцию в виде таблицы значений.<br/>1.4. При разработке программного интерфейса библиотек все функции, возвращающие значения в виде структур и таблиц значений, в том числе и функции-конструкторы, обязательно должны иметь описание типа возвращаемого значения. При этом необходимо описывать свойства структур и колонки таблиц значений, начиная с новой строки и предваряя символом *. </p>
<p>Например:</p>
<p class="Programtext">// Возвращаемое значение:<br/>//   ТаблицаЗначений:<br/>//     * Серия - СправочникСсылка.СерииНоменклатуры - если серия указана и она может<br/>//               использоваться с новым значением номенклатуры на указанном складе, <br/>//               то возвращается переданное значение; если нет - пустая ссылка<br/>//     * СтатусУказанияСерий - Число - если серии указываются в ТЧ "Товары", то <br/>//               возвращается рассчитанный статус, если для переданной<br/>//               номенклатуры/склада серии не используется - возвращается 0<br/>//               иначе возвращается переданный статус.<br/></p>
<p><a id="1.5" name="1.5"></a>1.5. В описании структур и таблиц значений могут быть вложенные описания, при этом перед именами вложенных свойств число звездочек увеличивается: для первого уровня вложенности 2 звездочки, для второго 3 и т.д.</p>
<p>Например:</p>
<p class="Programtext">// Параметры:<br/>//  СведенияОбОбновлении - Структура:<br/>//     * КодАдресногоОбъекта - Структура:<br/>//        ** КодРегиона             - Число - код региона (длина - 2).<br/>//        ** КодНаселенногоПункта   - Число - код населенного пункта (длина - 3).<br/>//        ** КодУлицы               - Число - код улицы (длина - 4).<br/>//     * Наименование        - Строка<br/>//     * ОбновлениеДоступно  - Булево<br/></p>
<p><a id="2" name="2"></a>2. В вызывающем коде не следует инициализировать структуру параметров или добавлять в нее какие-либо другие свойства, а также изменять состав и тип колонок таблицы значений. Во избежание неоднозначности и скрытых ошибок все допустимые параметры вызываемой функции должны быть определены явно в функции-конструкторе параметров.<br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#12_Использование объектов типа Структура.htm" target="_top">Использование объектов типа Структура</a>
<li><a href="#04_Описание процедур и функций.htm" target="_top">Описание процедур и функций</a> </li></li></ul></font></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100454.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Правила образования имен переменных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Правила образования имен переменных</h1><div style="clear: right; float: right;">#std454</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Имена переменных следует образовывать от терминов предметной области таким образом, чтобы из имени переменной было понятно ее назначение. <br/><br/>2. Имена следует образовывать путем удаления пробелов между словами. При этом, каждое слово в имени пишется с прописной буквы. Предлоги и местоимения из одной буквы также пишутся прописными буквами. <br/>Пример:</p><pre class="Programtext">  Перем ДиалогРаботыСКаталогом;     // Диалог работы с каталогом   

  Перем КоличествоПачекВКоробке;    // Количество пачек в коробке</pre>
<p>Примеры некорректных имен переменных:</p><pre class="Programtext">масРеквизитов, соотвВидИмя, новСтр</pre>
<p><a id="3" name="3"></a>3. Имена переменных запрещается начинать с подчеркивания. </p>
<p><a id="4" name="4"></a>4. Имена переменных не должны состоять из одного символа. Использование односимвольных имен переменных допускается только для счетчиков циклов. <br/><br/>5. Переменные, отражающие состояние некоторого флага, следует называть так, как пишется истинное значение этого флага. <br/>Например:</p><pre class="Programtext">  Перем ЕстьОшибки;     // Признак наличия ошибок в процедуре.   

  Перем ЭтоТоварТара;   // Признак, что товар относится к возвратной таре.   

</pre>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="#08_Использование глобальных переменных в программных модулях.htm" target="_top">Использование глобальных переменных в программных модулях</a><br/></div></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/100/i8100686.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Работа с параметром «Отказ» в обработчиках событий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Работа с параметром «Отказ» в обработчиках событий</h1><div style="clear: right; float: right;">#std686</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В обработчиках событий модулей объектов, наборов записей, форм и т.п., содержащих параметр <strong>Отказ</strong> (<strong>ПриЗаписи</strong>, <strong>ОбработкаПроверкиЗаполнения</strong>, <strong>ТоварыПередНачаломДобавления</strong> и т.п.), не следует присваивать этому параметру значение <strong>Ложь</strong>.<br/>Это требование обусловлено тем, что, как правило, в коде обработчиков событий параметр <strong>Отказ</strong> может устанавливаться сразу в нескольких последовательных проверках (или в нескольких подписках на одно и то же событие). В таком случае к моменту выполнения очередной проверки параметр <strong>Отказ</strong> уже может заранее содержать значение <strong>Истина</strong>, и можно ошибочно сбросить его обратно в <strong>Ложь</strong>.<br/>Кроме того, при доработках конфигурации на внедрении число этих проверок может увеличиться.<br/></p>
<p>Неправильно:</p><pre class="Programtext"> Процедура ОбработкаПроверкиЗаполнения(Отказ,  ПроверяемыеРеквизиты) 

  ... 

  Отказ = ЕстьОшибкиЗаполнения(); 

  ... 

 КонецПроцедуры </pre>
<p>Правильно:</p><pre class="Programtext"> Процедура  ОбработкаПроверкиЗаполнения(Отказ,  ПроверяемыеРеквизиты) 

  . . . 

  Если ЕстьОшибкиЗаполнения() Тогда 

    Отказ = Истина;

  КонецЕсли; 

  ... 

 КонецПроцедуры 

</pre>
<p>или</p><pre class="Programtext">Отказ = Отказ Или ЕстьОшибкиЗаполнения(); 

</pre>
<p><a id="2" name="2"></a>2. Эти же требования справедливы для других аналогичных параметров обработчиков событий: <strong>СтандартнаяОбработка</strong>, <strong>Выполнение</strong> и др.<br/>Например:</p><pre class="Programtext"> Процедура  ОбработкаПолученияДанныхВыбора(ДанныеВыбора, Параметры, СтандартнаяОбработка) 

 

  Если Параметры.Свойства(...) Тогда 

  СтандартнаяОбработка = Ложь; 

   ...<br/> 

  КонецЕсли; 



 КонецПроцедуры 

</pre>
<p><a id="3" name="3"></a>3. Неприемлемо в событиях объекта <strong>ПриЗаписи</strong>, <strong>ПередЗаписью</strong>, <strong>ПередУдалением</strong>, <strong>ОбработкаПроведения</strong>, <strong>ОбработкаПроверкиЗаполнения </strong>и т.п устанавливать параметр <strong>Отказ</strong> в значение <strong>Истина</strong> без информирования пользователя о причинах: <br/></p>
<p>Неправильно:</p><pre class="Programtext">Процедура ОбработкаПроведения(Отказ, РежимПроведения)

<br/><br/> <br/> Если Не ТоваровНаСкладеДостаточно() Тогда<br/>   Отказ = Истина;<br/>   Возврат;<br/> КонецЕсли;<br/>

<br/><br/> ...<br/>

<br/><br/>КонецПроцедуры</pre>
<p>В таких случаях сообщение об ошибке не информативно и скрывает истинные причины проблемы, поэтому расследование ошибки требует значительных временных затрат: </p>
<p>           Не удалось записать "Заказ покупателя"!</p>
<p>Следует согласно пп. 1.1 и 1.3 стандарта <a href="#01_Информирование пользователя.htm" target="_top">Информирование пользователя</a> корректно уведомить пользователя о причинах отказа с помощью сообщения или вызова исключения. </p>
<p>Правильно:</p><pre class="Programtext">Процедура ОбработкаПроведения(Отказ, РежимПроведения)<br/>

<br/> Если Не ТоваровНаСкладеДостаточно() Тогда<br/>  <br/>  ТекстСообщения = СтрШаблон(НСтр("ru='Не хватает %1 %2 товара %3, на складе %4'"), Количество, ЕдиницаИзмерения, Товар, Склад);<br/>  ОбщегоНазначения.СообщитьПользователю(ТекстСообщения,, "Объект.Товары",, Отказ);<br/>  <br/> КонецЕсли;<br/> <br/> ...<p></p>

<p>КонецПроцедуры </p></pre>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#01_Информирование пользователя.htm" target="_top">Информирование пользователя</a>
<li><a href="#11_Перехват исключений в коде.htm" target="_top">Перехват исключений в коде</a>
<li><a href="#11_Сообщения пользователю.htm" target="_top">Сообщения пользователю</a></li></li></li></ul></body><hr>
<h1 id='02_Использование конструкций встроенного языка'>Использование конструкций встроенного языка</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100441.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие требования к построению конструкций встроенного языка.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие требования к построению конструкций встроенного языка</h1><div style="clear: right; float: right;">#std441</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В конструкциях встроенного языка ключевые слова пишутся канонически (как в документации или Синтакс-помощнике). <br/>Правильно:</p>
<p class="Programtext">КонецЕсли</p>
<p>Неправильно:</p>
<p class="Programtext">конецЕсли, КОНЕЦЕСЛИ, конецесли, Конецесли.</p>
<p><a id="2" name="2"></a>2. При следовании друг за другом нескольких операторов присваивания, допускается выравнивать их следующим образом:</p>
<p class="Programtext">ДиалогВыбора.ПолноеИмяФайла = ИмяФайла; <br/>ДиалогВыбора.Каталог        = ИмяПути; <br/>ДиалогВыбора.Заголовок      = НСтр("ru = 'Выберите файл со списком запросов'"); <br/>ДиалогВыбора.Фильтр         = НСтр("ru = 'Файлы запросов (*.sel)|*.sel|Все файлы (*.*)|*.*'"); <br/>ДиалогВыбора.Расширение     = "sel";</p>
<p>При этом не следует выравнивать операторы одинаково по всему модулю - рекомендуется делать выравнивание только для операторов, расположенных рядом. <br/><br/>3. Составные логические выражения в <strong>Если</strong>…<strong>КонецЕсли</strong> переносятся согласно <a href="#02_Перенос выражений.htm" target="_top">правилам переноса выражений</a>.</p>
<p><a id="4" name="4"></a>4. Логические выражения и логические значения (например, результат функции, возвращающей логическое значение, переменные типа <strong>Булево</strong> и пр.) не следует проверять путем сравнения с литералами <strong>Истина</strong> и <strong>Ложь</strong>. <br/>Правильно:</p>
<p class="Programtext">Если ЭтоНовый() Тогда</p>
<p>Неправильно:</p>
<p class="Programtext">Если ЭтоНовый() = Истина Тогда</p>
<p><a id="5" name="5"></a>5. В тех случаях, когда требуется сравнивать результаты каких-либо выражений, следует предварительно присваивать результаты этих выражений промежуточным переменным, и сравнивать уже сами эти переменные. <br/>Правильно:</p>
<p class="Programtext">Ответ = Вопрос(НСтр("ru = 'Данные еще не записаны. Записать?'"), РежимДиалогаВопрос.ДаНет,, КодВозвратаДиалога.Да); <br/>Если Ответ = КодВозвратаДиалога.Да Тогда <br/>  Записать(); <br/>Иначе <br/>  Возврат; <br/>КонецЕсли;</p>
<p>Неправильно:</p>
<p class="Programtext">Если Вопрос(НСтр("ru = 'Данные еще не записаны. Записать?'"), РежимДиалогаВопрос.ДаНет,, КодВозвратаДиалога.Да) = КодВозвратаДиалога.Да Тогда <br/>  Записать(); <br/>Иначе <br/>  Возврат;<br/>КонецЕсли;</p>
<p><a id="6" name="6"></a>6. Необходимо использовать системные наборы значений везде, где возможно их применить, например, вместо <strong>Символ(10)</strong> следует использовать <strong>Символы.ПС</strong>.</p>
<h2>См. также</h2>
<ul>
<li><a href="#02_Перенос выражений.htm" target="_top">Перенос выражений</a>
<li><a href="#01_Тексты модулей.htm" target="_top">Тексты модулей</a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100444.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Перенос выражений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Перенос выражений</h1><div style="clear: right; float: right;">#std444</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При длине строки более 120 символов следует использовать переносы. Строки длиннее 120 символов делать не рекомендуется, за исключением тех случаев, когда перенос невозможен. </p>
<p><a id="2" name="2"></a>2. Длинные арифметические выражения переносятся следующим образом: </p>
<ul>
<li>в одной строке может находиться более одного операнда;  

<li>при переносе знаки операции пишутся в начале строки (а не в конце предыдущей строки);  

<li>операнды на новой строке предваряются стандартным отступом, либо выравниваются по началу первого операнда без учета знаков операций. </li></li></li></ul>
<p>Пример:</p>
<p class="Programtext">СуммаДокумента = СуммаБезСкидки<br/>                 + СуммаРучнойСкидки<br/>                 + СуммаАвтоматическойСкидки;</p>
<p>или</p>
<p class="Programtext">СуммаДокумента = СуммаБезСкидки<br/>    + СуммаРучнойСкидки<br/>    + СуммаАвтоматическойСкидки;</p>
<p>3.1 Длинные строковые константы рекомендуется переносить с помощью специального символа перевода на новую строку, например:</p>
<p class="Programtext">  ТекстЗапроса =<br/>  "ВЫБРАТЬ РАЗРЕШЕННЫЕ<br/>  | ЗаметкиПоПредмету.КоличествоЗаметок КАК КоличествоЗаметок<br/>  |ИЗ<br/>  | РегистрСведений.ЗаметкиПоПредмету КАК ЗаметкиПоПредмету<br/>  |ГДЕ<br/>  | ЗаметкиПоПредмету.Предмет = &amp;Предмет";</p>
<p>или</p>
<p class="Programtext">ТекстПредупреждения = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(<br/>  НСтр("ru = 'Обновление адресного классификатора не требуется.<br/>             |В программе уже загружены актуальные адресные сведения от %1.'"),<br/>  Формат(ДатаПоследнегоОбновленияКЛАДР, "ДЛФ=D"));<br/>ПоказатьПредупреждение(,ТекстПредупреждения);</p>
<p>При этом не следует переносить строки, содержащие текст сообщения пользователю (объект <strong>СообщениеПользователю</strong>).</p>
<p><a id="3.2" name="3.2"></a>3.2. В общем случае при конкатенации строк знак "+" рекомендуется писать в начале строки, так же как и при переносе арифметических выражений (см. п.2), например:</p>
<p class="Programtext">ПоляОтбора = "Номенклатура,Характеристика,Склад"<br/>   + ДополнительныеПоляОтбора;</p>
<p><a id="3.3" name="3.3"></a>3.3. При конкатенации длинных строк знак "+" можно писать в конце строки, чтобы не ломать общее форматирование текста. Например,</p>
<p class="Programtext">ТекстЗапроса = ТекстЗапроса +<br/>"ВЫБРАТЬ<br/>| Номенклатура.Ссылка КАК Ссылка<br/>|ИЗ<br/>| Справочник. Номенклатура КАК Номенклатура";</p>
<p><a id="4" name="4"></a>4. При необходимости параметры процедур, функций и методов следует переносить следующим образом: </p>
<ul>
<li>параметры выравниваются по началу первого параметра, либо предваряются стандартным отступом;  

<li>закрывающая скобка и разделитель операторов ";" пишутся в той же строке, что и последний параметр; 

<li>также допустим и способ форматирования, который предлагает функция автоформатирования в конфигураторе (см. п. 5).</li></li></li></ul>
<p>Пример:</p>
<p class="Programtext">ИменаДокументов = Новый СписокЗначений; <br/>ИменаДокументов.Добавить(Метаданные.Документы.СтрокаВыпискиРасход.Имя, <br/>                         Метаданные.Документы.СтрокаВыпискиРасход.Синоним); <br/>ИменаДокументов.Добавить(Метаданные.Документы.РасходныйКассовыйОрдер.Имя, <br/>                         Метаданные.Документы.РасходныйКассовыйОрдер.Синоним);</p>
<p>или</p>
<p class="Programtext">ИменаДокументов = Новый СписокЗначений; <br/>ИменаДокументов.Добавить(Метаданные.Документы.СтрокаВыпискиРасход.Имя, <br/>    Метаданные.Документы.СтрокаВыпискиРасход.Синоним); <br/>ИменаДокументов.Добавить(Метаданные.Документы.РасходныйКассовыйОрдер.Имя, <br/>    Метаданные.Документы.РасходныйКассовыйОрдер.Синоним);</p>
<p><a id="5" name="5"></a>5. Сложные логические условия в <strong>Если…ИначеЕсли…КонецЕсли</strong> следует переносить следующим образом: </p>
<ul>
<li>каждое элементарное условие нужно начинать с новой строки, если длина строки превышает ограничение в 120 символов;  

<li>логические операторы <strong>И</strong>, <strong>ИЛИ</strong> ставятся в начале строки, а не в конце предыдущей строки;  

<li>все условия предваряются стандартным отступом, либо выравниваются по началу первого условия, без учета логического оператора (для выравнивания выражений относительно первой строки рекомендуется использовать пробелы).</li></li></li></ul>
<p>Примеры:</p>
<p class="Programtext">Если (ВидОперации = Перечисления.ВидыОперацийПоступлениеМПЗ.ПоступлениеРозница) <br/>  ИЛИ (ВидОперации = Перечисления.ВидыОперацийПоступлениеМПЗ.ПоступлениеРозницаКомиссия) Тогда <br/>  Возврат Истина; <br/>КонецЕсли;</p>
<p class="Programtext">Если ((СтруктураМодуля[Индекс].Блок = Перечисления.ТипыБлоковМодулей.ЗаголовокПроцедуры) <br/>  ИЛИ(СтруктураМодуля[Индекс].Блок = Перечисления.ТипыБлоковМодулей.ЗаголовокФункции)) <br/>  И(Найти(ВРЕГ(СтруктураМодуля[Индекс].Текст), КлючБлока)&gt; 0) Тогда</p>
<p><a id="6" name="6"></a>6. Для выполнения перечисленных выше рекомендаций, кроме автоматического форматирования текста программного модуля, в процессе ввода можно также отформатировать уже введенный текст. Для этого необходимо выделить блок текста, который требуется отформатировать, и выбрать пункт меню <strong>Текст — Блок — Форматировать</strong>. При этом текстовый редактор проанализирует текст модуля и выполнит его форматирование, при котором содержимое каждой синтаксической конструкции будет сдвинуто вправо на величину табуляции независимо от первоначального расположения строк (лидирующих пробелов). В пустые строки устанавливаются знаки табуляции в соответствии с синтаксической конструкцией.</p>
<p class="tip">Для автоматической расстановки переносов строк можно воспользоваться <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/РефакторингПереносВыражений/РефакторингПереносВыражений.zip" rel="nofollow" target="_blank">приложенной обработкой</a>.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100440.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Использование дублирующего кода.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование дублирующего кода</h1><div style="clear: right; float: right;">#std440</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Дублированием кода называется способ разработки конфигурации, при котором при создании нового функционала копируются без изменений уже существующие фрагменты кода или целиком процедуры и функции и при этом копируемый функционал по логике приложения должен быть одинаковым. </p>
<p>Дублирование кода создает проблемы для сопровождения разрабатываемой конфигурации: </p>
<ul>
<li>в копию попадают все ошибки из дублируемого кода;  

<li>при исправлении ошибок существует вероятность пропустить некоторые вхождения;  

<li>затраты на исправление ошибок увеличиваются;  

<li>усложняется понимание структуры программы. <br/></li></li></li></li></ul>
<p>Дублирование часто возникает из-за невозможности доступа к написанному прежде коду (например, если написанный прежде код размещен в модуле той или иной формы, а его использование востребовано при разработке другой формы). <br/><br/>Следует осторожно относиться к дублированию кода и по возможности стараться его избегать. Основной способ избежать дублирования кода - переработать существующий код. Это позволит вывести процедуры и функции, алгоритмы которых могут быть использованы повторно, из модулей объектов и модулей форм в общие модули.</p>
<p><a id="2" name="2"></a>2. Следует помнить, что дублирование кода оправданно и должно выполняться, если развитие функционала в будущем может привести к значительному расхождению двух вариантов кода. </p>
<script type="text/javascript">forceDocumentLayout()</script><h3>Пример предотвращения дублирования кода при разработке клиент-серверных функций</h3>
<p>В функции <strong>СообщитьПользователю</strong> общего модуля <strong>ОбщегоНазначенияКлиентСервер</strong> возникла необходимость особым образом обработать входные параметры при выполнении на сервере.</p>
<p>Неправильно использовать для этого <a href="#04_Использование директив компиляции и инструкций препроцессора.htm" target="_top">инструкции препроцессора</a> (#Если НЕ ТонкийКлиент И НЕ ВебКлиент):</p>
<p class="Programtext">Процедура СообщитьПользователю(Знач ТекстСообщенияПользователю, Знач КлючДанных = Неопределено, Знач Поле = "", Отказ = Ложь) Экспорт<br/> <br/> Сообщение = Новый СообщениеПользователю;<br/> Сообщение.Текст = ТекстСообщенияПользователю;<br/> Сообщение.Поле = Поле;<br/> <br/> ЭтоОбъект = Ложь;<br/> <br/>#Если НЕ ТонкийКлиент И НЕ ВебКлиент Тогда<br/> Если КлючДанных &lt;&gt; Неопределено<br/>    И XMLТипЗнч(КлючДанных) &lt;&gt; Неопределено Тогда<br/>  ТипЗначенияСтрокой = XMLТипЗнч(КлючДанных).ИмяТипа;<br/>  ЭтоОбъект = СтрНайти(ТипЗначенияСтрокой, "Object.") &gt; 0;<br/> КонецЕсли;<br/>#КонецЕсли<br/> <br/> Если ЭтоОбъект Тогда<br/>  Сообщение.УстановитьДанные(КлючДанных);<br/> Иначе<br/>  Сообщение.КлючДанных = КлючДанных;<br/> КонецЕсли;<br/> <br/> Сообщение.Сообщить();<br/> Отказ = Истина;<br/> <br/>КонецПроцедуры</p>
<p>Правильно разделить процедуру на две одноименные в серверном и клиентском модуле с различной реализацией, и для того чтобы избежать дублирования кода, общую реализацию оставить в клиент-серверном общем модуле:</p>
<p>1) серверная функция:</p>
<p class="Programtext">Процедура СообщитьПользователю(Знач ТекстСообщенияПользователю, Знач КлючДанных = Неопределено, Знач Поле = "", Отказ = Ложь) Экспорт<br/> <br/> ЭтоОбъект = Ложь;<br/> Если КлючДанных &lt;&gt; Неопределено<br/>  И XMLТипЗнч(КлючДанных) &lt;&gt; Неопределено Тогда<br/>  <br/>  ТипЗначенияСтрокой = XMLТипЗнч(КлючДанных).ИмяТипа;<br/>  ЭтоОбъект = СтрНайти(ТипЗначенияСтрокой, "Object.") &gt; 0;<br/> КонецЕсли;<br/> <br/> ОбщегоНазначенияСлужебныйКлиентСервер.СообщитьПользователю(ТекстСообщенияПользователю, КлючДанных, Поле, Отказ, ЭтоОбъект);<br/> <br/>КонецПроцедуры</p>
<p>2) клиентская функция:</p>
<p class="Programtext">Процедура СообщитьПользователю(Знач ТекстСообщенияПользователю, Знач КлючДанных = Неопределено, Знач Поле = "", Отказ = Ложь) Экспорт<br/> <br/> ОбщегоНазначенияСлужебныйКлиентСервер.СообщитьПользователю(ТекстСообщенияПользователю, КлючДанных, Поле, Отказ);<br/> <br/>КонецПроцедуры</p>
<p>3) общая служебная клиент-серверная реализация в модуле ОбщегоНазначенияСлужебныйКлиентСервер:</p>
<p class="Programtext">Процедура СообщитьПользователю(Знач ТекстСообщенияПользователю, Знач КлючДанных, Знач Поле, Отказ = Ложь, ЭтоОбъект = Ложь) Экспорт<br/> <br/> Сообщение = Новый СообщениеПользователю;<br/> Сообщение.Текст = ТекстСообщенияПользователю;<br/> Сообщение.Поле = Поле;<br/> <br/> Если ЭтоОбъект Тогда<br/>  Сообщение.УстановитьДанные(КлючДанных);<br/> Иначе<br/>  Сообщение.КлючДанных = КлючДанных;<br/> КонецЕсли;<br/> <br/> Сообщение.Сообщить();<br/> Отказ = Истина;<br/> <br/>КонецПроцедуры</p>
<h3>См. также</h3>
<ul>
<li><a href="#01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm" target="_top">Разработка конфигураций с повторным использованием общего кода и объектов метаданных<br/></a></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100439.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Использование директив компиляции и инструкций препроцессора.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование директив компиляции и инструкций препроцессора</h1><div style="clear: right; float: right;">#std439</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Директивы компиляции:</p>
<p class="Programtext">&amp;НаКлиенте (&amp;AtClient) <br/>&amp;НаСервере (&amp;AtServer) <br/>&amp;НаСервереБезКонтекста (&amp;AtServerNoContext)</p>
<p>следует применять только в коде модулей управляемых форм и в коде модулей команд. В остальных модулях рекомендуется применять инструкции препроцессору. </p>
<p>В серверных или клиентских общих модулях контекст исполнения очевиден, поэтому смысла в директивах компиляции нет. В общих модулях с признаками клиент и сервер применение директив компиляции затрудняет понимание, какие же процедуры (функции) доступны в конечном итоге.</p>
<p><a id="2" name="2"></a>2. Не следует использовать инструкции препроцессора в <a href="#09_Правила создания общих модулей.htm" target="_top">клиент-серверных общих модулях</a> для проверки клиентского и серверного контекстов (#Если Сервер, #Если Клиент) ввиду невозможности надежного определения контекста исполнения. Процедуры и функции, которые работают по-разному при вызове с клиента и с сервера, следует размещать в общих модулях с постфиксами <strong>Клиент</strong> и <strong>Сервер</strong>, а не <strong>КлиентСервер</strong>. </p>
<p>В противном случае невозможно гарантировать корректную работу клиент-серверных процедур и функций в различных режимах работы платформы 1С:Предприятие.</p>
<p>Например, неправильно:</p>
<p class="Programtext">Функция КодОсновногоЯзыка() Экспорт<br/>#Если НЕ ТонкийКлиент И НЕ ВебКлиент Тогда<br/> Возврат Метаданные.ОсновнойЯзык.КодЯзыка;<br/>#Иначе<br/> Возврат СтандартныеПодсистемыКлиент.ПараметрКлиента("КодОсновногоЯзыка");<br/>#КонецЕсли<br/>КонецФункции</p>
<p>также неправильно:</p>
<p class="Programtext">Функция КодОсновногоЯзыка() Экспорт<br/>#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда<br/> Возврат Метаданные.ОсновнойЯзык.КодЯзыка;<br/>#Иначе<br/> Возврат СтандартныеПодсистемыКлиент.ПараметрКлиента("КодОсновногоЯзыка");<br/>#КонецЕсли<br/>КонецФункции</p>
<p>Правильно: разделить на две одноименные функции в серверном и клиентском модуле с различной реализацией. В общем случае, когда у них имеется определенная общая часть, одинаковая для клиента и сервера, то для того чтобы <a href="#03_Использование дублирующего кода.htm" target="_top">избежать дублирования кода,</a> этот общий код (и только его) следует оставить в клиент-серверном общем модуле и вызывать его из клиентской и серверной функций, соответственно. Тем самым надежно достигается различное поведение в клиентском и серверном контекстах без использования инструкций препроцессора.</p>
<p>В то же время, как и в обычных клиентских модулях, допустимо ветвление кода для учета специфики различных режимов работы клиентского приложения: веб-клиент, тонкий или толстый клиент (например, #Если ВебКлиент).</p>
<p><a id="3" name="3"></a>3. Не следует разрывать инструкциями препроцессора и областями отдельные грамматические конструкции, выражения, а также объявления и места вызова процедур и функций.</p>
<p>Например, неправильно:</p>
<p class="Programtext">Процедура Пример1()<br/>  а = 1<br/>#Область ИмяОбласти<br/>    + 2;<br/>#КонецОбласти // разрыв выражения<br/>КонецПроцедуры</p>
<p class="Programtext">#Область ИмяОбласти<br/>Процедура Пример2()<br/>    // ...<br/>#КонецОбласти // разрыв процедуры<br/>КонецПроцедуры</p>
<p class="Programtext">Если &lt;...&gt; Тогда<br/>    // ...<br/>#Если ВебКлиент Тогда // разрыв блока Если<br/>Иначе<br/>    // ...<br/>#КонецЕсли<br/>КонецЕсли;</p>
<p class="Programtext">Результат = Пример4(Параметр1, <br/>#Если Клиент Тогда<br/>  Параметр2, // некорректный вызов функции<br/>#КонецЕсли<br/>  Параметр3);</p>
<p>Данные ошибки диагностируются автоматически с помощью среды разработки <a href="http://v8.1c.ru/overview/release_IDE_beta/" target="_blank">1C:Enterprise Development Tools</a> (EDT).</p>
<p>Правильно использовать инструкции препроцессора без разрыва конструкций. </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100442.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Определение типа значения переменной.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Определение типа значения переменной</h1><div style="clear: right; float: right;">#std442</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>Определение типа значения переменной необходимо выполнять путем его сравнения с типом, а не каким-либо другим методом. <br/>Правильно:</p>
<p class="Programtext">Если ТипЗнч(Ссылка) = Тип("ДокументСсылка.ПоступлениеТоваровУслуг") Тогда</p>
<p>Неправильно:</p>
<p class="Programtext">Если Ссылка.Метаданные().Имя = "ПоступлениеТоваровУслуг" Тогда</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100445.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Получение метаданных объектов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Получение метаданных объектов</h1><div style="clear: right; float: right;">#std445</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В тех случаях, когда известен тип объекта метаданного (справочник, документ, и т.п.), то получение метаданных объекта конфигурации следует выполнять с помощью метода <strong>Метаданные</strong> этого объекта (или ссылки для объектов ссылочного типа), а не путем обращения к свойству глобального контекста <strong>Метаданные</strong>, так как второй способ существенно более медленный. <br/><br/>Правильно:</p>
<p class="Programtext">СправочникОбъект.Метаданные()</p>
<p>Неправильно:</p>
<p class="Programtext">Метаданные.Справочники[ИмяСправочника]<br/>Метаданные.НайтиПоПолномуИмени("Справочник." + ИмяСправочника)</p>
<p><a id="2" name="2"></a>2. В тех случаях, когда тип объекта метаданного заранее неизвестен, рекомендуется воспользоваться методом <strong>НайтиПоТипу</strong>, например:</p>
<p class="Programtext">// Получить полное имя объекта метаданных  вида "Справочник.Номенклатура", "Документ.ПриходнаяНакладная" по переданной ссылке.<br/>ИмяОбъектаМетаданного = Метаданные.НайтиПоТипу(ТипЗнч(Ссылка)).ПолноеИмя();<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100492.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Обработчики событий модуля формы, подключаемые из кода.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчики событий модуля формы, подключаемые из кода</h1><div style="clear: right; float: right;">#std492</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Обработчикам событий модуля формы, которые устанавливаются из кода с помощью метода <strong>УстановитьДействие</strong>, рекомендуется задавать префикс <strong>Подключаемый_ </strong>(англ. <strong>Attachable_</strong>). Например:</p>
<p class="Programtext">Процедура Подключаемый_РазрешитьРедактированиеРеквизитовОбъекта() <br/>…<br/>Процедура Подключаемый_КонтактнаяИнформацияНачалоВыбора() <br/>…</p>
<p>В случае когда подключение обработчика выполняется не в тексте модуля формы (а например, в общем модуле), то в результатах проверки конфигурации с включенным флажком "Поиск неиспользуемых процедур и функций" окажутся ошибки вида:</p>
<p class="Programtext">Справочник._ДемоПартнеры.Форма.ФормаЭлемента.Форма Не обнаружено ссылок на процедуру: " Подключаемый_КонтактнаяИнформацияНачалоВыбора"</p>
<p>Использование префикса позволяет легко идентифицировать такие обработчики в результатах проверки и отсеивать как исключения.</p>
<p>Если же подключение обработчика выполняется в тексте модуля формы, то проверка конфигурации с включенным флажком "Поиск неиспользуемых процедур и функций" ошибку не регистрирует.</p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100639.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Использование глобальных переменных в программных модулях.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование переменных в программных модулях</h1><div style="clear: right; float: right;">#std639</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. В большинстве случаев, вместо переменных программных модулей следует использовать более подходящие средства разработки платформы <strong>1С:Предприятие</strong>. Поскольку область видимости (использования) таких переменных сложно контролировать, то они зачастую становятся источником трудновоспроизводимых ошибок.</p>
<p>Примеры некорректного использования и исключений из этого правила приведены далее. Рекомендации по оформлению переменных в коде программных модулей см. в статье <a href="#02_Структура модуля.htm" target="_top">Структура модуля</a>.</p>
<p><a id="2" name="2"></a>2. Неоправданные примеры использования переменных в модулях объектов (справочников, документов, наборов записей, обработок, отчетов и пр.).</p>
<p><a id="2.1" name="2.1"></a>2.1. Для передачи параметров между обработчиками подписок на события и в обработчики событий модуля объекта из внешнего кода рекомендуется использовать свойство объекта <strong>ДополнительныеСвойства</strong>. Например, неправильно:</p>
<p class="Programtext">Перем КонвертацияФайлов Экспорт;</p>
<p class="Programtext">Процедура ПередЗаписью(Отказ)<br/><br/>  Если КонвертацияФайлов Тогда <br/>  ...<br/><br/>КонецПроцедуры</p>
<p class="Programtext">// вызывающий код<br/>ФайлОбъект.КонвертацияФайлов = Истина;<br/>ФайлОбъект.Записать();</p>
<p>Правильно:</p>
<p class="Programtext">Процедура ПередЗаписью(Отказ)<br/><br/>  Если ДополнительныеСвойства.Свойство("КонвертацияФайлов") Тогда <br/>  ...<br/><br/>КонецПроцедуры</p>
<p class="Programtext">// вызывающий код<br/>ФайлОбъект.ДополнительныеСвойства.Вставить("КонвертацияФайлов", Истина);<br/>ФайлОбъект.Записать();<br/><br/></p>
<p>В то же время, для передачи внутренних параметров между обработчиками событий модуля объекта целесообразно использовать неэкспортные переменные модуля объекта, которые недоступны из внешнего кода. <br/>Например:</p>
<p class="Programtext">Перем ПредыдущееЗначениеОрганизации; // значение реквизита "Организация" до записи объекта в базу</p>
<p class="Programtext">Процедура ПередЗаписью(Отказ)<br/>  ПредыдущееЗначениеОрганизации = ...; // с помощью запроса выясняем значение до записи объекта в базу<br/>КонецПроцедуры</p>
<p class="Programtext">Процедура ПриЗаписи(Отказ)<br/>  Если ПредыдущееЗначениеРеквизита &lt;&gt; Организация Тогда<br/>    // отрабатываем изменение значения реквизита при записи<br/>    ...<br/>  КонецЕсли;</p>
<p class="Programtext">КонецПроцедуры</p>
<p><a id="2.2" name="2.2"></a>2.2. Для обработки кодов возврата (ошибок) в логике программного модуля рекомендуется использовать строковые константы. <br/>Например, неправильно:</p>
<p class="Programtext">Перем НетОшибок,<br/>Ошибка_ОбработкиПроверкиЗаполнения, // возникает, если обработка проверки заполнения вернула отказ<br/>Ошибка_ЗаписиОбъекта, // возникает, если во время записи объекта возникло исключение<br/>Ошибка_БлокировкиОбъекта, // возникает, при попытке блокировки объекта</p>
<p class="Programtext">Процедура ВыполнитьПерерасчет()<br/>  ...<br/>  Результат = ОбработатьДокументы(...);<br/>  Если Результат = Ошибка_ЗаписиОбъекта Тогда<br/>    ...<br/>  ИначеЕсли Результат = Ошибка_БлокировкиОбъекта Тогда<br/>    ...<br/>  ИначеЕсли ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">...</p>
<p class="Programtext">НетОшибок     = 1;<br/>Ошибка_ОбработкиПроверкиЗаполнения = 2;<br/>Ошибка_ЗаписиОбъекта    = 3;<br/>Ошибка_БлокировкиОбъекта   = 4;</p>
<p>правильно:</p>
<p class="Programtext">Процедура ВыполнитьПерерасчет()<br/>  ...<br/>  Результат = ОбработатьДокументы(...);<br/>  Если Результат = "ОшибкаЗаписиОбъекта" Тогда<br/>    ...<br/>  ИначеЕсли Результат = "ОшибкаБлокировкиОбъекта" Тогда<br/>    ...<br/>  ИначеЕсли ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p><a id="2.3" name="2.3"></a>2.3. Для кеширования долго-вычисляемых и часто-используемых значений в процедурах и функциях рекомендуется применять <a href="#02_Использование значений, влияющих на поведение клиентского приложения.htm" target="_top">модули с повторным использованием возвращаемых значений</a> на время вызова сервера. </p>
<p>Исключение из этого правила составляют случаи, когда по соображениям безопасности возвращать результат вычисления в экспортной функции недопустимо. В этом случае они размещаются в локальной переменной модуля.</p>
<p><a id="3" name="3"></a>3. Неоправданные примеры использования переменных в модулях форм.</p>
<p><a id="3.1" name="3.1"></a>3.1. Для кеширования долго-вычисляемых и часто-используемых значений в процедурах и функциях рекомендуется применять <a href="#02_Использование значений, влияющих на поведение клиентского приложения.htm" target="_top">модули с повторным использованием возвращаемых значений</a>. </p>
<p>При этом не следует кешировать статическую и легко вычисляемую информацию. В частности, не следует кешировать в клиентских переменных модуля формы значения предопределенных элементов и перечислений. Для их получения на клиенте предназначен <a href="#03_Получение предопределенных значений на клиенте.htm" target="_top">метод <strong>ПредопределенноеЗначение</strong></a>.</p>
<p><a id="3.2" name="3.2"></a>3.2. Для хранения и передачи промежуточных результатов вычислений между разными процедурами и функциями формы следует использовать </p>
<ul>
<li><a href="#05_Параметры процедур и функций.htm" target="_top">Параметры процедур и функций</a> – для передачи результатов по цепочке вызовов дочерних процедур и функций в контексте одного вызова. 

<li>Реквизиты формы – если требуется сохранять промежуточные результаты между разными вызовами с клиента. (Следует иметь в виду, что значения серверных переменных модуля формы не сохраняются между вызовами с клиента.)</li></li></ul>
<p>Исключение из этого правила составляют случаи использования клиентских переменных формы для хранения промежуточных результатов в обработчиках ожидания формы, в обработчиках внешних событий и в клиентских обработчиках событий элементов формы.<br/>Например:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Перем ПорядковыйНомерИзображения; // счетчик-нумератор для наименования файлов при сканирования нескольких изображений<br/>...<br/>&amp;НаКлиенте<br/>Процедура ВнешнееСобытие(Источник, Событие, Данные)<br/> Если Источник = "TWAIN" И Событие = "ImageAcquired" Тогда<br/>  Если ПорядковыйНомерИзображения = Неопределено Тогда<br/>   ПорядковыйНомерИзображения = 1;<br/>  КонецЕсли; <br/>  ПорядковыйНомерИзображения = ПорядковыйНомерИзображения + 1;<br/>  // Сохранение отсканированного документа в файл с номером ПорядковыйНомерИзображения<br/>  // ...<br/> КонецЕсли; <br/>КонецПроцедуры</p>
<p><a id="4" name="4"></a>4. Переменные управляемого и обычного приложения следует использовать для хранения «клиентских параметров сеанса». Подробнее см. статью <a href="#05_Использование параметров сеанса.htm" target="_top">Использование параметров сеанса</a>.<br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100494.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Предварительная инициализация локальных переменных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Предварительная инициализация локальных переменных</h1><div style="clear: right; float: right;">#std494</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><font face="Verdana" size="2">В случаях когда фрагмент кода вычисляет значение одной или нескольких локальных переменных, рекомендуется явно выполнять предварительную инициализацию таких переменных. Это позволит избежать потенциальных ошибок времени выполнения, когда  значение переменной оказывается <strong>Неопределено</strong>, а последующий код рассчитывает на определенный тип значения. Например: </font></p>
<p class="Programtext">Если ЧтоТоТам Тогда<br/>      МояПеременная = 10;<br/>ИначеЕсли<br/>      // ряд следующих веток<br/>      …<br/>КонецЕсли;<br/>... = МояПеременная;  // если ЧтоТоТам не ИСТИНА, то нужно учитывать, что МояПеременная может быть равна Неопределено</p>
<p><font face="Verdana" size="2">Правильно:</font></p>
<p class="Programtext">МояПеременная = 0; // значение по умолчанию<br/>Если ЧтоТоТам Тогда<br/>      МояПеременная = 10;<br/>ИначеЕсли<br/>      // ряд следующих веток<br/>      …<br/>КонецЕсли;</p>
<p class="Programtext">... = МояПеременная;  // используем значение переменной, которая всегда имеет числовое значение</p>
<p><font face="Verdana" size="2">Данная рекомендация имеет смысл для больших блоков Если/ИначеЕсли/Иначе, внутри которых сложно визуально по тексту контролировать инициализацию переменных.</font></p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100498.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Использование Журнала регистрации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование журнала регистрации</h1><div style="clear: right; float: right;">#std498</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Журнал регистрации предназначен для хранения событий, возникающих в процессе работы пользователей с информационной базой. При администрировании эту информацию часто необходимо анализировать в различных разрезах для того, чтобы например, узнать какие события происходили в определенный момент времени, какие действия выполнял тот или иной пользователь. </p>
<p><a id="2" name="2"></a>2. Рекомендуется производить запись в журнал регистрации из встроенного языка в тех случаях, когда администратору необходимо сообщить дополнительную диагностическую информацию о событиях, которые не записываются платформой <strong>1С:Предприятие</strong>. Такая необходимость может возникнуть как при выполнении бизнес-логики, вызываемой при интерактивной работе, так и в фоновых (регламентных) заданиях. Для удобства анализа журнала регистрации одна его запись должна соответствовать одному событию, а сами записи должны содержать ряд обязательных атрибутов, в разрезе которых проводится анализ.</p>
<p><a id="2.1" name="2.1"></a>2.1.<strong> Строковый идентификатор типа события.</strong> Как правило, список типов событий в конфигурации может быть сколь угодно большим, поэтому типы событий рекомендуется группировать по функциональному признаку: «Название группы событий.Название события». Например, правильно записывать события с типами </p>
<ul>
<li>«Поручения.Уведомление о новых задачах» 

<li>«Поручения.Уведомление о зависших задачах»</li></li></ul>
<p>вместо двух «плоских» типов событий: </p>
<ul>
<li>«Уведомление о новых задачах» 

<li>«Уведомление о зависших задачах»</li></li></ul>
<p>Тип события предназначен для отбора однотипных записей из журнала регистрации, поэтому неправильно включать в него любую избыточную информацию – конкретные значения из информационной базы или внешних систем. Например, неправильно:</p>
<ul>
<li>Не удалось отменить проведение документа &lt;Реализация КП00-00002 от 11&gt; 

<li>В информационной базе не найден сотрудник Найденова, банковская карта 3333</li></li></ul>
<p>Правильно помещать метаданные в параметр <strong>Метаданные</strong>, а данные – в параметр <strong>Данные</strong> метода <strong>ЗаписьЖурналаРегистрации</strong>, и использовать более общие типы событий:</p>
<ul>
<li>Проведение документов.Не удалось отменить проведение 

<li>Сотрудники.В информационной базе не найден сотрудник</li></li></ul>
<p>Текст типа события – локализуем, при этом всегда задается основной язык конфигурации.</p>
<p><a id="2.2" name="2.2"></a>2.2.<strong> Уровень важности события.</strong> Критичные события, требующие повышенного внимания администратора (ошибки бизнес-логики, сбои в программе, и т.п.), записываются в журнал регистрации с уровнем важности «Ошибка». Потенциальные проблемы и не фатальные ошибки регистрируются как «Предупреждения». Для вывода информационных сообщений об успешном завершении той или иной операции используется уровень важности «Информация». Также возможно применять и более низкий уровень важности – «Примечание». </p>
<p><a id="2.3" name="2.3"></a>2.3. <strong>Комментарий.</strong> Содержит текстовую неструктурированную информацию о событии. В случае ошибок в этом поле содержится информация, необходимая для расследования причины проблемы. Не следует помещать в комментарий информацию сразу о нескольких событиях. Например, неправильно записывать одно событие с комментарием вида:</p>
<p class="Programtext">[01.01.2010 00:00:01] Начало инициализации обмена данными по настройке "Обмен данными выгрузка", номер строки настройки: 1<br/>[01.01.2010 00:00:02] Окончание инициализации обмена данными (успешно)<br/>[01.01.2010 00:00:03] Начало процесса обмена данными по настройке "Обмен данными выгрузка", номер строки настройки: 1<br/>[01.01.2010 00:00:04] Начало записи изменений в файл обмена<br/>[01.01.2010 00:00:05] Окончание записи изменений в файл обмена (успешно)<br/>[01.01.2010 00:00:06] Окончание процесса обмена данными по настройке "Обмен данными выгрузка", номер строки настройки: 1<br/>[01.01.2010 00:00:07] Выполнено, Выгрузка данных, Обработано 1 объектов</p>
<p>правильно записать столько событий, сколько их реально произошло.</p>
<p>Также не следует помещать в комментарии текстовые данные, размер которых заранее не известен и может быть сколько угодно большим. Например, содержимое файлов, ответов веб-сервисов и т.п. Следует ориентироваться на максимум 10 Кб.</p>
<p>Текст комментария – локализуем. Для записи в журнал регистрации информации о возникшем исключении следует использовать конструкцию:</p>
<p class="Programtext">ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке())</p>
<p>Пример регистрации дополнительных событий в функциональной подсистеме «Мой механизм»:</p>
<p class="Programtext">Попытка <br/> ЗаписьЖурналаРегистрации(НСтр("ru = 'Мой механизм.Действие с возможной ошибкой'", КодОсновногоЯзыка), <br/>  УровеньЖурналаРегистрации.Информация, , ,<br/>  НСтр("ru = 'Начато действие'"));<br/> ДействиеСВозможнойОшибкой(ОбъектДействия);<br/> ЗаписьЖурналаРегистрации(НСтр("ru = 'Мой механизм.Действие с возможной ошибкой'", КодОсновногоЯзыка), <br/>  УровеньЖурналаРегистрации.Информация, , ,<br/>  НСтр("ru = 'Завершено действие'"); <br/>Исключение<br/> ЗаписьЖурналаРегистрации(НСтр("ru = 'Мой механизм.Действие с возможной ошибкой'", КодОсновногоЯзыка), <br/>  УровеньЖурналаРегистрации.Ошибка, , ,<br/>  НСтр("ru = '"Во время выполнения действия произошла неизвестная ошибка.'") + Символы.ПС +<br/>  ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке());<br/> КонецПопытки;  <br/>КонецПроцедуры</p></font>
<p>где переменная <strong>КодОсновногоЯзыка</strong> содержит код языка для хранения данных в информационной базе. Подробнее см. <a href="#11_Автогенерированные данные в информационной базе_ требования по локализации.htm" target="_top">Автогенерированные данные в информационной базе: требования по локализации</a>, п. 1.</p>
<p><a id="3" name="3"></a>3. Не следует использовать выборку из журнала регистрации в тех задачах, где критична высокая скорость выполнения выборки. Поскольку при больших объемах журнала регистрации скорость выборки падает пропорционально увеличению его объема.</p>
<p>Рекомендуется заводить отдельный регистр для протоколирования интересующих событий или обращаться к специализированным объектам платформы (например, <strong>МенеджерФоновыхЗаданий</strong> для выборки истории выполнения фоновых заданий).</p>
<p>Эту особенность нужно также учитывать при разработке отчетов по журналу регистрации.<font face="Verdana" size="2"></font></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">Строки интерфейса в модулях конфигурации: требования по локализации</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100499.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Перехват исключений в коде.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Перехват исключений в коде</h1><div style="clear: right; float: right;">#std499</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">1. В общем случае не рекомендуется перехватывать исключения. В частности не нужно перехватывать исключения только ради выдачи сообщения об ошибке. Необработанное исключение в любом случае будет выдано пользователю в виде сообщения об ошибке (а также будет автоматически записано в журнал регистрации для администратора и отправлено в сервис регистрации ошибок).</font></p>
<p><font size="2">2. Тем не менее, необходимость перехвата исключений в коде все же возникает. Например, для того чтобы уточнить текст ошибки, дополнив его прикладной, понятной конечному пользователю, информацией. Однако при этом необходимо фиксировать причину ошибки в журнале регистрации для того, чтобы системный администратор имел возможность выполнить диагностику проблемы и при необходимости передать информацию об ошибке в службу технической поддержки. </font></p>
<p><font size="2">При этом рекомендуется записывать в журнал регистрации подробное представление исключения, а краткое представление добавлять в текст сообщения пользователю. </font></p>
<p><a id="3" name="3"></a>3. Частные случаи некорректного использования и перехвата исключений.</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><font size="2">3.1. Если имеется некоторая серверная бизнес-логика, которая вызывается с клиента при интерактивной работе пользователя:</font></p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ВыполнитьОперацию()<br/>    // код, приводящий к вызову исключения<br/>    ....<br/>КонецПроцедуры</p>
<p><font size="2">то неправильно маскировать от пользователя и администратора исходную проблему:</font></p><font size="2">
<p class="Programtext"><font size="2">// на клиенте <br/>Попытка <br/>    ВыполнитьОперацию();<br/>Исключение<br/>    ПоказатьПредупреждение(,НСтр("ru = 'Операция не может быть выполнена.'"));<br/>КонецПопытки;<br/></font></p></font>
<p><font size="2">Правильно записывать в журнал регистрации подробное представление исключения, а краткое представление добавлять в текст сообщения пользователю:</font></p>
<p class="Programtext"><font size="2">&amp;НаСервере<br/>Процедура ВыполнитьОперацию()<br/>  Попытка <br/>    // код, приводящий к вызову исключения<br/>    ....<br/>  Исключение<br/>    // Запись события в журнал регистрации для системного администратора.<br/>    ЗаписьЖурналаРегистрации(НСтр("ru = 'Выполнение операции'"),<br/>       УровеньЖурналаРегистрации.Ошибка,,,<br/>       ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));<br/>    ВызватьИсключение;<br/>  КонецПопытки;<br/>КонецПроцедуры</font><font size="2"></font></p>
<p>и тогда на клиенте:</p>
<p class="Programtext"><font size="2">Попытка <br/>    ВыполнитьОперацию();<br/>Исключение<br/>    ТекстСообщения = КраткоеПредставлениеОшибки(ИнформацияОбОшибке());<br/>    ПоказатьПредупреждение(,НСтр("ru = 'Операция не может быть выполнена по причине:'") + Символы.ПС + ТекстСообщения);<br/>КонецПопытки;</font><font size="2"></font></p>
<p>Не следует использовать функцию <strong>ОписаниеОшибки</strong>, т.к. она неинформативна для разработчика, потому что не возвращает стек в тексте ошибки.</p>
<p><font size="2">3.2. Не следует анализировать текст исключений с целью интерпретации причины ошибки. Текст исключения может <a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">меняться в зависимости от локализации</a>. В условиях отсутствия штатных средств (например, типизированных исключений), следует выдавать пользователю тексты исключений «как есть». Для понятности, его можно дополнить пояснением возможных причин. <br/>Например:</font></p>
<p class="Programtext"><font size="2">Попытка <br/>    ЗагрузитьФайлИзИнтернета(...);<br/>Исключение<br/>    ТекстСообщения = КраткоеПредставлениеОшибки(ИнформацияОбОшибке());<br/>    ТекстСообщения = НСтр("ru = 'Не удалось загрузить файл:'") + Символы.ПС + ТекстСообщения + Символы.ПС + НСтр("ru = 'Возможные причины:<br/>• Нет подключения к Интернету;<br/>• На веб-узле возникли неполадки;<br/>• Брандмауэр или другое промежуточное ПО (антивирусы и т.п.) блокируют попытки программы подключиться к Интернету;<br/>• Подключение к Интернету выполняется через прокси-сервер, но его параметры не заданы в программе.'");<br/>    ПоказатьПредупреждение(,ТекстСообщения);<br/>КонецПопытки;</font></p>
<p><font size="2">В тех случаях, когда анализ типов исключений критически важен для корректной работы бизнес-логики, следует отказаться от исключений и использовать коды ошибок (коды возврата). При этом недопустимо использовать числовые коды ошибок, т.к. код становится нечитаемым:</font></p>
<p class="Programtext"><font size="2">КодОшибки = ЗагрузитьФайлИзИнтернета(...);<br/>Если КодОшибки = 12345 Тогда <br/>...<br/>ИначеЕсли ...</font></p>
<p><font size="2">правильно применять строковые литералы (например, "Успешно", "НетМестаНаДиске", "Отменено" и т.п.):</font></p>
<p class="Programtext"><font size="2">РезультатЗагрузки = ЗагрузитьФайлИзИнтернета(...);<br/>Если РезультатЗагрузки = "Успешно" Тогда <br/>...<br/>ИначеЕсли ...</font></p>
<p><font size="2">Строковые литералы кодов ошибок не <a href="#06_Строковые константные выражения в коде_ требования по локализации.htm" target="_top">локализуются</a>.</font></p>
<p><font size="2">Исключение составляют случаи работы с веб-сервисами и другими внешними системами, где коды ошибок не доступны, а результат работы транслируется в вызывающий код прикладной конфигурации в виде исключений.</font></p>
<p><font size="2">3.3. Если имеется некоторая клиентская бизнес-логика (код выполняется полностью на клиенте):</font></p><font size="2">
<p class="Programtext"><font size="2">&amp;НаКлиенте<br/>Процедура СоздатьФайлНаДиске()<br/>    // код, приводящий к вызову исключения<br/>    ....<br/>КонецПроцедуры</font></p></font>
<p><font size="2">то рекомендуется делать дополнительный серверный вызов для протоколирования неудачного результата операции в журнал регистрации:</font></p><font size="2">
<p class="Programtext">Попытка <br/>    // клиентский код, приводящий к вызову исключения<br/>    СоздатьФайлНаДиске();<br/>Исключение<br/>    ТекстСообщения = КраткоеПредставлениеОшибки(ИнформацияОбОшибке());<br/>    ПоказатьПредупреждение(,НСтр("ru = 'Операция не может быть выполнена по причине:'") + Символы.ПС + ТекстСообщения);<br/>    ЗаписатьОшибкуРаботыСФайлами(ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке())));<br/>КонецПопытки;</p>
<p class="Programtext">&amp;НаСервереБезКонтекста<br/>Процедура ЗаписатьОшибкуРаботыСФайлами(...)<br/>    ЗаписьЖурналаРегистрации(НСтр("ru = 'Выполнение операции'"),<br/>       УровеньЖурналаРегистрации.Ошибка,,,<br/>       ПодробноеПредставлениеОшибки);<br/>КонецПроцедуры</p></font>
<p><font size="2">3.4. Недопустимо перехватывать любые исключения, бесследно для системного администратора:</font></p><font size="2">
<p class="Programtext">Попытка <br/>    // код, приводящий к вызову исключения<br/>    ....<br/>Исключение // перехват любых исключений<br/>КонецПопытки;</p></font>
<p><font size="2">Как правило, подобная конструкция скрывает реальную проблему, которую впоследствии невозможно диагностировать. <br/>Правильно:</font></p><font size="2">
<p class="Programtext">Попытка <br/>    // код, приводящий к вызову исключения<br/>    ....<br/>Исключение<br/>    // Пояснение причин перехвата всех исключений "незаметно" от пользователя.<br/>    // ....<br/>    // И запись события в журнал регистрации для системного администратора.<br/>    ЗаписьЖурналаРегистрации(НСтр("ru = 'Выполнение операции'"),<br/>       УровеньЖурналаРегистрации.Ошибка,,,<br/>       ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));<br/>КонецПопытки;</p>
<p>См. также <a href="#06_Доступ к файловой системе из кода конфигурации.htm" target="_top">Доступ к файловой системе из кода конфигурации</a>, удаление временных файлов</p>
<p><font size="2">3.5. Неприемлемо в событиях <strong>ПриЗаписи</strong>, <strong>ПередЗаписью</strong>, <strong>ПередУдалением</strong>, <strong>ОбработкаПроведения</strong>, <strong>ОбработкаПроверкиЗаполнения</strong> и т.п. вызывать исключения для выдачи останавливающих предупреждений, которые должен отработать пользователь. Вместо этого следует устанавливать параметр <strong>Отказ</strong> в значение <strong>Истина</strong> и выводить сообщения пользователю. Тем самым пользователь увидит все блокирующие причины остановки сразу, а не по очереди. </font></p>
<p><font size="2">Но если пользователь не может отработать останавливающее предупреждение в рамках выполняемой операции или ошибочная ситуация носит исключительный характер и делает бессмысленными все остальные проверки, которые выводят другие останавливающие предупреждения, то следует вызывать исключение.</font></p><font size="2">
<p class="Programtext">Процедура ПередЗаписью(Отказ) <br/> Если Не ЗарегистрироватьИзмененияНаУзлахПлановОбмена() Тогда <br/>            ВызватьИсключение НСтр("ru = 'Не удалось зарегистрировать изменения на узлах планов обмена. Обратитесь к администратору.'"); <br/>      КонецЕсли; <br/>      ...  <br/>КонецПроцедуры</p>Подробнее см. пп. 1.1 и 1.3 стандарта <a href="#01_Информирование пользователя.htm" target="_top">Информирование пользователя</a>.<br/></font></font></td></tr></tbody></table>
<p><font size="2">3.6. Недопустимо делать проверки наличия у объекта реквизитов, методов, макетов и т.п., используя для этого исключения, т.к. это может привести к сложно диагностируемым ошибкам, а также затрудняет отладку в режиме «Останавливаться по ошибке».<br/>Вместо перехвата исключений в этом случае рекомендуется:</font></p>
<ul>
<li><font size="2">использовать механизмы работы с метаданными, чтобы явным образом проверять наличие или отсутствие реквизита (макета и т.п.);</font>
<li><font size="2">если различия связаны с особенностями встраивания библиотек – описывать особенности явным образом в переопределяемых модулях (см. <a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">Переопределяемые и поставляемые объекты</a>);</font>
<li><font size="2">пересмотреть логику работы методов, использующих перехват исключений. Например, можно предусмотреть параметры, которые определяются в вызывающем коде и указывают нужно или нет обращаться к какому-либо методу или свойству объекта.</font></li></li></li></ul>
<p>Например, неправильно:</p>
<p class="Programtext">Попытка<br/> КонтекстЭДОСервер.ПолучитьМакет("КомпонентаОбмена");<br/> ПутьВК = КонтекстЭДОСервер.ПутьКОбъекту +  ".Макет.КомпонентаОбмена";<br/>Исключение<br/>КонецПопытки;</p>
<p>Правильно:</p>
<p class="Programtext">МакетКомпонентыОбмена = КонтекстЭДОСервер.Метаданные().Макеты.Найти("КомпонентаОбмена");<br/>Если МакетКомпонентыОбмена &lt;&gt; Неопределено Тогда<br/> ПутьКМакету = КомпонентаОбмена.ПолноеИмя() <br/>КонецЕсли;</p>
<p><font size="2"><span style='FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: Calibri; mso-bidi-font-family: "Times New Roman"; mso-ansi-language: RU; mso-fareast-language: EN-US; mso-bidi-language: AR-SA'></span></font><font size="2">3.7. Порядок обработки исключений при использовании транзакций описан в стандарте <a href="#01_Транзакции_ правила использования.htm" target="_top">Транзакции: правила использования</a>. </font></p>
<p><font size="2">3.8. Неправильно использовать исключения для приведения значения к типу. Для таких операций необходимо использовать возможности объекта <strong>ОписаниеТипов</strong>.</font></p>
<p><font size="2">Например, неправильно:</font></p>
<p class="Programtext"><font size="2">Попытка<br/> КоличествоДнейРазрешения = Число(Значение);<br/>Исключение<br/> КоличествоДнейРазрешения = 0; // значение по умолчанию<br/>КонецПопытки;</font></p>
<p><font size="2">Правильно:</font></p>
<p class="Programtext"><font size="2">ОписаниеТипа = Новый ОписаниеТипов("Число");<br/>КоличествоДнейРазрешения = ОписаниеТипа.ПривестиЗначение(Значение);</font></p>
<h3>См. также</h3>
<ul>
<li><a href="#01_Информирование пользователя.htm" target="_top">Информирование пользователя</a>
<li><a href="#08_Работа с параметром «Отказ» в обработчиках событий.htm" target="_top">Работа с параметром «Отказ» в обработчиках событий</a>
<li><a href="#11_Сообщения пользователю.htm" target="_top">Сообщения пользователю</a> </li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/200/i8100547.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Ограничение на использование оператора Перейти.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение на использование оператора Перейти</h1><div style="clear: right; float: right;">#std547</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1" name="1"></a>1. В коде на встроенном языке не рекомендуется использовать оператор <strong>Перейти</strong>, так как необдуманное использование данного оператора приводит к получению запутанных, плохо структурированных модулей, по тексту которых затруднительно понять порядок исполнения и взаимозависимость фрагментов. Вместо оператора <strong>Перейти</strong> рекомендуется использовать другие конструкции встроенного языка. </p>
<p>Например, неправильно:</p>
<p class="Programtext"> Если ПланВидовРасчета = Объект.ПланВидовРасчета Тогда<br/>  <br/>  Перейти ~ПланВидовРасчета;<br/>  <br/> КонецЕсли;</p>
<p>правильно</p>
<p class="Programtext"> Если ПланВидовРасчета = Объект.ПланВидовРасчета Тогда<br/>  <br/>  ОбработатьПланВидовРасчета();<br/>  <br/> КонецЕсли;</p></td></tr></tbody></table>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="2" name="2"></a>2. Запрещается использовать оператор <strong>Перейти</strong> в общих модулях с признаком "Клиент (управляемое приложение)", модулях команд и в клиентском коде модулей управляемых форм, так как данный метод не поддерживается платформой <strong>1С:Предприятие</strong> в режиме веб-клиента.<br/></p></td></tr></tbody></table></font></body><hr>
<h1 id='03_Использование прикладных объектов и универсальных коллекций значений'>Использование прикладных объектов и универсальных коллекций значений</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100452.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Поиск в коллекциях значений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1><span style='FONT-SIZE: 18pt; FONT-FAMILY: "Arial","sans-serif"; COLOR: #003366; LINE-HEIGHT: 115%; mso-fareast-font-family: "Times New Roman"; mso-font-kerning: 18.0pt; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA'>Поиск в коллекциях значений</span></h1><div style="clear: right; float: right;">#std452</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При двух и более операциях поиска в объекте <strong>ТаблицаЗначений</strong> с большим количеством строк<sup>(*)</sup> рекомендуется:</p>
<ul>
<li>Индексировать колонки, по которым выполняется поиск; 

<li>Но только те из них, которые обладают хорошей селективностью (т.е. каждому значению этой колонки должно соответствовать небольшое количество строк). В противном случае, индексирование не даст эффекта, либо он будет отрицательным (потрачено лишнее время на индексирование).</li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>* Примечание: следует ориентироваться на 1000 строк и более, а также учитывать не только размер таблицы, в которой выполняется поиск, но и сколько раз он выполняется. Например, даже если таблица относительно небольшая в 100 строк, но поиск по ней выполняется 100 раз, ее тоже имеет смысл индексировать. В то же время, нет смысла индексировать таблицу из-за только одной единственной операции поиска.</p></blockquote>
<p><a id="2" name="2"></a>2. Для поиска значений предусмотрены два метода объекта <strong>ТаблицаЗначений</strong>:</p>
<ul>
<li><strong>Найти</strong>
<li><strong>НайтиСтроки</strong></li></li></ul>
<p>При поиске значения в одной колонке таблицы значений оба метода одинаково эффективно используют индекс, если он был задан (см. п.1).<br/>Однако при поиске значения сразу по нескольким (или по всем) колонкам необходимо учитывать следующие ограничения.</p>
<p><a id="2.1" name="2.1"></a>2.1. Не следует использовать метод <strong>Найти</strong> для поиска по нескольким колонкам в таблицах значений с большим количеством строк, даже если проиндексированы все колонки, обладающие хорошей селективностью. Это ограничение вызвано тем, что метод <strong>Найти</strong> выполняет поиск с применением индекса только по одному полю. <br/>Например:</p>
<p class="Programtext">ТЗ.Индексы.Добавить("Колонка1"); <br/>ТЗ.Индексы.Добавить("Колонка2");<br/>... = ТЗ.Найти("найдется все", "Колонка1, Колонка2"); // Индекс НЕ используется!</p>
<p>В этом примере, несмотря на наличие индекса для колонок <strong>Колонка1</strong> и <strong>Колонка2</strong>, поиск все равно будет выполняться перебором всех строк в таблице значений (что очень ресурсоемко на больших объемах данных).</p>
<p><a id="2.2" name="2.2"></a>2.2. При использовании метода <strong>НайтиСтроки</strong> в таблицах значений с большим количеством строк следует обеспечить, чтобы список полей индекса был точно таким же, как он задан в структуре поиска (порядок полей не важен). В противном случае, индекс не будет задействован, и поиск будет выполняться перебором всех строк в таблице значений (что очень ресурсоемко на больших объемах данных).<br/>Например:</p>
<p class="Programtext">ТЗ.Индексы.Добавить("Колонка1"); // Индекс1<br/>ТЗ.Индексы.Добавить("Колонка2"); // Индекс2<br/><br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка1, Колонка2 ", "Ищу1","Ищу2")); // Индекс НЕ используется!<br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка1", "Ищу1") ); // OK - используется Индекс1<br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка2", "Ищу2") ); // OK - используется Индекс2</p>
<p>Другой пример:</p>
<p class="Programtext">ТЗ.Индексы.Добавить("Колонка1,Колонка2");<br/><br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка1, Колонка2", "Ищу1","Ищу2")); // OK - индекс используется<br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка2, Колонка1", "Ищу2","Ищу1")); // OK - индекс используется<br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка1", "Ищу1") ); // Индекс НЕ используется!<br/>... = ТЗ.НайтиСтроки(Новый Структура("Колонка2", "Ищу2") ); // Индекс НЕ используется!</p>
<p><a id="2.3" name="2.3"></a>2.3. Аналогичное ограничение действует и для метода <strong>Скопировать</strong> таблицы значений при вызове с параметром <strong>ПараметрыОтбора</strong> (<strong>Структура</strong>).</p>
<p><a id="3" name="3"></a>3. В тех случаях, когда для таблицы значений применяется сортировка по колонкам, содержащим ссылочные значения, необходимо учитывать, что при этом для каждой из этих колонок для всех строк таблицы значений системой будет выполнено обращение к информационной базе за представлением этой ссылки. </p>
<p>Поэтому рекомендуется:</p>
<ul>
<li>В тех случаях, когда требуется сортировка по наименованию – сразу, на этапе заполнения, добавлять в таблицу дополнительные колонки с представлениями, и сортировку выполнять уже по ним. Если, конечно, это не вызовет аналогичных многократных обращений к информационной базе; 

<li>В остальных случаях – сортировать «по ссылке», а не по представлению. Для этого в методе <strong>Сортировать</strong> следует использовать объект <strong>СравнениеЗначений</strong>:</li></li></ul>
<p class="Programtext">ОбъектСравнения = Новый СравнениеЗначений;<br/>ТаблицаДокументов.Сортировать("Дата,Ссылка", ОбъектСравнения);</p>
<p>Особенно это важно для таблиц с большим количеством (несколько сотен и тысяч) строк, в алгоритмах критических ко времени исполнения.</p>
<p><a id="3.1" name="3.1"></a>3.1. При поиске в объекте <strong>Массив</strong> с большим количеством элементов(*) следует отказаться от массива в пользу:</p>
<ul>
<li>объекта <strong>Соответствие</strong>, если не важен порядок элементов; 

<li>индексированной <strong>ТаблицаЗначений</strong>, если порядок элементов значим.</li></li></ul>
<p>Это обусловлено тем, что в указанных случаях поиск занимает в большинстве случаев константное время, а в массиве поиск выполняется перебором и поэтому пропорционален количеству элементов.</p>
<p>* Примечание: следует ориентироваться на 1000 элементов и более, а также учитывать не только размер массива, но и сколько раз выполняется поиск. Например, если поиск выполняется многократно, в частности, в цикле, то эта рекомендация также действительна для массивов меньшего размера (до 1000 элементов). Особого внимания требуют универсальные механизмы, которые могут применяться на сколь угодно больших объемах данных. </p>
<p><a id="3.2" name="3.2"></a>3.2. При необходимости обеспечить уникальность элементов в большом массиве следует однократно в конце алгоритма вызвать функцию <strong>СвернутьМассив</strong> или процедуру <strong>ДополнитьМассив</strong> с параметром<strong> ТолькоУникальныеЗначения = Истина</strong> (модуль <strong>ОбщегоНазначения</strong> Библиотеки стандартных подсистем).</p>
<p><a id="4" name="4"></a>4. Аналогичный недостаток существует и у объекта <strong>ДеревоЗначений</strong>, в котором не предусмотрено индексов и поиск выполняется перебором (как в массиве). В указанных выше случаях объект <strong>ДеревоЗначений</strong> следует заменять индексированным объектом <strong>ТаблицаЗначений</strong>.<br/><br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100447.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Использование объекта РегистрСведенийМенеджерЗаписи.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование объекта РегистрСведенийМенеджерЗаписи</h1><div style="clear: right; float: right;">#std447</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Чтение записи (набора записей) из регистра сведений без последующей модификации необходимо выполнять запросом. <br/><br/>2. Объект <strong>РегистрСведенийМенеджерЗаписи</strong> следует применять только тогда, когда выполнение операций с регистром сведений требует использования отбора одновременно по всем измерениям. При этом менеджер записи использует для выполнения записи два набора записей, устанавливая им соответствующие значения отборов. Поэтому обработчики событий набора записей вызываются и тогда, когда для записи данных используется менеджер записи. <br/><br/>3. В остальных случаях следует использовать объект <strong>РегистрСведенийНаборЗаписей</strong>. С точки зрения производительности использование менеджера записей в некоторых случаях будет столь же эффективным, как и использование набора записей, а в некоторых - менее, так как будут выполняться лишние действия. <br/><br/>Правильно:</p>
<p class="Programtext">Набор = РегистрыСведений.ЗначенияПравПользователя.СоздатьНаборЗаписей(); <br/>Набор.Отбор.НаборПрав.Установить(ЗначениеНабораПрав); <br/>Для Каждого СтрокаТаблицы ИЗ ТаблицаЗначенийПрав Цикл <br/>  Запись = Набор.Добавить(); <br/>  Запись.НаборПрав = ЗначениеНабораПрав; <br/>  Запись.Право = СтрокаТаблицы.Право; <br/>  Запись.Значение = СтрокаТаблицы.Значение; <br/>КонецЦикла; <br/>Набор.Записать();</p>
<p>Неправильно: </p>
<p class="Programtext">Для Каждого СтрокаТаблицы ИЗ ТаблицаЗначенийПрав Цикл <br/>  ЭлементРегистраСведений = РегистрыСведений.ЗначенияПравПользователя.СоздатьМенеджерЗаписи(); <br/>  ЭлементРегистраСведений.НаборПрав = ЗначениеНабораПрав; <br/>  ЭлементРегистраСведений.Право = СтрокаТаблицы.Право; <br/>  ЭлементРегистраСведений.Значение = СтрокаТаблицы.Значение; <br/>  ЭлементРегистраСведений.Записать(); <br/>КонецЦикла;</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100448.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Копирование строк между таблицами значений (табличными частями и т.п.) произвольной структуры.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Копирование строк между таблицами значений (табличными частями и т.п.) произвольной структуры</h1><div style="clear: right; float: right;">#std448</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>При копировании строк между различными таблицами значений (табличными частями и т.п.) со схожим составом колонок следует использовать метод глобального контекста <strong>ЗаполнитьЗначенияСвойств.</strong><br/><br/>Алгоритмы, использующие данный метод значительно эффективнее, чем например, многократный перебор колонок таблицы значений, выполняемый для получения их состава. <br/><br/>Правильно:</p>
<p class="Programtext">Для каждого СтрокаТаблицыИсточника Из ТаблицаИсточник Цикл <br/>  СтрокаТаблицыПриемника = ТаблицаПриемник.Добавить(); <br/>  ЗаполнитьЗначенияСвойств(СтрокаТаблицыПриемника, СтрокаТаблицыИсточника); <br/>КонецЦикла;</p>
<p>Неправильно:</p>
<p class="Programtext">Для каждого СтрокаТаблицыИсточника Из ТаблицаИсточник Цикл <br/>  СтрокаТаблицыПриемника = ТаблицаПриемник.Добавить(); <br/>  Для каждого Колонка Из ТаблицаПриемник.Колонки Цикл <br/>    КолонкаТаблицыИсточника = ТаблицаИсточник.Колонки.Найти(Колонка.Имя); <br/>    Если КолонкаТаблицыИсточника &lt;&gt; Неопределено Тогда <br/>      СтрокаТаблицыПриемника[Колонка.Имя] = СтрокаТаблицыИсточника[Колонка.Имя]; <br/>    КонецЕсли; <br/>  КонецЦикла; <br/>КонецЦикла;</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100450.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Порядок записи движений документов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Порядок записи движений документов</h1><div style="clear: right; float: right;">#std450</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Не рекомендуется использовать явную запись наборов записей регистров (с помощью метода <strong>Записать</strong>) в процедурах обработки проведения документов. Запись должна производится неявно системой, при завершении процедуры проведения. <br/><br/>В случае же нарушения этого правила, при параллельной работе нескольких пользователей, возможна ситуация возникновения взаимных блокировок при проведении документов. <br/><br/>2. Исключением является ситуация, когда данные, сохраняемые в регистрах, необходимы в последующих алгоритмах, выполняемых до момента выхода из процедуры проведения.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="#08_Требования к проведению документов.htm" target="_top">Требования к проведению документов</a></div>
<li>
<div><a href="#10_Самодостаточность регистров.htm" target="_top">Самодостаточность регистров</a></div>
<li>
<div><a href="#09_Использование активности движений.htm" target="_top">Использование активности движений</a></div></li></li></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100449.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Получение представлений для ссылочных значений в табличном документе.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Получение представлений для ссылочных значений в табличном документе</h1><div style="clear: right; float: right;">#std449</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>При формировании табличного документа запрещено в качестве параметров ячеек с типом заполнения <strong>Параметр</strong> указывать ссылочные значения, поскольку в этом случае в момент вывода данных в табличный документ будет выполнено многократное обращение к базе данных для получения представлений этих значений. <br/>Поэтому в качестве параметров следует указывать сами представления. <br/><br/>Исключением могут быть случаи, когда для получения представлений придется выполнять аналогичное многократное обращение к базе данных. <br/><br/>При этом следует иметь ввиду, что при получении представлений для полей непосредственно в самом запросе (через поле <strong>Представление</strong> или функцией <strong>Представление</strong>(&lt;Имя поля&gt;)) выполняется неявное соединение с таблицей объекта, для которого получаются представления. Для полей составного типа - несколько соединений, для каждого из типов, входящих в состав. Это может приводить к увеличению времени выполнения запроса (и как следствие, общего времени формирования итогового документа), а при большом количестве типов – к невозможности его выполнения в клиент-серверной версии из-за ограничения <strong>Microsoft SQL Server </strong><strong>2005</strong>, по которому в запросе не может участвовать больше 256 таблиц. Такие случаи также могут быть исключением для данного правила, в них представления для ссылочных значений допускается получать в момент их вывода в табличный документ. <br/><br/>Поскольку однозначно рекомендовать - какой из способов получения представлений следует выбрать - нельзя, такой выбор должен делаться разработчиком самостоятельно, на основании данных, полученных экспериментально.</p>
<h3>См. также</h3>
<ul>
<li><a href="https://its.1c.ru/db/metod81/content/2655/hdoc" target="_top">Особенности работы с полем Представление и функцией Представление() языка запросов (статья на ИТС)</a>
<li><a href="https://its.1c.ru/db/metod81/content/2656/hdoc" target="_top">Вывод ссылочных полей</a></li></li></ul></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100451.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Программное создание прикладных объектов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Программное создание прикладных объектов</h1><div style="clear: right; float: right;">#std451</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Для программного создания прикладных объектов следует использовать методы соответствующих менеджеров (<strong>СоздатьЭлемент</strong>, <strong>СоздатьДокумент</strong>, <strong>СоздатьНаборЗаписей</strong> и т.д.). </p>
<p>Для программного создания прикладных объектов, у которых существует соответствующие менеджеры объектов, использование конструктора (оператор встроенного языка <strong>Новый</strong>) запрещается. <br/><br/>Правильно:</p>
<p class="Programtext">ДокументПриходная = Документы.ПоступлениеТоваровУслуг.СоздатьДокумент();</p>
<p>Неправильно:</p>
<p class="Programtext">ДокументПриходная = Новый("ДокументОбъект.ПоступлениеТоваровУслуг");</p>
<p><a id="2" name="2"></a>2. При программном создании объекта следует явно вызывать метод объекта <strong>Заполнить</strong>. Если данных для заполнения нет, то передать значение <strong>Неопределено</strong>. В этом случае корректно отработают свойства реквизитов объекта <strong>"Значение заполнения"</strong>, будет вызван обработчик <strong>ОбработкаЗаполнения</strong> и подписки на это событие, как при интерактивной работе с объектом.</p>
<p>Например, неправильно:</p>
<p class="Programtext">Папка = Справочники.ПапкиФайлов.СоздатьЭлемент();<br/>// ...<br/>Папка.Записать();</p>
<p>Правильно:</p>
<p class="Programtext">Папка = Справочники.ПапкиФайлов.СоздатьЭлемент();<br/>// ...<br/>Папка.Заполнить(Неопределено);<br/>// ...<br/>Папка.Записать();</p>
<p>Исключением могут быть случаи, когда объект полностью загружается из источника при обмене данными или восстановление базы из резервной копии (загрузка из XML).</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100486.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Использование модуля объекта, модуля менеджера объекта и общих модулей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование модуля объекта, модуля менеджера объекта и общих модулей</h1><div style="clear: right; float: right;">#std486</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1" name="1"></a>1. <strong>Модуль объекта</strong> предназначен для реализации поведения отдельного экземпляра объекта (<strong>СправочникОбъект</strong>, <strong>ДокументОбъект</strong> и т.п.). В модуле объекта размещаются процедуры и функции, которые работают с данными объекта (<strong>ЭтотОбъект </strong>и переменные модуля объекта), в том числе когда он еще не записан в информационную базу. </p>
<p>Например, в модуле объекта могут размещаться:</p>
<ul>
<li>обработчики событий объекта 

<li>процедуры заполнения экземпляра объекта.</li></li></ul>
<p>Следует иметь в виду, что для вызова экспортных процедур и функций модуля объекта из других модулей может потребоваться предварительно получить сам экземпляр объекта из информационной базы с помощью метода <strong>ПолучитьОбъект</strong>. При этом происходит загрузка объекта из базы целиком, вместе с его табличными частями, что достаточно ресурсоемко.  </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#05_Чтение отдельных реквизитов объекта из базы данных.htm" target="_top"><em>Чтение отдельных реквизитов объекта из базы данных</em></a></p></blockquote>
<p><a id="2" name="2"></a>2. <strong>Модуль менеджера</strong> объекта предназначен для размещения "статической" функциональности, которая логически неразрывно связана с объектом метаданных, но не зависит от состояния конкретного экземпляра объекта данных. Это могут быть процедуры и функции:</p>
<ul>
<li>относящиеся не к одному, а сразу к некоторой совокупности объектов. Например, это функции для вывода на печать списка объектов; функции, возвращающие информацию, общую для всех экземпляров объекта метаданных; процедуры обновления данных информационной базы, которые связаны с объектом метаданных; и т.п. 

<li>которые работают с объектом, записанным в ИБ. В таких функциях входным параметром является ссылка на объект. Например, это функции для получения печатной формы по ссылке на объект, процедуры формирования движений по ссылке на объект и т.п.  </li></li></ul>
<p>Для выполнения функций модуля менеджера объекта не должен требоваться экземпляр объекта данных (<strong>СправочникОбъект</strong>, <strong>ДокументОбъект</strong> и т.п.).</p>
<p><a id="3" name="3"></a>3. Если функциональность невозможно однозначно отнести к тому или иному объекту метаданных, то она является логически общей для нескольких объектов. В этом случае ее следует размещать в <strong>общем модуле</strong>. <font face="Verdana" size="2"></font></p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100544.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Ограничения на использование экспортных процедур и функций.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на использование экспортных процедур и функций</h1><div style="clear: right; float: right;">#std544</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Не следует размещать экспортные процедуры и функции в модулях команд и общих команд. К этим модулям нет возможности обращаться из внешнего по отношению к ним кода, поэтому экспортные процедуры и функции в этих модулях не имеют смысла.<br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100411.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Установка параметров выбора и связей параметров выбора для объектов метаданных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Установка параметров выбора и связей параметров выбора для объектов метаданных</h1><div style="clear: right; float: right;">#std411</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Как правило, такие ограничения бизнес-логики как ограничения выбора, должны быть одинаковыми для всех форм, в которых редактируется тот или иной объект. Поэтому задавать параметры выбора и связи параметров выбора рекомендуется в свойствах объектов метаданных - в реквизитах справочников, документов и т.п. <br/><br/>2. Однако могут встречаться случаи, когда ограничения выбора могут зависеть от конкретного сценария работы. В таких случаях параметры выбора могут быть уточнены по месту, в конкретной форме. <br/><br/>Например, в конфигурации имеются </p>
<ul>
<li>справочник <strong>Сотрудники</strong>, в котором есть реквизиты <strong>Организация</strong> и <strong>ВидСотрудника</strong> (перечисление со значениями <strong>Основной</strong>/<strong>Совместитель</strong>); 

<li>документ <strong>ПриказОПриеме</strong>, в котором есть реквизит <strong>Организация</strong> и <strong>Сотрудник</strong>; при этом для реквизита <strong>Сотрудник</strong> документа <strong>ПриказОПриеме</strong> задана связь параметра выбора <strong>Отбор.Организация</strong> с реквизитом <strong>Организация</strong>.</li></li></ul>
<p>Требуется реализовать возможность выбора только основных сотрудников в зависимости от значения функциональной опции <strong>ВыбратьТолькоИзОсновыхСотрудников</strong>. Для этого необходимо</p>
<ul>
<li>в форме документа <strong>ПриказОПриеме</strong> реализовать дополнительный реквизит формы <strong>ВидыСотрудников</strong>, 

<li>после чего для поля формы <strong>Сотрудник </strong>может быть установлена связь параметра выбора <strong>Отбор.ВидСотрудника</strong> с реквизитом формы <strong>ВидыСотрудников</strong>, 

<li>при этом реквизит формы <strong>ВидыСотрудников </strong>заполняется на основании анализа функциональной опции. </li></li></li></ul>
<p>(При этом установить для реквизита <strong>Сотрудник</strong> документа <strong>ПриказОПриеме</strong> связь для параметра выбора <strong>Отбор.ВидСотрудника</strong> нет возможности, т.к. реквизита <strong>ВидСотрудника</strong> в документе <strong>ПриказОПриеме</strong> не существует.)<br/><br/>Тогда установка связи для параметра <strong>Отбор.Организация</strong> в свойствах реквизита <strong>Сотрудник</strong> документа <strong>ПриказОПриеме</strong> и связи для параметра <strong>Отбор.ВидСотрудника</strong> в поле формы документа <strong>ПриказОПриеме</strong> приведет к тому, что в режиме <strong>1С:Предприятия</strong> будут работать обе связи параметра выбора. Таким образом, при выборе сотрудника в форме приказа о приеме отбор в списке сотрудников будет установлен как по организации, заполненной в документе, так и по виду сотрудника, который будет определен на основании функциональной опции.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100409.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Использование РеквизитФормыВЗначение и ДанныеФормыВЗначение.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование РеквизитФормыВЗначение и ДанныеФормыВЗначение</h1><div style="clear: right; float: right;">#std409</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>В большинстве случаев, в модулях форм следует использовать метод формы <strong>РеквизитФормыВЗначение</strong> вместо метода <strong>ДанныеФормыВЗначение</strong>. </p>
<p>Рекомендация обусловлена соображениями унификации прикладного кода и тем, что синтаксис метода <strong>РеквизитФормыВЗначение</strong> проще, чем у <strong>ДанныеФормыВЗначение </strong>(а следовательно, меньше вероятность ошибки). <br/>В <strong>ДанныеФормыВЗначение </strong>необходимо дополнительно передавать тип значения:</p>
<p class="Programtext">ТаблицаПодписей = ДанныеФормыВЗначение(ТаблицаПодписей, Тип("ТаблицаЗначений"));</p>
<p>а для <strong>РеквизитФормыВЗначение</strong> это не обязательно, а в практическом плане - избыточно:</p>
<p class="Programtext">ТаблицаПодписей = РеквизитФормыВЗначение("ТаблицаПодписей");</p>
<p>Наличие в платформе <strong>1С:Предприятие</strong> метода формы <strong>РеквизитФормыВЗначение</strong> (наряду с методом глобального контекста <strong>ДанныеФормыВЗначение</strong>) объясняется только удобством его применения. С точки зрения эффективности и результата методы работают одинаково.</p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100407.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Применение параметров отчета в СКД.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Применение параметров отчета в СКД</h1><div style="clear: right; float: right;">#std407</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>При использовании параметров в отчетах, реализуемых с помощью системы компоновки данных, следует придерживаться следующих рекомендаций. </p>
<ul>
<li>Избегать использования параметров отчета в том случае, если можно обойтись "обычным" управлением элементами отбора. Например, не применять в запросах СКД условия типа: <br/><br/>
<p class="Programtext">ГДЕ Организация = &amp;Организация </p>Взамен этого дать пользователю возможность управлять элементом отбора <strong>Организация</strong>. <br/>
<li>Избегать применения обязательных параметров для того, чтобы исключить ситуацию, когда пользователь может отключить параметры отчета, ожидая отмены их применения, и получить при этом ошибку выполнения "Не задан параметр отчета". Для этого следует <br/>использовать синтаксические элементы расширения языка запросов системы компоновки данных <strong>{ГДЕ...}</strong>. <br/><br/>Например, применение конструкции </li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">{ГДЕ Сведения.Период &gt;= &amp;ДатаНачала, Сведения.Период &lt;= &amp;ДатаОкончания} </p>
<p>приведет к тому, что оба параметра отчета <strong>ДатаНачала</strong> и <strong>ДатаОкончания</strong> будут необязательными и при их отключении пользователем будут отключены соответствующие фрагменты условия.</p></blockquote></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100693.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Использование объектов типа Структура.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование объектов типа Структура</h1><div style="clear: right; float: right;">#std693</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>Требования, предъявляемые данным стандартом к <strong>Структурам</strong>, направлены на повышение читаемости кода и упрощение внесения изменений в код разными авторами (разработчиками) как при коллективной разработке, так и при доработке прикладных решений на конкретных внедрениях. Повышение читаемости кода в свою очередь ведет к уменьшению допускаемых при разработке ошибок и повышает качество прикладного решения.</p>
<p><a id="1" name="1"></a>1. При создании объекта типа <strong>Структура</strong> не рекомендуется передавать в конструктор более 3-х значений свойств. Вместо этого рекомендуется использовать метод <strong>Вставить</strong> или присваивать значения свойствам явным образом</p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">ПараметрыФормыКомпоновки  = Новый Структура(<br/>   "НеПомещатьНастройкиВСхемуКомпоновкиДанных,<br/>   |НеРедактироватьСхемуКомпоновкиДанных,<br/>   |НеНастраиватьУсловноеОформление,<br/>   |НеНастраиватьВыбор,<br/>   |НеНастраиватьПорядок,<br/>   |АдресСхемыКомпоновкиДанных,<br/>   |АдресНастроекКомпоновкиДанных,<br/>   |УникальныйИдентификатор,<br/>   |Заголовок",<br/>   Истина,<br/>   Истина,<br/>   Истина,<br/>   Истина,<br/>   Истина,<br/>   ТекущиеДанные.АдресСхемыКомпоновкиДанных,<br/>   ?(АдресНастроекСхемыКомпоновкиДанных &lt;&gt; Неопределено,<br/>        АдресНастроекСхемыКомпоновкиДанных,<br/>        ТекущиеДанные.АдресНастроекСхемыКомпоновкиДанных),<br/>   УникальныйИдентификатор,<br/>   ЗаголовокФормыНастройкиСхемыКомпоновкиДанных));</p>
<p><font color="#009646">Правильно</font></p>
<p class="Programtext">ПараметрыФормыКомпоновки  = Новый Структура;</p>
<p class="Programtext">ПараметрыФормыКомпоновки.Вставить("НеПомещатьНастройкиВСхемуКомпоновкиДанных", Истина);<br/>ПараметрыФормыКомпоновки.Вставить("НеРедактироватьСхемуКомпоновкиДанных", Истина);<br/>ПараметрыФормыКомпоновки.Вставить("НеРедактироватьСхемуКомпоновкиДанных", Истина);<br/>ПараметрыФормыКомпоновки.Вставить("НеНастраиватьВыбор", Истина);<br/>ПараметрыФормыКомпоновки.Вставить("НеНастраиватьПорядок", Истина);<br/>ПараметрыФормыКомпоновки.Вставить("АдресСхемыКомпоновкиДанных", ТекущиеДанные.АдресСхемыКомпоновкиДанных);<br/>ПараметрыФормыКомпоновки.Вставить("АдресНастроекКомпоновкиДанных", ?(АдресНастроекСхемыКомпоновкиДанных &lt;&gt; Неопределено,<br/>                                                                                                                         АдресНастроекСхемыКомпоновкиДанных,<br/>                                                                                                                         ТекущиеДанные.АдресНастроекСхемыКомпоновкиДанных));<br/>ПараметрыФормыКомпоновки.Вставить("УникальныйИдентификатор ", УникальныйИдентификатор);<br/>ПараметрыФормыКомпоновки.Вставить("Заголовок", ЗаголовокФормыНастройкиСхемыКомпоновкиДанных);</p>
<p><a id="2" name="2"></a>2. Не рекомендуется в конструкторе структуры использовать конструкторы других объектов, если эти конструкторы принимают параметры. В частности в конструкторе одной структуры не рекомендуется создавать другие структуры с объявлением значений свойств.</p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">НоменклатураСервер.ЗаполнитьСлужебныеРеквизитыПоНоменклатуреВКоллекции(<br/>  Объект.Товары,<br/>  Новый Структура(<br/>  "ЗаполнитьПризнакХарактеристикиИспользуются,<br/>  |ЗаполнитьПризнакТипНоменклатуры, ЗаполнитьПризнакВариантОформленияПродажи",<br/>   Новый Структура("Номенклатура", "ХарактеристикиИспользуются"),<br/>   Новый Структура("Номенклатура", "ТипНоменклатуры"),<br/>   Новый Структура("Номенклатура", "ВариантОформленияПродажи")<br/>  )<br/> );<br/></p>
<p><font color="#009646">Правильно</font></p>
<p class="Programtext"><br/>ПараметрыЗаполненияРеквизитов = Новый Структура;<br/>ПараметрыЗаполненияРеквизитов.Вставить("ЗаполнитьПризнакХарактеристикиИспользуются",<br/>                                                          Новый Структура("Номенклатура", "ХарактеристикиИспользуются"));<br/>ПараметрыЗаполненияРеквизитов.Вставить("ЗаполнитьПризнакТипНоменклатуры",<br/>                                                          Новый Структура("Номенклатура", "ТипНоменклатуры"));<br/>НоменклатураСервер.ЗаполнитьСлужебныеРеквизитыПоНоменклатуреВКоллекции(Объект.Товары, <br/>                                                          ПараметрыЗаполненияРеквизитов);</p>
<p><a id="3" name="3"></a>3. Не рекомендуется в конструкторе структуры вызывать функции с большим (более 3) количеством параметров.</p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">СведенияОТоваре = Новый Структура("ПараметрыТовара, ЦенаПродажиИОстаткиТовара, ЦенаЗакупкиИОстаткиТовара", <br/>     ПодборТоваровКлиентСервер.ПараметрыТовара(), <br/>     ПодборТоваровВызовСервера.ЦенаПродажиИОстаткиТовара(<br/>      Номенклатура,<br/>      Характеристика,<br/>      Соглашение,<br/>      Валюта,<br/>      ВидыЦен),<br/>     ЦенаЗакупкиИОстаткиТовара(<br/>      Номенклатура,<br/>      Характеристика,<br/>      Соглашение,<br/>      Валюта,<br/>      ВидыЦен));</p>
<p><font color="#009646">Правильно</font></p>
<p class="Programtext">СведенияОТоваре = Новый Структура("ПараметрыТовара, ЦенаПродажиИОстаткиТовара, ЦенаЗакупкиИОстаткиТовара");<br/>СведенияОТоваре.ПараметрыТовара           = ПодборТоваровКлиентСервер.ПараметрыТовара();<br/>СведенияОТоваре.ЦенаПродажиИОстаткиТовара = ПодборТоваровВызовСервера.ЦенаПродажиИОстаткиТовара(<br/>        Номенклатура,<br/>        Характеристика,<br/>        Соглашение,<br/>        Валюта,<br/>        ВидыЦен);<br/>СведенияОТоваре.ЦенаПродажиИОстаткиТовара = ЦенаЗакупкиИОстаткиТовара.ЦенаЗакупкиИОстаткиТовара(<br/>        Номенклатура,<br/>        Характеристика,<br/>        Соглашение,<br/>        Валюта,<br/>        ВидыЦен);</p>
<p><a id="4.1" name="4.1"></a>4.1. Не рекомендуется в разных частях программного кода добавлять в структуру свойства и затем проверять их наличие в структуре. Следует сразу создавать структуру со значением свойств по умолчанию. Помимо повышения читаемости, это позволяет эффективнее применять различные средства автоматической проверки и обработки кода.<br/></p>
<p>Пример:</p>
<p><font color="#ff0000">Неправильно</font></p>
<p class="Programtext">ПараметрыВыполнения = Новый Структура;<br/>…<br/>УникальныйИдентификатор = ?(ПараметрыВыполнения.Свойство("УникальныйИдентификатор"),   ПараметрыВыполнения.УникальныйИдентификатор, Неопределено);</p>
<p><font color="#009646">Правильно</font></p>
<p class="Programtext">ПараметрыВыполнения = ПараметрыВыполнения();<br/>УникальныйИдентификатор = ПараметрыВыполнения.УникальныйИдентификатор;<br/>…<br/>Функция ПараметрыВыполнения()<br/>  Результат = Новый Структура;<br/>  Результат.Вставить("УникальныйИдентификатор", Неопределено);<br/>  Возврат Результат;<br/>КонецФункции</p>
<p><a id="4.2" name="4.2"></a>4.2. Исключением можно считать структуры, формат которых не фиксирован: </p>
<ul>
<li>Структуры, полученные из внешних источников: результат HTTP-запроса, данные со сканера штрихкодов, терминала сбора данных и т.п. 

<li>Системные параметры формы (*), параметры выбора в параметрах формы.</li></li></ul>
<ul></ul>* примечание: пользовательские параметры формы <a href="#02_Открытие параметризированных форм.htm" target="_top">необходимо объявлять явно</a> на закладке <strong>Параметры</strong> редактора формы. 

<p></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#05_Параметры процедур и функций.htm" target="_top">Параметры процедур и функций</a>
<li><a href="#06_Особенности использования структур в качестве параметров процедур и функций.htm" target="_top">Структуры и таблицы значений в качестве параметров процедур и функций</a></li></li></ul>
<ul></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100781.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Особенности сортировки в таблице значений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Особенности сортировки в таблице значений</h1><div style="clear: right; float: right;">#std781</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>В тех случаях, когда для таблицы значений применяется сортировка по колонкам, содержащим ссылочные значения, необходимо учитывать, что при этом для каждой из этих колонок для всех строк таблицы значений системой будет выполнено обращение к информационной базе за представлением этой ссылки. </p>
<p>Поэтому рекомендуется:</p>
<ul>
<li>В тех случаях, когда требуется сортировка по наименованию – сразу, на этапе заполнения, добавлять в таблицу дополнительные колонки с представлениями, и сортировку выполнять уже по ним. Если, конечно, это не вызовет аналогичных многократных обращений к информационной базе; 

<li>В остальных случаях – сортировать «по ссылке», а не по представлению. Для этого в методе <strong>Сортировать</strong> следует использовать объект <strong>СравнениеЗначений</strong>:</li></li></ul>
<p class="Programtext">ОбъектСравнения = Новый СравнениеЗначений;<br/>ТаблицаДокументов.Сортировать("Дата,Ссылка", ОбъектСравнения);</p>
<p>Особенно это важно для таблиц с большим количеством (несколько сотен и тысяч) строк, в алгоритмах критических ко времени исполнения.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#06_Упорядочивание результатов запроса.htm" target="_top">Упорядочивание результатов запроса</a></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/300/300/i8100782.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Массовая конкатенация строк.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Массовая конкатенация строк</h1><div style="clear: right; float: right;">#std782</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>При массовых(*) операциях конкатенации строк следует использовать методы платформы <strong>СтрРазделить</strong> и <strong>СтрСоединить</strong>. <br/>Например, неправильно:</p>
<p class="Programtext">Для НомерКолонки = 1 По Макет.ШиринаТаблицы Цикл<br/>  ИзвлеченныйТекст = ИзвлеченныйТекст + Символы.ПС + ТекстОбласти;<br/>  …</p>
<p>Правильно:</p>
<p class="Programtext">ИзвлеченныеТексты = Новый Массив;<br/>Для НомерКолонки = 1 По Макет.ШиринаТаблицы Цикл<br/>  ИзвлеченныеТексты.Добавить(ТекстОбласти);<br/>  …<br/>ИзвлеченныйТекст = СтрСоединить(ИзвлеченныеТексты, Символы.ПС);</p>
<p>Такая обработка данных не только быстрее выполняется, но и приводит к снижению потребления оперативной памяти.</p>
<p>* Примечание: следует ориентироваться на 1000 операций конкатенации строк и более (эта величина также может быть еще меньше при увеличении длин строк: чем строки длиннее, тем операции выполняются дольше). Особого внимания требует конкатенация в циклах и в универсальных механизмах, которые могут применяться на сколь угодно больших объемах данных. В то же время, не следует отказываться от конкатенации строк в остальных случаях, так как это заметно снижает читаемость кода.</p>
<p>См. также</p>
<ul>
<li><a href="#01_Оформление текстов запросов.htm" target="_top">Оформление текстов запросов</a> (раздел "Конкатенация нескольких текстов запросов в пакет")</li></ul></body><hr>
<h1 id='04_Клиент-серверное взаимодействие'>Клиент-серверное взаимодействие</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100724.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Использование модулей с повторным использованием возвращаемых значений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование модулей с повторным использованием возвращаемых значений</h1><div style="clear: right; float: right;">#std724</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Общие модули с повторным использованием возвращаемых значений (далее: кэш) предусмотрены для кэширования результатов работы функций, которые в них размещены - на время сеанса или на время вызова. Их следует применять для экономии вычислительных ресурсов сервера и для <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">минимизации клиент-серверного взаимодействия</a>.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: раздел "<a href="https://its.1c.ru/db/v83doc/bookmark/dev/ti000000181" target="_top">Повторное использование возвращаемых значений</a>" документации по платформе 1С:Предприятие, <br/><a href="/bmk/std/common_values" target="_top">Использование значений, влияющих на поведение клиентского приложения</a></em></p></blockquote>
<p><a id="2" name="2"></a>2. В то же время, чрезмерное (неоправданное) применение общих модулей с повторным использованием возвращаемых значений может приводить к <a href="#07_Оптимизация использования оперативной памяти.htm" target="_top">излишнему потреблению памяти</a>. </p>
<p><a id="2.1" name="2.1"></a>2.1. Недопустимо создать общие модули с повторным использованием, из которых возвращаются данные, вычисление которых выполняется быстрее, чем получение из кэша. Например, строковые константы. Кроме того, что получение строковой константы каждый раз будет работать гораздо быстрее, чем получение ее из общего модуля с повторным использованием, эти данные будут занимать память кэша. <br/>Например, неправильно размещать в модуле с повторным использованием:</p>
<p class="Programtext">Функция ИмяПакетаУправления() Экспорт<br/>  Возврат "ManagementPackage";<br/>КонецФункции</p>
<p>Имеет смысл кэшировать данные, полученные из базы данных, внешних источников данных или путем сложных (ресурсоемких) вычислений. Причем в ряде случаев, даже значения, полученные из базы данных, не стоит кэшировать, если выгода от их кэширования – неочевидна. Например, не стоит кэшировать <a href="#13_Использование констант.htm" target="_top">константы (объект метаданных)</a> примитивных типов, поскольку часто они привносят лишь незначительную долю от общего времени выполнения ресурсоемкой операции.</p>
<p><a id="2.2" name="2.2"></a>2.2. Следует помещать в кэш только такие данные, к которым потом будут часто обращаться.</p>
<p>В частности, следует иметь в виду, что кэш не хранит данные вечно. Закэшированное значение будет удалено из кэша через 20 минут после вычисления или через 6 минут после последнего использования (в зависимости от того, что наступит раньше*). Кроме этого значение будет удалено при нехватке оперативной памяти в рабочем процессе сервера, при перезапуске рабочего процесса и при переключении клиента на другой рабочий процесс. Поэтому если никто "не успел" воспользоваться данными из кэша, то этот ресурс был потрачен зря.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>* Примечание:  конкретные цифры могут варьироваться в зависимости от используемой версии платформы 1С:Предприятие.</em></p></blockquote>
<p><a id="2.3" name="2.3"></a>2.3. Диапазон значений входных параметров функций, размещенных в общих модулей с повторным использованием, не должен быть широким. <br/>Например, в конфигурации предусмотрена функция, получающая на вход контрагента. Если контрагентов в базе очень много, а сценарий работы пользователей таков, что вероятность того, что кто-то за 5 минут обратится к этому же контрагенту, очень невысокая, то ресурсы будут потрачены впустую. Кроме того, если эту «трату» умножить на количество одновременно работающих пользователей, то бесполезные расходы ресурсов становятся значительными.</p>
<p><a id="3" name="3"></a>3. Не следует изменять данные, полученные  из кэша. В противном случае, возможны скрытые ошибки в работе программы, а также бесполезное расходование памяти (ресурсов кэша). Поэтому в качестве возвращаемых значений рекомендуется  использовать значения, состояние которых изменить нельзя, например: <strong>ФиксированныйМассив</strong>, <strong>ФиксированнаяСтруктура</strong>.</p>
<p>Это ограничение вызвано тем, что кэш возвращает каждый раз не копию объекта, а ссылку на один и тот же объект в памяти. Например, если в массив, который возвращает функция с повторным использованием, при каждом вызове при проведении документов дописывать новое значение, то в результате кэш очень быстро «распухнет». Кроме того, при очередном сбросе кэша, добавленные значения будут потеряны и код, который на них опирался, будет работать некорректно.</p>
<p><a id="4" name="4"></a>4. Если в модуле с повторным использованием размещено несколько экспортных функций, которые не только вызываются «снаружи», но и вызывают друг друга, то следует иметь в виду, что результат «внутренних» вызовов не кэшируется. <br/>Например, если в модуле <strong>ОбменДаннымиПовтИсп</strong> размещено две экспортных функции:</p>
<p class="Programtext">Функция АвтономнаяРаботаПоддерживается() Экспорт<br/> Возврат ...<br/>КонецФункции</p>
<p class="Programtext">Функция ЭтоАвтономноеРабочееМесто() Экспорт<br/> Возврат АвтономнаяРаботаПоддерживается() И ...;<br/>КонецФункции</p>
<p>которые последовательно вызываются из прикладного кода, </p>
<p class="Programtext">... = ОбменДаннымиПовтИсп.АвтономнаяРаботаПоддерживается();<br/>... = ОбменДаннымиПовтИсп.ЭтоАвтономноеРабочееМесто();</p>
<p>то функция <strong>АвтономнаяРаботаПоддерживается</strong> будет вычислена дважды. </p>
<p>Для того чтобы ее возвращаемое значение всегда получалось из кэша, следует явно указывать имя модуля:</p>
<p class="Programtext">Функция ЭтоАвтономноеРабочееМесто() Экспорт<br/> Возврат ОбменДаннымиПовтИсп.АвтономнаяРаботаПоддерживается() И ...;<br/>КонецФункции</p>
<p><a id="5" name="5"></a>5. Если у общего модуля свойство "Повторное использование возвращаемых значений" установлено в значение "На время сеанса", то в значениях, возвращаемых функциями такого модуля, нельзя использовать значения типа <b>МенеджерВременныхТаблиц</b>, <b>Запрос</b>, объекты базы данных (например, <strong>ДокументОбъект</strong>, <strong>ОтчетОбъект</strong>) причем, как непосредственно, так и в составе любых коллекций. Ограничение вызвано тем, что значения этих типов допустимо использовать только в том же серверном вызове, в котором они были получены (созданы).</p>
<p>Возврат значений этих типов в указанных функциях не проверяется платформой и приводит к трудно диагностируемой остановке работы программы (записи есть только в технологическом журнале).<br/><br/>Данное ограничение распространяется на использование значений во временном хранилище.<br/> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100459.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Использование значений, влияющих на поведение клиентского приложения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование значений, влияющих на поведение клиентского приложения</h1><div style="clear: right; float: right;">#std459</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В том случае, если поведение целого ряда форм или команд зависит от одних и тех же значений (параметров, задаваемых пользователем или иных настроек поведения клиентского приложения), для <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">минимизации клиент-серверного взаимодействия</a> рекомендуется применять <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">общие модули с повторным использованием возвращаемых значений</a> (свойство «Повторное использование возвращаемых значений» равно «На время сеанса»). Применение таких общих модулей допускается, если изменение соответствующего значения в течение сеанса не является критичным, т.е. в течение всего сеанса может использоваться однажды полученное значение. <br/><br/>При этом функции такого общего модуля должны за один вызов возвращать сразу все значения, которые могут понадобиться в тех или иных обстоятельствах. <br/><br/>Например, если при работе всех форм подсистемы регистрации занятости сотрудников, требуются пользовательские параметры «Время занятости по умолчанию», «Время начала рабочего дня» и «Время окончания рабочего дня», то все эти параметры необходимо получать одним вызовом, возвращающим структуру с тремя свойствами:</p>
<p class="Programtext">Настройки = НастройкиПодсистемыРегистрации(); <br/>ВремяНачала = Настройки.ВремяНачалаРабочегоДня; <br/>ВремяОкончания = Настройки.ВремяОкончанияРабочегоДня; <br/></p>
<p>Следует помнить, что применение клиентских общих модулей с повторным использованием возвращаемых значений должно быть разумно ограничено. В частности, данные, влияющие на поведение отдельных форм, рекомендуется размещать в реквизитах самой формы, получая их при создании формы на сервере. И только если от некоторого значения (или нескольких значений) зависит поведение команд или большого числа форм приложения, следует применять общие модули с повторным использованием возвращаемых значений. <br/><br/>Не рекомендуется использовать переменные модуля управляемого приложения и модуля обычного приложения для минимизации клиент-серверного взаимодействия. <br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100443.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Получение предопределенных значений на клиенте.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Получение предопределенных значений на клиенте</h1><div style="clear: right; float: right;">#std443</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>Для получения значения ссылок на предопределенные элементы справочников, планов видов характеристик, планов счетов, планов видов расчета, ссылки на значения перечислений, системных перечислений и точек маршрута бизнес-процессов в коде, выполняемом в клиентском коде (тонкий клиент, веб-клиент), где объекты типа <strong>СправочникМенеджер.&lt;ИмяСправочника&gt;</strong>, <strong>ПеречислениеМенеджер.&lt;ИмяПеречисления&gt;</strong> и т.п. не доступны, предназначена функция глобального контекста <strong>ПредопределенноеЗначение</strong>. <br/>Например:</p>
<p class="Programtext">ЮрФизЛицо = ПредопределенноеЗначение("Перечисление.ЮридическоеФизическоеЛицо.ЮридическоеЛицо");</p>
<p style="FONT-SIZE: 12px; FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">При использовании в конфигурации Библиотеки стандартных подсистем (БСП) версии 2.1.4 и выше рекомендуется использовать функцию<span> </span><strong>ПредопределенныйЭлемент</strong><span> </span>общего модуля<span> </span><strong>ОбщегоНазначения</strong><span> </span>или<span> </span><strong>ОбщегоНазначенияКлиент</strong>, которая возвращает<span> </span><strong>Неопределено</strong><span> </span>для несуществующих в ИБ предопределенных элементов. При этом не следует реализовывать дополнительные механизмы кеширования на клиенте предопределенных значений. Указанные выше функции не ухудшают <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">клиент-серверное взаимодействие</a>: серверный вызов выполняется только при первом обращении к значению, а результат автоматически кешируется. </p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#15_Использование предопределенных элементов.htm" target="_top">Использование предопределенных элементов</a>
<li>Раздел <a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000000158" target="_top">Работа с предопределенными значениями</a> в документации к платформе 1С:Предприятие (на ИТС)</li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100487.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Минимизация количества серверных вызовов и трафика.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Минимизация количества серверных вызовов и трафика</h1><div style="clear: right; float: right;">#std487</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Разработку управляемого приложения необходимо вести с контролем количества вызовов серверных процедур и функций из клиентского кода (серверных вызовов), а в некоторых случаях – также объема передаваемых данных между клиентом и сервером (трафика). </p>
<p>Общее количество серверных вызовов складывается из </p>
<ul>
<li>
<div>обращений на сервер, которые выполняет платформа <strong>1С:Предприятие</strong>,</div>
<li>
<div>и вызовов, которые выполняются из клиентского кода конфигурации – отклонение, привносимое конфигурацией по отношению к платформе. </div></li></li></ul>
<p>В общем виде следует руководствоваться тем, что на каждое действие пользователя в клиентском коде конфигурации не должно выполнять дополнительных вызовов на сервер. Любые исключения из этого правила требуют дополнительного обоснования.</p>
<p>Типовым исключением является неявный серверный вызов при первом обращении к клиентскому общему модулю. Например, вызов <strong>ТорговыеПредложенияКлиент.ОбновитьПредложения</strong> приведет к вызову сервера, если общий модуль <strong>ТорговыеПредложенияКлиент</strong> еще не был скомпилирован.</p>
<p><a id="1.2" name="1.2"></a>1.2. Для режима с низкой скоростью соединения и мобильного клиента следует оптимизировать не только количество вызовов, но и объем передаваемых данных между клиентом и сервером (трафик). Отладку клиент-серверного взаимодействия в этом режиме работы рекомендуется проводить в режиме имитации задержек серверных вызовов.</p>
<p>Ниже рассмотрены типовые действия пользователя и даны рекомендации по организации клиент-серверного взаимодействия.</p>
<h2>Запуск клиентского приложения</h2>
<p><a id="2.1" name="2.1"></a>2.1. В простейшем случае, код конфигурации, выполняемый при запуске клиентского приложения, не должен приводить к обращениям на сервер. Речь идет о коде обработчиков <strong>ПередНачаломРаботыСистемы</strong>, <strong>ПриНачалеРаботыСистемы</strong> модуля приложения. В тех случаях, когда все же в них необходимо получать данные с сервера:</p>
<ul>
<li>
<div>не следует напрямую вызывать серверные процедуры и функции из кода модуля приложения, модуля управляемого приложения и модуля внешнего соединения. </div>
<li>
<div>правильно: за один вызов на сервер передавать на клиент все параметры, необходимые для запуска приложения. </div></li></li></ul>
<p>В случае если параметры для запуска клиентского приложения требуется запрашивать с сервера из разных мест клиентского кода, следует разместить такую функцию в общем серверном <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">модуле с повторным использованием возвращаемых значений</a>. При первом вызове этой функции происходит одно обращение к серверу, после чего полученное значение автоматически кешируется платформой на клиенте для всех повторных вызовов этой функции.</p>
<p>Пример:</p>
<p class="Programtext">// Фрагмент общего серверного модуля ПараметрыПовтИсп с повторным использованием возвращаемых значений<br/>Функция ПараметрыРаботыКлиента()<br/>  Параметры = Новый Структура();<br/>  Параметры.Вставить("ИнформационнаяБазаФайловая", ОбщегоНазначения.ИнформационнаяБазаФайловая());<br/>  // Инициализация других параметров, необходимых на клиенте при запуске приложения<br/>  // Параметры.Вставить(имя параметра, значение параметра);<br/>  Возврат Параметры;<br/>КонецФункции</p>
<p>Пример клиентского кода обработчика <strong>ПриНачалеРаботыСистемы</strong>, использующего функцию <strong>ПараметрыРаботыКлиента</strong>:</p>
<p class="Programtext">ИнформационнаяБазаФайловая = ПараметрыПовтИсп.ПараметрыРаботыКлиента().ИнформационнаяБазаФайловая;<br/>Если ИнформационнаяБазаФайловая Тогда<br/> // обработка этого случая в клиентском коде<br/> //…</p>
<p dir="ltr">2.2. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) следует использовать предусмотренный в ней программный интерфейс:</p>
<ul dir="ltr">
<li>
<div>размещать серверный код для запуска приложения  в процедурах <strong>ПриДобавленииПараметровРаботыКлиентаПриЗапуске</strong> и/или <strong>ПриДобавленииПараметровРаботыКлиента</strong> общего модуля  <strong>ОбщегоНазначенияПереопределяемый</strong>; </div>
<li>
<div>в клиентском коде вызывать функции <strong>ПараметрыРаботыКлиентаПриЗапуске</strong> или <strong>ПараметрыРаботыКлиента</strong> общего модуля <strong>СтандартныеПодсистемыКлиент</strong>, результат которых кешируется при первом вызове.</div></li></li></ul>
<p dir="ltr">Подробнее см. комментарии к указанным процедурам и функциям, а также примеры реализации в демонстрационной базе БСП.<br/></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#02_Использование значений, влияющих на поведение клиентского приложения.htm" target="_top">Использование значений, влияющих на поведение клиентского приложения</a></em></p></blockquote>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><b><span style="FONT-SIZE: 14pt; FONT-FAMILY: Arial, sans-serif">Периодические серверные вызовы<o:p></o:p></span></b></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">3.1. В некоторых случаях требуется периодически передавать данные с клиента на сервер или выполнять периодические проверки состояния сервера, например:</span></p>
<ul dir="ltr">
<li><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; TEXT-INDENT: -24px">передача данных о замерах производительности и информации о параметрах клиента,</span>
<li><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; TEXT-INDENT: -24px">проверка динамического изменения конфигурации или изменения прав пользователя с предложением перезапустить программу,</span>
<li><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; TEXT-INDENT: -24px"><span style="FONT-SIZE: 9.5pt">проверка завершения работы пользователей,</span></span>
<li><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; TEXT-INDENT: -24px"><span style="FONT-SIZE: 9.5pt"><span style="FONT-SIZE: 9.5pt">проверка актуальности курсов валют с предложением их обновить,</span></span></span>
<li><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; TEXT-INDENT: -24px"><span style="FONT-SIZE: 9.5pt"><span style="FONT-SIZE: 9.5pt"><span style="FONT-SIZE: 9.5pt">проверка напоминаний пользователя с выводом оповещений и др.</span></span></span></span></li></li></li></li></li></ul>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">Для этого следует объединять вызовы в один и делать его период по возможности не чаще одного раза в минуту. Кроме того, рекомендуется использовать систему взаимодействия для отправки оповещений клиентским сеансам с сервера вместо периодических вызовов с клиента для проверки состояния сервера.<o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">3.2. При использовании в конфигурации <b>Библиотеки стандартных подсистем</b> (БСП) следует использовать предусмотренный в ней программный интерфейс.<o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">3.2.1. Для длительных операций реализовать ожидание результата с помощью процедуры</span> <b><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">ОжидатьЗавершение</span></b><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif"> общего модуля <b>ДлительныеОперацииКлиент</b>.<o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">3.2.2. Для проверки состояния сервера, которое необходимо только для отдельно открытой формы без использования длительных операций, допустимо делать бесконтекстные (быстрые) серверные вызовы, однако следует выбирать как можно больший период вызова в рамках решаемой задачи. Например, обновление состояния в форме обмена данными о ходе работы регламентного задания.<br/>Для форм на начальной странице (то есть открытых условно постоянно) не рекомендуется делать периодические серверные вызовы, а вместо этого рекомендуется сделать кнопку <b>Обновить</b>. Если же периодические вызовы необходимы, то делать их отключенными по умолчанию, а их период делать не чаще одного раза в минуту. Например, в форме <b>Текущие дела</b>.<o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">3.2.3. Для периодической проверки состояния сервера и отправки оповещений клиентским сеансам:<o:p></o:p></span></p>
<ul type="disc">
<li class="MsoNormal" style="LINE-HEIGHT: normal"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>добавлять описание периодического серверного оповещения в процедуре <b>ПриДобавленииСерверныхОповещений</b> общего модуля  <b>ОбщегоНазначенияПереопределяемый</b>;<o:p></o:p></span>
<li class="MsoNormal" style="LINE-HEIGHT: normal"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>реализовывать процедуру отправки оповещений из регламентного задания</span><span style="COLOR: windowtext"> </span><b><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>Отправка серверных оповещений клиентам</span></b><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'> в процедуре <b>ПриОтправкеСерверногоОповещения</b> общего модуля, указанного в описании серверного оповещения;<o:p></o:p></span>
<li class="MsoNormal" style="LINE-HEIGHT: normal"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>реализовывать процедуру обработки полученного оповещения на клиенте в процедуре <b>ПриПолученииСерверногоОповещения</b> общего модуля, указанного в описании серверного оповещения.<o:p></o:p></span> </li></li></li></ul>
<p class="MsoNormal" style="LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-outline-level: 2"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">3.2.4. Для периодической отправки данных с клиента на сервер:<o:p></o:p></span></p>
<ul type="disc">
<li class="MsoNormal" style="LINE-HEIGHT: normal"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>размещать клиентский код для добавления данных отправляемых на сервер в процедуре <b>ПередПериодическойОтправкойДанныхКлиентаНаСервер</b> общего модуля <b>ОбщегоНазначенияКлиентПереопределяемый</b>;<o:p></o:p></span>
<li class="MsoNormal" style="LINE-HEIGHT: normal"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>размещать серверный код для обработки данных получаемых с клиента в процедуре <b>ПриПериодическомПолученииДанныхКлиентаНаСервере</b> общего модуля <b>ОбщегоНазначенияПереопределяемый</b>;<o:p></o:p></span>
<li class="MsoNormal" style="LINE-HEIGHT: normal"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-fareast-language: RU'>размещать клиентский код для обработки данных возвращаемых с сервера в процедуре <b>ПослеПериодическогоПолученияДанныхКлиентаНаСервере</b> общего модуля <b>ОбщегоНазначенияКлиентПереопределяемый</b>.<o:p></o:p></span> </li></li></li></ul>
<p dir="ltr"><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; LINE-HEIGHT: 115%">Подробнее см. комментарии к указанным процедурам, а также примеры реализации в демонстрационной базе БСП.</span></p>
<p dir="ltr"><span style="FONT-SIZE: 14pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold">Открытие управляемой формы</span></p>
<p><a id="4.1" name="4.1"></a>4.1. В случае если открытие формы выполняется из кода, следует открывать форму за один вызов с помощью метода глобального контекста <strong>ОткрытьФорму</strong> (при использовании версии платформы 1С:Предприятие 8.2 и более ранних версий - также <strong>ОткрытьФормуМодально</strong>). Для передачи параметров в форму следует использовать параметр этих методов <strong>Параметры</strong>.</p>
<p><a id="4.2" name="4.2"></a>4.2. При открытии формы не допускается выполнять обращений к серверу из кода модуля формы в обработчиках клиентских событий формы, таких как <strong>ПриОткрытии</strong> и <strong>ПриПовторномОткрытии</strong>. При необходимости обращения из них к серверным данным, следует предварительно размещать эти данные в реквизитах формы в <strong>ПриСозданииНаСервере</strong>.</p>
<p>Например, неправильно запускать фоновое задание с длительным расчетом в обработчике <strong>ПриОткрытии</strong>. Правильно, запускать его в <strong>ПриСозданииНаСервере</strong>, а стартовать проверку его готовности в <strong>ПриОткрытии</strong>. Подробнее см.: <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">Длительные операции на сервере</a>.</p>
<p>Другой пример, неправильно:</p>
<p class="Programtext">НастройкаПроксиСервера = СерверныйМодуль.НастройкаПроксиСервера();<br/>ОткрытьФорму("ОбщаяФорма.ПараметрыПроксиСервера", Новый Структура("Настройка", НастройкаПроксиСервера));</p>
<p>правильно:</p>
<p class="Programtext">ОткрытьФорму("ОбщаяФорма.ПараметрыПроксиСервера");</p>
<p>при этом получение значения константы выполнять в обработчике <strong>ПриСозданииНаСервере</strong> формы <strong>ПараметрыПроксиСервера</strong>.</p>
<p>Также при открытии формы не следует вызывать <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">серверные функции с повторным использованием возвращаемых значений</a>, т.к. их результат кешируется только после первого вызова, а, следовательно, при первом открытии формы возникнет избыточное обращение на сервер. </p>
<p><a id="4.3" name="4.3"></a>4.3. Не следует при открытии формы подключать несколько различных обработчиков ожидания (с помощью метода <strong>ПодключитьОбработчикОжидания</strong>), которые проверяют готовность <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">запущенных фоновых заданий</a> и обновляют данные формы, например, выводят на форму различные результаты контроля или дополнительную информацию, подготовка которой занимает длительное время. Несколько обработчиков ожидания приводят к избыточным вызовам сервера.</p>
<p>Правильно объединять различные обработчики завершения фоновых заданий в один обработчик, который за один серверный вызов проверяет готовность и забирает результат с сервера. В общем случае, целесообразно также объединять фоновые задания в одно для экономии ресурсов сервера на их запуск. Если обработчик подключается периодически, то следует выбирать интервал срабатывания обработчика согласно рекомендациям в статье <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">Длительные операции на сервере</a>.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> необходимо запускать длительные операции с помощью программного интерфейса в общих модулях <strong>ДлительныеОперации</strong> и <strong>ДлительныеОперацииКлиент</strong>. В нем уже предусмотрено объединение различных обработчиков завершения фоновых заданий в один с оптимальным интервалом срабатывания для экономии серверных вызовов.<br/></p>
<h2>Выполнение локальной команды управляемой формы</h2>
<p><a id="5.1" name="5.1"></a>5.1. Выполнение локальной команды формы должно приводить не более чем к одному вызову сервера. </p>
<p>Если команда выполняет только клиентские операции (приводит к открытию новой формы, устанавливает отбор в списке, меняет стиль оформление и пр.), то все необходимые данные для ее выполнение должны быть заранее переданы на клиент. Рекомендуется заранее готовить эти данные в обработчике события формы <strong>ПриСозданииНаСервере</strong> и размещать их в реквизитах формы. <br/><br/>Пример: <br/>При выборе товаров из списка номенклатуры требуется запретить для пользователя выбор групп номенклатуры: при попытке выбрать группу программа должна выдавать останавливающее сообщение. Для проверки, является ли выбранный элемент номенклатуры группой, неправильно вызывать отдельную серверную функцию. Следует добавить в таблицу значений, которая связана с полем списка на форме, реквизит <strong>ЭтоГруппа</strong> и заполнять его в обработчике события формы <strong>ПриСозданииНаСервере</strong>. Тогда проверка на клиенте выполняется без дополнительного серверного вызова и имеет вид:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">ТекущаяСтрока = Элемент.ТекущиеДанные; <br/>Если ТекущаяСтрока.ЭтоГруппа Тогда<br/>  Сообщение = Новый СообщениеПользователю();<br/>  Сообщение.Текст = НСтр("ru = 'Выбор группы запрещен.'");<br/>  Сообщение.Сообщить();<br/>  Возврат;<br/>КонецЕсли;</p></blockquote>
<p>Если команда связана с выполнением бизнес-логики, которую возможно отработать только на сервере, то вся она должна выполняться за один серверный вызов. </p>
<h2>Выбор из справочника</h2>
<p><a id="5.2" name="5.2"></a>5.2. В общем случае, при выборе из справочника допускается выполнять только один серверный вызов из кода, к которому приводит вызов метода глобального контекста <strong>ОткрытьФорму</strong> (или <strong>ОткрытьФормуМодально</strong>).</p>
<p><a id="6.3" name="6.3"></a>6.3. В случае если после выбора из справочника необходимо выполнить бизнес-логику, которую возможно отработать только на сервере, то допустимо выполнять ее за один дополнительный серверный вызов.</p>
<h2>Выполнение глобальной команды</h2>
<p><a id="6.1" name="6.1"></a>6.1. При выполнении глобальной команды допускается выполнять только один серверный вызов из кода. В случае если команда открывает форму, то этот вызов должен выполняться при вызове метода глобального контекста <strong>ОткрытьФорму</strong> (или <strong>ОткрытьФормуМодально</strong>).</p>
<h2>Выполнение команды формирования отчета </h2>
<p><a id="7.1" name="7.1"></a>7.1. При выполнении команды формирования отчета не допускается выполнять дополнительных серверных вызовов из кода конфигурации.</p>
<p>В частности, при открытии формы отчета не допускается выполнять обращений к серверу из кода модуля формы в обработчиках клиентских событий формы, таких как <strong>ПриОткрытии</strong> и <strong>ПриПовторномОткрытии</strong>.</p>
<p>Например, неправильно выполнять формирование отчета, использующего систему компоновки данных, из обработчика формы <strong>ПриОткрытии</strong>:</p>
<p class="Programtext">&amp;НаКлиенте <br/>Процедура ПриОткрытии(Отказ)<br/>  ВывестиОтчет();<br/>КонецПроцедуры </p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ВывестиОтчет()<br/>  // код по формированию отчета…<br/>КонецПроцедуры </p>
<p>правильно: </p>
<ul>
<li>открывать форму отчета с параметром <strong>СформироватьПриОткрытии</strong> = <strong>Истина</strong>, либо  

<li>установить параметр формы <strong>СформироватьПриОткрытии</strong> в значение <strong>Истина</strong> в обработчике <strong>ПриСозданииНаСервере</strong>.</li></li></ul>
<h2>Выполнение подбора элементов</h2>
<p><a id="8.1" name="8.1"></a>8.1. Особенность клиент-серверного взаимодействия при выполнении подбора элементов состоит в необходимости передавать список выбранных элементов между формой объекта и формой подбора. При этом объем передаваемых данных может быть достаточно большим.</p>
<p>В этом случае не рекомендуется передавать потенциально большой массив данных в качестве параметра формы подбора. Потенциально большой массив данных, хранимый в форме подбора в параметре типа <strong>ДанныеФормыКоллекция</strong>, может оказаться на клиенте не полным за счет оптимизации работы управляемой формы. Как результат – для передачи параметра будет выполнено дополнительное "дочитывание" данных формы с сервера.</p>
<p><a id="8.2" name="8.2"></a>8.2. В целях оптимизации передачи данных между формой объекта и формой подбора рекомендуется использовать временное хранилище, чтение и запись которого должна выполняться на сервере. </p>
<p>Проиллюстрируем методику использования формы подбора на примере подбора элементов справочников <strong>Товары</strong> в табличную часть <strong>Товары</strong> документа <strong>РасходТовара</strong>. (Из демонстрационной конфигурации по платформе <strong>1С:Предприятие</strong>).</p>
<p>Открытие формы подбора из клиентского кода должно приводить не более чем к двум обращениям на сервер. С этой целью локальная команда открытия формы подбора в модуле формы документа <strong>РасходТовара</strong> помещает список товаров из табличной части во временное хранилище (первый вызов) и открывает форму подбора (второй вызов), передавая адрес временного хранилища:</p>
<p class="Programtext">// в форме документа<br/>&amp;НаКлиенте<br/>Процедура ОбработчикКомандыПодбора()<br/> АдресТоваровВХранилище = ПоместитьТоварыВХранилище();<br/> ПараметрыПодбора = Новый Структура();<br/>ПараметрыПодбора.Вставить("АдресТоваровДокумента", АдресТоваровВХранилище);<br/>ПараметрыПодбора.Вставить("ВидЦен ", Объект.ВидЦен);<br/>ПараметрыПодбора.Вставить("Склад ", Объект.Склад);</p>
<p class="Programtext"> ФормаПодбора = ОткрытьФорму("Документ.РасходТовара.Форма.ФормаПодбора", ПараметрыПодбора, Элементы.Товары );<br/>КонецПроцедуры<br/><br/>// Функция помещает список товаров во временное хранилище и возвращает адрес<br/>&amp;НаСервере<br/>Функция ПоместитьТоварыВХранилище()<br/> Возврат ПоместитьВоВременноеХранилище(Объект.Товары.Выгрузить(,"Товар,Цена,Количество"), УникальныйИдентификатор);<br/>КонецФункции</p>
<p>Форма подбора получает список выбранных товаров из временного хранилища в обработчике <strong>ПриСозданииНаСервере</strong>:</p>
<p class="Programtext">// в форме подбора<br/>&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка) Экспорт<br/>  // Сохраним адрес временного хранилища, чтобы поместить в него обратно подобранные товары<br/>  АдресТоваровДокумента= Параметры.АдресТоваровДокумента;<br/>  Объект.Товары.Загрузить(ПолучитьИзВременногоХранилища(АдресТовара));<br/>КонецПроцедуры</p>
<p>Закрытие формы подбора должно приводить не более чем к двум обращениям на сервер. При закрытии форма подбора помещает список выбранных товаров во временное хранилище (первый вызов):</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОКВыполнить()<br/> АдресТовараВоВременномХранилище = ЗаписатьПодборВХранилище();<br/> ОповеститьОВыборе(АдресТовараВоВременномХранилище);<br/>КонецПроцедуры<br/><br/>&amp;НаСервере<br/>Функция ЗаписатьПодборВХранилище()<br/> Возврат ПоместитьВоВременноеХранилище(Товары.Выгрузить(), АдресТоваровДокумента);<br/>КонецФункции</p>
<p>Затем форма документа восстанавливает список товаров из временного хранилища (второй вызов на сервер):</p>
<p class="Programtext"><span style='FONT-SIZE: 10pt; FONT-FAMILY: "Courier New"; COLOR: navy'>// Обработка выбора таблицы формы Товары</span><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana",sans-serif; COLOR: black'><br/></span><span style='FONT-SIZE: 10pt; FONT-FAMILY: "Courier New"; COLOR: navy'>&amp;НаКлиенте<br/>Процедура ПриОбработкеПодобранныхТоваров(Элемент, АдресТоваровВХранилище, СтандартнаяОбработка) Экспорт<br/><span style="mso-spacerun: yes"> </span>Если АдресТоваровВХранилище = Неопределено Тогда<br/><span style="mso-spacerun: yes"> </span><span style="mso-tab-count: 1">     </span>Возврат;<br/><span style="mso-spacerun: yes"> </span>КонецЕсли;<br/> ПолучитьТоварыИзХранилища(АдресТоваровВХранилище); <br/>КонецПроцедуры<o:p></o:p></span></p>
<p class="programtext" style="MARGIN: auto 0cm"><span style='FONT-SIZE: 10pt; FONT-FAMILY: "Courier New"; COLOR: navy'>&amp;НаСервере<br/>Процедура ПолучитьТоварыИзХранилища(АдресТоваровВХранилище)<br/><span style="mso-spacerun: yes"> </span>ПодобранныеТовары = ПолучитьИзВременногоХранилища(АдресТоваровВХранилище);<br/> Объект.Товары.Загрузить(ПодобранныеТовары);<br/><span style="mso-spacerun: yes"> </span>УдалитьИзВременногоХранилища(АдресТоваровДокумента); // очищается временное хранилище для минимизации расхода оперативной памяти<br/>КонецПроцедуры </span></p>
<p><a id="8.3" name="8.3"></a>8.3. При помещении данных во временное хранилище следует выбрать один из двух вариантов: </p>
<p></p>
<ul>
<li>помещать данные во временное хранилище на время жизни формы, используя уникальный идентификатор формы и очищать это временное хранилище после использования (см. пример в п. 8.2). 

<li>предварительно выполнять инициализацию временного хранилища и переиспользовать его</li></li></ul>
<p>В противном случае при многократном повторении действия в форме, например, при многократном подборе товаров, это приводит к излишнему расходу оперативной памяти.</p>
<p>Рассмотрим пример предварительной инициализации временного хранилища для переиспользования:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ)<br/> АдресТоваров = ПоместитьВоВременноеХранилище(Неопределено, УникальныйИдентификатор); // Инициализируется реквизит формы<br/>КонецПроцедуры<br/><br/>&amp;НаСервере<br/>Функция ТоварыВоВременномХранилище()<br/>  Возврат ПоместитьВоВременноеХранилище(Товары.Выгрузить(), АдресТоваров);<br/>КонецФункции</p>
<p>При переиспользовании временного хранилища не требуется удалять значение из временного хранилища:</p>
<p class="Programtext">// в форме документа<br/>&amp;НаСервере<br/>Процедура ПолучитьТоварыИзХранилища(АдресТоваровВХранилище)<br/> ПодобранныеТовары = ПолучитьИзВременногоХранилища(АдресТоваровВХранилище);<br/> Объект.Товары.Загрузить(ПодобранныеТовары);<br/>КонецПроцедуры</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>Запись формы</h3>
<p><a id="9" name="9"></a>9. Вместо дополнительного вызова сервера в клиентских обработчиках <strong>ПередЗаписью</strong> и <strong>ПослеЗаписи</strong> модуля формы следует размещать серверную логику в аналогичных серверных обработчиках <strong>ПередЗаписьюНаСервере</strong>, <strong>ПриЗаписиНаСервере</strong>, <strong>ПослеЗаписиНаСервере</strong>, и передавать данные на клиент через параметр обработчиков <strong>ПараметрыЗаписи</strong> или реквизиты формы.</p>
<p>Например, неправильно:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПослеЗаписи<br/>  УправлениеФормой();<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура УправлениеФормой()<br/>…</p>
<p>правильно: вызывать процедуру <strong>УправлениеФормой</strong> в <strong>ПослеЗаписиНаСервере</strong> с передачей и проверкой параметра о последующем закрытии формы: если форма будет закрыта, управлять ей не имеет смысла.</p>
<h3>Неявные серверные вызовы</h3>
<p><a id="10" name="10"></a>10. Особого внимания требуют клиентские методы и свойства объектов платформы, которые приводят или могут приводить к серверному вызову:</p>
<ul>
<li>
<div>методы <strong>ПолучитьИзВременногоХранилища</strong>, <strong>УдалитьИзВременногоХранилища</strong>;</div>
<li>
<div>свойства <strong>Заголовок, Доступность, Подсказка, ТолькоПросмотр</strong> поля формы и т.п.</div>
<li>
<div><strong>ПолучитьФункциональнуюОпциюИнтерфейса</strong>, <strong>ПолучитьФункциональнуюОпциюФормы</strong>,</div>
<li>
<div>полный список таких методов и свойств приведен в синтаксис-помощнике.</div></li></li></li></li></ul>
<p>Следует избегать многократного вызова таких методов и свойств объектов платформы из клиентского кода. Вместо этого их необходимо объединять в один серверный вызов: использовать одно временное хранилище или переносить логику в серверную процедуру, которая однократно вызывается с клиента.</p>
<p>Также не следует вызывать <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">серверные функции с повторным использованием возвращаемых значений</a>, т.к. их результат кешируется только после первого вызова, а следовательно, при нем возникнет избыточное обращение на сервер. Вместо этого следует применять пункт 4.2 для вызовов из модуля формы, либо п. 2.1 если вызов происходит не из формы.</p>
<h3>Передача данных между клиентом и сервером</h3>
<p><a id="11" name="11"></a>11. Не следует передавать с клиента на сервер больше данных, чем нужно для выполнения задачи. Например, если для выполнения процедуры на сервере требуется только одно значение реквизита, то не следует делать вызов <a href="#11_Контекстная и внеконтекстная передача управления на сервер.htm" target="_top">контекстным</a>.</p>
<p>Например, неправильно:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПриАктивизацииСтрокиСпискаКонтрагентов()<br/> ОбновитьПанельКонтактнойИнформацииСервер();<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ОбновитьПанельКонтактнойИнформацииСервер()<br/> КонтактнаяИнформацияПанель.ОбновитьДанныеПанели(ЭтотОбъект, ТекущийКонтрагент);<br/>КонецПроцедуры</p>
<p>правильно:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПриАктивизацииСтрокиСпискаКонтрагентов()<br/> ОбновитьПанельКонтактнойИнформации();<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбновитьПанельКонтактнойИнформации()<br/> ДанныеПанели = ДанныеПанелиКонтактнойИнформации(ТекущийКонтрагент);<br/> КонтактнаяИнформацияПанельКлиент.ЗаполнитьДанныеПанелиКИ(ЭтотОбъект, ДанныеПанели);<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаСервереБезКонтекста<br/>Функция ДанныеПанелиКонтактнойИнформации(Контрагент)<br/> Возврат КонтактнаяИнформацияПанель.ДанныеПанелиКонтактнойИнформации(Контрагент);<br/>КонецФункции</p>
<p><a id="12" name="12"></a>12. Не рекомендуется возвращать значения параметров обратно с сервера на клиент, а вместо этого рекомендуется делать функцию, которая вернет требуемые данные. Все параметры в процедурах и функциях, которые вызываются с клиента на сервер рекомендуется указывать с префиксом <b>Знач</b> (тогда значение не будет возвращаться с клиента на сервер целиком, включая содержимое сложных типов – <b>Структура</b>, <b>Массив</b> и другие).</p>
<p>Это экспортные серверные процедуры, размещенные в общих модулях с признаком <b>Вызов сервера</b>, процедуры в модулях форм и команд с директивами компиляции <b>&amp;НаСервере</b>, <b>&amp;НаСервереБезКонтекста</b> или без директив (неявное определение <b>&amp;НаСервере</b>).</p>
<p>Например:</p>
<p class="Programtext">&amp;НаКлиенте<br/><span style="FONT-SIZE: 10pt">Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)<br/></span><span style="FONT-SIZE: 10pt">    НовоеОбсуждение = НовоеОбсуждение(ПараметрКоманды);<br/></span><span style="FONT-SIZE: 10pt">    …<br/></span><span style="FONT-SIZE: 10pt">КонецПроцедуры</span></p>
<p>Неправильно:</p>
<p class="Programtext">&amp;НаСервере<br/><span style="FONT-SIZE: 10pt">Функция НовоеОбсуждение(ПользовательСсылка)<br/></span><span style="FONT-SIZE: 10pt">    …<br/></span><span style="FONT-SIZE: 10pt">    Возврат ПолучитьНавигационнуюСсылку(Обсуждение.Идентификатор);<br/></span><span style="FONT-SIZE: 10pt">КонецПроцедуры</span></p>
<p>Правильно:</p>
<p class="Programtext">&amp;НаСервере<br/><span style="FONT-SIZE: 10pt">Функция НовоеОбсуждение(Знач ПользовательСсылка)<br/></span><span style="FONT-SIZE: 10pt">    …<br/></span><span style="FONT-SIZE: 10pt">    Возврат ПолучитьНавигационнуюСсылку(Обсуждение.Идентификатор);<br/></span><span style="FONT-SIZE: 10pt">КонецПроцедуры</span></p>
<h3>См. также</h3>
<ul>
<li><a href="#02_Использование значений, влияющих на поведение клиентского приложения.htm" target="_top">Использование значений, влияющих на поведение клиентского приложения</a>
<li><a href="#12_Использование объекта ДанныеФормыКоллекция.htm" target="_top">Использование объекта ДанныеФормыКоллекция</a>
<li><a href="https://its.1c.ru/db/metod81/content/4105/hdoc" target="_top">Оптимизация клиент-серверного взаимодействия прикладных решений</a> (ИТС)</li></li></li></ul>
<p></p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100629.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Минимизация кода, выполняемого на клиенте.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Минимизация кода, выполняемого на клиенте</h1><div style="clear: right; float: right;">#std629</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. Необходимо минимизировать объем кода, который выполняется на стороне клиентского приложения. В частности не следует выполнять на клиенте сложные алгоритмы, требующие значительных ресурсов компьютера. В таких случаях выполнение алгоритма на клиенте может занимать гораздо больше времени, чем передача управления с клиента на сервер, выполнение алгоритма на сервере и возврат результата обратно на клиент. </p>
<p>Следует размещать такие алгоритмы в серверном коде, выполняя к ним минимально необходимое число обращений с клиента.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">Минимизация количества серверных вызовов</a></em></p></blockquote>
<p>Это требование продиктовано тем, что </p>
<ul>
<li>как правило, клиентский компьютер менее производительный, чем серверный компьютер; 

<li>необходимостью приемлемого качества работы в веб-клиенте. Клиентский код выполняется интерпретатором встроенного языка, который в веб-клиенте работает заметно медленнее, чем в тонком или толстом клиенте. </li></li></ul>
<p><a id="1.2" name="1.2"></a>1.2. Рекомендуется оставлять на клиенте такие алгоритмы, скорость работы которых заведомо быстрее, чем затраты, необходимые на вызов одной серверной функции. Например, перерасчет доступности элементов управления в форме при изменении пользователем данных выполняется на клиенте, т.к. <a href="#11_Контекстная и внеконтекстная передача управления на сервер.htm" target="_top">контекстный серверный вызов</a> для сложной формы может сделать работу пользователя в этой форме неприемлемой.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#07_Особенности табличного документа в веб-клиенте.htm" target="_top">Особенности табличного документа в веб-клиенте</a></em></p></blockquote>
<p><a id="2.1" name="2.1"></a>2.1. Исключение из этого правила составляют отдельные случаи, когда функциональная подсистема предназначена для работы с программным обеспечением, установленным на клиентском компьютере. Например, работа с торговым оборудованием, интеграция с клиент-банком, формирование печатных форм в офисные программы и т.п.</p>
<p><a id="2.2" name="2.2"></a>2.2. В тех случаях когда функциональная подсистема предназначена для работы с клиентским программным обеспечением только в определенных режимах работы клиента, следует использовать директивы препроцессора. Например, для кода, недоступного в веб-клиенте:</p>
<p class="Programtext">#Если ВебКлиент Тогда<br/>Предупреждение(НСтр("ru = 'Загрузка адресного классификатора не доступна в веб-клиенте.'"));<br/>#Иначе<br/>ОткрытьФорму("РегистрСведений.АдресныйКлассификатор.Форма.ФормаЗагрузкиАдресногоКлассификатора");<br/>#КонецЕсли<br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100542.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Доступ к файловой системе из кода конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Доступ к файловой системе из кода конфигурации</h1><div style="clear: right; float: right;">#std542</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При обращении из кода конфигурации к файлам и каталогам файловой системы следует иметь в виду, что доступ к ним ограничен правами пользователя операционной системы, от имени которого запущено приложение.</p>
<p><a id="1.1" name="1.1"></a>1.1. Если доступ к файловой системе осуществляется из кода, выполняемого на клиенте, то он выполняется под правами пользователя, от имени которого запущено приложение (тонкий, толстый или веб-клиент). Как правило, это текущий пользователь операционной системы.</p>
<p><a id="1.2" name="1.2"></a>1.2. Если доступ к файловой системе осуществляется из кода, выполняемого на сервере, то: </p>
<ul>
<li>при использовании клиент-серверной информационной базы, доступ ограничен правами пользователя, от имени которого запущен сервер 1С:Предприятия (*); 

<li>при использовании файловой базы, опубликованной на веб-сервере, доступ ограничен правами пользователя, от имени которого запущен веб-сервер. </li></li></ul>
<p>* Рабочие процессы могут быть также запущены от имени другого пользователя, отличного от того, под которым запускается агент сервера. Подробнее см. руководство администратора клиент-серверного варианта, <a href="https://its.1c.ru/db/v8doc/content/26/hdoc/issogl1_3.20.swpuser.ini" target="_top">описание служебного файла swpuser.ini</a></p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p><i>     Область применения (уточнение): управляемое приложение, обычное приложение.</i></p>
<p><a id="2" name="2"></a>2. Запрещается выполнять запись каких-либо файлов в каталог исполняемых файлов 1С:Предприятия, получаемого с помощью метода <b>КаталогПрограммы</b>. Использование метода <b>КаталогПрограммы</b> допустимо только для чтения или запуска файлов. Например, при работе в ОС Windows, для запуска копии тонкого клиента 1С:Предприятия текущей версии, допустимо использовать: </p>
<p class="Programtext">ЗапуститьПриложение(КаталогПрограммы() + "1cv8s.exe");</p></td></tr></tbody></table>
<p><a id="3" name="3"></a>3. Даже если не планируется <a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">локализация конфигурации на другие языки</a>, следует обеспечивать переносимость файлов, сформированных из кода конфигурации, между различными операционными системами с различными кодировками. Для этого необходимо:</p>
<p><a id="3.1" name="3.1"></a>3.1. В именах файлов, автоматически формируемых из кода конфигурации, указывать только английские буквы, а также цифры, а в качестве кодировки текстовых файлов использовать только UTF-8 (именно этот формат предпочтителен, т.к. только с ним корректно работает операционная система macOS).</p>
<p>Это ограничение распространяется на файлы сообщений обмена, выгрузки данных, электронных документов и пр., которые автоматические формируются системой, в том числе на файлы, упакованные в архивы (например, zip). Исключение составляют случаи, когда на формат файлов невозможно повлиять, например, это формат сторонней системы.</p>
<p><a id="3.2" name="3.2"></a>3.2. В тех случаях, когда имя файла не генерируется системой, а его явно вводит пользователь, разрешить ввод русскоязычных имен, но при этом дать возможность транслитерировать его в англоязычное имя. По умолчанию, если это технически возможно и не снижает удобство работы, рекомендуется предлагать англоязычное имя файла, а для текстовых файлов – сохранение в кодировке UTF-8.  </p>
<p>Также эти рекомендации по выбору имени и кодировки файла следует разместить в справке к тем местам программы, где пользователь имеет возможность сохранять файлы и выбирать кодировку.</p>
<p>В конфигурациях на базе <strong>Библиотеки стандартных подсистем</strong> для транслитерации имен файлов рекомендуется использовать функцию <b>СтроковыеФункцииКлиентСервер.СтрокаЛатиницей</b>.</p>
<p></p>
<h3>Работа с временными файлами и каталогами</h3>
<p>При необходимости использования временных файлов и каталогов необходимо соблюдать следующие требования:</p>
<p><a id="1" name="1"></a>1. Для получения имени временного файла следует использовать метод <strong>ПолучитьИмяВременногоФайла</strong> (исключение составляет веб-клиент, см. ниже п. 3). В противном случае возможна некорректная работа конфигурации в многопользовательском режиме, с включенными профилями безопасностями, возникновение проблем с правами доступа к файлам операционной системы, а также неконтролируемое увеличение количества ненужных временных файлов, которые не будут своевременно удалены. </p>
<p>Например, неправильно: </p>
<p class="Programtext">ИмяПромежуточногоФайла = "C:\Временные файлы 1С\TempFile.xml";<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p>У текущего пользователя может не быть прав на запись в указанный каталог. Кроме того, при одновременном выполнении этого кода из двух разных сеансов возникнет ошибка.</p>
<p>Правильно: </p>
<p class="Programtext">ИмяПромежуточногоФайла = ПолучитьИмяВременногоФайла("xml");<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p>При использовании этой функции будет получено уникальное имя, гарантирован доступ к файлу. </p>
<p>Кроме того, при использовании метода <strong>ПолучитьИмяВременногоФайла</strong> платформа <strong>1С:Предприятие</strong> сохраняет контроль над такими файлами и автоматически удаляет их</p>
<ul>
<li>при перезапуске рабочего процесса (если файл был создан на стороне сервера) или клиентского приложения (если файл был создан на стороне клиента); 

<li>через 20 минут после серверного вызова или сеанса, в котором создан временный файл (при работе в клиент-серверном варианте на платформе <strong>8.3.17</strong> и больше).</li></li></ul>
<p>Если же имя временного файла было сформировано каким-то другим способом, и прикладной код не удалил (либо по какой-то причине не смог удалить) ранее созданный временный файл, то платформа такой файл не контролирует, и он остается в файловой системе на неопределенное время. Накапливание «потерянных» временных файлов может представлять серьезную проблему, особенно для информационных баз с большим количеством активно работающих пользователей (например, при работе в режиме сервиса).</p>
<p>Таким образом, неправильно<strong>:</strong></p>
<p class="Programtext"><strong></strong>Каталог = КаталогВременныхФайлов();<br/>ИмяФайла = Строка(Новый УникальныйИдентификатор) + ".xml";<br/>ИмяПромежуточногоФайла = Каталог + ИмяФайла;<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p>Если по каким-то причинам прикладной код не удалит созданный файл (например, между блоками создания и удаления временного файла возникнет штатное или нештатное исключение), этот файл так и останется в каталоге временных файлов.</p>
<p>Правильно<strong>:</strong></p>
<p class="Programtext">ИмяПромежуточногоФайла = ПолучитьИмяВременногоФайла("xml");<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p>При использовании метода <strong>ПолучитьИмяВременногоФайла</strong> будет получено уникальное имя, гарантирован доступ к файлу, а также временный файл будет автоматически удален платформой 1С:Предприятие после завершения рабочего процесса сервера или клиентского приложения.<br/><br/></p>
<p><a id="2" name="2"></a>2. Для создания временного каталога рекомендуется также использовать имя, полученное при помощи метода <strong>ПолучитьИмяВременногоФайла </strong>(исключение составляет веб-клиент, см. ниже п. 3). Это гарантирует уникальность имени создаваемого каталога при работе в многопользовательском режиме и гарантирует, что после перезапуска рабочего процесса или клиентского приложения временный каталог будет автоматически удален платформой 1С:Предприятие. После этого, внутри созданного каталога можно создавать другие каталоги и файлы без ограничений.</p>
<p><a id="3.1" name="3.1"></a>3.1. При выполнении кода веб-клиентом метод <strong>ПолучитьИмяВременногоФайла</strong> недоступен. Поэтому для формирования имен временных файлов и каталогов необходимо использовать функцию <strong>КаталогВременныхФайлов</strong> и объект <strong>УникальныйИдентификатор</strong>.</p>
<p>Неправильно:</p>
<p class="Programtext">Каталог = КаталогВременныхФайлов();<br/>ИмяФайла = "TempDataFile.xml";<br/>ИмяПромежуточногоФайла = Каталог + ИмяФайла;<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p>Правильно:</p>
<p class="Programtext">Каталог = КаталогВременныхФайлов();<br/>ИмяФайла = Строка(Новый УникальныйИдентификатор) + ".xml";<br/>ИмяПромежуточногоФайла = Каталог + ИмяФайла;<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: black; LINE-HEIGHT: 115%; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA'>3.2. Если в конфигурацию встроена <b>Библиотека стандартных подсистем</b>, для создания временных каталогов на стороне клиента необходимо использовать процедуру <strong>ФайловаяСистемаКлиент.СоздатьВременныйКаталог</strong>.</span></p>
<p><a id="4" name="4"></a>4. После окончания работы с временным файлом или каталогом, его необходимо удалить самостоятельно. Нельзя рассчитывать на автоматическое удаление файлов и каталогов при следующем запуске платформы, это может привести к исчерпанию свободного места в каталоге временных файлов.</p>
<p class="Programtext">ИмяПромежуточногоФайла = ПолучитьИмяВременногоФайла("xml");<br/>Данные.Записать(ИмяПромежуточногоФайла);</p>
<p class="Programtext">// Работа с файлом<br/>...</p>
<p class="Programtext">// Удаляем временный файл<br/>Попытка<br/>   УдалитьФайлы(ИмяПромежуточногоФайла);<br/>Исключение<br/>   ЗаписьЖурналаРегистрации(НСтр("ru = 'Мой механизм.Действие'"), УровеньЖурналаРегистрации.Ошибка, , , ОбработкаОшибок.ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()));<br/>КонецПопытки;</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><i>См. также: </i><a href="https://its.1c.ru/db/v8std/content/src/400/blanki8100498.htm_" target="_top"><i>Использование Журнала регистрации.</i></a><i> </i></p></blockquote>
<p><a id="5" name="5"></a>5. При использовании временных файлов и каталогов на сервере, необходимо полностью завершать работу с ними в рамках одного серверного вызова. При работе конфигурации с использованием кластера серверов, при следующем вызове эти файлы могут стать недоступны, так как код начнет исполняться на другом компьютере. При необходимости сохранить данные между серверными вызовами в пределах одного сеанса следует использовать временное хранилище платформы (методы <b>ПоместитьВоВременноеХранилище</b>, <b>ПолучитьИзВременногоХранилища</b>).</p>
<p><a id="5.1" name="5.1"></a>5.1. В редких случаях может возникнуть необходимость передачи данных во временных файлах между сеансами, например, при подготовке данных для фонового задания, при организации длительного процесса, обслуживающего несколько последовательных вызовов web-сервиса. Необходимо самостоятельно обеспечивать гарантировано общее место хранения, права для доступа к файлам из разных мест их обработки, удаление файлов по истечению сроков их обработки или аварийного завершения процесса обработки. Рекомендуется использовать следующий подход:</p>
<ul>
<li>Для обеспечения доступа со всех возможных мест обработки заводится константа для хранения общего пути к файлам, доступного для доступа со всех серверов кластера; 

<li>При создании временных файлов их имена заносятся во вспомогательный регистр сведений с сохранением времени создания файла; 

<li>При штатном прохождении процесса, последняя операция, которой были нужны файлы, перед своим завершением удаляет как сам файл, так и записи о них во вспомогательном регистре; 

<li>Вспомогательное регламентное задание периодически проверяет наличие записей во вспомогательном регистре, время существования которых заведомо превышает время штатного завершения процесса. При обнаружении таких записей, задание удаляет временные файлы и записи о них. </li></li></li></li></ul>
<p></p>
<h3>Передача файлов между клиентом и сервером</h3>
<p><a id="1" name="1"></a>1. При одновременной работе с файлом на клиенте и на сервере необходимо использовать передачу файла через временное хранилище (методы <b>ПоместитьФайлы</b>, <b>ПолучитьФайл</b>, <b>ПолучитьФайлы</b>, <b>НачатьПомещениеФайла</b>, <b>ПоместитьВоВременноеХранилище</b>, <b>ПолучитьИзВременногоХранилища</b>). В общем случае клиент и серверы кластера - это разные компьютеры с разной файловой системой, причем доступ к файлам может происходить под разными пользователями ОС с различными правами.</p>
<p><b>Неправильно:</b> </p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайл()<br/>   ...<br/>   ИмяФайла = "C:\Файлы для обработки\Загрузка.xml";<br/>   Результат = ПроизвестиОбработкуНаСервере(ИмяФайла);<br/>   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаСервере<br/>Функция ПроизвестиОбработкуНаСервере(ИмяФайла) </p>
<p class="Programtext">   Чтение = Новый ЧтениеТекста(ИмяФайла);<br/>   ...</p>
<p class="Programtext">   Результат = Чтение.Прочитать();<br/>   Возврат Результат;</p>
<p class="Programtext">КонецФункции</p>
<p><b>Правильно:</b></p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайл()<br/>   ...</p>
<p class="Programtext">   ИмяФайлаДляОбработки = "C:\Файлы для обработки\Загрузка.xml";<br/>   ОписаниеОповещения = Новый ОписаниеОповещения(<span style="mso-tab-count: 2"><br/></span>      "ОбработатьФайлЗавершение", ЭтотОбъект);</p>
<p class="Programtext"><span style="mso-tab-count: 1">    </span>НачатьПомещениеФайла(ОписаниеОповещения,,<br/><span style="mso-tab-count: 2">           </span>ИмяФайлаДляОбработки,<span style="mso-tab-count: 1">  </span>Ложь,<br/><span style="mso-tab-count: 2">           </span>УникальныйИдентификатор);</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайлЗавершение(Результат, Адрес, ВыбранноеИмяФайла, ДополнительныеПараметры)   </p>
<p class="Programtext">   ...<br/>   Результат = ПроизвестиОбработкуНаСервере(Адрес);<br/>   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаСервере<br/>Функция ПроизвестиОбработкуНаСервере(Адрес)</p>
<p class="Programtext">   Данные = ПолучитьИзВременногоХранилища(Адрес);<br/>   ИмяПромежуточногоФайла = ПолучитьИмяВременногоФайла("txt");<br/>   Данные.Записать(ИмяПромежуточногоФайла);</p>
<p class="Programtext">   Чтение = Новый ЧтениеТекста(ИмяПромежуточногоФайла);<br/>   ...<br/>   Результат = Чтение.Прочитать();<br/>   ...</p>
<p class="Programtext">   УдалитьФайлы(ИмяПромежуточногоФайла);   </p>
<p class="Programtext">   Возврат Результат;</p>
<p class="Programtext">КонецФункции</p>
<p><a id="2" name="2"></a>2. Для сохранения данных во временном хранилище между несколькими серверными вызовами, при помещении его в хранилище необходимо использовать параметр <b>УникальныйИдентификаторФормы</b> метода <b>ПоместитьФайл</b>, передав в него идентификатор текущей формы. Такие значения будут удалены из временного хранилища только при закрытии указанной формы. При этом, при повторном помещении того же файла во временное хранилище, предыдущее значение необходимо удалять вручную. Например: </p>
<p><b>Неправильно:</b> </p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайл()</p>
<p class="Programtext">   ...<br/>   // Первый серверный вызов<br/>   ИмяФайлаДляОбработки = "C:\Файлы для обработки\Загрузка.xml";<br/>   ОписаниеОповещения = Новый ОписаниеОповещения(<br/>      "ОбработатьФайлЗавершение", ЭтотОбъект);</p>
<p class="Programtext">   НачатьПомещениеФайла(ОписаниеОповещения,,<br/>      ИмяФайлаДляОбработки, Ложь,<br/>      УникальныйИдентификатор);</p>
<p class="Programtext">   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайлЗавершение(Результат, Адрес, ВыбранноеИмяФайла, ДополнительныеПараметры)   </p>
<p class="Programtext">   ...<br/>   Результат = ПроизвестиНачальнуюОбработкуНаСервере(Адрес);<br/>   ПродолжитьОбработкуФайла();<br/>   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПродолжитьОбработкуФайла()</p>
<p class="Programtext">   ...<br/>   // Второй серверный вызов с той же версией файла<br/>   Результат = ПроизвестиПромежуточнуюОбработкуНаСервере(Адрес);<br/>   ...</p>
<p class="Programtext">   // Третий серверный вызов с новой версией файла<br/>   ОписаниеОповещения = Новый ОписаниеОповещения(<br/>   "ПродолжитьОбработкуФайлаЗавершение", ЭтотОбъект);</p>
<p class="Programtext">   НачатьПомещениеФайла(ОписаниеОповещения,,<br/>      ИмяФайлаДляОбработки, Ложь,<br/>      УникальныйИдентификатор);</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте</p>
<p class="Programtext">Процедура ПродолжитьОбработкуФайлаЗавершение(Результат, Адрес, ВыбранноеИмяФайла, ДополнительныеПараметры)   </p>
<p class="Programtext">   ...<br/>   Результат = ПроизвестиКонечнуюбОбработкуНаСервере(Адрес);<br/>   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p>При этом во временном хранилище формы останется две копии файлов. Адрес второй копии будет находиться в переменной <b>Адрес</b>, а адрес первой копии будет утерян. Это приводит к затрате дополнительных ресурсов приложения, замедлению работы.</p>
<p><b>Правильно:</b> </p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайл()</p>
<p class="Programtext">   ...<br/>   // Первый серверный вызов<br/>   ИмяФайлаДляОбработки = "C:\Файлы для обработки\Загрузка.xml";   </p>
<p class="Programtext">   ОписаниеОповещения = Новый ОписаниеОповещения(<br/>      "ОбработатьФайлЗавершение", ЭтотОбъект);</p>
<p class="Programtext">   НачатьПомещениеФайла(ОписаниеОповещения,,<br/>      ИмяФайлаДляОбработки, Ложь,<br/>      УникальныйИдентификатор);<br/>   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайлЗавершение(Результат, Адрес, ВыбранноеИмяФайла, ДополнительныеПараметры)   </p>
<p class="Programtext">   ...<br/>   Результат = ПроизвестиНачальнуюОбработкуНаСервере(Адрес);<br/>   ПродолжитьОбработкуФайла();<br/>   ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПродолжитьОбработкуФайла()</p>
<p class="Programtext">   ...<br/>   // Второй серверный вызов с той же версией файла<br/>   Результат = ПроизвестиПромежуточнуюОбработкуНаСервере(Адрес);<br/>   ...</p>
<p class="Programtext">   // Третий серверный вызов с новой версией файла<br/>   УдалитьИзВременногоХранилища(Адрес);</p>
<p class="Programtext">   ОписаниеОповещения = Новый ОписаниеОповещения(<br/>   "ПродолжитьОбработкуФайлаЗавершение", ЭтотОбъект);</p>
<p class="Programtext">   НачатьПомещениеФайла(ОписаниеОповещения,,<br/>      ИмяФайлаДляОбработки, Ложь,<br/>      УникальныйИдентификатор);</p>
<p class="Programtext">КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПродолжитьОбработкуФайлаЗавершение(Результат, Адрес, ВыбранноеИмяФайла, ДополнительныеПараметры)   </p>
<p class="Programtext">   ...<br/>   Результат = ПроизвестиКонечнуюбОбработкуНаСервере(Адрес);<br/>   ...</p>
<p class="Programtext">КонецПроцедуры </p>
<p><a id="3" name="3"></a>3. Если в конфигурацию встроена <b>Библиотека стандартных подсистем</b> для помещения файлов во временное хранилище необходимо использовать процедуры <b>ЗагрузитьФайл</b> и <b>ЗагрузитьФайлы</b> общего модуля <b>ФайловаяСистемаКлиент</b>. Для сохранения данных файла между несколькими серверными вызовами необходимо использовать свойство <b>ИдентификаторФормы</b> параметра <b>ПараметрыЗагрузки</b>:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайл()<br/>   ...<br/>   ИмяФайлаДляОбработки = "C:\Файлы для обработки\Загрузка.xml";<br/>   ОписаниеОповещения = Новый ОписаниеОповещения("ОбработатьФайлЗавершение", ЭтотОбъект);<br/><br/>   ПараметрыЗагрузки = ФайловаяСистемаКлиент.ПараметрыЗагрузкиФайла();<br/>   ПараметрыЗагрузки.ИдентификаторФормы = УникальныйИдентификатор;<br/>   ПараметрыЗагрузки.Интерактивно = Ложь;<br/><br/></p>
<p class="Programtext">   ФайловаяСистемаКлиент.ЗагрузитьФайл(ОписаниеОповещения,<br/>   ПараметрыЗагрузки, ИмяФайлаДляОбработки);<br/><br/>КонецПроцедуры<br/><br/></p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработатьФайлЗавершение(ПомещенныйФайл, ДополнительныеПараметры)<br/><br/>   ...<br/>   Результат = ПроизвестиОбработкуНаСервере(Адрес);<br/>   ...<br/><br/>КонецПроцедуры<br/><br/></p>
<h3>См. также</h3>
<ul>
<li><a href="#03_Предложение об установке внешних компонент и расширений платформы.htm" target="_top">Установка внешних компонент и расширений платформы</a>
<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100725.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Оптимизация использования оперативной памяти.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Оптимизация использования оперативной памяти</h1><div style="clear: right; float: right;">#std725</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p align="right"><font color="#008000"><em>Методическая рекомендация (полезный совет)</em></font></p>
<p><a id="1" name="1"></a>1. Не следует разрабатывать решения исходя из неограниченного объема оперативной памяти.  Для многопользовательских систем любое неэффективное использование памяти может катастрофически сказаться на работоспособности.</p>
<p>Следует избегать формирования больших структур данных в памяти. Если объём данных, с которыми работает бизнес-логика, сам по себе ничем не ограничен, его нужно ограничивать искусственно, обрабатывая данные порциями и сохраняя результаты в базу или файлы.</p>
<p><a id="2" name="2"></a>2. При потенциально неограниченных выборках данных из ИБ следует получать данные из базы порциями фиксированного размера. <br/>Например, неправильно:</p>
<p class="Programtext"> Запрос = Новый Запрос;<br/> Запрос.Текст = <br/>  "ВЫБРАТЬ<br/>  | Номенклатура.Ссылка,<br/>  | Номенклатура.Наименование,<br/>  | Номенклатура.ВидНоменклатуры<br/>  |ИЗ<br/>  | Справочник.Номенклатура КАК Номенклатура";</p>
<p class="Programtext"> // Выгрузка всего справочника в таблицу значений <br/> Номенклатура = Запрос.Выполнить().Выгрузить();  <br/> Для каждого ПозицияНоменклатуры Из Номенклатура Цикл<br/>  // Обработка элемента справочника <br/>  // ...<br/> КонецЦикла;</p>
<p>поскольку весь результат запроса сразу помещается в память, в таблицу значений.<br/>Также неправильно:</p>
<p class="Programtext"> Запрос = Новый Запрос;<br/> Запрос.Текст = <br/>  "ВЫБРАТЬ<br/>  | Номенклатура.Ссылка,<br/>  | Номенклатура.Наименование,<br/>  | Номенклатура.ВидНоменклатуры<br/>  |ИЗ<br/>  | Справочник.Номенклатура КАК Номенклатура";</p>
<p class="Programtext"> РезультатЗапроса = Запрос.Выполнить();<br/> // Обход результата запроса<br/> ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();<br/> Пока ВыборкаДетальныеЗаписи.Следующий() Цикл<br/>  // Обработка элемента выборки<br/>  // ...<br/> КонецЦикла;</p>
<p>поскольку и в этом случае при выполнении запроса его результат будет сначала считан в память целиком (*).</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>* Примечание. Если используется 32-битная версия платформы, и размер результата запроса превосходит размер имеющейся памяти, то данные будут записаны на диск, а затем считаны оттуда в процессе вызовов Выборка.Следующий().</em></p></blockquote>
<p dir="ltr">Правильно ограничивать результат запроса искусственно:</p>
<p class="Programtext" dir="ltr">ВсеОбработано = Ложь;<br/>Пока Истина Цикл<br/> Запрос = Новый Запрос;<br/> Запрос.Текст = <br/>  "ВЫБРАТЬ ПЕРВЫЕ 1000<br/>  | Номенклатура.Ссылка,<br/>  | Номенклатура.Наименование,<br/>  | Номенклатура.ВидНоменклатуры<br/>  |ИЗ<br/>  | Справочник.Номенклатура КАК Номенклатура<br/>  |ГДЕ<br/>  | &lt;условие выборки необработанных записей&gt;";</p>
<p class="Programtext"> РезультатЗапроса = Запрос.Выполнить();<br/> ВсеОбработано = РезультатЗапроса.Пустой();<br/> Если ВсеОбработано Тогда<br/>  Прервать;<br/> КонецЕсли;</p>
<p class="Programtext"> // Обход порции результата запроса<br/> ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();<br/> Пока ВыборкаДетальныеЗаписи.Следующий() Цикл<br/>  // Обработка элемента выборки<br/>  // ...<br/> КонецЦикла;</p>
<p class="Programtext">КонецЦикла;</p>
<p>Также правильно:</p>
<p class="Programtext"> Выборка = Справочники.Номенклатура.Выбрать(..., Отбор);<br/> Пока Выборка.Следующий() Цикл<br/>  // Обработка элемента выборки<br/>  // ...<br/> КонецЦикла;</p>
<p>поскольку в этом случае платформа 1С:Предприятие выполняет получение данных из базы порциями фиксированного размера.</p>
<p>Кроме того, число элементов выборки автоматически ограничивает платформа 1С:Предприятие в запросах динамических списков.</p>
<p><a id="3" name="3"></a>3. Недопустимо работать с большими XML документами с помощью объектов встроенного языка, предназначенных для обработки файлов целиком: текстовые документы в <strong>ТекстовыйДокумент</strong>, XML в <strong>ДокументDOM</strong> и HTML в <strong>ДокументHTML</strong>, а также создавать в памяти XDTO-пакеты размером с весь XML-файл целиком.</p>
<p>В противном случае, весь файл загружается в оперативную память целиком. Исключения составляют отдельные случаи, когда необходим произвольный доступ к содержимому файла, к какой-то конкретной его части.</p>
<p>Следует использовать объекты для последовательной записи и последовательного чтения: <strong>ЧтениеXML</strong>, <strong>ЧтениеТекста</strong>, <strong>ЗаписьXML</strong>, <strong>ЗаписьТекста</strong>, с помощью которых можно прочитать файл порциями и расходовать память экономно.</p>
<p>При использовании механизмов XDTO неправильно зачитывать в память весь XML-файл целиком (<strong>ФабрикаXTDO.ПрочитатьXML(ЧтениеXML)</strong>). Вместо этого следует зачитывать XML-файл последовательно, с помощью объекта <strong>ЧтениеXML</strong>, а его отдельные фрагменты (теги) десериализовывать с помощью фабрики XDTO. </p>
<p><a id="4" name="4"></a>4. Другая распространенная причина неэффективное использование памяти - утечки памяти. К утечкам памяти приводит создание циклических ссылок – память выделяется и не освобождается. Например, если есть объекты, внутри которых вложены другие объекты, и где-то в глубине они ссылаются на самый верхний объект. В результате образуется циклическая ссылка. <br/>Упрощенный пример циклической ссылки:</p>
<p class="Programtext">Данные = Новый Структура;<br/>Данные.Вставить("Ключ", Данные);</p>
<p>Следует разрывать (очищать) ссылки, когда объект становится не нужен. <br/>Например, для примера выше:</p>
<p class="Programtext">Данные.Ключ = Неопределено;</p>
<p>Для выявления утечек памяти можно применять технологический журнал, включив в файл настройки параметров технологического журнала logcfg.xml элемент &lt;leaks&gt;. </p>
<p>Подробнее см.:</p>
<ul>
<li><a href="https://its.1c.ru/db/v83doc/content/27/hdoc" target="_top">Документация к платформе 1С:Предприятие, Приложение 3. Описание и расположение служебных файлов - logcfg.xml</a>
<li><a href="https://its.1c.ru/db/metod8dev/content/5859" target="_top">Поиск циклических ссылок</a></li></li></ul>
<p><a id="5" name="5"></a>5. Чрезмерное (неоправданное) применение <a href="#01_Использование модулей с повторным использованием возвращаемых значений.htm" target="_top">общих модулей с повторным использованием возвращаемых значений  может также приводить к излишнему потреблению памяти</a>. <br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/400/i8100748.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Таймауты при работе с внешними ресурсами.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Таймауты при работе с внешними ресурсами</h1><div style="clear: right; float: right;">#std748</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При работе с внешними ресурсами с помощью объектов <strong>WSОпределения</strong>, <strong>WSПрокси</strong>, <strong>HTTPСоединение</strong>, <strong>FTPСоединение</strong>, <strong>ИнтернетПочтовыйПрофиль</strong> следует задавать таймаут – предельное время  ожидания выполнения операции. В противном случае, в результате бесконечного ожидания программа зависнет или часть функционала программы станет недоступна. </p>
<p>Установка таймаута является защитой от целого ряда внешних факторов:</p>
<ul>
<li>нестабильного подключения к Интернету, когда регулярно происходит прерывание связи, и система не может получить цельный ответ сервера, к которому выполняется подключение; 

<li>при включенных антивирусных программах или при неправильных настройках брандмауэра; 

<li>неправильной настройки прокси-сервера; 

<li>ненадежной работы веб-сервера из-за возросшей нагрузки или некорректной работы скриптов. </li></li></li></li></ul>
<p></p>
<p>Например, при получении описания веб-сервиса и вызове его операций – если удаленная сторона долго не отвечает (например, выключена, находится на обслуживании или возникли временные неполадки), ожидание ответа может длиться бесконечно. Поэтому если веб-сервис был вызван в результате интерактивных действий пользователя, то внешне будет выглядеть так, что «программа зависла»; а если веб-сервис вызывается из регламентного задания, то связанная с ним часть функционала программы может стать недоступна.</p>
<p>
<p><a id="2" name="2"></a>2. В общем виде, время выполнения операции с внешними ресурсами складывается из шести этапов:</p>
<ul>
<li>DNS Lookup — время, потраченное на определение IP адреса по доменному имени (если применимо); 

<li>Connect — установка соединения с веб-сервером по полученному IP-адресу; 

<li>Send — отправка данных на веб-сервер; 

<li>Wait — ждем, пока данные дойдут до веб-сервера и он их обработает; 

<li>Receive — получение ответа от веб-сервера; 

<li>Cache Read – получение данных от веб-сервера. </li></li></li></li></li></li></ul>
<p>Например, при таймауте в 60 секунд программа и вызываемый внешний ресурс должны успеть выполнить шесть выше перечисленных этапов операции, иначе соединение будет разорвано, а передача данных прервана. Однако если в процессе выполнения операции возникнет сбой, то система и/или пользователь будет зря ожидать 60 секунд. </p>
<p>Поэтому величину таймаута рекомендуется определять, исходя из ожидаемого времени выполнения конкретной операции:</p>
<ul>
<li>Для быстрых операций (например, проверка доступности сервера) величина таймаута должна выбираться, соответственно, небольшой; 

<li>В общем случае, не следует выбирать таймаут более 3 минут, чтобы при недоступности удаленной стороны не допустить эффект «зависания» программы; 

<li>Но если операция выполняется долго из-за этапов Send или Cache Read, т.е. это передача больших объемов данных на веб-сервер или загрузка большого файла с внешнего ресурса, то следует устанавливать большой таймаут, исходя из оценки объема передаваемых данных, но не более 12 часов. </li></li></li></ul>
<p>Подобнее о рекомендуемых величинах таймаута для различных операций см. в таблице п. 4. </p>
<p><a id="3" name="3"></a>3. Рекомендации по снижению величин таймаута и повышению отзывчивости программы при работе с внешними ресурсами.</p>
<p><a id="3.1" name="3.1"></a>3.1. При разработке веб-сервисов, на операции которых предусмотрен таймаут более 20 секунд (ориентировочно), рекомендуется:</p>
<ul>
<li>предусмотреть в веб-сервисе отдельную контрольную операцию Ping; 

<li>при работе с этим веб-сервисом, предварительно получать для нее прокси с небольшим таймаутом в 7 секунд и вызывать контрольную операцию Ping; 

<li>только после этого получать основной прокси. </li></li></li></ul>
<p>Пример вызова веб-сервиса.</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table>
<tbody>
<tr>
<td height="30" valign="top"><span style="COLOR: #cc0000"><strong>Неправильно</strong></span></td>
<td valign="top">
<p><span style="COLOR: green"><strong>Правильно</strong></span></p></td></tr>
<tr>
<td colspan="2" valign="top">
<p dir="ltr" style="MARGIN-RIGHT: 5px">Реализация модуля веб-сервиса PingPong:</p></td></tr>
<tr>
<td valign="top">
<p class="Programtext">Функция Pong(Знач Параметр)<br/>  Возврат СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru = 'Привет, %1'"), Параметр);<br/>КонецФункции</p></td>
<td valign="top">
<p class="Programtext">Функция Ping()<br/>  Возврат Истина; // Проверка связи<br/>КонецФункции<br/></p>
<p class="Programtext">Функция Pong(Знач Параметр)<br/>  Возврат СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru = 'Привет, %1'"), Параметр);<br/>КонецФункции<br/></p></td></tr>
<tr>
<td colspan="2" valign="top">
<p dir="ltr" style="MARGIN-RIGHT: 5px">Реализация вызывающей стороны (без использования Библиотеки стандартных подсистем):</p></td></tr>
<tr>
<td valign="top">
<p class="Programtext">// Ждем не более минуты<br/>PingPong = Новый WSПрокси(АдресВебСервиса, , , , , 60); <br/>Результат = PingPong.Pong(НСтр("ru = 'Мяч'"));<br/></p></td>
<td valign="top">
<p class="Programtext">// Ждем не более 3 секунд<br/>PingPong = Новый WSПрокси(АдресВебСервиса, , , , , 3); <br/>PingPong.Ping(); // проверка связи</p>
<p class="Programtext">// Сервис жив, далее работаем с ним и ждем не более минуты<br/>PingPong = Новый WSПрокси(АдресВебСервиса, , , , , 60);  <br/>Результат = PingPong.Pong(НСтр("ru = 'Мяч'"));</p></td></tr></tbody></table>
<p></p>
<p>При использовании Библиотеки стандартных подсистем:</p>
<ul>
<li>для работы с веб-сервисами предназначена функция WSПрокси общего модуля ОбщегоНазначения (включает в себя поддержку контрольной операции <strong>Ping</strong>); 

<li>для получения данных по протоколам HTTP(S) и FTP(S) – подсистема «Получение файлов через Интернет».</li></li></ul>
<p>Пример реализации вызывающей стороны с использованием Библиотеки стандартных подсистем:</p>
<p class="Programtext">// Сделать контрольный вызов Ping и ждать не более минуты на дальнейших операциях.<br/>PingPong = ОбщегоНазначения.WSПрокси(АдресВебСервиса,..., 60, Истина); <br/>// Сервис точно жив, далее работаем с ним.<br/>Результат = PingPong.Pong(НСтр("ru = 'Мяч'"));</p>
<p><a id="3.2" name="3.2"></a>3.2. Для других видов внешних ресурсов (не веб-сервисов) рекомендуется применять аналоги операции <strong>Ping</strong>. Например:</p>
<ul>
<li>для сервисов, работающих через REST API – это контрольная отправка тестовой команды; в большинстве случаев, если ответ с кодом 200, то сервис работает; 

<li>для FTP/WebDAV-ресурсов – это контрольная загрузка (отправка) файла-пустышки.</li></li></ul>
<p><a id="3.3" name="3.3"></a>3.3. Веб-сервисы, операции, которых занимают объективно много времени из-за этапа Wait (т.е. долго отрабатывает само веб-приложение), и они не могут быть ускорены (оптимизированы) по объективным причинам, следует переводить на асинхронный режим выполнения: </p>
<ul>
<li>запускать фоновое задание для выполнения подобной «тяжелой» операции, 

<li>и предусмотреть дополнительные операции по проверке готовности и получению результата. </li></li></ul>
<p>Пример асинхронного вызова веб-сервиса.</p>
<table>
<tbody>
<tr>
<td height="50%" valign="top"><span style="COLOR: #cc0000"><strong>Неправильно</strong></span></td>
<td valign="top">
<p><span style="COLOR: green"><strong>Правильно</strong></span></p></td></tr>
<tr>
<td colspan="2" valign="top">
<p dir="ltr" style="MARGIN-RIGHT: 5px">Реализация модуля веб-сервиса Long:</p></td></tr>
<tr>
<td valign="top">
<p class="Programtext">Функция GetData() <br/>    Результат = &lt;очень длительные вычисления&gt;; <br/>    Возврат Результат; <br/>КонецФункции </p></td>
<td valign="top">
<p class="Programtext">Функция StartDoLong()<br/>    // запуск фонового задания<br/>    ИдентификаторОперации = ...<br/>    // возвращаем идентификатор операции для отслеживания ее готовности<br/>    Возврат ИдентификаторОперации;<br/>КонецФункции</p>
<p class="Programtext">Функция IsReady(Знач ИдентификаторОперации)<br/>    // проверяем, завершено ли фоновое задание по переданному идентификатору <br/>    Готовность = ...<br/>    Возврат Готовность; <br/>КонецФункции</p>
<p class="Programtext">Функция GetData(Знач ИдентификаторОперации)<br/>    Результат = &lt;получаем уже готовый результат по переданному идентификатору &gt;;<br/>    Возврат Результат; <br/>КонецФункции<br/></p></td></tr>
<tr>
<td colspan="2" valign="top">
<p dir="ltr" style="MARGIN-RIGHT: 5px">Реализация вызывающей стороны:</p></td></tr>
<tr>
<td valign="top">
<p class="Programtext">Long = Новый WSПрокси(АдресВебСервиса, , , , , 600); // ждем 10 мин <br/><br/>Результат = Long.GetData(); </p></td>
<td valign="top">
<p class="Programtext">Long = Новый WSПрокси(АдресВебСервиса, , , , , 600); // ждем 10 мин <br/><br/>ИдентификаторОперации = Long.StartDoLong(); <br/><br/>Пока Не Long.IsReady(ИдентификаторОперации) Цикл <br/>    &lt;ждем определенный интервал времени&gt; <br/>КонецЦикла; <br/>Результат = Long.GetData(ИдентификаторОперации); <br/><br/>* это лишь упрощенная схема реализации вызывающей стороны; в действительности, <br/>код вызывающей стороны также должен быть реализован асинхронно с помощью включения <br/>регламентного задания, либо периодического обработчика ожидания на клиенте, <br/>который проверяет готовность и получает результат.</p></td></tr></tbody></table>
<p><a id="4" name="4"></a>4. Рекомендуемые величины таймаутов для различных операций:</p>
<p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<td><strong>Операция </strong></td>
<td><strong>Таймаут (секунд)</strong></td></tr>
<tr>
<td>Получение описания веб-сервиса </td>
<td>7</td></tr>
<tr>
<td>Проверка корректности введенного адреса, взаимодействие с менеджером сервиса в модели сервиса и прочие «быстрые» операции</td>
<td>10-20</td></tr>
<tr>
<td>Получение сведений об одном контрагенте, обмен сообщениями, отправка SMS, удаленное администрирование ИБ в модели сервиса</td>
<td>60-120<sup>1</sup></td></tr>
<tr>
<td>Передача сообщений обмена данными через веб-сервис или получение файлов из внешнего ресурса до 1 Мб.</td>
<td>120-180<sup>1</sup></td></tr>
<tr>
<td>Загрузка файлов более 1 Мб</td>
<td>Если известен размер файла, то размер в мегабайтах * 128<sup>2</sup>, иначе предельное время загрузки, но не более 43200 <sup>3</sup></td></tr></tbody></table></p>
<hr/>
<p><sup>1</sup> Следует вызывать только после контрольной операции <strong>Ping</strong>.<br/></p>
<p><sup>2</sup> Загрузка 1 мегабайта данных занимает 128 секунд, при скорости 64 кбит/с, т.к. сотовые операторы в определенных случаях ограничивают скорость загрузки этой величиной. </p>
<p><sup>3</sup> Таймаут продолжительностью 43200(12 часов) сек. является компромиссным решением, т.к. в случае нештатной ситуации процесс «отвиснет» на следующее утро и вернет управление, в отличие от полностью зависнувшей программы при неустановленном таймауте.</p>
<ul></ul>
<ul></ul></p></body><hr>
<h1 id='05_Общие вопросы безопасности'>Общие вопросы безопасности</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100678.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Безопасность прикладного программного интерфейса сервера.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Безопасность прикладного программного интерфейса сервера</h1><div style="clear: right; float: right;">#std678</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>При работе в режиме управляемого приложения, клиентское приложение (тонкий или веб-клиент) обращается к серверу 1С:Предприятия посредством открытого HTTP-протокола. Таким образом, сервер 1С:Предприятия может быть вызван извне сторонними программами тем же способом, как это штатно делает клиентское приложение, и злоумышленник может получить несанкционированный доступ к пользовательским данным, нарушить работоспособность сервера.</p>
<p><a id="1" name="1"></a>1. Несанкционированный вызов серверного кода конфигурации с клиента. </p>
<p>
<p style="LIST-STYLE-TYPE: none">1.1. Потенциальную угрозу безопасности представляют все серверные процедуры и функции, доступные для вызова из клиентского кода. Они составляют прикладной программный интерфейс сервера 1С:Предприятия. К ним, как правило, относятся: </p>
<ul>
<p>
<li>Экспортные процедуры и функции, размещенные в общих модулях с признаками <b>"Сервер"</b> и <b>"Вызов сервера"</b>. Вызов таких процедур и функций возможен напрямую с клиента. 

<p></p><i>Подробнее см. <a href="#02_Ограничение на установку признака «Вызов сервера» у общих модулей.htm" target="_top">Ограничение на установку признака <b>"Вызов сервера"</b> у общих модулей</a></i>
<p></p>
<li>Все процедуры и функции модулей форм объектов с директивами компиляции <b>&amp;НаСервере</b>, <b>&amp;НаСервереБезКонтекста</b>. Вызов таких процедур и функций доступен из контекста клиента после успешного получения формы, даже если эти процедуры и функции не экспортные. Это делает возможным вызов кода в контексте, который не предполагался разработчиком. <br/><br/>Например, код модуля формы <b>Справочник.Сотрудники.ФормаЭлемента<em>:</em></b> <pre>&amp;НаКлиенте

Процедура УволитьСотрудника(Команда)



    Если ДатаРегистрацииУвольнения &gt; ДатаЗапрета Тогда

	    ЗарегистрироватьУвольнение();

    КонецЕсли;



КонецПроцедуры



&amp;НаСервере

Процедура ЗарегистрироватьУвольнение()

    ...

КонецПроцедуры</pre>Пример стороннего кода, вызывающий напрямую серверную процедуру для обхода проверки, предусмотренной разработчиком формы в обработке команды <strong>УволитьСотрудника</strong>: <pre>ПараметрыФормы = Новый Структура("Ключ", ВыбранныйСотрудник)

Форма = ПолучитьФорму("Справочник.Сотрудники.ФормаЭлемента", ПараметрыФормы);

Форма.ЗарегистрироватьУвольнение();</pre>
<p></p></li></li></p></ul>
<p><a id="1.2" name="1.2"></a>1.2. В общем случае не рекомендуется размещать в серверных процедурах и функциях модулей форм код, обеспечивающий бизнес-логику, и который не относится к клиент-серверному взаимодействию и обработке реквизитов формы.</p>
<p><a id="1.3" name="1.3"></a>1.3. Особого внимания требуют серверные процедуры и функции, использующие <a href="#05_Использование привилегированного режима.htm" target="_top">установку привилегированного режима</a>, или размещенные в общих модулях с признаком <b>Привилегированный</b>.</p>
<p></p>
<p><a id="2" name="2"></a>2. Проникновение небезопасного кода на сервер и его выполнение. </p>
<p>Любые возможности конфигурации по выполнению "внешнего" кода или произвольных текстов запросов на сервере, не являющихся частью самого прикладного решения, представляют серьезную опасность.</p>
<p>Также опасны внешние отчеты и обработки, COM-объекты и внешние компоненты. В частности, код внешних обработок может непосредственно обращаться ко всем общим модулям без признака <b>"Вызов сервера"</b>, к модулям объектов и менеджеров объектов конфигурации, пытаться переходить в привилегированный режим.</p>
<p>Такие возможности создают прямую угрозу работоспособности сервера из-за некорректного или преднамеренно вредоносного кода: порчу или похищение данных, зависание или остановка рабочего процесса из-за зацикливания, утечек памяти, ресурсоемких операций и запросов и т.д.</p>
<p><i>Подробнее см. <a href="#04_Ограничение на выполнение внешнего кода.htm" target="_top">Ограничение на выполнение "внешнего" кода.</a></i> </p>
<p></p>
<p></p>
<p><a id="3" name="3"></a>3. Клиентское приложение (тонкий клиент или веб-браузер) не гарантирует безопасность данных, переданных на сторону клиента. Эти данные легко могут быть перехвачены и прочитаны вредоносным программным обеспечением, установленным на клиентском компьютере. </p>
<p>Серверные процедуры и функции должны возвращать в форму только окончательный результат расчета. Следует избегать передачи в форму исходных или промежуточных данных, которые могут раскрывать побочную, возможно приватную информацию бизнес-процесса.</p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100679.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Ограничение на установку признака «Вызов сервера» у общих модулей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение на установку признака «Вызов сервера» у общих модулей</h1><div style="clear: right; float: right;">#std679</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Не следует всем общим модулям с признаком <strong>Сервер</strong> принудительно устанавливать флажок <strong>Вызов сервера</strong>. В таких общих модулях следует размещать только те процедуры и функции, которые действительно предназначены для вызова из клиентского кода и гарантируют выполнение только тех действий (и передачи только тех данных на сторону клиента), которые разрешены пользователю при его работе в программе. Например, серверная функция, реализующая некоторый алгоритм расчета, должна передавать на сторону клиента окончательный результат этого расчета, но не исходные (или промежуточные) данные для расчета, которые сами по себе могут быть недоступны текущему пользователю.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#01_Безопасность прикладного программного интерфейса сервера.htm" target="_top"><em>Безопасность прикладного программного интерфейса сервера</em></a><em>, <a href="#09_Правила создания общих модулей.htm" target="_top">Правила создания общих модулей</a></em></p></blockquote>
<p>Особого внимания требуют процедуры и функции, использующие установку <a href="#05_Использование привилегированного режима.htm" target="_top">привилегированного режима</a>, или размещенные в общих модулях с признаком <strong>Привилегированный</strong>. </p>
<p>Серверные процедуры и функции, не предназначенные для вызова из клиентского кода, следует размещать в общих модулях без признака <strong>Вызов сервера</strong>.</p>
<p><a id="2.1" name="2.1"></a>2.1. Как правило, при разработке объектов конфигурации (справочников, документов и пр.) исходят из того, что в управляемом режиме работа с экземплярами этих объектов (<strong>СправочникОбъект</strong>, <strong>ДокументОбъект</strong> и т.д.) выполняется на стороне сервера. Поэтому в управляемом режиме не гарантируется возможность работы с ними на стороне клиентского приложения.</p>
<p>В частности, в толстом клиенте в режиме управляемого приложения не следует создавать или получать объекты:</p>
<ul>
<li>в клиентских общих модулях (пользуясь инструкцией препроцессора <strong>ТолстыйКлиентУправляемоеПриложение</strong>); 

<li>в обычных формах при запуске в управляемом режиме. Такие формы следует использовать только в режиме обычного приложения.</li></li></ul>
<p>Это позволит избежать выполнения кода модулей объектов и подписок на события на клиенте, а также избыточных серверных вызовов процедур и функций общих модулей из этого кода.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#13_Поддержка толстого клиента, управляемое приложение, клиент-сервер.htm" target="_top">Поддержка толстого клиента, управляемое приложение, клиент-сервер</a></em></p></blockquote>
<p><a id="2.2" name="2.2"></a>2.2. Если конфигурация <strong>не</strong> рассчитана на работу в толстом клиенте, управляемое приложение, следует снять флажок <strong>Толстый клиент (управляемое приложение, режим клиент-сервер)</strong>, для того чтобы при проверке конфигурации избежать ложных сообщений об ошибках.</p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100740.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Безопасное хранение паролей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Безопасное хранение паролей</h1><div style="clear: right; float: right;">#std740</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При разработке подсистем, взаимодействующих с различными внешними ресурсами (электронной почтой, веб-сервисами, FTP-ресурсами и т.п.) возникает необходимость запрашивать и передавать данные аутентификации к этим ресурсам: логин и пароль. </p>
<p><a id="2" name="2"></a>2. Для сведения к минимуму возможности перехвата пароля злоумышленниками не следует хранить пароли и другую конфиденциальную информацию в информационной базе. При этом минимальный уровень защищенности – в файловых информационных базах, в которых файл базы может быть скопирован целиком любым пользователем информационной базы. В клиент-серверной информационной базе доступ к базе данных, как правило, имеется только у администраторов СУБД.</p>
<p>Таким образом, следует запрашивать логин и пароль у пользователя и передавать их сразу, не сохраняя в информационной базе.</p>
<p><a id="3" name="3"></a>3. В ряде случаев такая схема работы доставляет объективные неудобства или принципиально невозможна:</p>
<ul>
<li>интерактивный запрос логина и пароля на каждую операцию может создавать значительный дискомфорт от работы, а временного сохранения на стороне клиента недостаточно; 

<li>взаимодействие с различными внешними ресурсами должно выполняться на сервере, не зависимо от интенсивности работы пользователей с программой.</li></li></ul>
<p>В таких случаях допустимо организовать хранение паролей и другой конфиденциальной информации в информационной базе, предупредив пользователей о последствиях. Следует помнить, что подобное хранение паролей не решает всех проблем безопасности, а лишь усложняет задачу для злоумышленника.</p>
<p><a id="3.1" name="3.1"></a>3.1. При этом не следует хранить пароли и другую конфиденциальную информацию в реквизитах тех же объектов метаданных, с которыми ведется повседневная работа. Для хранения такой информации следует использовать отдельный объект метаданных (например, регистр сведений), организовав к нему безопасный доступ на уровне системы прав доступа 1С:Предприятия. </p>
<p><a id="3.2" name="3.2"></a>3.2. При использовании <strong>Библиотеки стандартных подсистем (БСП)</strong> следует использовать безопасное хранилище паролей, которое решает ряд задач: </p>
<ul>
<li>Имея доступ к объекту метаданных, пользователь может прочитать содержимое реквизита с паролем, что невозможно при использовании безопасного хранилища. Для исключения случаев несанкционированного доступа к безопасному хранилищу получение и запись данных (паролей) возможна только в привилегированном режиме. 

<li>Данные в безопасном хранилище хранятся в закрытом виде и тем самым исключаются случаи непредумышленной «засветки» паролей. 

<li>Безопасное хранилище исключено из планов обмена, что предотвращает утечку паролей из информационной базы при обмене данными.</li></li></li></ul>
<p>Для работы с безопасным хранилищем паролей предназначены процедуры и функции общего модуля <strong>ОбщегоНазначения</strong>: <strong>ЗаписатьДанныеВБезопасноеХранилище</strong>, <strong>ПрочитатьДанныеИзБезопасногоХранилища</strong> и <strong>УдалитьДанныеИзБезопасногоХранилища</strong>. Подробнее см. комментарии к этим функциям в БСП и раздел «3.4. Базовая функциональность - Использование при разработке конфигурации - Безопасное хранилище паролей» документации БСП. </p>
<p><a id="3.3" name="3.3"></a>3.3. Не следует хранить пароли в реквизитах формы, их следует извлекать только на стороне сервера и непосредственно перед их использованием. В противном случае, при открытии формы с маскированным вводом (или просмотром) пароля, пароль передается с  сервера на клиент в открытом виде, что делает возможным его перехват. Установка привилегированного режима производится непосредственно перед вызовом функций, а не внутри них, что бы исключить получение или запись любых паролей в сеансе с любыми правами. Безопасность вызова должен обеспечивать вызывающий код, который обращается к конкретным паролям.</p>
<p>Для маскировки пароля на форме в обработчике событии формы <strong>ПриСозданииНаСервере</strong> необходимо разместить следующий код:</p>
<p class="Programtext"> УстановитьПривилегированныйРежим(Истина);<br/> Пароли = ОбщегоНазначения.ПрочитатьДанныеИзБезопасногоХранилища(Объект.Ссылка, "Пароль, ПарольSMTP"); // Пароль, ПарольSMTP – ключи соответствия данных в безопасном хранилище<br/> УстановитьПривилегированныйРежим(Ложь);</p>
<p class="Programtext"> Пароль = ?(ЗначениеЗаполнено(Пароли.Пароль), ЭтотОбъект.УникальныйИдентификатор, "");<br/> ПарольSMTP = ?(ЗначениеЗаполнено(Пароли.ПарольSMTP), ЭтотОбъект.УникальныйИдентификатор, "");</p>
<p>В обработчике события формы <strong>ПриЗаписиНаСервере</strong>:</p>
<p class="Programtext"> Если ПарольИзменен Тогда<br/>  УстановитьПривилегированныйРежим(Истина);<br/>  ОбщегоНазначения.ЗаписатьДанныеВБезопасноеХранилище(ТекущийОбъект.Ссылка, Пароль);<br/>  УстановитьПривилегированныйРежим(Ложь);<br/>  Пароль = ?(ЗначениеЗаполнено(Пароль), ЭтотОбъект.УникальныйИдентификатор, "");<br/> КонецЕсли;<br/> <br/> Если ПарольSMTPИзменен Тогда<br/>  УстановитьПривилегированныйРежим(Истина);<br/>  ОбщегоНазначения.ЗаписатьДанныеВБезопасноеХранилище(ТекущийОбъект.Ссылка, ПарольSMTP, "ПарольSMTP");<br/>  УстановитьПривилегированныйРежим(Ложь);<br/>  ПарольSMTP = ?(ЗначениеЗаполнено(ПарольSMTP), ЭтотОбъект.УникальныйИдентификатор, "");<br/> КонецЕсли;</p>
<p>где <strong>Пароль</strong> и <strong>ПарольSMTP</strong> - реквизиты формы. Если пароль ранее был сохранен в программе, то следует присвоить соответствующему реквизиту уникальный идентификатор формы, эмулирующий наличие пароля. При записи объекта в форме, если был введен новый пароль, то записываем его в объект, а реквизит формы вновь затираем уникальным идентификатором.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100669.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Ограничение на выполнение внешнего кода.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение на выполнение «внешнего» кода</h1><div style="clear: right; float: right;">#std669</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p>Помимо программного кода конфигурации, в прикладном решении может исполняться сторонний программный код, который может быть подключен с помощью внешних отчетов, внешних обработок, расширений конфигурации, внешних компонент или другими способами (далее – внешний код). При этом злоумышленник может предусмотреть в нем различные деструктивные действия (как в самом внешнем коде, так и опосредовано, через запуск внешних приложений, внешних компонент, COM-объектов), которые могут нанести вред компьютерам пользователей, серверным компьютерам, а также данным в программе. Пример такой уязвимости: <a href="https://1c.ru/news/info.jsp?id=21537" target="_blank">https://1c.ru/news/info.jsp?id=21537</a> </p>
<p>Перечисленные проблемы безопасности особенно критичны при работе конфигураций в <a href="http://v8.1c.ru/overview/Term_000000823.htm" target="_blank">модели сервиса</a>. Например, получив доступ к сервису, вредоносный код может получить доступ сразу ко всем приложениям всех пользователей сервиса.</p>
<p><a id="1" name="1"></a>1. Для прикладных решений запрещено выполнение в небезопасном режиме любого кода на сервере 1С:Предприятия, который не является частью самого прикладного решения (конфигурации). Ограничение не распространяется на код, прошедший аудит, и на код, выполняемый на клиенте.</p>
<p>Примеры недопустимого выполнения «внешнего» кода в небезопасном режиме:</p>
<ul>
<li>внешние отчеты и обработки (печатные формы и т.п.), расширения конфигурации, внешние компоненты и любые другие аналогичные возможности, с помощью которых пользователи подключают к конфигурации внешний код; 

<li>алгоритмы на встроенном языке, тексты запросов или их фрагменты, которые пользователи интерактивно вводят в режиме 1С:Предприятия, и которые затем передаются в методы глобального контекста <strong>Выполнить</strong> или <strong>Вычислить</strong> (см. «<a href="#05_Ограничения на использование Выполнить и Вычислить на сервере.htm" target="_top">Ограничения на использование Выполнить и Вычислить на сервере</a>»); 

<li>изменение пользователями схем компоновки данных в отчетах, в которых разрешено использование внешних функций (эта возможность закрыта при использовании стандартной формы отчета: она не позволяет пользователям изменять схему компоновки  данных, а из пользовательских полей использовать  функции общих модулей нельзя). В том числе, возможность загрузки пользователями схем компоновки данных из внешних файлов.</li></li></li></ul>
<p>При использовании в конфигурации Библиотеки стандартных подсистем (БСП) внешний код допустимо подключать только через соответствующие подсистемы БСП:</p>
<ul>
<li>как расширения конфигурации – с помощью средств подсистемы «Базовая функциональность»; 

<li>как внешние отчеты и обработки – через «Дополнительные отчеты и обработки»; 

<li>в виде внешних компонент – через подсистему «Внешние компоненты»; 

<li>для запуска внешних программ – см. <a href="#06_Безопасность запуска приложений.htm" target="_top">Безопасность запуска приложений</a>.</li></li></li></li></ul>
<p>При этом указанное в этом пункте требование будет выполнено.</p>
<p><a id="2" name="2"></a>2. По умолчанию, в конфигурации для всех категорий пользователей должна быть отключена возможность интерактивно открывать внешние отчеты и обработки через меню Файл – Открыть. См. пп. 2.2 и 2.3 <a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a>. <br/>При этом в настройках программы должна быть предусмотрена обратная возможность разрешить это действие. В случае если администратор разрешает интерактивно открывать внешние отчеты и обработки, то информировать его и пользователей о том, что при открытии файлов внешних отчетов и обработок следует обращать особое внимание на их источник и не открывать файлы, полученные из источников, с которыми нет договоренности о разработке таких отчетов и обработок.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> отключение интерактивного открытия внешних отчетов и обработок, настройка, а также соответствующие предупреждения уже предусмотрены.</p>
<p><a id="3" name="3"></a>3. Предупреждать администраторов об опасности перед подключением любого внешнего кода.</p>
<p><a id="3.1" name="3.1"></a>3.1. Выводимая информация должна включать в себя в явном виде сведения, что внешний код, полученный из недостоверных источников (с которыми, например, нет договоренности о разработке такого кода), может нанести вред компьютерам пользователей, серверным компьютерам, а также данным в программе. При этом администратор должен иметь возможность отказаться от загрузки внешнего кода (а также возможно повторить его загрузку позднее после проведения соответствующего аудита).  </p>
<p>При использовании в конфигурации Библиотеки стандартных подсистем такие предупреждения для администратора уже предусмотрены в соответствующих подсистемах.</p>
<p><a id="3.2" name="3.2"></a>3.2. В то же время, остальные пользователи программы не должны получать дополнительных предупреждений при исполнении внешнего кода, подключение которого ранее было явно подтверждено администратором. <br/>Для программного отключения см. раздел 7.10.2. <a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000001873" target="_top">Отключение механизма защиты от опасных действий</a> в документации к платформе 1С:Предприятие.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> </p>
<ul>
<li>подобное отключение предупреждений уже предусмотрено в соответствующих подсистемах; 

<li>запрещено отключать предупреждения об опасных действиях во всех остальных случаях.</li></li></ul>
<p><a id="4" name="4"></a>4. Если в конфигурации предусмотрены средства обновления конфигурации (из файлов .cf, .cfu), восстановления из резервной копии или загрузки из dt-файла в режиме 1С:Предприятия, то эти операции должны выполняться с соблюдением следующих правил:</p>
<p></p>
<ul>
<li>обновление должно быть доступно только пользователю с ролью «Администратор системы»; 

<li>такое обновление должно выполняться только интерактивно текущим пользователем, а не служебным пользователем с полными правами; 

<li>перед обновлением конфигурации из файла или восстановления из резервной копии, администратору должно показываться предупреждение о том, что он должен убедиться, что файл обновления получен из надежного источника; 

<li>при обновлении конфигурации через Интернет, должно использоваться защищенное соединение (см. п. 7) и надежный источник, о чем нужно предупредить пользователя, когда он настраивает параметры подключения к источнику обновления.</li></li></li></li></ul>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) операции обновления конфигурации и восстановления из резервной копии следует выполнять только средствами подсистем «Обновление конфигурации» и «Резервное копирование ИБ» БСП. При этом автоматически будут выполнены все требования, перечисленные выше в этом пункте.</p>
<p><a id="5" name="5"></a>5. Если в конфигурации предусмотрены средства загрузки произвольных файлов в программу, то следует также иметь в виду, что они могут содержать вредоносный исполняемый код.<br/>В этом случае в конфигурации следует предусмотреть </p>
<ul>
<li>для администратора – дополнительные средства контроля, в частности, список разрешенных (запрещенных) расширений файлов для загрузки в программу; 

<li>блокирование открытия исполняемых файлов из программы (даже если их разрешено загружать и хранить в программе). </li></li></ul>
<p>Примечание: в общем случае, вредоносный код может содержаться даже в неисполняемых файлах, например, макровирусы в документах Microsoft Office. Однако в этом случае необходимые предупреждение об опасных действиях уже предусмотрены в сторонних приложениях Microsoft Office, поэтому в конфигурации не требуется предпринимать дополнительных мер защиты. Исключение составляет случай открытия через COM – см. <a href="#07_Безопасность программного обеспечения, вызываемого через открытые интерфейсы.htm" target="_top">Безопасность программного обеспечения, вызываемого через открытые интерфейсы</a>.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) работу с файлами следует организовывать только средствами подсистемы «Работа с файлами». При этом автоматически будут выполнены все требования, перечисленные выше в этом пункте.</p>
<p><a id="6" name="6"></a>6. Безопасность внешних компонент.</p>
<p><a id="6.1" name="6.1"></a>6.1. Внешние компоненты, не являющиеся частью конфигурации (не размещенные в макетах конфигурации) потенциально опасны и их не следует загружать из источников, к которым нет доверия, с целью последующей установки и подключения. Пользователи без административных прав не должны иметь возможности загрузки, установки и подключения внешних компонент на сервере прикладного решения. При этом пользователю всегда должен задаваться вопрос и предоставляться выбор, устанавливать ли внешний компонент на клиенте.</p>
<p>Невыполнение этих требований может нарушить работоспособность и безопасность прикладного решения, серверов на которых оно работает и компьютера пользователя.</p>
<p><a id="6.2" name="6.2"></a>6.2. Сторонние внешние компоненты следует хранить в специальном справочнике, доступ на запись к которому есть только у администратора и подключать их только по навигационной ссылке на реквизит справочника, в котором хранятся двоичные данные компоненты.</p>
<p>Не следует подключать сторонние внешние компоненты по имени файла или по идентификатору программы, т.к. в этом случае злоумышленник сможет подменить путь к файлу или идентификатор программы и подключить свою вредоносную компоненту.</p>
<p><a id="6.3" name="6.3"></a>6.3. Внешние компоненты, входящие в состав конфигурации, должны храниться в макетах типа «Внешняя компонента». Данный тип макета <a href="#09_Макеты_ требования по локализации.htm" target="_top">не локализуется.</a></p>
<p><a id="6.4" name="6.4"></a>6.4. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong>, следует использовать методы подключения компонент библиотеки и полностью исключить непосредственное использование платформенных механизмов подключения внешних компонент, таких как:</p>
<ul>
<li><strong>ПодключитьВнешнююКомпоненту</strong>; 

<li><strong>НачатьУстановкуВнешнейКомпоненты</strong>; 

<li><strong>УстановитьВнешнююКомпоненту</strong>; 

<li><strong>НачатьПодключениеВнешнейКомпоненты</strong>; 

<li><strong>ЗагрузитьВнешнююКомпоненту</strong>.</li></li></li></li></li></ul>
<p>Для подключения компоненты из макета в составе конфигурации на клиенте следует использовать:</p>
<p class="Programtext">ОбщегоНазначенияКлиент.ПодключитьКомпонентуИзМакета</p>
<p>Для подключения компоненты из макета в составе конфигурации на сервере следует использовать: </p>
<p class="Programtext">ОбщегоНазначения.ПодключитьКомпонентуИзМакета</p>
<p>Для подключения компонент из хранилища внешних компонент (специального справочника  с возможностью обновлять компоненты независимо от обновления конфигурации), следует использовать подсистему Внешние компоненты в Библиотеке стандартных подсистем:</p>
<p class="Programtext">ВнешниеКомпонентыКлиент.ПодключитьКомпоненту</p>
<p><a id="7" name="7"></a>7. При загрузке внешнего кода из удаленных источников в конфигурацию, следует:</p>
<ul>
<li>использовать только надежные источники, к которым есть доверие; 

<li>выполнять передачу данных только по защищенным каналам связи;

<li>защищенное соединение следует устанавливать с проверкой подлинности сервера, к которому выполняется подключение.</li></li></li></ul>
<p class="Programtext"><strong>ЗащищенноеСоединение</strong> = Новый ЗащищенноеСоединениеOpenSSL(, Новый СертификатыУдостоверяющихЦентровОС);<br/>Соединение = Новый HTTPСоединение(Сервер,,,,,, <strong>ЗащищенноеСоединение</strong>);</p>
<p>Это требование также справедливо для загрузки любых данных по защищенным протоколам HTTPS и FTPS с использованием объектов и методов <b>HTTPСоединение</b>, <b>FTPСоединение</b>, <b>WSПрокси</b>, <b>WSОпределения</b>, <b>WSСсылкаМенеджер.СоздатьWSПрокси</b>.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> необходимо использовать функцию <strong>НовоеЗащищенноеСоединение</strong> общего модуля <strong>ОбщегоНазначенияКлиентСервер</strong>:</p>
<p class="Programtext"><strong>ЗащищенноеСоединение</strong> = ОбщегоНазначенияКлиентСервер.НовоеЗащищенноеСоединение();<br/>Соединение = Новый HTTPСоединение(Сервер,,,,,, <strong>ЗащищенноеСоединение</strong>);</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#05_Ограничения на использование Выполнить и Вычислить на сервере.htm" target="_top">Ограничения на использование Выполнить и Вычислить на сервере</a>
<li><a href="http://v8.1c.ru/overview/Term_000000803.htm" target="_blank">Облачные технологии</a> (статья на сайте 1c.ru) 

<li><a href="#01_Безопасность прикладного программного интерфейса сервера.htm" target="_top">Безопасность прикладного программного интерфейса сервера</a><br/></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100770.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Ограничения на использование Выполнить и Вычислить на сервере.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на использование Выполнить и Вычислить на сервере</h1><div style="clear: right; float: right;">#std770</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При разработке решений следует учитывать, что опасно не только непосредственное выполнение кода, написанного в режиме <strong>Предприятие</strong>, но и те места, где методами <strong>Выполнить</strong> или <strong>Вычислить</strong> исполняется код, сконструированный на основе параметров, переданных в серверные функции и процедуры. Ограничение не распространяется на код, выполняемый на клиенте.</p>
<p>Например, код написан следующим образом:</p>
<ul>
<li>в клиентской функции в форме создается структура, в которую вставляется строка, написанная разработчиком конфигурации; 

<li>клиентская функция передает эту структуру в серверную функцию формы; 

<li>серверная функция формы вызывает серверную функцию общего модуля; 

<li>в серверной функции исполняется код из строки, вставленной в структуру.</li></li></li></li></ul>
<p>В этом случае не выполняется код, который интерактивно вводит пользователь, но, тем не менее, есть следующая уязвимость:</p>
<ul>
<li>злоумышленник создает структуру, в которую вставляет строку с вредоносным кодом; 

<li>злоумышленник вызывает клиентскую функцию формы и таким образом исполняет вредоносный код на сервере.</li></li></ul>
<p>Еще опаснее, если методы, в которых с помощью <strong>Выполнить</strong> или <strong>Вычислить</strong> исполняется код, принимаемый из параметров, будут располагаться в модулях с установленным признаком ВызовСервера.</p>
<p><a id="2" name="2"></a>2. Для исключения описанных уязвимостей, нужно в серверных процедурах и функциях вызов методов <strong>Выполнить</strong> или <strong>Вычислить</strong> предварять включением безопасного режима:</p>
<p class="Programtext">УстановитьБезопасныйРежим(Истина);<br/>Выполнить Алгоритм;</p>
<p>В режиме сервиса, включение безопасного режима должно учитывать разделение данных, т.е. приведенный выше пример необходимо доработать следующим образом:</p><span lang="RU">
<p align="left" class="Programtext" dir="ltr">УстановитьБезопасныйРежим(Истина);<br/><br/>Для каждого ИмяРазделителя Из РазделителиКонфигурации() Цикл<br/>    УстановитьБезопасныйРежимРазделенияДанных(ИмяРазделителя, Истина);<br/>КонецЦикла;<br/><br/>Выполнить Алгоритм;</p></span>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong>, следует использовать:</p>
<ul>
<li>ОбщегоНазначения.ВыполнитьВБезопасномРежиме() вместо <strong>Выполнить</strong>; 

<li>ОбщегоНазначения.ВычислитьВБезопасномРежиме() вместо <strong>Вычислить</strong>; 

<li>ОбщегоНазначения.ВыполнитьМетодКонфигурации() вместо формирования строки вызова метода модуля и передачи ее в <strong>Выполнить</strong>; 

<li>ОбщегоНазначения.ВыполнитьМетодОбъекта() вместо формирования строки вызова метода объекта и передачи ее в <strong>Выполнить</strong>.</li></li></li></li></ul>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> версии, меньшей чем 2.4.1, следует использовать:</p>
<ul>
<li>РаботаВБезопасномРежиме.ВыполнитьВБезопасномРежиме() вместо <strong>Выполнить</strong>; 

<li>РаботаВБезопасномРежиме.ВычислитьВБезопасномРежиме() вместо <strong>Вычислить</strong>; 

<li>РаботаВБезопасномРежиме.ВыполнитьМетодКонфигурации() вместо формирования строки вызова метода модуля и передачи ее в <strong>Выполнить</strong>; 

<li>РаботаВБезопасномРежиме.ВыполнитьМетодОбъекта() вместо формирования строки вызова метода объекта и передачи ее в <strong>Выполнить</strong>.</li></li></li></li></ul>
<p><a id="3" name="3"></a>3.  Если произвольный код не может быть успешно выполнен в безопасном режиме (например, в нем используется обращение к файлам), то такой код должен предварительно пройти аудит и должен быть размещен в справочнике, к которому есть доступ только у пользователя ответственного за безопасность (например, администратора). Предлагается следующий сценарий работы с внешним кодом:</p>
<ul>
<li>внешний код рекомендуется поместить во внешнюю обработку или отчет (в крайнем случае, допустимо передать его, как фрагмент текста); 

<li>передать внешний код администратору с пометкой, что необходимо выполнение кода в небезопасном режиме; 

<li>администратор или сотрудник с соответствующей квалификацией должен выполнить аудит полученного кода; 

<li>если код безопасен и надежен, администратор поместит внешний код в специальный справочник, доступ на запись в который есть только у него; 

<li>вместо <strong>Выполнить</strong> или <strong>Вычислить</strong> следует (или): 

<ul>
<li>подключить проверенную обработку из справочника и вызвать необходимый экспортный метод; 

<li>вызвать фрагмент кода с помощью специальной процедуры или функции, которая централизованно в конфигурации выполняет внешний код.</li></li></ul></li></li></li></li></li></ul>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong>, для этих целей следует воспользоваться подсистемой <strong>Дополнительные отчеты и обработки</strong>.</p>
<p><a id="4" name="4"></a>4. Если конфигурация рассчитана на работу в модели сервиса, и в конфигурации предусмотрен перенос данных в сервис из локальной версии программы, необходимо обеспечить отключение всех пользовательских фрагментов кода или текстов запросов, которые были введены в локальной версии.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong>, также имеется возможность предварительной обработки данных, загружаемых из локальной версии в сервис (см. документацию к подсистеме <strong>Работа в модели сервиса</strong>).</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#04_Ограничение на выполнение внешнего кода.htm" target="_top">Ограничения на выполнение «внешнего» кода</a>
<li><a href="http://v8.1c.ru/overview/Term_000000803.htm" target="_blank">Облачные технологии</a> (статья на сайте 1c.ru) 

<li><a href="#01_Безопасность прикладного программного интерфейса сервера.htm" target="_top">Безопасность прикладного программного интерфейса сервера</a></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100774.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Безопасность запуска приложений.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Безопасность запуска приложений</h1><div style="clear: right; float: right;">#std774</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При запуске внешней программы из кода требуется составлять строку запуска таким образом, чтобы она собиралась только из проверенных частей.<br/>Если одна из частей, из которых собирается строка запуска, содержит данные, полученные из базы данных, из поля ввода на форме или прочитаны из хранилища настроек, то перед запуском программы требуется проверить, являются ли запуск безопасным. Безопасными считаются такие строковые данные, которые не содержат в себе следующие символы: "$", "`", "|", "||" ";", "&amp;", "&amp;&amp;".</p>
<p>Данное требование распространяется на все способы запуска программы, в том числе:</p>
<ul>
<li><strong>КомандаСистемы</strong>(&lt;СтрокаКоманды&gt;, &lt;ТекущийКаталог&gt;) 

<li><strong>ЗапуститьПриложение</strong>(&lt;СтрокаКоманды&gt;, &lt;ТекущийКаталог&gt;, &lt;ДождатьсяЗавершения&gt;, &lt;КодВозврата&gt;) ; 

<li><strong>НачатьЗапускПриложения</strong>(&lt;ОписаниеОповещения&gt;, &lt;СтрокаКоманды&gt;, &lt;ТекущийКаталог&gt;, &lt;ДождатьсяЗавершения&gt;); 

<li><strong>ПерейтиПоНавигационнойСсылке</strong>(&lt;НавигационнаяСсылка&gt;); 

<li>Использование <strong>COM</strong> объектов "<strong>Wscript.Shell</strong>" и "<strong>Shell.Application</strong>".</li></li></li></li></li></ul>
<p><a id="2" name="2"></a>2. При использовании <strong>Библиотеки стандартных подсистем</strong> для запуска внешних программ требуется использовать следующий программный интерфейс:<br/>2.1. Для того чтобы открыть проводник с фокусировкой на указанном файле, использовать процедуру <strong>ФайловаяСистемаКлиент.ОткрытьПроводник</strong>.<br/>Например:</p><pre class="programtext">// Для Windows<br/>ФайловаяСистемаКлиент.ОткрытьПроводник("C:\Users");<br/>ФайловаяСистемаКлиент.ОткрытьПроводник("C:\Program Files\1cv8\common\1cestart.exe");</pre><pre class="programtext">// Для Linux<br/>ФайловаяСистемаКлиент.ОткрытьПроводник("/home/");<br/>ФайловаяСистемаКлиент.ОткрытьПроводник("/opt/1C/v8.3/x86_64/1cv8c");</pre>
<p><a id="2.2" name="2.2"></a>2.2. Для того чтобы открыть файл в программе просмотра, ассоциированной с расширением файла, использовать процедуру <strong>ФайловаяСистемаКлиент.ОткрытьФайл</strong>. Она исключает запуск исполняемых файлов (например, *.exe, *.bin, *.apk). <br/>Например:</p>
<p class="Programtext">ФайловаяСистемаКлиент.ОткрытьФайл(КаталогДокументов() + "test.pdf");<br/>ФайловаяСистемаКлиент.ОткрытьФайл("D:\test.xlsx");</p>
<p><a id="2.3" name="2.3"></a>2.3. Для того чтобы открыть веб-страницу в браузере, запустить программу по протоколу (например, mailto:, skype:, tel: и.т.д) или открыть навигационную ссылку информационной базы следует использовать процедуру <strong>ФайловаяСистемаКлиент.ОткрытьНавигационнуюСсылку</strong>. При этом в веб-клиенте пользователю будет предложено установить расширение для работы с файлами в тех случаях, когда оно необходимо для выполнения операции.<br/>Например:</p>
<p class="Programtext">ФайловаяСистемаКлиент.ОткрытьНавигационнуюСсылку("<a href="https://1c.ru" target="_blank">https://1c.ru</a>");<br/>ФайловаяСистемаКлиент.ОткрытьНавигационнуюСсылку("e1cib/navigationpoint/startpage"); // начальная страница.<br/>ФайловаяСистемаКлиент.ОткрытьНавигационнуюСсылку("<a href="mailto:help@1c.ru" target="_blank">mailto:help@1c.ru</a>");<br/>ФайловаяСистемаКлиент.ОткрытьНавигационнуюСсылку("skype:echo123?call");</p>
<p>В то же время, для открытия проводника или файла в программе просмотра не следует формировать ссылку по протоколу file://, для этого следует использовать одну из процедур: <strong>ОткрытьПроводник</strong> (см. п. 2.1) или <strong>ОткрытьФайл</strong> (см. п. 2.2).</p>
<p><a id="2.4" name="2.4"></a>2.4. Для того чтобы:</p>
<ul>
<li>запускать файлы на исполнение (например, *.exe, *bat), 

<li>использовать системные команды (например, ping, tracert или traceroute, обращаться к rac-клиенту), 

<li>выполнять команды на сервере, 

<li>а также получать код возврата и значения потоков вывода (stdout) и ошибок (stderr)</li></li></li></li></ul>
<p>следует использовать <strong>ФайловаяСистемаКлиент.ЗапуститьПрограмму</strong> (в клиентском коде) и <strong>ФайловаяСистема.ЗапуститьПрограмму </strong>(в серверном коде).<br/>Например:</p>
<p class="Programtext">ФайловаяСистемаКлиент.ЗапуститьПрограмму("calc");</p>
<p>Пример запуска с ожиданием завершения и получения кода возврата:</p>
<p class="Programtext">ПараметрыЗапускаПрограммы = ФайловаяСистема.ПараметрыЗапускаПрограммы();<br/>ПараметрыЗапускаПрограммы.ДождатьсяЗавершения = Истина;<br/>ПараметрыЗапускаПрограммы.ПолучитьПотокВывода = Истина;<br/>ПараметрыЗапускаПрограммы.ПолучитьПотокОшибок = Истина;</p>
<p class="Programtext">Результат = ФайловаяСистема.ЗапуститьПрограмму(<br/> "ping 127.0.0.1 -n 5", ПараметрыЗапускаПрограммы);</p>
<p class="Programtext">КодВозврата = Результат.КодВозврата;<br/>ПотокВывода = Результат.ПотокВывода;<br/>ПотокОшибок = Результат.ПотокОшибок;</p>
<p><a id="3" name="3"></a>3. Для выполнения команды, требующей запуск внешней программы в режиме наивысших прав (например, в ОС Windows - с отображением запроса повышения прав UAC), необходимо:</p>
<ul>
<li>реализовывать ее на управляемой форме в виде кнопки или пункта меню; 

<li>а на самой кнопке, начинающей выполнение действия, отобразить значок щита (общая картинка <strong>ЗначокЩита</strong> из <strong>Библиотеки стандартных подсистем</strong>).</li></li></ul>
<p><img height="47" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/500/i8100774.files/1.png?_=0000098797948ED8-v2" style="aspect-ratio:261/47" width="261"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><img height="127" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/500/i8100774.files/2.png?_=00000F440F2FE3D6-v2" style="aspect-ratio:378/127" width="378"/></p>
<p>См. например, <a href="https://technet.microsoft.com/ru-ru/library/ff182789.aspx" target="_blank">требования для ОС Windows</a>.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/500/i8100775.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Безопасность программного обеспечения, вызываемого через открытые интерфейсы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Безопасность программного обеспечения, вызываемого через открытые интерфейсы</h1><div style="clear: right; float: right;">#std775</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При использовании интеграции со сторонними приложениями с помощью открытых интерфейсов (в частности, с помощью COM) требуется отключать исполнение произвольного кода средствами вызываемого приложения.</p>
<p><a id="2" name="2"></a>2. В частности, перед программным открытием документов Microsoft Word и Microsoft Excel через COM следует запрещать исполнение макросов. Иначе это может привести к выполнению вредоносных макросов (вирусов), если таковые присутствуют в документе.</p>
<p><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: red'>НЕПРАВИЛЬНО</span><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'> открывать документ </span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-ansi-language: EN-US'>Microsoft</span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'> </span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-ansi-language: EN-US'>Word</span><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'> по умолчанию:<span style="COLOR: red"><o:p></o:p></span></span></p><pre class="programtext">ОбъектWord = Новый COMОбъект("Word.Application");<br/>Документ = ОбъектWord.Documents.Open(ИмяФайла);</pre><pre class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: #339966'>ПРАВИЛЬНО</span><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'><font color="#000000"> открывать документ Microsoft Word с отключением макросов:</font><span style="COLOR: #339966"><o:p></o:p></span></span></pre><pre class="programtext">ОбъектWord = Новый COMОбъект("Word.Application");<br/>ОбъектWord.WordBasic.DisableAutoMacros(1);<br/>Документ = ОбъектWord.Documents.Open(ИмяФайла);</pre><pre class="programtext"><p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: #339966'>ПРАВИЛЬНО </span><font color="#000000"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'>открывать документ </span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-ansi-language: EN-US'>Microsoft</span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'> </span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; mso-ansi-language: EN-US'>Excel</span><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"'> с отключением макросов:<o:p></o:p></span></font></p></pre><pre class="programtext">ОбъектExcel = Новый COMОбъект("Excel.Application");<br/>ОбъектExcel.AutomationSecurity = 3; // msoAutomationSecurityForceDisable = 3<br/>Документ = ОбъектExcel.Workbooks.Open(ИмяФайла);</pre>
<p><a id="3" name="3"></a>3. Если при программном открытии документов Microsoft Office все же необходимо разрешить выполнение автоматически запускающихся макросов, тогда следует реализовать следующую логику работы:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>• В конфигурации сделать формы настройки безопасности запуска макросов, отдельно для клиентского и серверного кода со следующими элементами:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>o «Запретить автоматический запуск»;</p>
<p>o «Разрешить запуск подписанных макросов (рекомендуется)» (выбран по умолчанию);</p>
<p>o «Разрешить запуск не подписанных макросов (опасно)».</p></blockquote>
<p>• Форма настройки для клиентского кода должна быть доступна каждому пользователю, настройки должны сохраняться в разрезе пользователей, каждому пользователью должны быть доступны только свои настройки.</p>
<p>• Форма настройки для серверного кода должна быть доступна только администратору, доступ к настройкам должен быть только у администратора.</p>
<p>• При программном открытии документов следует учитывать эти настройки.</p></blockquote>
<p><a id="3.1" name="3.1"></a>3.1. Проверку наличия подписи макросов в документах Microsoft Word можно реализовать так:</p>
<p class="Programtext">ОбъектWord = Новый COMОбъект("Word.Application");<br/>ОбъектWord.WordBasic.DisableAutoMacros(1); // Отключить автозапуск<br/>Документ = ОбъектWord.Documents.Open(ФайлДокумента);</p>
<p class="Programtext">Если Документ.<strong>VBASigned</strong> Тогда<br/> ОбъектWord.WordBasic.DisableAutoMacros(0); // Включить автозапуск<br/> Документ.RunAutoMacro(2); // wdAutoOpen = 2<br/>Иначе<br/> Документ.Close();<br/> ВызватьИсключение НСтр("ru = 'Документ не подписан. Открытие отменено.'");<br/>КонецЕсли;</p>
<p class="Programtext"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; FONT-WEIGHT: normal; COLOR: windowtext; mso-bidi-font-family: "Times New Roman"; mso-font-kerning: 0pt'>3.2. Проверку наличия подписи макросов в документах </span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; FONT-WEIGHT: normal; COLOR: windowtext; mso-ansi-language: EN-US; mso-bidi-font-family: "Times New Roman"; mso-font-kerning: 0pt'>Microsoft</span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; FONT-WEIGHT: normal; COLOR: windowtext; mso-bidi-font-family: "Times New Roman"; mso-font-kerning: 0pt'> </span><span lang="EN-US" style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; FONT-WEIGHT: normal; COLOR: windowtext; mso-ansi-language: EN-US; mso-bidi-font-family: "Times New Roman"; mso-font-kerning: 0pt'>Excel</span><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; FONT-WEIGHT: normal; COLOR: windowtext; mso-bidi-font-family: "Times New Roman"; mso-font-kerning: 0pt'> можно реализовать так:<o:p></o:p></span></p>
<p class="Programtext">ОбъектExcel = Новый COMОбъект("Excel.Application");<br/>ИсходныйУровеньБезопасности = ОбъектExcel.AutomationSecurity;<br/>ОбъектExcel.AutomationSecurity = 3; // msoAutomationSecurityForceDisable = 3<br/>Документ = ОбъектExcel.Workbooks.Open(ФайлДокумента);<br/>ОбъектExcel.AutomationSecurity = ИсходныйУровеньБезопасности;</p>
<p class="Programtext">Если Документ.<strong>VBASigned</strong> Тогда<br/> Документ.Close();<br/> Документ = ОбъектExcel.Workbooks.Open(ФайлДокумента);<br/>Иначе<br/> Документ.Close();<br/> ВызватьИсключение НСтр("ru = 'Документ не подписан. Открытие отменено.'");<br/>КонецЕсли;</p>
<h1 style="MARGIN: auto 0cm"><span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana","sans-serif"; FONT-WEIGHT: normal; COLOR: windowtext; mso-bidi-font-family: "Times New Roman"; mso-font-kerning: 0pt'>См. также: <a href="https://msdn.microsoft.com/en-us/vba/excel-vba/articles/application-automationsecurity-property-excel?f=255&amp;MSPPError=-2147217396" target="_blank"><font color="#0000ff">О параметрах исполнения макросов в <span lang="EN-US" style="mso-ansi-language: EN-US">Microsoft</span><span lang="EN-US"> </span><span lang="EN-US" style="mso-ansi-language: EN-US">Excel</span></font></a><o:p></o:p></span></h1></body><hr>
<h1 id='06_Настройка прав доступа к данным'>Настройка прав доступа к данным</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100689.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Настройка ролей и прав доступа.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Настройка ролей и прав доступа</h1><div style="clear: right; float: right;">#std689</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Действует для конфигураций УП (ERP), УТ 11 и входящих в них библиотек.<br/>Для других конфигураций рекомендуется к использованию.<br/>Содержит уточнения к требованиям других стандартов.</em></p></blockquote>
<p><strong>1. Общие положения</strong></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><a id="1.1" name="1.1"></a>1.1. Роли создаются «атомарными», т.е. дающими права на доступ к элементарным функциям программы. Из этих элементарных ролей создаются профили пользователей, которые уже и назначаются пользователям средствами БСП. Деление прав на доступ к объектам между функциями должно быть таким, чтобы на типовом внедрении не возникало необходимости в создании новых ролей.</p></blockquote>
<p>Исключение: для ролей, назначаемых внешним пользователям, задается исчерпывающий набор прав к необходимым объектам.</p>
<p>Например, в УП(ERP) это роль <strong>ПартнерСамообслуживание</strong>.</p>
<p><a id="1.2" name="1.2"></a>1.2. Роль <strong>ПолныеПрава </strong>(англ. <strong>FullAccess</strong>) совместно с ролью <strong>АдминистраторСистемы </strong>(англ. <strong>SystemAdministrator</strong>) дает неограниченный доступ (без RLS) ко всем объектам. См. <a href="#02_Стандартные роли.htm" target="_top">стандартные роли</a>.</p>
<p><a id="1.3" name="1.3"></a>1.3. Ни одна роль (в т.ч. <strong>ПолныеПрава</strong> и <strong>АдминистраторСистемы</strong>) не должна давать право на интерактивное удаление ссылочных объектов.</p>
<ul>
<li>после создания нового объекта нужно зайти в роль <strong>ПолныеПрава</strong> и отключить право интерактивного удаления у ссылочных объектов.</li></ul>
<p><a id="1.4" name="1.4"></a>1.4. Только роль <strong>ПолныеПрава</strong> и <strong>АдминистраторСистемы</strong> должна давать право на удаление ссылочных объектов.</p>
<p><a id="1.5" name="1.5"></a>1.5. Только для роли <strong>ПолныеПрава</strong> должен быть установлен флаг «Устанавливать права для новых объектов». Для всех остальных ролей этот флаг должен быть снят.</p>
<p><a id="1.6" name="1.6"></a>1.6. Если какое-то право может быть использовано только администратором системы (например, использование какого-то отчета или обработки), то достаточно, чтобы это предоставлялось одной из ролей <strong>ПолныеПрава</strong> и <strong>АдминистраторСистемы</strong>, создавать отдельные роли в этом случае не требуется.</p>
<p><a id="1.7" name="1.7"></a>1.7. Во всех документах, предполагающих проведение, должны быть выставлены флаги «Привилегированный режим при проведении» и «Привилегированный режим при отмене проведения», поэтому не нужно создавать роли, дающие права на изменение регистров, подчиненных регистраторам.</p>
<p>Исключение: документы, предназначенные для непосредственной корректировки записей регистров, могут проводиться с проверкой прав доступа, но в этом случае необходимо предусмотреть роли, дающие права на изменение регистров.</p>
<p><a id="1.8" name="1.8"></a>1.8. Во всех функциональных опциях должны быть выставлены флаги «Привилегированный режим при получении».</p>
<p>Исключение: в конфигурации могут быть предусмотрены параметризированные ФО, для которых разработчик специально предусматривает различия в получаемых значениях пользователями с разными правами. </p>
<p>Пример: Есть параметризованная ФО <strong>ИспользоватьВалютуПриРасчетеСПерсоналом</strong>, которая параметризуется организацией. Если пользователь будет получать ее значение в контексте своих прав, то он не увидит поле «валюта» в документе, если у него нет ни одной организации, где применяется валютный учет.</p>
<p><a id="1.9" name="1.9"></a>1.9. Не должно быть ролей, кроме <a href="#02_Стандартные роли.htm" target="_top">стандартных ролей БСП</a>, которые дают общие права (такие как <strong>Администрирование</strong>, <strong>ТонкийКлиент</strong> и т.п.).</p>
<ul>
<li>при создании новой роли нужно следить, чтобы эти права были выключены.</li></ul>
<p><a id="1.10" name="1.10"></a>1.10. В отдельных случаях для неконфиденциальных данных и общедоступных функций не требуется создавать отдельную роль на чтение (а также просмотр и ввод по строке - для ссылочных данных), а следует включать эти права в роли <strong>БазовыеПрава&lt;ИмяБиблиотеки&gt; </strong>(англ. <strong>BasicAccess&lt;LibraryName&gt;</strong>) и <strong>БазовыеПраваВнешнихПользователей&lt;ИмяБиблиотеки&gt; </strong>(англ. <strong>BasicAccessExternalUser&lt;LibraryName&gt;</strong>)<strong>  </strong>(эта роль необходима только если в конфигурации предусмотрена работа с <a href="https://its.1c.ru/db/bspdoc/content/380/hdoc" target="_top">внешними пользователями</a>). Например, это константы, общенациональные классификаторы, общие формы выбора периода, ввода контактной информации и др.</p>
<p><a id="1.11" name="1.11"></a>1.11. Не допускается, чтобы одна роль давала права на объекты, которые относятся к другим <a href="#04_Отнесение библиотечных объектов к подсистемам.htm" target="_top">подсистемам</a>. <br/>Например, в хранилище УП (ERP) нельзя, чтобы одна роль давала права на объекты, которые есть в УТ 11 и на объекты, которых в УТ 11 нет. См. также: <a href="#08_Разработка ролей в библиотеках.htm" target="_top">Разработка ролей в библиотеках</a>.</p>
<p><strong>2. Правила создания ролей к элементарным функциям</strong></p>
<p><a id="2.1" name="2.1"></a>2.1.  Объекты, при проектировании прав доступа, необходимо объединить в элементарные функции. Если объекты входят в одну функцию, то это означает, что не может быть задачи, когда доступ к этим объектам может быть разный.</p>
<p>Пример:<br/>Есть документ «Заказ клиента» и связанный с ним регистр накопления «Заказы клиентов», который хранит остатки неотгруженных товаров и неоплаченных сумм. По сути этот регистр является отражением текущего состояния табличной части заказа. Если пользователь имеет права на документ, то будет странно, что он не будет иметь прав на регистр. Поэтому документ «Заказ клиента» и регистр накопления «Заказы клиентов» можно объединить в одну элементарную функцию. Если есть отчет, отображающий в удобном виде остатки регистра «Заказы клиентов», то логично его тоже включить в эту функцию.</p>
<p>Противоположный пример:<br/>Есть документ «Реализация товаров и услуг», выступающий в роли распоряжения на отгрузку товаров. Остатки по распоряжениям на отгрузку товаров хранит регистр накопления «Товары к отгрузке». Объединять «Реализацию товаров и услуг» и регистр «Товары к отгрузке» в рамках одной функции было бы не правильно, т.к., например, кладовщик, вполне может иметь права на чтение регистра «Товары к отгрузке», но может не иметь прав на чтение документа «Реализация товаров и услуг».</p>
<p><a id="2.2" name="2.2"></a>2.2. В случае если возникают сомнения в том, что два объекта могут быть отнесены к одной элементарной функции, лучше выделить их в разные.</p>
<p><a id="2.3" name="2.3"></a>2.3. Каждый объект должен быть отнесен к элементарной функции, и только к одной.</p>
<p><a id="2.4" name="2.4"></a>2.4. Объекты, относящиеся к разным библиотекам не могут быть отнесены к одной элементарной функции.</p>
<p><strong>3. Ссылочные объекты и регистры</strong></p>
<p><a id="3.1" name="3.1"></a>3.1. Для функций, включающих в себя ссылочные объекты и независимые регистры сведений, должно быть создано две роли </p>
<ul>
<li><strong>Чтение&lt;ИмяФункции&gt; </strong>(англ. <strong>Read&lt;FeatureName&gt;</strong>); 

<li><strong>ДобавлениеИзменение&lt;ИмяФункции&gt; </strong>(англ. <strong>AddEdit&lt;FeatureName&gt;</strong>) или <strong>Изменение&lt;ИмяФункции&gt; </strong>(англ. <strong>Edit&lt;FeatureName&gt;</strong>), если добавление выполняется автоматически, либо только администратором. </li></li></ul>
<p>Роли должны содержать следующие права (когда они имеются у объекта метаданных):</p>
<ul>
<li>
<div><strong>Чтение&lt;ИмяФункции&gt;</strong> содержит права:</div>
<ul>
<li>
<div>Чтение, Просмотр, Ввод по строке.</div></li></ul>
<li>
<div><strong>Изменение&lt;ИмяФункции&gt;</strong> содержит те же права, что и роль <strong>Чтение&lt;ИмяФункции&gt;</strong>, а также:</div>
<ul>
<li>
<div>Изменение, Редактирование;</div>
<li>
<div>Проведение, Отмена проведения, Интерактивное проведение, Интерактивная отмена проведения, Интерактивное изменение проведенных (для документов);</div>
<li>
<div>Управление итогами (для регистров).</div></li></li></li></ul>
<li>
<div><strong>ДобавлениеИзменение&lt;ИмяФункции&gt;</strong> содержит те же права, что и роль <strong>Изменение&lt;ИмяФункции&gt;</strong>, а также:</div>
<ul>
<li>
<div>Добавление, Интерактивное добавление;</div>
<li>
<div>Интерактивная пометка удаления, Интерактивное снятие пометки удаления.</div></li></li></ul></li></li></li></ul>
<p><a id="3.2" name="3.2"></a>3.2. Необходимо помнить, что для регистров, подчиненных регистратору, обычно не требуется назначать права на изменение (см. п. 1.7).</p>
<p><strong>4. Журналы документов</strong></p>
<p><a id="4.1" name="4.1"></a>4.1. Если все документы, входящие в журнал, отнесены к одной элементарной функции, то права на чтение и просмотр журнала нужно включить во все роли этой функции.<br/><br/>4.2. Платформа <strong>1С:Предприятие</strong> имеет следующую особенность: если у пользователя нет прав на чтение любого документа, входящего в журнал документов, то платформа не дает доступ ко всем графам журнала, в котором отражается этот документ, для всех документов, входящих в журнал. Поэтому нет никакого практического смысла создавать отдельную роль для доступа к журналу: журнал может входить в элементарную функцию, или может быть доступен только пользователю с полными правами.<br/></p>
<p><strong>5. Константы</strong></p>
<p><a id="5.1" name="5.1"></a>5.1.  Если предполагается, что константа должна изменяться только администратором системы, то права на изменение и редактирование должны быть только у одной из ролей: <strong>ПолныеПрава</strong> или <strong>АдминистраторСистемы</strong>. Эти роли должны включать также и права на чтение и просмотр констант.</p>
<p><a id="5.2" name="5.2"></a>5.2.  Если предполагается, что константу может менять пользователь, то нужно включить права на чтение, просмотр, изменение и редактирование в уже имеющуюся «настроечную» роль или создать отдельную роль <strong>Изменение&lt;ИмяКонстанты&gt; </strong>(англ. <strong>Edit&lt;ConstantName&gt;</strong>), дающую права на чтение, просмотр, изменение и редактирование этой константы.</p>
<p><a id="5.3" name="5.3"></a>5.3.  В подавляющем большинстве случаев константа используется для хранения неконфиденциальной информации, поэтому права на чтение и просмотр константы нужно назначать роли <strong>БазовыеПрава&lt;ИмяБиблиотеки&gt;</strong> и <strong>БазовыеПраваВнешнихПользователей&lt;ИмяБиблиотеки&gt;</strong>. Это позволяет избежать неоправданной установки <a href="#05_Использование привилегированного режима.htm" target="_top">привилегированного режима</a> при чтении значения константы из кода.</p>
<p><a id="5.4" name="5.4"></a>5.4. В редких случаях, когда константа используется для хранения конфиденциальной информации, необходимо создать роль <strong>Чтение&lt;ИмяКонстанты&gt; </strong>(англ. <strong>Read&lt;ConstantName&gt;</strong>). При этом, если значение должно быть доступно только администратору, создавать отдельную роль на чтение не требуется. </p>
<p>Например, для константы <strong>ПараметрыАдминистрированияИБ</strong> создавать отдельную роль на чтение не требуется – достаточно включения прав на чтение и просмотр в роль <strong>АдминистраторСистемы</strong>.</p>
<p><strong>6. Подсистемы, отображаемые в главном командном интерфейсе</strong></p>
<p><a id="6.1" name="6.1"></a>6.1.  Для каждой подсистемы верхнего уровня должна быть создана роль <strong>Подсистема&lt;ИмяПодсистемы&gt; </strong>(англ. <strong>Subsystem&lt;SubsystemName&gt;</strong>), дающая право на просмотр</p>
<p><a id="6.2" name="6.2"></a>6.2.  Если интерфейс подсистемы организован так, что часть настроек и справочников отображаются в отдельной форме, то роль, дающая право на подсистему, должна включать права на просмотр этой формы (например, в УП(ERP) часть справочников в разделах командного интерфейса не вынесены и отображаются в форме, вызываемой командой «Настройки и справочники»).</p>
<p><strong>7. Отчеты</strong></p>
<p><a id="7.1" name="7.1"></a>7.1. Если отчет строится на основе данных, входящих в одну элементарную функцию (п. 2.1), то в общем случае права на доступ к такому отчету можно включить в роли, созданные по этой элементарной функции.</p>
<p>Пример:<br/>Отчет по исполнению заказов клиентов полностью строится на основе данных регистр накопления ЗаказыКлиентов, поэтому права на отчет нужно включить в роль, дающую право на чтение регистра.</p>
<p><a id="7.2" name="7.2"></a>7.2. Если на внедрении могут возникнуть задачи отдельной настройки прав к отчету, который строится на основе данных, входящих в одну элементарную функцию, то для доступа к такому отчету необходимо создать отдельную роль <strong>ПросмотрОтчета&lt;ИмяОтчета&gt; </strong>(англ. <strong>ViewReport&lt;ReportName&gt;</strong>), дающую права использования и просмотра.</p>
<p>Пример:<br/>Хотя отчет по контактной информации отображает данные входящие в элементарную функцию информации о клиентах, но на внедрении может потребоваться ограничить доступ к отчету, который позволяет вывести информацию по всем клиентам сразу.</p>
<p><a id="7.3" name="7.3"></a>7.3. Если отчет строится на основе данных, входящих в несколько элементарных функций,  необходимо создать роль <strong>ПросмотрОтчета&lt;ИмяОтчета&gt;</strong>, дающую права использования и просмотра.</p>
<p>Пример:<br/>Отчет по выполнению плана продаж строится на основе данных о планах и данных о продажах. Права чтение этих данных дают роли, относящиеся к разным элементарным функциям. Для реализации доступа к отчету нужно создать отдельную роль.</p>
<p><a id="7.4" name="7.4"></a>7.4. Однотипные отчеты при проектировании прав доступа можно объединить в элементарные функции при соблюдении следующих условий:</p>
<ul>
<li>отчеты не входят в другие элементарные функции (см. п. 7.1); 

<li>на внедрении не может возникнуть задачи различной настройки прав доступа к этим отчетам.</li></li></ul>
<p><strong>8. Обработки и общие формы</strong></p>
<p><a id="8.1" name="8.1"></a>8.1. Для каждой обработки, представляющей из себя рабочее место, т.е. в ГКИ есть отдельная команда для открытия этой обработки, должна быть создана роль <strong>ИспользованиеОбработки&lt;ИмяОбработки&gt;</strong> (англ. <strong>UseDataProcessor&lt;DataProcessorName&gt;</strong>), дающая права на просмотр и использование.</p>
<p>При этом не допускается объединять права доступа к разным обработкам-рабочим местам в одной роли.</p>
<p><a id="8.2" name="8.2"></a>8.2.  Права ко всем другим типам обработок, например</p>
<ul>
<li>вспомогательные обработки, которые нельзя вызвать из глобального командного интерфейса, а можно открыть только из других объектов, например, подбор товаров; 

<li>обработки, в которых расположен общий код, например, код формирования печатных форм;</li></li></ul>
<p>должны быть назначены в роли <strong>БазовыеПрава&lt;ИмяБиблиотеки&gt;</strong>.</p>
<p><a id="8.3" name="8.3"></a>8.3. Права к обработкам, предназначенным исключительно для администратора программы, нужно назначать только роли <strong>ПолныеПрава </strong>(или <b>АдминистраторСистемы</b>, если предусмотрена работа только в сеансе без установленного разделителя), не создавая отдельных ролей для таких обработок.<br/><br/>8.4. Все эти правила равным образом применяются для общих форм. Название роли для общей формы, описанной в п. 8.1. – <strong>ИспользованиеОбщейФормы&lt;ИмяОбщейФормы&gt;</strong> (англ. <strong>UseCommonForm&lt;CommonFormName&gt;</strong>).<br/><br/>8.5 Исключения из этих правил описаны в п. 6.2<br/><br/>Пример:<br/>В УТ 11 права к обработкам <strong>ПодборТоваров</strong> и <strong>ПоискОбъектовПоШтрихкоду</strong> назначены роли <strong>БазовыеПраваУТ</strong>.<br/></p>
<p><strong>9. Команды</strong></p>
<p><a id="9.1" name="9.1"></a>9.1.  Если команда не предполагает изменение данных, то в общем случае право на просмотр должно быть назначено той роли, которая дает право на просмотр объекта.</p>
<ul>
<li>т.к. роль, дающая право на изменение объекта дает также права на чтение объекта, нужно не забывать проставлять права на команду и в роли с правом на чтение, и в роли с правом на изменение; 

<li>права на команды печати, которые расположены в обработках (это печатные формы, которые печатаются из нескольких объектов) нужно назначать роли <strong>БазовыеПрава&lt;ИмяБиблиотеки&gt;</strong></li></li></ul>
<p><a id="9.2" name="9.2"></a>9.2.  Если команда связана с изменением данных, то право на просмотр нужно назначить роли, которая дает права на изменение объектов.</p>
<p><strong>10. Права, не связанные с доступом к объектам</strong></p>
<p><a id="10.1" name="10.1"></a>10.1. В случае если возникает необходимость давать пользователям какие-то дополнительные права, не связанные с доступом к объектам, нужно создавать роль <strong>&lt;НаименованиеПрава&gt;</strong>, не дающую доступ ни к одному объекту. При этом в наименовании не нужно использовать слово «Право».</p>
<p>Пример: <br/>Правильно <strong>ОтклонениеОтУсловийЗакупок</strong><br/>Неправильно <strong>ПравоСозданияВыпускПродукцииБезЗаказа</strong></p>
<p><a id="10.2" name="10.2"></a>10.2. В коде конфигурации нужно проверять наличие у пользователя этой роли. Пользователь с ролью <strong>ПолныеПрава</strong> должен проходить проверку без необходимости включения в его профиль этой роли. Для проверки следует использовать <a href="#04_Проверка прав доступа.htm" target="_top">функцию БСП <strong>Пользователи.РолиДоступны</strong></a>.</p>
<p><a id="10.3" name="10.3"></a>10.3. Использование других механизмов, кроме проверки наличия роли (или какого-то права) при реализации дополнительных прав пользователя, не допускается.</p>
<p><strong>11. Права для внешних пользователей</strong></p>
<p>Роли, предназначенные исключительно для предоставления прав доступа <a href="https://its.1c.ru/db/bspdoc/content/380/hdoc" target="_top">внешним пользователям</a> (представленным в программе одним из объектов, например, элементами справочников <strong>Сотрудники</strong>, <strong>Партнеры</strong>, <strong>Физические лица</strong> и др.), следует называть с определенным префиксом. <br/>Например, префикс <strong>Самообслуживание </strong>для доступа к рабочему месту по самообслуживанию клиентов в торговом решении:</p>
<ul>
<li><strong>СамообслуживаниеОформлениеПретензий</strong>, синоним <strong>Самообслуживание: оформление претензий</strong>
<li><strong>СамообслуживаниеПросмотрОтчетаСостояниеВыполненияЗаказа</strong>, синоним <strong>Самообслуживание: просмотр отчета «Состояние выполнения заказа»</strong>
<li><strong>СамообслуживаниеДобавлениеИзменениеКонтрагентов</strong>, синоним <strong>Самообслуживание: добавление и изменение контрагентов</strong></li></li></li></ul>
<p><strong>12. Права к устаревшим объектам</strong></p>
<p><a href="#12_Удаление устаревших объектов метаданных из конфигурации.htm" target="_top">Устаревшие объекты метаданных</a> с префиксом <strong>Удалить</strong> должны быть исключены из всех ролей, кроме ролей <strong>ПолныеПрава</strong> или <strong>АдминистраторСистемы</strong>.<br/><br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a>
<li><a href="#08_Разработка ролей в библиотеках.htm" target="_top">Разработка ролей в библиотеках</a>
<li><a href="#07_Эффективные условия запросов.htm" target="_top">Эффективные условия запросов (пункт 7)</a></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100488.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Стандартные роли.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Стандартные роли</h1><div style="clear: right; float: right;">#std488</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Если в конфигурации есть разграничение прав доступа пользователей к данным информационной базы, то настройку доступа следует выполнять с помощью ролей. Роли должны создаваться разработчиком конфигурации исходя из задачи ограничения доступа пользователей к данным.</p>
<p><a id="1.2" name="1.2"></a>1.2. В простейшем случае, роли в конфигурации могут непосредственно соответствовать должностным обязанностям пользователей (<strong>Директор</strong>, <strong>Бухгалтер</strong>, <strong>Кладовщик</strong> и т.п.).</p>
<p>Для возможности более тонкой настройки прав доступа администратором, роли могут соответствовать более «мелким» отдельным функциям, совокупность которых образует набор прав для конкретной категории пользователей. В этом случае пользователям назначается комбинация ролей (например, <strong>ЧтениеПроизводственныхДокументов</strong>, <strong>ДобавлениеИзменениеСкладскихДокументов</strong>, <strong>ЧтениеНСИ</strong> и т.п.). Для упрощения администрирования рекомендуется поставлять в составе конфигурации типовые комбинации таких ролей (например, готовый профиль для директора, бухгалтера, кладовщика и т.п.) При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> для этого можно воспользоваться средствами подсистемы <strong>«Управление доступом»</strong>.</p>
<p><a id="2" name="2"></a>2. В конфигурации должны быть определены три обязательные роли, которые предназначены для «прикладного» и системного администрирования информационной базы, а также для интерактивного открытия внешних отчетов и обработок: <br/><strong>ПолныеПрава</strong> (синоним «Полные права»), <strong>АдминистраторСистемы </strong>(синоним «Администратор системы») и <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок</strong> (синоним «Интерактивное открытие внешних отчетов и обработок»).</p>
<p><a id="2.1" name="2.1"></a>2.1. <strong>ПолныеПрава</strong> (англ. <strong>FullAccess</strong>) - обязательная роль, которая предоставляет неограниченный доступ ко всем «прикладным» данным информационной базы, но не дает прав доступа для администрирования информационной базы в целом (обновление конфигурации, работа в конфигураторе и т.п.). <br/>Эта роль должна:</p>
<ul dir="ltr" style="MARGIN-RIGHT: 0px">
<li>позволять самостоятельное использование (может быть назначена пользователям); 

<li>предоставлять неограниченный доступ ко всем данным области (к разделенным данным), кроме права интерактивного удаления (см. также п.5); 

<li>позволять выполнять все административные действия с областью данных (администрирование пользователей, настройка программы, удаление помеченных объектов и т.п.); 

<li>включать в себя перечисленные права: 

<ul>
<li><strong>Администрирование данных </strong>
<li><strong>Активные пользователи </strong>
<li><strong>Журнал регистрации </strong>
<li><strong>Монопольный режим</strong>
<li><strong>Тонкий клиент </strong>
<li><strong>Веб-клиент </strong>
<li><strong>Сохранение данных пользователя </strong>
<li><strong>Вывод</strong></li></li></li></li></li></li></li></li></ul></li></li></li></li></ul>
<p dir="ltr">В случае если конфигурация рассчитана на работу в модели сервиса, то роль <strong>ПолныеПрава</strong> назначается администраторам абонентов (администраторам областей данных). </p>
<p dir="ltr">При работе конфигурации в локальном режиме роль <strong>ПолныеПрава</strong> назначается пользователям совместно с ролью <strong>АдминистраторСистемы</strong>, так как в этом режиме функции системного и «прикладного» администрирования информационной базы, как правило, совмещены.</p>
<p dir="ltr">2.2. <strong>АдминистраторСистемы</strong> (англ. <strong>SystemAdministrator</strong>) – обязательная роль, предоставляющая дополнительные права на администрирование информационной базы в целом (обновление конфигурации, работа в конфигураторе и т.п.). <br/>Эта роль должна: </p>
<ul dir="ltr">
<li>
<div>
<div>назначаться пользователям только совместно с ролью <strong>ПолныеПрава</strong>;</div></div>
<li>
<div>
<div>предоставлять неограниченный доступ ко всем неразделенным данным информационной базы;</div></div>
<li>
<div>содержать все права доступа к объектам (кроме права интерактивного удаления - см. ниже п.5);</div>
<li>
<div>включать в себя все права к корню конфигурации (в частности, права <strong>Администрирование</strong> и <strong>Администрирование данных</strong>), кроме прав <strong>Интерактивное открытие внешних отчетов</strong> и <strong>Интерактивное открытие внешних обработок</strong>.</div></li></li></li></li></ul>
<p dir="ltr">2.3. <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок </strong>(англ.<strong> InteractiveOpenExternalReportsAndDataProcessors</strong>)<strong> </strong>обязательная роль, предоставляющая дополнительные права на открытие внешних отчетов и обработок через меню «Файл – Открыть». <br/>Эта роль должна:</p>
<ul dir="ltr" style="MARGIN-RIGHT: 0px">
<li>включать в себя права к корню конфигурации <strong>Интерактивное открытие внешних отчетов</strong> и <strong>Интерактивное открытие внешних обработок</strong>.</li></ul>
<p>При работе конфигурации в локальном режиме роль <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок</strong> назначается администраторам, но в целях повышения безопасности информационной базы администратор может запретить использование данной роли.</p>
<p>При работе в модели сервиса роли <strong>АдминистраторСистемы</strong>, <strong>ПолныеПрава</strong> и <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок</strong> назначаются администраторам сервиса.</p>
<p dir="ltr">2.4. Роли <strong>ПолныеПрава</strong>, <strong>АдминистраторСистемы</strong> и <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок</strong> должны устанавливаться как основные роли конфигурации (свойство <strong>ОсновныеРоли</strong>). </p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2.5" name="2.5"></a>2.5. При необходимости дать возможность удаления объектов «неполноправным» пользователям, рекомендуется добавить отдельную роль <strong>УдалениеПомеченныхОбъектов </strong>(англ. <strong>DeleteMarkedObjects</strong>). Такая роль не предназначена для самостоятельного использования, ее следует назначать пользователям совместно с остальными ролями конфигурации. </p></td></tr></tbody></table></p>
<p><a id="3" name="3"></a>3. <strong>Роли для настройки общих прав на информационную базу</strong>. В случае если в конфигурации для пользователей необходимо настраивать общие права работы с информационной базой (такие как «Тонкий клиент», «Толстый клиент», «Интерактивное открытие внешних обработок» и т.д.), то в конфигурации должны быть определены отдельные роли для предоставления этих прав. Такие роли не предназначены для самостоятельного использования, их следует назначать пользователям совместно с остальными ролями конфигурации. </p>
<p>Конфигурация должна быть одинаково рассчитана на работу как при наличии этих ролей, так и в условиях отсутствия любой из этих ролей у пользователя.</p>
<p><a id="3.1" name="3.1"></a>3.1.<strong> Администрирование </strong>(англ. <strong>Administration</strong>) - предоставляет права «Администрирование», «Администрирование данных», «Администрирование расширений конфигурации» и «Активные пользователи».</p>
<p><a id="3.2" name="3.2"></a>3.2. <strong>ВыводНаПринтерФайлБуферОбмена </strong>(англ.<strong> OutputToPrinterFileClipboard</strong>) <strong>- </strong>предоставляет право «Вывод».</p>
<p><a id="3.3" name="3.3"></a>3.3. <strong>ЗапускAutomation</strong> (англ. <strong>StartAutomation</strong>)<strong> - </strong>предоставляет право «Automation».</p>
<p><a id="3.4" name="3.4"></a>3.4. <strong>ЗапускВебКлиента </strong>(англ. <strong>StartWebClient</strong>)- предоставляет право «Веб-клиент».</p>
<p><a id="3.5" name="3.5"></a>3.5. <strong>ЗапускВнешнегоСоединения </strong>(англ.<strong> StartExternalConnection</strong>)<strong> - </strong>предоставляет право «Внешнее соединение»</p>
<p><a id="3.6" name="3.6"></a>3.6. <strong>ЗапускТолстогоКлиента </strong>(англ. <strong>StartThickClient</strong>)- предоставляет право «Толстый клиент».</p>
<p><a id="3.7" name="3.7"></a>3.7. <strong>ЗапускТонкогоКлиента </strong>(англ. <strong>StartThinClient</strong>) - предоставляет право «Тонкий клиент».</p>
<p><a id="3.8" name="3.8"></a>3.8. <strong>ИнтерактивноеОткрытиеВнешнихОтчетовИОбработок</strong> (англ. <strong>InteractiveOpenExternalReportsAndDataProcessors</strong>) - предоставляет права «Интерактивное открытие внешних обработок» и «Интерактивное открытие внешних отчетов».</p>
<p><a id="3.9" name="3.9"></a>3.9. <strong>ОбновлениеКонфигурацииБазыДанных </strong>(англ. <strong>UpdateDatabaseConfiguration</strong>) - предоставляет право «Обновление конфигурации базы данных».</p>
<p><a id="3.10" name="3.10"></a>3.10. <strong>ПросмотрЖурналаРегистрации </strong>(англ.<strong> ViewEventLog</strong>) <strong>- </strong>предоставляет право «Журнал регистрации».</p>
<p><a id="3.11" name="3.11"></a>3.11. <strong>РежимТехническогоСпециалиста</strong> (англ. <strong>TechnicalSpecialistMode</strong>) - предоставляет право «Режим технического специалиста». Этот режим предназначен только для разработчиков/внедренцев и для разбора нештатных ситуаций, поэтому конфигурация должна обеспечивать работу пользователей без использования этого режима. Например, все стандартные обработки (удаление помеченных, управление итогами и агрегатами и т.п.) должны быть доступны соответствующим пользователям в разделах интерфейса программы.</p>
<p><a id="3.12" name="3.12"></a>3.12. <strong>СохранениеДанныхПользователя</strong> (англ. <strong>SaveUserData</strong>) - предоставляет право «Сохранение данных пользователя». Рекомендуется предоставлять эту роль всем категориям пользователей, за редким исключением, когда требуется явно запретить настройку пользовательского интерфейса и любые другие персональные настройки таким образом, чтобы работа пользователя не оставляла никаких «следов» в информационной базе. Как правило, такой режим работы требуется для внешних или временных пользователей (респонденты, аудиторы и пр.) или для пользователей, работающих по тем или иным причинам под одной учетной записью. </p>
<p>Конфигурация должна быть рассчитана на работу пользователей без роли (права) <strong>СохранениеДанныхПользователя</strong>. В случае если конфигурация обращается из кода</p>
<ul>
<li>к пользовательским настройкам (сохранение и загрузка из различных хранилищ настроек: <strong>ХранилищеОбщихНастроек</strong>, <strong>ХранилищеВариантовОтчетов</strong>, <strong>ХранилищеНастроекДанныхФорм</strong>, <strong>ХранилищеПользовательскихНастроекОтчетов</strong>, <strong>ХранилищеСистемныхНастроек</strong>) 

<li>к истории работы пользователя (<strong>ИсторияРаботыПользователя</strong>) и избранному (<strong>ИзбранноеРаботыПользователя</strong>) 

<li>к пользовательским настройкам отчетов (метод <strong>УстановитьТекущиеПользовательскиеНастройки</strong> расширения управляемой формы для отчета)</li></li></li></ul>
<p>то при отсутствии у пользователя права <strong>СохранениеДанныхПользователя</strong>, этот код должен быть пропущен таким образом, чтобы это не оказывало влияния на основные сценарии работы пользователя. Кроме того, если в конфигурации предусмотрены пользовательские интерфейсы или отдельные элементы форм для работы с пользовательскими настройками (история вводимых значений, флажки «Запомнить мой выбор» и пр.), то они не должны быть доступны пользователям без права <strong>СохранениеДанныхПользователя</strong>.</p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> можно также воспользоваться функциями <strong>ХранилищеОбщихНастроекЗагрузить</strong> и <strong>ХранилищеОбщихНастроекСохранить</strong> общего модуля <strong>ОбщегоНазначения</strong>.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#10_Работа с пользовательскими настройками.htm" target="_top">Работа с пользовательскими настройками</a></em></p></blockquote>
<p><a id="4.1" name="4.1"></a>4.1. В тех случаях когда определенным пользователям требуется временный или постоянный доступ на просмотр всех данных информационной базы без ограничений, рекомендуется поставлять в составе конфигурации отдельные роли. Например, это может быть временный доступ для аудитора, постоянный – для собственника или директора организации.</p>
<p><a id="4.2" name="4.2"></a>4.2. В простейшем случае, когда роли в конфигурации соответствуют должностным обязанностям пользователей (<strong>Директор</strong>, <strong>Бухгалтер</strong>, <strong>Кладовщик</strong> и т.п.), должна быть добавлена отдельная роль <strong>ТолькоПросмотр </strong>(англ. <strong>ViewOnly</strong>).<br/>Роль <strong>ТолькоПросмотр</strong> должна включать права <strong>Чтение</strong>, <strong>Использование</strong>, <strong>Просмотр</strong>, <strong>Ввод по строке</strong> (если применимо) для большинства объектов метаданных (за исключением тех данных, которые никогда не выводятся пользователю, а используются в конфигурации только в технологических целях, и поэтому доступ к ним осуществляется всегда в привилегированном режиме).</p>
<p><a id="4.3" name="4.3"></a>4.3. В конфигурациях, в которых роли соответствуют более «мелким» отдельным функциям (совокупность которых образует набор прав для конкретной категории пользователей), рекомендуется назначать пользователям комбинацию ролей, которые предоставляют доступ только на чтение (например, <strong>ЧтениеПроизводственныхДокументов</strong>, <strong>ЧтениеСкладскихДокументов</strong>, <strong>ЧтениеКассовыхДокументов</strong> и т.п.). Рекомендуется поставлять в составе конфигурации типовые комбинации таких ролей (например, готовый профиль для аудитора, собственника, директора и т.п.)</p>
<p>При этом для неограниченного доступа на просмотр всех данных информационной базы для таких пользователей нужно отключать (не задавать) условия ограничения доступа на уровне записей (RLS).</p>
<p><a id="5" name="5"></a>5. Ни в одной роли, включая <strong>ПолныеПрава</strong> и <strong>АдминистраторСистемы</strong>, не должно быть установлено (кроме отдельных обоснованных случаев) следующих прав:</p>
<ul>
<li><strong>Право интерактивного удаления</strong>
<li><strong>Интерактивное удаление предопределенных данных</strong>
<li><strong>Интерактивная пометка удаления предопределенных данных</strong>
<li><strong>Интерактивное снятие пометки удаления предопределенных данных</strong>
<li><strong>Интерактивное удаление помеченных предопределенных данных</strong></li></li></li></li></li></ul>
<p>Право удаления рекомендуется оставить только в ролях <strong>ПолныеПрава</strong> и <strong>АдминистраторСистемы</strong>.</p>
<h2>Стандартные роли в расширениях конфигурации</h2>
<p><a id="6" name="6"></a>6. При разработке расширений конфигурации не рекомендуется заимствовать и изменять роли <strong>АдминистраторСистемы</strong> и <strong>ПолныеПрава</strong>. Вместо этого необходимо добавить в расширение собственные роли по следующему принципу.</p>
<p><a id="6.1" name="6.1"></a>6.1. В простейшем случае, если права на все объекты расширения одинаковы для всех категорий пользователей, то создать одну роль с указанным именем, настроить в ней необходимые права на объекты расширения и включить ее в основные роли расширения:</p>
<ul>
<li>&lt;ПрефиксРасширения&gt;<strong>ОбщиеПрава</strong></li></ul>
<p><a id="6.2" name="6.2"></a>6.2. Если права на объекты расширения различаются для администратора и пользователей, то создать две роли с именами:</p>
<ul>
<li>&lt;ПрефиксРасширения&gt;<strong>ПолныеПрава</strong> (включить в основные роли расширения) 

<li>&lt;ПрефиксРасширения&gt;<strong>БазовыеПрава</strong></li></li></ul>
<p><a id="6.3" name="6.3"></a>6.3. Если права на объекты расширения различаются  для администратора, пользователей и внешних пользователей (см. подробнее <a href="https://its.1c.ru/db/bspdoc/content/4/hdoc/issogl1_пользователи" target="_top">документацию <strong>Библиотеки стандартных подсистем</strong></a>), то создать три роли с именами:</p>
<ul>
<li>&lt;ПрефиксРасширения&gt;<strong>ПолныеПрава</strong> (включить в основные роли расширения) 

<li>&lt;ПрефиксРасширения&gt;<strong>БазовыеПрава</strong>
<li>&lt;ПрефиксРасширения&gt;<strong>БазовыеПраваВнешнихПользователей</strong></li></li></li></ul>
<p><a id="6.4.1" name="6.4.1"></a>6.4.1. В конфигурациях на базе <strong>Библиотеки стандартных подсистем</strong>  роли расширений из пп. 6.1-6.3 автоматически включаются в профили групп доступа при установке расширений в информационную базу:</p>
<ul>
<li>Роль &lt;ПрефиксРасширения&gt;<strong>ОбщиеПрава</strong> включается во все профили с ролями  <strong>БазовыеПраваБСП</strong>, <strong>БазовыеПраваВнешнихПользователейБСП</strong>, <strong>ПолныеПрава</strong>. 

<li>Роль &lt;ПрефиксРасширения&gt;<strong>БазовыеПрава</strong> включается в профили с ролью <strong>БазовыеПраваБСП</strong>. 

<li>Роль &lt;ПрефиксРасширения&gt;<strong>БазовыеПраваВнешнихПользователей</strong> включается в профили с ролью <strong>БазовыеПраваВнешнихПользователейБСП</strong>. 

<li>Роль &lt;ПрефиксРасширения&gt;<strong>ПолныеПрава</strong> включается в профили с ролью <strong>ПолныеПрава</strong>.</li></li></li></li></ul>
<p><a id="6.4.2" name="6.4.2"></a>6.4.2. Кроме того, если в расширении требуются гибкая настройка прав доступа, то следует дополнительно спроектировать и создать любые необходимые прикладные роли. При этом такие роли не включаются в профили групп доступа автоматически, но возможно программно дополнить ими поставляемые профили или интерактивно назначить их в справочнике <strong>Профили групп доступа</strong>.</p>
<p><a id="6.5" name="6.5"></a>6.5. В конфигурациях без использования <strong>Библиотеки стандартных подсистем</strong> (или без использования профилей) роли расширений из пп. 6.1-6.3 следует аналогично назначать пользователям ИБ программно средствами встроенного языка или интерактивно. Тем самым, разработанное расширение конфигурации может быть единообразно, без каких-либо доработок состава ролей, подключено в конфигурации как на базе <strong>Библиотеки стандартных подсистем</strong>, так и без нее.</p>
<h3>См. также</h3>
<ul>
<li>
<div><a href="#07_Эффективные условия запросов.htm" target="_top">Эффективные условия запросов (пункт 7)<br/></a></div></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100532.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Установка прав для новых объектов и полей объектов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script><font color="#000000" face="Verdana" size="2">
<h1 style="MARGIN: 12pt 0cm 3pt">Установка прав для новых объектов и полей объектов</h1><div style="clear: right; float: right;">#std532</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p style="MARGIN: 12pt 0cm 3pt">При разработке ролей конфигурации следует придерживаться такой методики установки прав на объекты метаданных, которая не допускает появления в конфигурации ролей, дающих доступ к полям объекта, но не к самому объекту; и как следствие, позволяет избежать потенциальные проблемы настройки прав доступа на внедрении, когда пользователь может ошибочно получить доступ ко всем реквизитам объекта метаданных при назначении ему подобной роли.</p>
<ol>
<li>
<div style="MARGIN: 12pt 0cm 3pt">Флажок «Устанавливать права для новых объектов» должен быть установлен только у роли <strong>ПолныеПрава</strong></div>
<li>
<div style="MARGIN: 12pt 0cm 3pt">При добавлении новой роли, флажок «Устанавливать права для реквизитов и табличных частей по умолчанию» должен быть установлен, а флажок «Независимые права подчиненных объектов» должен быть снят.</div>
<li>
<div style="MARGIN: 12pt 0cm 3pt">При необходимости установить в роли права только на поля какого-либо объекта метаданных (права просмотр, редактирование на реквизиты, табличные части, измерения, команды и т.п. без этих прав на сам объект), предварительно требуется следующее. В роли установить флажок «Независимые права подчиненных объектов», а флажок «Устанавливать права для реквизитов и табличных частей по умолчанию» снять с очисткой прав на все реквизиты и табличные части.</div>
<li>
<div style="MARGIN: 12pt 0cm 3pt">При добавлении в конфигурацию новых объектов или новых полей существующих объектов следует настроить права на эти объекты или поля в соответствующих ролях.</div></li></li></li></li></ol>
<p style="MARGIN: 12pt 0cm 3pt">Пример настройки прав в роли <strong>ДобавлениеИзменениеВидовКонтактнойИнформации</strong>:</p>
<p style="MARGIN: 12pt 0cm 3pt"><img height="417" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/600/i8100532.files/img6c13.png?_=00012BEE072E9BDC-v2" style="aspect-ratio:1105/417" width="1105"/><script type="text/javascript">forceDocumentLayout()</script><br/></p>
<p style="MARGIN: 12pt 0cm 3pt"></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100737.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Проверка прав доступа.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Проверка прав доступа</h1><div style="clear: right; float: right;">#std737</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В случае большого количества ролей в конфигурации (от нескольких десятков) не рекомендуется использовать ролевую настройку видимости в элементах форм (просмотр и редактирование реквизитов по ролям, пользовательскую видимость полей формы по ролям, использование команд по ролям). Вместо этого следует придерживаться следующих подходов:</p>
<ul>
<li>при сильных различиях внешнего вида и функциональности формы в зависимости от наличия тех или иных ролей у пользователя – разрабатывать отдельные формы, специализированные под конкретный набор прав пользователя; 

<li>при незначительных отличиях – выполнять проверку прав в коде. При этом следует иметь в виду, что программное управление видимостью может снизить скорость открытия формы, что нужно учитывать при выборе между предлагаемыми подходами.</li></li></ul>
<p>Эти меры позволяют: </p>
<ul>
<li>существенно упростить работу из кода с элементами управления, которые пропадают из коллекции <strong>Элементы</strong> (код <strong>Элементы.ИмяЭлемента.ИмяСвойства</strong> становится нерабочим); 

<li>повысить устойчивость кода к пересмотру состава ролей в конфигурации; 

<li>организовать контроль использования ролей в конфигурации (в противном случае, выполнять анализ прав доступа по флажкам, назначенных для ролей в различных элементах произвольных форм конфигурации, крайне затруднительно).</li></li></li></ul>
<p><a id="2" name="2"></a>2. Не рекомендуется использовать ролевую настройку видимости в  командном интерфейсе конфигурации, командном интерфейсе основного раздела, а также рабочей области начальной страницы. Вместо этого следует использовать настройку прав на разделы командного интерфейса, общие формы и объекты, включенные в командный интерфейс или в рабочую область. Это позволяет повысить предсказуемость поведения управляемого интерфейса для пользователя, а также упростить расследование ошибок.</p>
<p><a id="3" name="3"></a>3. Для проверки прав доступа в коде следует использовать метод <strong>ПравоДоступа</strong>. <br/>Например, неправильно:</p>
<p class="Programtext">Если РольДоступна("ДобавлениеИзменениеСтранМира") Тогда ...<br/>Если РольДоступна("ПросмотрОтчетаПопулярныеСтраны") Тогда ...</p>
<p>правильно:</p>
<p class="Programtext">Если ПравоДоступа("Редактирование", Метаданные.Справочники.СтраныМира) Тогда ...<br/>Если ПравоДоступа("Просмотр", Метаданные.Отчеты.ПопулярныеСтраны) Тогда ...</p>
<p>Такой подход позволяет повысить устойчивость кода к пересмотру состава ролей в конфигурации.</p>
<p><a id="4.1" name="4.1"></a>4.1. В тех случаях, где роль не дает никаких прав на объекты метаданных, а служит только для определения того или иного дополнительного права, следует использовать метод <strong>РольДоступна</strong>. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> (БСП) следует использовать функцию <strong>РолиДоступны</strong> общего модуля <strong>Пользователи</strong>:<br/>Например, без использования БСП:</p>
<p class="Programtext">Если РольДоступна(...) Или &lt;ЭтоПолноправныйПользователь&gt; Или ПривилегированныйРежим() Тогда ...</p>
<p>Либо аналогичная проверка с использованием БСП:</p>
<p class="Programtext">Если Пользователи.РолиДоступны(...) Тогда ...</p>
<p><a id="4.2" name="4.2"></a>4.2. Следует проектировать роли с учетом их влияния на командный интерфейс. В тех случаях, когда чтение или запись данных ведется в <a href="#05_Использование привилегированного режима.htm" target="_top">привилегированном режиме</a>, не следует указывать в роли права с условием ограничения на уровне записей (RLS) <b>ГДЕ ЛОЖЬ</b>. Вместо этого следует проверять наличие роли.</p>
<p>Например, права на общую форму <b>Заметка</b> дают роли <b>ДобавлениеИзменениеЗаметок</b> и <b>ЧтениеЗаметок</b>. Обращение к данным заметок при этом выполняется в привилегированном режиме. В этом случае с помощью метода <b>ПравоДоступа</b> невозможно определить, можно ли пользователю добавлять заметки по наличию права на форму <b>Заметка</b>.</p>
<p>Неправильно:</p>
<p>Добавить в роль <b>ДобавлениеИзменениеЗаметок</b> фиктивные права на регистр сведений <b>Заметки</b> (с условием ограничения <b>ГДЕ ЛОЖЬ</b>) и выполнять проверку:<br/><span style='FONT-SIZE: small; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>Если ПравоДоступа("Редактирование", Метаданные.РегистрыСведений.Заметки) Тогда</span></p>
<p>Правильно:</p>
<p><span style='FONT-SIZE: 13px; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>Если РольДоступна(</span><span style='FONT-SIZE: small; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>"ДобавлениеИзменениеЗаметок"</span><span style='FONT-SIZE: 13px; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>) Или &lt;ЭтоПолноправныйПользователь&gt; Или ПривилегированныйРежим() Тогда</span></p>
<p>Либо аналогичная проверка с использованием БСП:</p>
<p><font color="#000080" face="Courier New" size="2"><span style="caret-color: rgb(0, 0, 128)">// АПК:515-выкл - №737.4.2 – Допустимо проверять роль, так как в ней нет прав,<br/></span></font><span style='FONT-SIZE: small; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>// позволяющих определить может ли пользователь добавлять заметки.<br/></span><span style='FONT-SIZE: small; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>Если Пользователи.РолиДоступны("ДобавлениеИзменениеЗаметок") Тогда<br/></span><span style='FONT-SIZE: small; FONT-FAMILY: "Courier New"; COLOR: rgb(0,0,128); caret-color: rgb(0, 0, 128)'>// АПК:515-вкл</span></p>
<p><span style="FONT-SIZE: 12pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold">См. также</span></p>
<ul>
<li><a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a>
<li><a href="#08_Разработка ролей в библиотеках.htm" target="_top">Разработка ролей в библиотеках<br/></a></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100485.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Использование привилегированного режима.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование привилегированного режима</h1><div style="clear: right; float: right;">#std485</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. Привилегированный режим позволяет</p>
<ul>
<li>выполнить операции с данными от лица пользователей, которым данные недоступны; 

<li>ускорить работу, так как в привилегированном режиме не накладываются ограничения на доступ к данным.</li></li></ul>
<p><a id="1.2" name="1.2"></a>1.2. Привилегированный режим следует использовать</p>
<ul>
<li>когда требуется с логической точки зрения отключить проверку прав; 

<li>когда допустимо отключить проверку прав, чтобы ускорить работу и при этом работа с данными от лица пользователя логически не нарушает установленные для него права доступа.</li></li></ul>
<p><a id="2" name="2"></a>2. Далее приведем некоторые типовые сценарии использования привилегированного режима.</p>
<p><a id="2.1" name="2.1"></a>2.1. <u>Если подчиненные регистры (движения документов) требуются пользователю для получения отчетов</u>, то такие регистры следует оставлять доступными только для чтения, а запись в такие регистры следует выполнять переходом в привилегированный режим. При таком подходе, проверка прав на запись выполняется только для регистратора. </p>
<p>Например, в конфигурации имеются объекты метаданных:</p>
<ul>
<li><strong>Документ.ОприходованиеТоваров</strong>
<li><strong>РегистрНакопления.ОстаткиНаСкладах</strong>
<li><strong>Отчет.ОстаткиНаСкладах.</strong></li></li></li></ul>
<p>Документ <strong>ОприходованиеТоваров</strong> делает движения по регистру накопления <strong>ОстаткиНаСкладах</strong> при проведении в привилегированном режиме. Пользователю не требуется напрямую изменять регистр, но требуется формировать отчет <strong>ОстаткиНаСкладах</strong>, который читает данные регистра. Поэтому пользователю достаточно дать только право чтения регистра.</p>
<p><a id="2.2" name="2.2"></a>2.2. <u>Если регистры не требуются пользователю ни для получения отчетов, ни в командном интерфейсе</u>, то следует не давать пользователю права на их чтение. Чтение или запись данных в такие регистры выполняется переходом в привилегированный режим. </p>
<p>Например, в конфигурации имеется регистр сведений <strong>ВерсииПодсистем</strong>, данные которого не выводятся в отчетах, а доступ к нему осуществляется только через специальные функции общего модуля. В этом случае следует не давать пользователям какие-либо права доступа к регистру.</p>
<p><a id="2.3" name="2.3"></a>2.3. <u>Если для выполнения разрешенной пользователю операции требуются заранее недоступные данные</u>, тогда следует их получать переходом в привилегированный режим, но с гарантией предотвращения передачи этих данных на клиентскую сторону и с гарантией их использования на сервере только для выполнения запланированной операции.</p>
<p>Например, в случае если в конфигурации есть объекты метаданных</p>
<ul>
<li><strong>Документ.РеализацияТоваровИУслуг</strong>
<li><strong>РегистрНакопления.Продажи</strong>
<li><strong>РегистрНакопления.Взаиморасчеты</strong></li></li></li></ul>
<p>и необходимо, чтобы</p>
<ul>
<li>проведение документа от лица кладовщика изменяло регистр продаж, но кладовщику регистр продаж оставался недоступным. 

<li>при проведении документа от лица кладовщика проверялось состояние взаиморасчетов, но кладовщику регистр взаиморасчетов оставался недоступным.</li></li></ul>
<p><a id="2.4" name="2.4"></a>2.4. Привилегированный режим также следует использовать <u>с целью повышения производительности</u> в тех случаях, когда это не приводит к выполнению действий или получению данных, не разрешенных пользователю.</p>
<p>Пример 1. Выполняется запрос, у которого значения параметров отбора уже прошли проверку ограничения прав на уровне записей. Тогда сам запрос допустимо выполнить в привилегированном режиме для повышения его производительности. Переход в привилегированный режим, например, при получении данных для отчета, следует тщательно рассчитывать, чтобы предотвратить получение данных, не разрешенных пользователю.</p>
<p>Пример 2. Параметр сеанса <strong>"Текущий пользователь"</strong> не доступен ни в одной роли. Для получения значения используется функция:</p>
<p class="Programtext">Функция ТекущийПользователь() Экспорт<br/>  УстановитьПривилегированныйРежим(Истина);<br/>  Возврат ПараметрыСеанса.ТекущийПользователь;<br/>КонецФункции</p>
<p><a id="3" name="3"></a>3. В то же время, неоправданное использование привилегированного режима может привести к проблемам безопасности пользовательских данных. </p>
<p><a id="3.1" name="3.1"></a>3.1. Потенциально опасны любые экспортные процедуры и функции, которые выполняют на сервере какие-либо действия с предварительной безусловной установкой привилегированного режима, так как это отключает проверку прав доступа текущего пользователя. Особого внимания требуют экспортные процедуры и функции <a href="#01_Безопасность прикладного программного интерфейса сервера.htm" target="_top">клиентского прикладного программного интерфейса сервера 1С:Предприятия</a>.</p>
<p>Например, неправильно:</p>
<p class="Programtext">Процедура ИзменитьИлиУдалитьДанные(...) Экспорт</p>
<p class="Programtext">  УстановитьПривилегированныйРежим(Истина); // Отключаем проверку прав доступа<br/>  // Изменяем данные в привилегированном режиме<br/>  ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p>Правильно:</p>
<p class="Programtext">Процедура ИзменитьИлиУдалитьДанные(...) Экспорт</p>
<p class="Programtext">  // Изменяем данные <br/>  // (при этом если у пользователя недостаточно прав для выполнения операции над данными, то будет вызвано исключение)<br/>  ...</p>
<p class="Programtext">КонецПроцедуры</p>
<p>Исключение составляют случаи, когда действие, выполняемое процедурой, должно быть разрешено (или возвращаемое значение функции должно быть доступно) абсолютно всем категориям пользователей.</p>
<p><a id="3.2" name="3.2"></a>3.2. В случаях, когда к экспортной процедуре или функции выполняется обращение в сеансе с недостаточным уровнем прав доступа, должно вызываться исключение стандартного вида (см. метод платформы<strong> ВыполнитьПроверкуПравДоступа</strong>).</p>
<p>Как правило, для этого не требуется предусматривать в коде каких-либо проверок, так как при наличии в конфигурации <a href="#02_Стандартные роли.htm" target="_top">ролей и ограничений доступа к данным на уровне записей (RLS)</a> при попытке обращения к недоступным данным возникнет исключение:</p>
<ul>
<li>при выполнении запроса без <a href="#06_Ограничения на использование ключевого слова _РАЗРЕШЕННЫЕ_ в запросах.htm" target="_top">ключевого слова <strong>РАЗРЕШЕННЫЕ</strong></a>; 

<li>при вызове метода <strong>ПолучитьОбъект</strong> «от» недоступной ссылки на объект; 

<li>при вызове недоступного метода глобального контекста; 

<li>и в других аналогичных случаях.</li></li></li></li></ul>
<p>При необходимости выполнить проверку прав доступа вручную, следует использовать метод <strong>ВыполнитьПроверкуПравДоступа</strong>.<br/>Пример предварительной проверки перед выполнением действий в привилегированном режиме:</p>
<p class="Programtext">Процедура ИзменитьИлиУдалитьДанные(...) Экспорт</p>
<p class="Programtext">  ВыполнитьПроверкуПравДоступа(...); // Если у пользователя недостаточно прав, то будет вызвано исключение<br/>  УстановитьПривилегированныйРежим(Истина); // Отключаем проверку прав доступа</p>
<p class="Programtext">  // Изменяем данные в привилегированном режиме<br/>  ...</p>
<p class="Programtext">КонецПроцедуры</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#11_Перехват исключений в коде.htm" target="_top">Перехват исключений в коде</a></em></p></blockquote>
<p><a id="3.3" name="3.3"></a>3.3. Включать привилегированный режим следует точечно, чтобы остальной код не терял возможности проверки прав пользователя. <br/>Для этого нужно:</p>
<ul>
<li>установить привилегированный режим точно перед выполнением действия; 

<li>выполнить действие без проверки прав; 

<li>отключить привилегированный режим сразу же после выполнения действия; 

<li>продолжить выполнение кода в непривилегированном режиме.</li></li></li></li></ul>
<p>Например, неправильно:</p>
<p class="Programtext">Процедура ПодготовитьДанные()<br/><br/>    УстановитьПривилегированныйРежим(Истина);</p>
<p class="Programtext">    // Код подготовки запроса, которому требуется проверка прав</p>
<p class="Programtext">    // Код выполнения запроса, для которого требуется отключить проверку прав<br/>    Выборка = Запрос.Выполнить().Выбрать();</p>
<p class="Programtext">    // Обработка результатов запроса, где требуется проверка прав.</p>
<p>правильно:</p>
<p class="Programtext">Процедура ПодготовитьДанные()<br/><br/>    // Код подготовки запроса</p>
<p class="Programtext">    УстановитьПривилегированныйРежим(Истина);<br/>    Выборка = Запрос.Выполнить().Выбрать();<br/>    УстановитьПривилегированныйРежим(Ложь);</p>
<p class="Programtext">    // Обработка результатов запроса</p>
<p><a id="4" name="4"></a>4. Для перехода в привилегированный режим следует использовать следующие возможности платформы <strong>1С:Предприятие</strong>:</p>
<ol>
<li>При реализации логики проведения и отмены проведения документов в обработчиках модуля документа <strong>ОбработкаПроведения</strong> и <strong>ОбработкаУдаленияПроведения</strong>: 

<ul>
<li>
<div style="MARGIN-RIGHT: 0px">с помощью установки свойств документа "Привилегированный режим при проведении" и "Привилегированный режим при отмене проведения" (эти свойства переводят выполнение обработчиков в привилегированный режим);</div>
<li>
<div style="MARGIN-RIGHT: 0px">если логика проведения работает с некоторой выборкой данных, состав которой должен ограничиваться для пользователя, то следует снимать эти свойства и использовать процедуру глобального контекста <strong>УстановитьПривилегированныйРежим</strong>;</div></li></li></ul>
<li>Устанавливать свойство бизнес-процесса "<strong>Привилегированный режим"</strong> для создания задач в привилегированном режиме. 

<li>Устанавливать свойство "<strong>Привилегированный режим при получении"</strong> для <a href="#04_Использование функциональных опций.htm" target="_top">функциональных опций</a>. 

<li>В произвольном месте любого модуля с помощью процедуры глобального контекста <strong>УстановитьПривилегированныйРежим</strong>:</li></li></li></li></ol>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">УстановитьПривилегированныйРежим(Истина)<br/>// фрагмент кода в привилегированном режиме<br/>// …<br/>УстановитьПривилегированныйРежим(Ложь)<br/></p></blockquote>
<ol>
<li value="5">С помощью размещения процедур и функций в общем модуле с установленным свойством <strong>Привилегированный</strong>.</li></ol>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100415.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Ограничения на использование ключевого слова _РАЗРЕШЕННЫЕ_ в запросах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения на использование ключевого слова "РАЗРЕШЕННЫЕ" в запросах </h1><div style="clear: right; float: right;">#std415</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Использование ключевого слова <strong>РАЗРЕШЕННЫЕ</strong> во всех запросах с целью нормальной работы пользователя без возникновения ситуаций с нарушением прав доступа, может привести к искажению данных, полученных в результате выполнения запроса. Необходимо иметь в виду, что для корректной работы бизнес-логики, заложенной в конфигурацию, различным подсистемам конфигурации необходимо предоставить доступ не к ограниченной, а ко всей требуемой информации. <br/><br/>Например, если использовать ключевое слово <strong>РАЗРЕШЕННЫЕ</strong> в запросах механизмов определения списания себестоимости товаров при их отгрузке со склада, то себестоимость списания одного пользователя может отличаться от себестоимости другого. В данном случае необходимо поддерживать целостность информации и либо разрешать пользователю чтение информации для корректного отражения хозяйственной операции, либо конфигурация должна прекращать выполнение операции с сообщением о нарушении прав доступа. <br/><br/>Другой пример: если у пользователя отсутствует доступ к контактной информации контактных лиц контрагентов, то пользователь ее не увидит. Данная информация не задействована в бизнес-процессах заложенных в конфигурацию. Ограничение доступа к ней не повлияет на работу конфигурации в целом. <br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/600/i8100491.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Влияние изменения значений параметров сеанса и функциональных опций на производительность механизма ограничения доступа к данным</h1><div style="clear: right; float: right;">#std491</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В процессе работы система формирует специальный кеш запросов ограничений доступа к данным, создаваемый для того, чтобы повысить производительность запросов получения данных при использовании ограничений. Ограничения доступа к данным могут использовать параметры сеанса и функциональные опции. В кеш попадают запросы ограничения доступа с установленными значениями параметров сеанса и функциональных опций.</p>
<p>Однако, при изменении значений параметров сеанса или функциональных опций, которые используются в запросах ограничения доступа к данным, происходит очистка накопленного кэша запросов, что приводит к существенному снижению производительности запросов к данным.</p>
<p>Поэтому рекомендуется выполнять установку значений параметров сеанса <a href="#05_Использование параметров сеанса.htm" target="_top">"по требованию"</a>, в обработчике <strong>УстановкаПараметровСеанса</strong> модуля сеанса. Также не рекомендуется часто выполнять изменение значений  функциональных опций в процессе работы системы.</p></font>
<h2>См. также</h2><font face="Verdana" size="2">
<ul>
<li><a href="#04_Использование функциональных опций.htm" target="_top">Использование функциональных опций</a>
<li><a href="#05_Использование параметров сеанса.htm" target="_top">Установка параметров сеанса "по требованию"</a> </li></li></ul></font></body><hr>
<h1 id='07_Реализация обмена данными'>Реализация обмена данными</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/700/i8100637.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Настройка обмена данными для классификаторов между различными информационными базами.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Настройка обмена данными для классификаторов между различными информационными базами</h1><div style="clear: right; float: right;">#std637</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. К классификаторам относятся справочники и регистры сведений, которые содержат условно-постоянную информацию, одинаковую для всех совместно используемых информационных баз. Примерами классификаторов являются классификаторы банков, стран мира, валют, общероссийский классификатор единиц измерения (ОКЕИ), адресный классификатор и пр.</p>
<p>При использовании инструмента «Конвертация данных» для создания обменов данными между различными конфигурациями, необходимо придерживаться следующих рекомендаций по синхронизации классификаторов. </p>
<p><a id="2" name="2"></a>2. Данные классификаторов объектного типа (например, страны мира, ОКЕИ и т.п.) должны сопоставляться по уникальным идентификаторам ссылок, а в случае, если сопоставление по уникальным идентификаторам ссылок не дало положительного результата, то сопоставление должно продолжаться по полям поиска (режим автоматического сопоставления). Для этого требуется:</p>
<ul>
<li>в правиле конвертации объекта (ПКО) классификатора установить признаки: 

<ul>
<li>"Искать объект приемника по внутреннему идентификатору объекта источника" 

<li>"Продолжить поиск по полям поиска, если по идентификатору объект приемник не найден"</li></li></ul>
<li>указать правила конвертации свойств (ПКС), которые используются в качестве полей поиска. Например, "БИК" для классификатора банков. 

<li>при необходимости определить код обработчика ПКО "Поля поиска" в случае сложного сценария идентификации объектов.</li></li></li></ul>
<p>В противном случае, данные классификаторов могут продублироваться, так как у одинаковых с прикладной точки зрения элементов справочника в разных базах, как правило, различные уникальные идентификаторы ссылок. </p>
<p><a id="3" name="3"></a>3. Данные классификаторов, представленные наборами записей (например, адресный классификатор) в обмене участвовать не должны. Данные таких классификаторов должны заполняться и поддерживаться в актуальном состоянии отдельно в каждой информационной базе, между которыми настроен обмен данными. Это позволяет предотвратить избыточную миграцию данных этих классификаторов при обмене данными.<br/></p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="https://its.1c.ru/db/metod81/content/2943/hdoc" target="_top">Описание инструмента «Конвертация данных»</a> в разделе «Методическая поддержка 1С:Предприятия 8»</li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/700/i8100701.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Разработка планов обмена с отборами.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Разработка планов обмена с отборами </h1><div style="clear: right; float: right;">#std701</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Рекомендация (полезный совет)</font></em></p>
<p><a id="1.1" name="1.1"></a>1.1. Как правило, для синхронизации данных между различными конфигурациями и для организации распределенной информационной базы (РИБ) используется технология планов обмена. В этом случае часто возникает задача организации обмена не всеми данными информационной базы, а только частью данных. Например, данные могут быть отобраны для отправки в другие узлы в разрезе организаций, складов, подразделений и пр.</p>
<p>Для определения узлов-получателей для отправки данных следует использовать события <strong><a href="#01_Обработчик события ПередЗаписью.htm" target="_top">ПередЗаписью</a></strong> и <strong><a href="#03_Обработчик события ПередУдалением.htm" target="_top">ПередУдалением</a></strong> объектов информационной базы, в которых предусмотреть логику регистрации изменений данных на узлах планов обмена (далее – логика регистрации).</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>При использовании в конфигурации подсистемы «Обмен данными» Библиотеки стандартных подсистем логика регистрации может быть задана декларативно в правилах регистрации объектов (ПРО), которые разрабатываются в конфигурации «Конвертация данных». Подробнее см. документацию к подсистеме «Обмен данными».</em></p></blockquote>
<p><a id="1.2" name="1.2"></a>1.2. Кроме того, при проектировании логики регистрации необходимо учитывать следующие особенности:</p>
<ul>
<li>данные из сообщения обмена загружаются в произвольном порядке, поэтому на момент выполнения логики регистрации необходимые ей данные могут быть еще не загружены; 

<li>логика регистрации в том числе выполняется в контексте загрузки данных в транзакции записи объекта, при этом признак <strong>ОбменДанными.Загрузка</strong> игнорируется. Поэтому любые ошибки логики регистрации приведут к аварийному завершению загрузки данных из сообщения обмена; 

<li>в обмене в распределенной информационной базе (РИБ) могут участвовать не все данные, например, движения в регистрах мигрируют между узлами, а регистраторы (документы) – нет; 

<li>обращение к полям связанных таблиц "через точку" приводит к неявному соединению с дополнительными таблицами, что снижает производительность обмена.</li></li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>При разработке планов обмена для синхронизации с другими программами (не РИБ, по правилам конвертации) с помощью подсистемы «Обмен данными» Библиотеки стандартных подсистем первые два пункта не требуется учитывать в правилах регистрации для ссылочных типов объектов (СправочникСсылка, ДокументСсыслка и пр.), поскольку регистрация ссылочных объектов выполняется отложенно отдельной операцией после загрузки всех данных из сообщения обмена.</em></p></blockquote>
<p><a id="2" name="2"></a>2. С учетом перечисленных особенностей рекомендуется придерживаться следующих правил.</p>
<p><a id="2.1" name="2.1"></a>2.1. Обеспечить самодостаточность данных, участвующих в обмене. Таблицы данных (справочники, документы, регистры и пр.), участвующие в обмене, должны содержать все необходимые данные для выполнения логики регистрации. Логика регистрации не должна обращаться к полям связанных таблиц, она должна оперировать только данными основной таблицы, регистрацию изменений данных которой необходимо выполнить.</p>
<p>Пример:</p>
<ul>
<li>Данные регистрируются в разрезе организаций. 

<li>В обмене участвует две таблицы: документ и регистр накопления, в котором содержатся движения документа. И документ, и регистр накопления являются самодостаточными, т.к. содержат ссылку на организацию.  

<li>При записи данных пользователем или при загрузке данных, логика регистрации отрабатывает независимо для документа и для набора записей регистра.</li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#10_Самодостаточность регистров.htm" target="_top"><em>Самодостаточность регистров</em></a><em>, </em><a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top"><em>Разыменование ссылочных полей составного типа в языке запросов</em></a></p></blockquote>
<p>Если требование самодостаточности данных нельзя поддержать по другим соображениям, то нужно рассмотреть следующие варианты.</p>
<p><a id="2.2" name="2.2"></a>2.2. Исключить из обмена вторичные данные. Данные, которые могут быть вычислены независимо в каждой из информационных баз, участвующих в обмене, следует исключить из состава плана обмена. Тем самым, более не требуется логика регистрации этих данных, которая могла обращаться к полям связанных таблиц, участвующих в обмене.</p>
<p>Пример:</p>
<ul>
<li>Данные регистрируются в разрезе организаций.  

<li>В обмене участвует только одна таблица – документы поступления товаров.  

<li>Есть регистр сведений, который используется для определения прав доступа пользователей к документам поступления товаров. Этот регистр не является самодостаточным, т.к. не содержит ссылку на организацию, поэтому он не участвует в обмене данными.  

<li>Данные регистра вычисляются независимо в каждом узле распределенной информационной базы при загрузке документов поступления товаров.</li></li></li></li></ul>
<p><a id="2.3" name="2.3"></a>2.3. Регистрировать изменения связанных данных. Если в обмене участвуют несколько логически взаимосвязанных таблиц данных, то логика регистрации должна регистрировать к выгрузке данные всех взаимосвязанных таблиц вне зависимости от того, для какой таблицы данных выполняется логика регистрации. При этом логика регистрации не должна аварийно прерываться в случае, когда необходимые для логики регистрации данные отсутствуют.</p>
<p>Пример:</p>
<ul>
<li>Данные регистрируются в разрезе организаций.  

<li>В обмене участвует две таблицы: справочник <strong>"Основные средства"</strong> и регистр сведений <strong>"Основные средства организаций"</strong>. В регистре сведений хранится связь основного средства и организации, которой принадлежит основное средство.  

<li>При записи элемента справочника, и при записи набора записей регистра к выгрузке регистрируются как элемент справочника, так и набор записей регистра. 

<li>Если при загрузке данных из сообщения обмена сначала выполняется загрузка элемента справочника, то он записывается в базу данных, но не регистрируется к выгрузке на другие узлы планов обмена, т.к. логика регистрации проверяет, что набор записей регистра еще не загружен.  

<li>При последующей загрузке набора записей регистра выполняется регистрация изменений как самого набора записей, так и соответствующего элемента справочника.</li></li></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/700/i8100771.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Интеграция прикладных решений через формат EnterpriseData.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Интеграция прикладных решений через формат EnterpriseData</h1><div style="clear: right; float: right;">#std771</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Переходы с конфигурации на конфигурацию следует разрабатывать на основе правил конвертации (ПК). Обмены между конфигурациями, использующими <strong>Библиотеку стандартных подсистем</strong> (БСП), следует делать на основе формата <strong>EnterpriseData</strong>, разрабатывать новые обмены на основе ПК запрещается.</p>
<p><a id="2" name="2"></a>2. Актуальные версии <strong>EnterpriseData</strong> содержатся в последней опубликованной версии конфигурации БСП в виде объектов метаданных <strong>Пакет XDTO</strong>, именуемых следующим образом: EnterpriseData_{X|XX}_{Y|YY}_{Z|ZZ}, где X, Y - это Major версия, Z - это Minor версия.</p>
<p>Список актуальных версий поддерживается в состоянии, обеспечивающем оптимальный баланс между затратами на их поддержку в обменах и степенью совместимости версий прикладных решений. </p>
<p>Например, версии 1.0, 1.1 <strong>EnterpriseData</strong> были сняты с поддержки, т.к. интервала 1.2-1.4 версий формата достаточно для обмена между версиями прикладных решений из достаточно широкого диапазона. </p>
<p><a id="3" name="3"></a>3. При разработке новых версий прикладных решений нужно стремиться к тому, чтобы в обменах данными поддерживались все актуальные версии <strong>EnterpriseData</strong>. Это требование обеспечивает возможность асинхронного выпуска новых версий прикладных решений для разработчиков, а также возможность асинхронного перехода на них для пользователей. Исключение составляет случай, описанный в пункте 4.</p>
<p>Запрещается выпускать версию конфигурации, не поддерживающую какую-либо из версий формата, поддерживаемых в версии БСП, встроенной в версию конфигурации. </p>
<p>Пример:<br/>При выпуске конфигурации, в которую встроена версия 2.4.1 БСП, необходимо поддержать версии 1.2, 1.3 и 1.4 формата <strong>EnterpriseData</strong>.</p>
<p><a id="4" name="4"></a>4. Версия формата <strong>EnterpriseData</strong> не должна поддерживаться в обмене данными, если она не соответствует требованиям к функциональности этого обмена.</p>
<p>Пример:<br/>Для интеграции двух конфигураций необходим обмен документами «Чек ККМ». Поддержка передачи этих данных есть только в версии 1.4 формата, следовательно поддерживаемые в этом обмене версии формата должны быть не младше 1.4.<br/></p><tbody><tr><td>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="5" name="5"></a>5. В редких случаях обмен данными между прикладными решениями невозможен по причине отсутствия совместно поддерживаемых версий <strong>EnterpriseData</strong>, Например, такая ситуация может возникнуть, когда версия одного из прикладных решений, сильно устарела и требует обновления.<br/>В целях предотвращения данной проблемы рекомендуется информировать пользователей о том, какие версии <strong>EnterpriseData</strong> поддерживаются в прикладном решении.<br/></p></td></tr></tbody></table></td></tr></tbody></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="https://its.1c.ru/db/metod8dev/content/5851/hdoc" target="_top">Обмен данными с прикладными решениями на платформе “1С:Предприятие” в формате EnterpriseData</a> в разделе «Разработка и администрирование» ИТС</li></ul></font></body><hr>
<h1 id='08_Разработка и использование библиотек'>Разработка и использование библиотек</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100551.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Разработка конфигураций с повторным использованием общего кода и объектов метаданных</h1><div style="clear: right; float: right;">#std551</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. В условиях разработки нескольких конфигураций (например, линейки продуктов) возникает задача повторного использования общего кода и объектов конфигурации. Эту задачу рекомендуется решать с использованием вспомогательных конфигураций – библиотек.</p>
<p><strong>Библиотечная конфигурация (библиотека)</strong> – это конфигурация, которая в отличие от «обычных» прикладных решений не предназначена для использования конечными пользователями, а служит только для поддержки конфигураций, пользующихся ее функциональностью. В них размещается функциональность, общая для прикладных решений.</p>
<p>Библиотечный подход к разработке общей функциональности прикладных решений позволяет:</p>
<ul>
<li>вести разработку общей функциональности централизованно (а не в каждом прикладном решении «по месту»); 

<li>выпускать версии общей функциональности в виде продукта (дистрибутива или файла поставки библиотеки); 

<li>повторно использовать код и объекты библиотеки в конфигурациях с помощью механизма постановки на поддержку платформы <strong>1С:Предприятия</strong>; 

<li>унифицировать конфигурации по набору общих объектов метаданных и функциональных подсистем.</li></li></li></li></ul>
<p><a id="2" name="2"></a>2. В свою очередь, библиотека может стоять на поддержке у другой библиотеки, образуя таким образом <strong>иерархию библиотек</strong>. Библиотечная конфигурация, которая стоит на поддержке у другой библиотеки (<strong>библиотеки-родителя</strong>), называется <strong>библиотекой-наследником</strong>.</p>
<p>Как правило, библиотеки не являются самостоятельным предметом разработки, а предназначены только для создания прикладных решений. Таким образом, прикладные решения являются конечными конфигурациями-потребителями в иерархии библиотек.</p>
<p><a id="3" name="3"></a>3. При взаимодействии конфигураций, библиотек и внешних потребителей следует выделять следующие области видимости программного кода:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><a id="1" name="1"></a>1. <strong>Программный интерфейс</strong> содержит экспортные процедуры и функции, предназначенные для использования сторонними потребителями. Программный интерфейс можно разделить на две категории:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p dir="ltr" style="MARGIN-RIGHT: 0px">а) Программный интерфейс для использования любыми внешними потребителями предназначен для вызова из произвольного места в коде конфигурации. Потребителями такого программного интерфейса чаще всего выступают расширения конфигурации, сторонние доработки конфигурации или другие программы.</p>
<p dir="ltr" style="MARGIN-RIGHT: 0px">б) Программный интерфейс для конкретных потребителей должен располагаться в определенном месте в коде конфигурации, определенном в документации, и может быть вызван только определенным потребителем. Такой программный интерфейс рекомендуется размещать в отдельном подразделе <strong>Для вызова из других подсистем</strong>. Подробнее см. стандарт <a href="#07_Обеспечение совместимости библиотек.htm" target="_top">Обеспечение обратной совместимости библиотек</a>.</p></blockquote>
<p dir="ltr">2. <strong>Служебный программный интерфейс</strong> предназначен для экспортных процедур и функций, которые допустимо вызывать только из других функциональных подсистем этой же библиотеки (конфигурации).<br/>3. <strong>Служебные процедуры и функции</strong> содержат внутреннюю реализацию функциональной подсистемы. Экспортные процедуры и функции, расположенные в этом разделе, предназначены только для вызова из других объектов этой же подсистемы.</p>
<p dir="ltr"><img height="319" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/800/i8100551.files/image01.png?_=0000779A0D35C9C9-v2" style="aspect-ratio:706/319" width="706"/><script type="text/javascript">forceDocumentLayout()</script></p></blockquote></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#03_Использование дублирующего кода.htm" target="_top">Использование дублирующего кода</a> <!--LI><A href="/db/v8std/content/552/hdoc" target="_top">Имена объектов метаданных в иерархии библиотек</A-->
<li><a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">Переопределяемые и поставляемые объекты библиотеки</a>
<li><a href="#07_Обеспечение совместимости библиотек.htm" target="_top">Обеспечение обратной совместимости библиотек</a></li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100552.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Имена объектов метаданных в иерархии библиотек.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Имена объектов метаданных в иерархии библиотек</h1><div style="clear: right; float: right;">#std552</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При разработке конфигурации в условиях использования одной или нескольких <a href="#01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm" target="_top">библиотек</a> следует избегать конфликтов имен объектов метаданных (справочников, документов, общих модулей и др.), поставляемых из библиотек, с объектами самой конфигурации. </p>
<p>Для разрешения таких конфликтов за библиотекой более «низкого» уровня рекомендуется организационно закрепить преимущественное право выбора названия. Если в одном из ее потребителей оказывается объект с таким же именем, то следует переименовать объект в потребителе с использованием более конкретного названия. </p>
<p>Например: если в конфигурации «Управление предприятием» имеется группа команд <strong>Настройки</strong>, конфликтующая с одноименной группой команд из библиотеки «Базовая функциональность», то для группы команд в конфигурации-потребителе следует выбрать более точное название <strong>НастройкиУправленческогоУчета </strong>или <strong>НастройкиРасчетаСебестоимости</strong> или что-то иное.</p>
<p><a id="2" name="2"></a>2. При разработке независимых друг от друга библиотек (одноуровненых) такие конфликты могут быть выявлены достаточно поздно – при или после их внедрения в конфигурацию-потребитель. </p>
<p>Для того чтобы снизить вероятность возникновения конфликтов в этом случае, следует всегда предметно называть объекты метаданных. Название должно кратко описывать сущность объекта; не должно называться слишком «универсально». </p>
<p><a id="2.1" name="2.1"></a>2.1. Наиболее «универсальные» названия объектов метаданных следует использовать в библиотеках самого нижнего уровня иерархии. <br/>Например, общие модули <strong>ОбщегоНазначения</strong>, <strong>СтроковыеФункции</strong>, <strong>РаботаСФормами</strong> и т.п.  </p>
<p><a id="2.2" name="2.2"></a>2.2. В конечных конфигурациях-потребителях и в библиотеках более высокого уровня использовать более специфичные для данной прикладной области названия. <br/>Например, общие модули <strong>ТорговыйУчет</strong>, <strong>ЗарплатаКадры</strong>, <strong>ПроведениеСкладскихДокументов</strong> и т.п. </p>
<p><a id="2.3" name="2.3"></a>2.3. Функционал, который расширяет аналогичный функционал библиотеки более низкого уровня или конфликтует с «соседней» одноуровненой библиотекой, рекомендуется именовать с добавлением уточняющих постфиксов, которые соответствуют имени конкретной библиотеки или конечной конфигурации-потребителя. <br/>Например:  </p>
<ul>
<li>общий модуль <strong>ОбновлениеИнформационнойБазыМФ</strong> – функции обновления ИБ, специфичные для прикладного решения, конечной конфигурации-потребителя «Мои финансы» (постфикс <strong>МФ</strong>) 

<li>общий модуль <strong>СтроковыеФункцииРегл</strong> – функции общего назначения, специфичные для библиотеки регламентированного учета (постфикс <strong>Регл</strong>) 

<li>общий модуль <strong>РаботаСФормамиЗарплатаКадры</strong> – функции для работы с формами в библиотеке базовой зарплатно-кадровой функциональности (постфикс <strong>ЗарплатаКадры</strong>). 

<li>подписка на событие <strong>УстановитьПометкуУдаленияПрисоединенныхФайловЗарплатаКадры - </strong>определена в библиотеке базовой зарплатно-кадровой функциональности.</li></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100553.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Переопределяемые и поставляемые объекты библиотеки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Переопределяемые и поставляемые объекты библиотеки</h1><div style="clear: right; float: right;">#std553</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. С точки зрения возможностей по настройке функциональности <a href="#01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm" target="_top">библиотеки</a> для работы в конкретной конфигурации-потребителе все объекты библиотеки условно делятся на три категории:</p>
<ul>
<li><strong>Непереопределяемые объекты</strong> – «готовые» объекты, которые можно брать и использовать в конфигурации-потребителе «как есть». Их не следует изменять в конфигурации-потребителе, чтобы они были гарантированно одинаковы во всех конфигурациях, основывающихся на данной библиотеке. Более того, такие объекты обязательно должны присутствовать в конфигурациях, использующих библиотеку. Примеры: справочник <strong>Пользователи</strong>.  

<li><strong>Переопределяемые объекты</strong> – «изменяемые» объекты для настройки библиотеки под конкретную конфигурацию. Они могут или должны быть изменены в конфигурации-потребителе. С помощью таких объектов решаются задачи изменения поведения библиотечной функциональности, ее параметризации спецификой конфигурации-потребителя, а также для подключения библиотечной функциональности к объектам конфигурации-потребителя. 

<li><strong>Определители типов</strong> – объекты-«классификаторы», которые не имеют базовой реализации. Предназначены для формирования единого пространства имен в конфигурациях, а реализация при этом может как угодно сильно различаться в конфигурациях-потребителях. Например: справочники-классификаторы, в которых  определено только «название»; сущность «организация» должна быть везде представлена справочником с именем <strong>Организации</strong> и т.п.</li></li></li></ul>
<p><a id="2" name="2"></a>2. Рекомендуется устанавливать для объектов этих категорий следующие <strong>правила поставки</strong>:</p>
<ul>
<li>Непереопределяемые объекты – «изменения не рекомендуются»; 

<li>Переопределяемые объекты и определители типов – «изменения разрешены».</li></li></ul>
<p>Эти рекомендации продиктованы следующими соображениями:</p>
<ul>
<li>Непереопределяемые объекты – это зона ответственности разработчиков библиотеки, поэтому они не должны разрабатываться «по месту» в конфигурациях-потребителях. Но если необходимость изменений носит срочный характер (например, исправление критичной ошибки) или продиктована какими-то другими особыми соображениями, то допускается вносить изменения в непереопределяемые библиотечные объекты непосредственно в конфигурациях-потребителях. При этом нужно иметь в виду, что эти изменения могут быть потеряны при следующем обновлении версии библиотеки в конфигурации-потребителе, если не принять специальные меры (донести до разработчиков библиотеки необходимость внесения изменений или задокументировать этот отход от общей инструкции по обновлению библиотеки). 

<li>Переопределяемые объекты и определители типы должны или могут быть изменены в конфигурации-потребителе, исходя из их назначения.</li></li></ul>
<p><a id="3" name="3"></a>3. Для того чтобы упростить настройку библиотеки и снизить трудоемкость последующих обновлений версии библиотеки в конфигурации-потребителе следует <strong>минимизировать количество переопределяемых объектов</strong> с помощью следующих методик:</p>
<ul>
<li>Настройка состава типов переопределяемых реквизитов (свойств) тех или иных объектов библиотеки – для подключения библиотечной функциональности к объектам конфигурации-потребителя. <br/>Например: можно подключить библиотечную функциональность к конкретным объектам конфигурации с помощью расширения состава типов общей команды, измерения составного типа в регистре сведений и т.п.<br/>
<li>Добавление предопределенных элементов – для параметризации библиотечной функциональности спецификой конфигурации-потребителя. <br/>Например: для библиотечной подсистемы ведения и обработки контактной информации с помощью предопределенных элементов библиотечного справочника <strong>ВидыКонтактнойИнформации</strong> можно указать, какие виды контактной информации (телефон, адрес, электронный адрес и т.п.) должны быть предусмотрены для объектов конфигурации-потребителя.<br/>
<li>Переопределяемые общие модули – для изменения поведения библиотечной функциональности в конкретной конфигурации-потребителе  

<ul>
<li>с помощью переопределения тех или иных «обработчиков событий», предоставляемых библиотекой; например: <br/><strong>ПриПодготовкеМакетаОписанияОбновлений<br/>ПриЗаписиСпискаБизнесПроцессов</strong>
<li>а также для того, чтобы сообщить ту или иную информацию из конфигурации-потребителя в библиотеку. Например:<br/><strong>ПриОпределенииБазовойВерсииКонфигурации</strong><br/><strong>ПриДобавленииОбработчиковОбновления</strong></li></li></ul></li></li></li></ul>
<p><a id="3.1" name="3.1"></a>3.1. Переопределяемые общие модули следует называть с постфиксом <strong>Переопределяемый</strong>.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#09_Правила создания общих модулей.htm" target="_top">правила создания общих модулей</a></em></p></blockquote>
<p><a id="3.2" name="3.2"></a>3.2. Переопределяемые общие модули должны содержать только экспортные процедуры, которые вызываются из кода самой библиотеки. Другими словами, не следует допускать вызовов процедур переопределяемых модулей непосредственно из кода конфигурации-потребителя. </p>
<p>Такое ограничение обусловлено соображением повышения устойчивости кода конфигурации, который вызывает библиотечные процедуры и функции, составляющие программный интерфейс библиотеки. К программному интерфейсу библиотеки следует относить только экспортные процедуры и функции непереопределяемых общих модулей.</p>
<p>Например, в библиотеке имеются модули <strong>ПапкиФайлов</strong> и <strong>ПапкиФайловПереопределяемый</strong>. Для использования в конфигурациях-потребителях в модуле <strong>ПапкиФайлов</strong> реализуется экспортная функция:</p>
<p class="Programtext">Функция ПапкаФайлов(ВладелецФайловСсылка) Экспорт<br/><br/>  СтандартнаяОбработка = Истина;<br/>  Результат = Неопределено;<br/>  ПапкиФайловПереопределяемый.ПриПолученииПапкиФайлов(ВладелецФайловСсылка, Результат, СтандартнаяОбработка);</p>
<p class="Programtext">  Если СтандартнаяОбработка Тогда<br/>    // реализация по умолчанию<br/>    Результат = ...<br/>  КонецЕсли;<br/>  Возврат Результат;<br/><br/>КонецФункции</p>
<p>а в модуле <strong>ПапкиФайловПереопределяемый - </strong>процедура-обработчик <strong>ПриПолученииПапкиФайлов</strong>:</p>
<p class="Programtext">// Вызывается из библиотеки при необходимости получить папку файлов для указанного владельца.<br/>//<br/>// Параметры:<br/>//  ВладелецФайловСсылка – ЛюбаяСсылка                  - владелец файлов, для которого нужно вернуть папку.<br/>//  ПапкаФайлов          – СправочникСсылка.ПапкиФайлов - в этот параметр нужно записать результат. <br/>//  СтандартнаяОбработка – Булево                       - по умолчанию, Истина. В этом случае папка будет получена способом по умолчанию. <br/>// Если значение параметра установить в Ложь, то в этой процедуре можно реализовать свой способ, <br/>// которым в конфигурации получают папки файлов.<br/>// <br/>Процедура ПриПолученииПапкиФайлов(ВладелецФайловСсылка, ПапкаФайлов, СтандартнаяОбработка) Экспорт</p>
<p class="Programtext">КонецПроцедуры</p>
<p>При этом все вызовы из конфигурации-потребителя должны идти только к библиотечному модулю <strong>ПапкиФайлов</strong>. Обращение к <strong>ПапкиФайловПереопределяемый</strong> разрешается только из библиотечного модуля <strong>ПапкиФайлов</strong>.</p>
<p><a id="3.3" name="3.3"></a>3.3. При этом в переопределяемом модуле следует располагать только экспортные процедуры с пустой реализацией. В нем не должно быть каких-либо других не-экспортных процедур или функций. Базовую реализацию переопределяемых процедур следует располагать в непереопределяемом коде.</p>
<p>Такое ограничение вызвано необходимостью снизить трудоемкость последующих обновлений переопределяемых модулей в конфигурации-потребителе.<br/>Например, неправильно поставлять переопределяемый модуль <strong>МояБиблиотекаПереопределяемый </strong>с<strong> </strong>какой-либо реализацией:</p>
<p class="Programtext">Функция НастройкаПараметровРаботы() Экспорт<br/> <br/> ПараметрыРаботы = Новый Структура;<br/> // если настройки по умолчанию не подходят, то измените их. <br/> ПараметрыРаботы.Вставить("ПоказыватьЕдинственныйРаздел",     Ложь);<br/> ПараметрыРаботы.Вставить("ЗадаватьДатуДляПрочихРазделов",    Ложь);<br/> ПараметрыРаботы.Вставить("ИспользоватьВнешнихПользователей", Ложь);<br/> Возврат ПараметрыРаботы;</p>
<p class="Programtext">КонецФункции</p>
<p>правильно:</p>
<p class="Programtext">// Позволяет настроить работу подсистемы.<br/>//<br/>// Параметры:<br/>//  ПараметрыРаботы - Структура - содержит свойства:<br/>//    * ПоказыватьЕдинственныйРаздел     - Булево - по умолчанию Ложь.<br/>//    * ЗадаватьДатуДляПрочихРазделов    - Булево - по умолчанию Ложь.<br/>//    * ИспользоватьВнешнихПользователей - Булево - по умолчанию Ложь.<br/>//<br/>Процедура ПриПолученииНастроекПараметровРаботы(ПараметрыРаботы) Экспорт</p>
<p class="Programtext">КонецПроцедуры</p>
<p>а установку значений по умолчанию перенести в общий модуль библиотеки:</p>
<p class="Programtext">Функция НастройкаПараметровРаботы()</p>
<p class="Programtext"> ПараметрыРаботы = Новый Структура;<br/> // настройки по умолчанию<br/> ПараметрыРаботы.Вставить("ПоказыватьЕдинственныйРаздел",     Ложь);<br/> ПараметрыРаботы.Вставить("ЗадаватьДатуДляПрочихРазделов",    Ложь);<br/> ПараметрыРаботы.Вставить("ИспользоватьВнешнихПользователей", Ложь);</p>
<p class="Programtext"> // а теперь запросим конфигурацию-потребитель на случай, <br/> // если эти умолчания не устраивают<br/> МояБиблиотекаПереопределяемый.ПриПолученииНастроекПараметровРаботы(ПараметрыРаботы);<br/> Возврат ПараметрыРаботы;</p>
<p class="Programtext">КонецФункции</p>
<p><a id="3.4" name="3.4"></a>3.4. При обновлении версии библиотеки в конфигурации-потребителе особого внимания требуют модули корневого объекта конфигурации и переопределяемые общие модули, так как автоматическое обновление таких «узких мест» конфигурации-потребителя невозможно. Для настройки в конфигурации переопределяемых общих модулей рекомендуется придерживаться общего подхода:</p>
<ul>
<li>При первой настройке переопределяемого общего модуля следует ознакомиться с документацией к его экспортным процедурам и функциям, приведенной в комментариях к ним. И при необходимости вписать реализацию в экспортные процедуры и функции модуля.  

<li>При каждом обновлении переопределяемого общего модуля требуется перенести новые экспортные процедуры и функции, удалить устаревшие и убедиться, что комментарии, количество и имена параметров у всех функций совпадают с их библиотечными эквивалентами. При необходимости вписать реализацию в новые экспортные процедуры и функции модуля, а также актуализировать реализацию уже существующих функций, если в новой версии библиотеки было изменено их назначение или состав параметров.</li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#05_Переопределение общих модулей в условиях иерархии библиотек.htm" target="_top">Переопределение общих модулей в условиях иерархии библиотек</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100705.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Отнесение библиотечных объектов к подсистемам.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Отнесение объектов библиотек к подсистемам</h1><div style="clear: right; float: right;">#std705</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Все объекты библиотеки должны быть отнесены к одной корневой подсистеме (например, для объектов БСП – это подсистема <strong>СтандартныеПодсистемы</strong>), которая не содержит командного интерфейса. </p>
<p><a id="2" name="2"></a>2. Допустимо наличие нескольких корневых подсистем (помимо упомянутой в п.1), содержащих командный интерфейс.<br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#06_Использование подсистем.htm" target="_top">Использование подсистем</a></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100554.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Переопределение общих модулей в условиях иерархии библиотек.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Переопределение общих модулей в условиях иерархии библиотек</h1><div style="clear: right; float: right;">#std554</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p>При разработке нескольких библиотек, стоящих на поддержке друг у друга, следует минимизировать трудоемкость по обновлению кода <a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">переопределяемых общих модулей</a> в каждой из библиотек. Для этого рекомендуется использовать следующую методику:</p>
<p><a id="1" name="1"></a>1. В библиотеке нижнего уровня иерархии (самой базовой) объявляется переопределяемый модуль по правилам <a href="#09_Правила создания общих модулей.htm" target="_top">создания общих модулей</a>. <br/>Например: <strong>БазоваяБиблиотекаПереопределяемый</strong>.</p>
<p><a id="2" name="2"></a>2. В библиотеках более высокого уровня реализация процедур и функций переопределяемого модуля базовой библиотеки может быть при необходимости доопределена. При этом в переопределяемом модуле размещается не сама реализация (ее код), а только один вызов. </p>
<p>Например, в общем модуле <strong>БазоваяБиблиотекаПереопределяемый</strong> в библиотеке верхнего уровня «Базовая библиотека» реализация фактически размещается в модуле <strong>МодульБазовойБиблиотеки</strong>:</p>
<p class="Programtext">Процедура НастроитьИнтерфейс(Знач ПараметрыРаботы) Экспорт</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">// Начало: Базовая библиотека<br/>МодульБазовойБиблиотеки.НастроитьИнтерфейс(ПараметрыРаботы);<br/>// Конец: Базовая библиотека</p></blockquote>
<p class="Programtext">КонецПроцедуры</p>
<p>в этом же общем модуле <strong>БазоваяБиблиотекаПереопределяемый</strong> в следующей библиотеке верхнего уровня «Библиотека второго уровня»:</p>
<p class="Programtext">Процедура НастроитьИнтерфейс(Знач ПараметрыРаботы) Экспорт</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">// Начало: Базовая библиотека<br/>МодульБазовойБиблиотеки.НастроитьИнтерфейс(ПараметрыРаботы);<br/>// Конец: Базовая библиотека</p>
<p class="Programtext">// Начало: Библиотека второго уровня<br/>МодульБиблиотекиВторогоУровня.НастроитьИнтерфейс(ПараметрыРаботы);<br/>// Конец: Библиотека второго уровня</p></blockquote>
<p class="Programtext">КонецПроцедуры</p>
<p>и т.д.</p>
<p><a id="3" name="3"></a>3. Таким образом, в конечной конфигурации-потребителе реализация переопределяемого модуля имеет вид:</p>
<p class="Programtext">Процедура НастроитьИнтерфейс(Знач ПараметрыРаботы) Экспорт</p>
<blockquote class="Programtext" dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">// Начало: Базовая библиотека<br/>МодульБазовойБиблиотеки.НастроитьИнтерфейс(ПараметрыРаботы);<br/>// Конец: Базовая библиотека</p>
<p class="Programtext">// Начало: Библиотека второго уровня<br/>МодульБиблиотекиВторогоУровня.НастроитьИнтерфейс(ПараметрыРаботы);<br/>// Конец: Библиотека второго уровня</p>
<p class="Programtext">// а теперь выполняем настройки так, как это надо нашей конфигурации<br/>// ...</p></blockquote>
<p class="Programtext">КонецПроцедуры</p>
<p>Такой подход позволяет</p>
<ul>
<li>скрыть от библиотек верхнего уровня и конфигураций-потребителей детали реализации библиотек более нижнего уровня, что минимизирует риск ошибки при обновлении кода переопределяемого общего модуля; 

<li>но при этом, в общем случае, оставляет возможность выбора: воспользоваться или отказаться от нее.</li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100739.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Размещение сведений о настройках подсистемы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размещение сведений о настройках подсистемы<br/></h1><div style="clear: right; float: right;">#std739</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote>
<p>Для задействования возможностей по настройке функциональности <a href="#01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm" target="_top">библиотеки</a> для работы в конкретной конфигурации-потребителе используются <a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">переопределяемые объекты</a>.</p>
<p>Все настройки подсистемы, доступные для изменения разработчикам на внедрении,  можно разделить на общие для всех объектов подсистемы (или для группы объектов) и специфичные для конкретных объектов. При выборе места размещения таких настроек следует руководствоваться следующими принципами.</p>
<p><a id="1" name="1"></a>1. Настройки подсистемы, общие для всех объектов или для группы объектов метаданных, рекомендуется задавать в переопределяемом модуле. Для этого создать одну процедуру с именем <strong>ПриОпределенииНастроек</strong> и параметром <strong>Настройки</strong> типа <strong>Структура</strong>, которая предварительно заполнена значениями по умолчанию. Использования структуры в качестве значения параметра позволяет расширять программный интерфейс, добавляя новые свойства в структуру, без нарушения <a href="#07_Обеспечение совместимости библиотек.htm" target="_top">обратной совместимости</a>. </p>
<p>Например, определение настроек подсистемы Варианты отчетов, общих для всех отчетов в общем модуле ВариантыОтчетовПереопределеяемый:</p>
<p class="Programtext">Процедура ПриОпределенииНастроек(Настройки) Экспорт<br/> Настройки.ВыводитьОтчетыВместоВариантов = Истина;<br/> Настройки.ВыводитьОписания = Истина;<br/> Настройки.ДругиеОтчеты.ПоказыватьФлажок = Истина;<br/>КонецПроцедуры</p>
<p><a id="1.1" name="1.1"></a>1.1. Для определения списка объектов конфигурации, с которыми работает подсистема, не следует использовать перебор объектов метаданных с <a href="#11_Перехват исключений в коде.htm" target="_top">конструкцией Попытка Исключение</a>. Вместо этого, рекомендуется создавать отдельную процедуру переопределяемого модуля, в которой перечислять такие объекты. Например, <strong>ПриОпределенииПодключенныхОтчетов</strong> содержит в себе список отчетов конфигурации, подключенных к подсистеме.</p>
<p><a id="1.2" name="1.2"></a>1.2. Процедуры, позволяющие переопределить бизнес-логику сразу для всех объектов, с которыми работает подсистема, также рекомендуется  размещать в переопределяемом модуле. Имена процедур рекомендуется выбирать исходя из выполняемого действия. Например: <strong>ПриРегистрацииИзмененийКлючейВариантовОтчетов</strong> описывает изменения имен вариантов отчетов. Для каждого выполняемого действия рекомендуется создавать отдельную процедуру.</p>
<p><a id="2" name="2"></a>2. Настройки или обработчики, специфичные для отдельного объекта, рекомендуется размещать в модуле менеджера этого объекта. Для процедуры, содержащей в себе информацию о свойствах, реквизитах или о наличии методов объекта рекомендуется использовать имена вида <strong>ПриОпределенииНастроек&lt;ИмяПодсистемы&gt;</strong>. Например <strong>ПриОпределенииНастроекВариантовОтчетов</strong>.</p>
<p>Процедуры, задающие переопределяемую бизнес-логику, специфичную для конкретного объекта так же рекомендуется размещать в модуле менеджера этого объекта. Для каждого выполняемого действия рекомендуется создавать отдельную процедуру. При этом наличие той или иной процедуры в модуле менеджера задается в процедуре <strong>ПриОпределенииНастроек&lt;ИмяПодсистемы&gt;</strong>, что позволяет избежать использования <a href="#11_Перехват исключений в коде.htm" target="_top">конструкции Попытка Исключение</a> для проверки наличия процедуры. Например, в модуле менеджера отчета заданы процедуры:</p>
<p class="Programtext">Процедура ПриОпределенииНастроекВариантовОтчетов(Настройки) Экспорт<br/> Настройки.ОпределитьНастройкиФормы = Истина;<br/>Настройки.Размещение.Вставить(ВариантыОтчетовКлиентСервер.ИдентификаторНачальнойСтраницы(), "Важный");<br/>Настройки.ПриПолученииДанныхОтчета = Истина; // Наличие процедуры.<br/>КонецПроцедуры</p>
<p class="Programtext">Процедура ПриПолученииДанныхОтчета(Данные) Экспорт<br/> Данные.Очистить();<br/> // Своя процедура получения данных.<br/>КонецПроцедуры</p>
<p>Процедура <strong>ПриОпределенииНастроекВариантовОтчетов</strong> определяет настройки конкретного отчета и сообщает о наличии процедуры <strong>ПриПолученииДанныхОтчета</strong>, в которой задана переопределяемая обработка данных отчета.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100644.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Обеспечение совместимости библиотек.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обеспечение совместимости библиотек</h1><div style="clear: right; float: right;">#std644</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><font face="Verdana" size="2">1. При разработке библиотек необходимо обеспечивать обратную совместимость (далее просто: совместимость) между различными версиями библиотек в пределах одной <a href="#02_Нумерация редакций и версий.htm" target="_top">подредакции</a> библиотеки. </font></p><font face="Verdana" size="2">
<p>Например, версии библиотеки 2.0.1, 2.0.2 и 2.0.5 должны быть совместимы. Однако допустимо, если следующая подредакция 2.1 будет содержать существенные изменения, нарушающие это правило.</p>
<p>Совместимость версий библиотек позволяет существенно минимизировать затраты на обновление библиотеки в конфигурациях-потребителях, так как не требует от прикладных разработчиков многократно пересматривать код и адаптировать объекты метаданных своих конфигураций под изменения библиотеки. Прикладное решение может «уверенно» использовать старые возможности библиотеки, не «торопясь» переходить на новые.</p>
<p>Кроме того, при разработке нескольких библиотек, стоящих на поддержке друг у друга, совместимость позволяет вести совместную разработку «соседних» библиотек на разных версиях базовой библиотеки, без необходимости частого обновления всего дерева библиотек.</p>
<p><a id="1.1" name="1.1"></a>1.1. Таким образом, полный номер версии библиотеки однозначно указывает на характер изменений и совместимость с ее предыдущими версиями:</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<td>Что изменилось в новой версии?</td>
<td>РР</td>
<td>.ПП</td>
<td>.ВВ</td>
<td>.СС</td></tr>
<tr align="left">
<td>Архитектурные изменения,<br/>нарушена совместимость<br/>(есть инструкция по переходу)</td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#ffe4b5"><strong>x</strong></td>
<td align="center" bgcolor="#ffe4b5"><strong>x</strong></td></tr>
<tr>
<td>Новые функции</td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#ffe4b5"><strong>x</strong></td></tr>
<tr>
<td>Исправлены ошибки</td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td>
<td align="center" bgcolor="#90ee90"><strong>v</strong></td></tr></tbody></table></p>
<p>Здесь:</p>
<ol>
<li>РР (редакция) – существенно нарушена совместимость (серьезные архитектурные или «знаковые» изменения в библиотеке); 

<li>ПП (номер подредакции) – нарушена совместимость (требуется отработать инструкцию по переходу на эту версию, иначе конфигурация будет неработоспособна), удалены устаревшие объекты метаданных; 

<li>ВВ (номер версии) – доступны только новые функции для пользователей и/или разработчиков (возможна «механическая» автозаливка метаданных библиотеки в конфигурацию-потребитель; инструкция по переходу на эту версию не обязательна, без ее отработки конфигурация сохранит работоспособность); 

<li>СС (номер сборки) – содержит только исправление ошибок (возможна «механическая» автозаливка метаданных библиотеки в конфигурацию-потребитель).</li></li></li></li></ol>
<p>Исключением являются заранее согласованные с потребителями библиотеки случаи, такие как отработка изменений законодательства. При отработке изменений законодательства (вступающего в силу до публикации следующей версии) следует выпускать исправительные сборки с этими изменениями для всех веток, находящихся на поддержке, даже если эти изменения добавляют новые функции или нарушают совместимость. В таких случаях вынужденное нарушение обратной совместимости должно быть отражено в сопроводительной документации согласно п.1.8, отработка которой обязательна.</p>
<p>Удалять устаревшие объекты метаданных следует не чаще раза в год в версиях, запланированных к выпуску ближе к концу года, а удаляемые объекты должны существовать не менее двух лет. В конце года в документации по обновлению на версию библиотеки указывается, что это версия обязательная для перехода, чтобы гарантировать перенос данных (или очистку данных для успешной реструктуризации). Недопустимо требовать от типовых решений выпуска обязательной версии для перехода чаще раза в год суммарно для всех библиотек.</p>
<p><a id="1.2" name="1.2"></a>1.2. В библиотеках с несколькими <a href="#06_Использование подсистем.htm" target="_top">функциональными подсистемами</a> нарушение совместимости хотя бы в одной подсистеме означает увеличение номера подредакции библиотеки (2-я цифра).</p>
<p><a id="1.3" name="1.3"></a>1.3. При незапланированном нарушении совместимости в 3-й и 4-й цифре следует отозвать релиз библиотеки, устранить нарушение и выпустить новый исправленный релиз.</p>
<p><a id="1.4" name="1.4"></a>1.4. Аналогичные требования распространяются и на незапланированное добавление новых функций в 4-й цифре.</p>
<p><a id="1.5" name="1.5"></a>1.5. В целях обеспечения совместимости следует</p>
<ul>
<li>выделить программный интерфейс библиотеки, скрыв от потребителей все остальные детали ее реализации; 

<li>и не изменять программный интерфейс и поведение. Его допустимо только расширять.</li></li></ul>
<p>Требования обеспечения обратной совместимости имеют приоритет над следующими стандартами разработки:</p>
<ul>
<li><a href="#03_Имя, синоним, комментарий.htm" target="_top">Имя, синоним комментарий</a>
<li><a href="#03_Имена процедур и функций.htm" target="_top">Названия процедур и функций</a></li></li></ul>
<p><a id="1.6" name="1.6"></a>1.6. К программному интерфейсу библиотеки относятся те ее объекты метаданных, которые предназначены для использования в прикладном коде:</p>
<ul>
<li>имена, состав параметров и поведение экспортных процедур и функций, которые размещены в <a href="#02_Структура модуля.htm" target="_top">разделе «программный интерфейс»</a>;  

<li>имена, состав параметров и поведение всех экспортных процедур <a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">переопределяемых общих модулей</a>; 

<li>имена ролей и имена элементов стилей; 

<li>имена объектов метаданных (включая их реквизиты, табличные части и пр.), к которым допускается непосредственное обращение из прикладного кода или из запросов. </li></li></li></li></ul>
<p><a id="1.7" name="1.7"></a>1.7. Совместимость не нарушает расширение программного интерфейса библиотеки, т.е. в 3-й цифре допустимо, например:</p>
<ul>
<li>добавление новой функции в программный модуль;  

<li>добавление процедуры в переопределяемый модуль; 

<li>добавление еще одного необязательного параметра в конец списка формальных параметров существующей функции; 

<li>добавление нового реквизита в справочник, регистр и т.п. (к которым библиотека допускает прямые обращения).</li></li></li></li></ul>
<p>В то же время: </p>
<ul>
<li>Добавления нового API и расширение состава параметров существующего API не ожидают от исправительных релизов библиотеки (поэтому недопустимо в 4-й цифре); 

<li>Даже если состав параметров и название процедуры не меняется, но изменилось ее поведение, то это является нарушение совместимости (т.е. допустимо только во 2-й цифре) 

<ul>
<li>например, процедура <strong>Сумма(а, б)</strong> вместо суммы вдруг стала вычислять разность.</li></ul></li></li></ul>
<p><a id="1.8" name="1.8"></a>1.8. В остальных случаях, когда согласно п.1 допустимо отказаться от поддержки совместимости, следует документировать в сопроводительной документации к библиотеке любые изменения, приводящие к нарушению совместимости. Документация должна включать инструкцию для прикладных разработчиков по адаптации своих конфигураций к новому программному интерфейсу библиотеки. <br/>Примеры фрагментов документации:</p>
<ul>
<li>Общий модуль <strong>ВнешниеЗадачиСервер </strong>переименован во <strong>ВнешниеЗадачи</strong>. Необходимо заменить все обращения к этому модулю в коде конфигурации. 

<li>Процедура <strong>УстановитьПроизвольныйЗаголовокПриложения</strong> общего модуля <strong>СтандартныеПодсистемыКлиент</strong> переименована в <strong>УстановитьРасширенныйЗаголовокПриложения</strong>. Необходимо заменить все обращения к этой процедуре в коде конфигурации. 

<li>Отчет <strong>СправкаПоИсполнительскойДисциплине</strong> удален. Вместо него следует использовать одноименный вариант отчета <strong>Задачи</strong>. Необходимо заменить все обращения к этому отчету в коде и в метаданных конфигурации. 

<li>В общий модуль <strong>ЗащитаПерсональныхДанныхПереопределяемый</strong> добавить процедуру <strong>ДополнитьДанныеОрганизацииОператораПерсональныхДанных</strong>, перенеся ее определение из поставки библиотеки. 

<li>Хранение предмета взаимодействий перенесено из реквизита документа в реквизит <strong>Предмет</strong> регистра сведений <strong>ПредметыПапкиВзаимодействий</strong>. Необходимо заменить все обращения к реквизиту <strong>Предмет</strong> документов взаимодействий на реквизит <strong>Предмет</strong> регистра сведений.</li></li></li></li></li></ul>
<p><a id="1.9" name="1.9"></a>1.9. Рекомендуется размещать программный интерфейс библиотеки только в ее общих модулях, а не в модулях объектов, менеджеров, наборов записей и т.п.</p>
<p><a id="2.1" name="2.1"></a>2.1. Для разделения программного интерфейса от служебных процедур и функций необходимо размещать их в разных разделах модуля или в разных общих модулях. </p>
<p>При размещении в разных общих модулях, к модулям со служебными процедурами и функциями может быть добавлен постфикс <strong>Служебный </strong>(англ. <strong>Internal</strong>). <br/>Например:</p>
<ul>
<li>Общие модули <strong>ОбменСообщениями </strong>и <strong>ОбменСообщениямиКлиент</strong> – программный интерфейс подсистемы «Обмен сообщениями» 

<li>Общий модуль <strong>ОбменСообщениямиСлужебный</strong> – служебные процедуры и функции подсистемы, которые не предназначены для использования в коде конфигурации-потребителя.</li></li></ul>
<p>Такое размещение программного интерфейса в отдельных общих модулях позволяет</p>
<ul>
<li>сосредоточить весь программный интерфейс библиотеки в относительно небольшом, обозримом количестве общих модулей,  

<li>а также выводить в контекстной подсказке при вводе текстов модулей только те процедуры и функции, которые действительно являются частью программного интерфейса. Например, после точки в строке «ОбменСообщениями.» в редакторе текста модуля  разработчик конфигурации-потребителя увидит только то, что ему действительно может понадобиться в работе.</li></li></ul>
<p><a id="2.2" name="2.2"></a>2.2. Раздел <strong>Программный интерфейс</strong> так же может содержать в себе процедуры и функции, предназначенные для вызова конкретными потребителями из других функциональных подсистем библиотеки или из других библиотек. Такие процедуры и функции рекомендуется выделять в отдельный подраздел <strong>Для вызова из других подсистем</strong>, оформленный в виде области <strong>ДляВызоваИзДругихПодсистем</strong> (англ. <strong>InterfaceImplementation</strong>). </p>
<p>Внутри подраздела процедуры и функции должны быть разделены на группы комментариями с именем потребителя, для которого они предназначены. Подробнее см. <a href="#01_Разработка конфигураций с повторным использованием общего кода и объектов метаданных.htm" target="_top">Разработка конфигураций с повторным использованием общего кода и объектов метаданных</a>. Например:</p>
<p class="Programtext">#Область ПрограммныйИнтерфейс<br/>//Код процедур и функций</p>
<p class="Programtext">#Область ДляВызоваИзДругихПодсистем</p>
<p class="Programtext">// СтандартныеПодсистемы.ГрупповоеИзменениеОбъектов<br/>// Код процедур и функций<br/>// Конец СтандартныеПодсистемы.ГрупповоеИзменениеОбъектов</p>
<p class="Programtext">// ТехнологияСервиса.ВыгрузкаЗагрузкаДанных<br/>// Код процедур и функций<br/>// Конец ТехнологияСервиса.ВыгрузкаЗагрузкаДанных</p>
<p class="Programtext">#КонецОбласти</p>
<p class="Programtext">#КонецОбласти</p>
<p>Англоязычный вариант синтаксиса:</p>
<p class="Programtext">#Region Public<br/>// Enter code here.</p>
<p class="Programtext">#Region InterfaceImplementation</p>
<p class="Programtext">// StandardSubsystems.BatchObjectModification<br/>// Enter code here.<br/>// End StandardSubsystems.BatchObjectModification</p>
<p class="Programtext">// SaaSTechnology.DataExportImport<br/>// Enter code here.<br/>// End SaaSTechnology.DataExportImport</p>
<p class="Programtext">#EndRegion</p>
<p class="Programtext">#EndRegion</p>
<p><a id="3" name="3"></a>3. Для обеспечения совместимости программного интерфейса библиотеки в условиях активного развития ее функциональности ниже приведен ряд практических рекомендаций. </p>
<p><a id="3.1" name="3.1"></a>3.1. При необходимости переименовать (или удалить) экспортную функцию (процедуру) следует оставить прежнюю реализацию функции, пометив ее как устаревшую с помощью комментария вида:</p>
<p class="Programtext">// Устарела: Следует использовать функцию ПересчитатьПоКурсу<br/>// …<br/>Функция ПересчитатьИзВалютыВВалюту(Сумма, ВалютаНач, ВалютаКон, ПоКурсуНач, ПоКурсуКон, ПоКратностьНач = 1, ПоКратностьКон = 1) Экспорт</p>
<p>(англоязычный аналог "Устарела" в начале комментария - "Deprecated")</p>
<p>и разместить новую версию функции с новым именем (в данном примере - <strong>ПересчитатьПоКурсу</strong>). </p>
<p>При этом устаревшую функцию следует перенести в <a href="#02_Структура модуля.htm" target="_top">область общего модуля</a> <strong>УстаревшиеПроцедурыИФункции </strong>(англ. <strong>Deprecated</strong>), которая размещена внутри области <strong>ПрограммныйИнтерфейс</strong>. В процедурах и функциях, размещенных в области <strong>УстаревшиеПроцедурыИФункции</strong>, допустимы отклонения от других стандартов разработки согласно п.1.1.</p>
<p>В этом случае, существующий прикладной код не потребуется переписывать. При этом, если при выпуске новой редакции библиотеки будет принято решение удалить все устаревшие функции, то такие функции могут быть легко выявлены в коде библиотеки и удалены.</p>
<p>По каждой устаревшей функции в сопроводительной документации к библиотеке также даются рекомендации по их замене следующего вида:</p>
<ul>
<li>Процедура <strong>ПересчитатьИзВалютыВВалюту</strong> общего модуля <strong>ОбщегоНазначения</strong> устарела, вместо нее следует использовать <strong>ПересчитатьПоКурсу</strong>. Устаревшая функция оставлена для обратной совместимости.</li></ul>
<p><a id="3.2" name="3.2"></a>3.2. В ряде случаев даже при исправлении ошибки, которое поменяло поведение экспортной функции (процедуры), рекомендуется оставлять прежнюю ошибочную функцию, пометив ее как устаревшую, и размещать исправленную версию функции с новым именем. Это позволяет обеспечить работоспособность того прикладного кода, который ранее заложился на неправильное поведение, но работает корректно. При этом его немедленная переработка нецелесообразна или вообще нежелательна (например, в силу большого количества мест вызовов). </p>
<p>Более того, может быть крайне нежелательным изменение поведения даже в нештатных и незадокументированных случаях вызова экспортной функции (процедуры). </p>
<p>Например, вызывающий код при некорректных значениях входных параметров функции API ожидает (обрабатывает) незадокументированное возвращаемое значение Неопределено, а в новой версии библиотеки эта функция была исправлена и стала вызывать исключение в этом случае. Несмотря на то, что новое поведение спроектировано как более корректное и даже стало задокументированным, это может привести к массовым ошибкам во всех местах ее вызова.</p>
<p><a id="3.3" name="3.3"></a>3.3. При необходимости пересмотреть состав параметров экспортных функций (процедур) следует использовать опциональные параметры, которые добавляются в конец списка формальных параметров. <br/>Например:</p>
<p class="Programtext">Функция ПересчитатьИзВалютыВВалюту(Сумма, ВалютаНач, ВалютаКон, ПоКурсуНач, ПоКурсуКон, <strong>ПоКратностьНач = 1, ПоКратностьКон = 1</strong>) Экспорт</p>
<p>При этом в случае большого числа параметров рекомендуется предусмотреть последний параметр типа <strong>Структура</strong>, состав свойств которой можно безболезненно расширять в дальнейшем:</p>
<p class="Programtext">Функция ПересчитатьИзВалютыВВалюту(Сумма, ВалютаНач, ВалютаКон, ПоКурсуНач, ПоКурсуКон, <strong>ПараметрыПересчета = Неопределено</strong>) Экспорт</p>
<p>Такой подход рекомендуется использовать заблаговременно в тех процедурах и функциях, где с высокой степенью вероятности ожидается увеличение количества параметров и режимов работы. </p>
<p><a id="3.4" name="3.4"></a>3.4. Параметры типа <strong>Структура</strong> применимы и для сохранения совместимости программного интерфейса, через который библиотека обращается к объектам конфигурации-потребителя. Например, процедура переопределяемого модуля <strong>ПриОпределенииНастроек</strong> позволяет библиотеке добавлять новые режимы работы без потери совместимости:</p>
<p class="Programtext">Процедура ПриОпределенииНастроек(Настройки) Экспорт<br/> Настройки.ВыводитьОписания = Истина;<br/> Настройки.События.ПриСозданииНаСервере = Истина;<br/> Настройки.... = ...;<br/>КонецПроцедуры</p>
<p>Кроме того, этот подход позволяет также сохранять совместимость программного интерфейса, через который библиотека обращается к объектам конфигурации-потребителя. В примере выше строка «Настройки.События.ПриСозданииНаСервере = Истина;» означает, что в конфигурации-потребителя определен одноименный обработчик события библиотеки, который следует вызывать из библиотеки. При этом появление нового события в следующей версии библиотеки не потребует обязательного добавления его пустых обработчика во всех конфигурациях-потребителях. Аналогичным образом, платформа 1С:Предприятие не требует вставлять пустые «заглушки» стандартных обработчиков событий в модули и менеджеры объектов.</p>
<p><a id="3.5" name="3.5"></a>3.5. Для минимизации ситуаций, когда в конфигурациях-потребителях возникает потребность в прямом обращении к объектам метаданным библиотеки (реквизитам, табличным частям справочников, документов и пр.), следует предусмотреть в библиотеке программный интерфейс, посредством которого прикладной код может взаимодействовать с библиотекой. Это снижает зависимость прикладного кода от особенностей реализации библиотеки и, тем самым, повышает его устойчивость к обновлениям на новые версии библиотеки.</p>
<p>Например, вместо «прямого» запроса к библиотечному регистру из прикладного кода:</p>
<p class="Programtext"> Запрос = Новый Запрос;<br/> Запрос.Текст = "ВЫБРАТЬ<br/>                | ОбластиДанных.Представление<br/>                |ИЗ<br/>                | РегистрСведений.ОбластиДанных КАК ОбластиДанных<br/>                |ГДЕ<br/>                | ОбластиДанных.ОбластьДанных = &amp;ОбластьДанных";<br/> Запрос.УстановитьПараметр("ОбластьДанных", ПараметрыСеанса.ОбластьДанныхЗначение);<br/> ТаблицаОбластейДанных = Запрос.Выполнить().Выгрузить();<br/> ИмяПриложения = ?(ТаблицаОбластейДанных.Количество() = 0, "", ТаблицаОбластейДанных.Получить(0).Получить(0));</p>
<p>следует предусмотреть в библиотеке экспортную функцию, которая специально предназначена для использования в прикладном коде:</p>
<p class="Programtext">ИмяПриложения = РаботаВМоделиСервиса.ИмяПриложения();</p>
<p>При этом если в текущей версии библиотеки отсутствует специализированная функция, а потребность обращаться к ее данным есть уже сейчас, то рекомендуется реализовать в прикладном коде временную функцию, которую при следующем обновлении библиотеки можно легко заменить на ее библиотечный эквивалент.</p>
<p><a id="3.6" name="3.6"></a>3.6. Для скрытия деталей реализации библиотеки от потребителя рекомендуется размещать программный интерфейс в обычном общем модуле вместо специализированного (<b>ПовтИсп</b>, <b>ВызовСервера</b>). Аналогично с переопределяемыми модулями. Допустим:</p>
<ul>
<li>в первой версии библиотеки потребителям предоставлялась экспортная функция общего модуля с повторным использованием возвращаемых значений (<b>ПовтИсп</b>); 

<li>но в следующей версии библиотеки это проектное решение пересмотрено в пользу «обычного» общего модуля, куда эта функция была перенесена (аналогично, если в обратную сторону). </li></li></ul>
<p>В данном примере, для того чтобы избавить потребителя библиотеки от дополнительных усилий по замене вызовов «старой» функции на новую, рекомендуется сразу размещать экспортную функцию в «обычном» модуле, в его разделе «программный интерфейс». Тогда эта функция, в зависимости от текущего проектного решения, может вызывать служебную функцию из модуля с повторным использованием возвращаемых значений или из любого другого модуля, или непосредственно сама содержать реализацию. Однако для потребителя ее местоположение уже не будет меняться в следующих версиях библиотеки.</p>
<p>Кроме того, модули <b>ВызовСервера</b> должны отвечать требованиям <a href="#01_Безопасность прикладного программного интерфейса сервера.htm" target="_top">безопасности</a> и производительности (по <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">минимизации данных, передаваемых с клиента на сервер и обратно</a>). Их разработку и сопровождение эффективнее вести, когда они являются служебными модулями, не содержат программный интерфейс и не являются переопределяемыми.</p>
<p class="tip">4. Для упрощения контроля изменений программного интерфейса в новых версиях библиотек рекомендуется воспользоваться <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/Контрольизмененияпрограммногоинтерфейса/Контрольизмененияпрограммногоинтерфейса.zip" rel="nofollow" target="_blank">приложенной обработкой</a>.</p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100668.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Разработка ролей в библиотеках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Разработка ролей в библиотеках</h1><div style="clear: right; float: right;">#std668</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При проектировании ролей в библиотеках рекомендуется придерживаться общего подхода к определению границ функциональности библиотеки: </p>
<ul>
<li>в библиотеку включаются те объекты метаданных, которые в неизменном или переопределенном виде войдут в состав конфигураций-потребитилей. 

<li>объекты, специфичные для конкретной конфигурации-потребителя, в библиотеке не разрабатываются, а создаются на этапе внедрения и настройки библиотеки в конфигурации.</li></li></ul>
<p><a id="2" name="2"></a>2. В большинстве случаев, библиотека должна предоставлять готовый набор ролей для работы со своими данными (с объектами метаданных, содержащих данные: справочники, регистры и т.п.). </p>
<p>Например, вместе с универсальной подсистемой анкетирования в библиотеку входят роли для добавления и изменения шаблонов, опросов, ответов на вопросы анкет, просмотра ответов на вопросы и для администрирования (настройки) подсистемы анкетирования.</p>
<p>Исключение из этого правила составляют случаи, когда </p>
<ul>
<li>библиотечный объект не является «самостоятельным», а всегда подчинен какому-либо объекту-владельцу конфигурации. Например: библиотечные присоединенные файлы к объектам конфигурации (номенклатуре, проектам и т.п.) не имеет собственных ролей, т.к. доступ к файлам задается в ролях для работы с номенклатурой, проектами и т.п. 

<li>библиотечный объект не является полностью законченным объектом, готовым для использования «как есть», а предполагает существенное переопределение в прикладных решениях. Например, библиотечные справочники <strong>Организации</strong>, <strong>Физические лица</strong> и т.п. содержат минимальную базовую реализацию, общую для всех прикладных решений, и не предоставляют «полноценные» роли для работы с ними. 

<li>библиотека не содержит данных, а только алгоритмы для работы с ними.</li></li></li></ul>
<p><a id="3" name="3"></a>3. При этом в ролях могут быть определены не только права к библиотечным объектам, но и логика ограничений доступа к ним на уровне записей (RLS – Row-Level Security).</p>
<p>В этом случае поставляемый RLS должен быть разработан таким образом, чтобы в прикладных решениях он использовался «как есть» и его не приходилось менять (дорабатывать). Тогда при обновлении библиотеки в конфигурации библиотечные роли всегда переносятся в конфигурацию «как есть».</p>
<p>Исключение из этого правила составляют случаи, когда </p>
<ul>
<li>в прикладном решении не предусмотрено никакой настройки прав доступа на уровне записей. В этом случае тексты RLS, если они предусмотрены, должны быть удалены из библиотечных ролей на этапе внедрения (обновления) библиотеки в конфигурацию.  

<li>в прикладном решении предусмотрены прикладные сущности, в разрезе которых настраивается доступ, в том числе, к библиотечным объектам. Например, в разрезе «проектов» или «грифов доступа» предусмотрена настройка видимости библиотечных «присоединенных файлов». В этом случае в тексты RLS в библиотечных ролях должна быть добавлена логика ограничения для этих сущностей на этапе внедрения (обновления) библиотеки в конфигурацию, либо должно быть принято решение не поставлять роли к таким объектам из библиотеки.</li></li></ul>
<p><a id="4" name="4"></a>4. При использовании в библиотеке правил поставки для всех библиотечных ролей следует задавать правило поставки <strong>«Изменения разрешены»</strong>. Это требование обусловлено технологическими особенностями платформы 1С:Предприятие: при добавлении/удалении метаданных в конфигурации происходит неявно изменение ролей. <br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#02_Стандартные роли.htm" target="_top">Стандартные роли</a>
<li><a href="#03_Переопределяемые и поставляемые объекты библиотеки.htm" target="_top">Переопределяемые и поставляемые объекты библиотеки</a>
<li><a href="#01_Настройка ролей и прав доступа.htm" target="_top">Настройка ролей и прав доступа</a></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/800/i8100690.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Обработчики обновления информационной базы (БСП).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обработчики обновления информационной базы</h1><div style="clear: right; float: right;">#std690</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Действует для конфигураций на базе <strong>Библиотеки стандартных подсистем</strong>.<br/>Содержит уточнения к требованиям других стандартов.<br/></em><em>См. документацию к подсистеме </em><a href="https://its.1c.ru/db/bspdoc" target="_top"><em>"Обновление версии ИБ"</em></a><em> на ИТС. </em></p></blockquote>
<p><a id="1" name="1"></a>1. Основные сведения о библиотеке (основной конфигурации)<br/>2. Расположение обработчиков обновления<br/>3. Реализация обработчиков обновления<br/>4. Переход на новые версии библиотек</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>1. Основные сведения о библиотеке (основной конфигурации)</h3><font face="Verdana" size="2">
<p><a id="1.1" name="1.1"></a>1.1. При разработке конфигураций на базе библиотек, каждая библиотека должна сообщить о себе ряд сведений, необходимых для корректного обновления информационной базы на новую версию конфигурации:</p>
<ul>
<li>Имя 

<li>Версию 

<li>Список обработчиков обновления 

<li>Зависимости от других библиотек.</li></li></li></li></ul>
<p>Эти сведения размещаются в специальном общем модуле библиотеки, имя которого должно начинаться с <strong>ОбновлениеИнформационнойБазы…</strong><br/><em>Пример:<br/>В конфигурации УТ 11 модуль обработчиков обновления называется ОбновлениеИнформационнойБазыУТ</em></p>
<p>Имена модулей всех используемых в конфигурации библиотек следует явно перечислить в общем модуле <strong>ПодсистемыКонфигурацииПереопределяемый</strong> в виде:</p>
<p class="Programtext">Процедура ПриДобавленииПодсистем(МодулиПодсистем) Экспорт</p>
<p class="Programtext"> МодулиПодсистем.Добавить("ОбновлениеИнформационнойБазыУТ");</p>
<p class="Programtext">КонецПроцедуры</p>
<p>Кроме того, аналогичный модуль также должен быть определен и для основной конфигурации.</p>
<p>При создании общего модуля <strong>ОбновлениеИнформационнойБазы…</strong> следует использовать шаблон:</p>
<p class="Programtext">////////////////////////////////////////////////////////////////////////////////<br/>// Обновление информационной базы &lt;библиотеки или конфигурации&gt;.<br/>// <br/>/////////////////////////////////////////////////////////////////////////////</p>
<p class="Programtext">#Область ПрограммныйИнтерфейс</p>
<p class="Programtext">////////////////////////////////////////////////////////////////////////////////<br/>// Получение сведений о библиотеке (или конфигурации).</p>
<p class="Programtext">// Заполняет основные сведения о библиотеке или основной конфигурации.<br/>// Библиотека, имя которой имя совпадает с именем конфигурации в метаданных, определяется как основная конфигурация.<br/>// <br/>// Параметры:<br/>//  Описание - Структура - сведения о библиотеке:<br/>//<br/>//   Имя                 - Строка - имя библиотеки, например, "СтандартныеПодсистемы".<br/>//   Версия              - Строка - версия в формате из 4-х цифр, например, "2.1.3.1".<br/>//<br/>//   ТребуемыеПодсистемы - Массив - имена других библиотек (Строка), от которых зависит данная библиотека.<br/>//                                  Обработчики обновления таких библотек должны быть вызваны ранее<br/>//                                  обработчиков обновления данной библиотеки.<br/>//                                  При циклических зависимостях или, напротив, отсутствии каких-либо зависимостей,<br/>//                                  порядок вызова обработчиков обновления определяется порядком добавления модулей<br/>//                                  в процедуре ПриДобавленииПодсистем общего модуля ПодсистемыКонфигурацииПереопределяемый.<br/>//   РежимВыполненияОтложенныхОбработчиков - Строка - "Последовательно" - отложенные обработчики обновления выполняются<br/>//                                    последовательно в интервале от номера версии информационной базы до номера<br/>//                                    версии конфигурации включительно или "Параллельно" - отложенный обработчик после<br/>//                                    обработки первой порции данных передает управление следующему обработчику, а после<br/>//                                    выполнения последнего обработчика цикл повторяется заново.<br/>//<br/>Процедура ПриДобавленииПодсистемы(Описание) Экспорт<br/> <br/> Описание.Имя    = "&lt;Имя библиотеки&gt;";<br/> Описание.Версия = "XX.XX.XX.XX";<br/> Описание.ТребуемыеПодсистемы.Добавить("СтандартныеПодсистемы");<br/> Описание.РежимВыполненияОтложенныхОбработчиков = "Последовательно";<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">////////////////////////////////////////////////////////////////////////////////<br/>// Обработчики обновления информационной базы.</p>
<p class="Programtext">// Добавляет в список процедуры-обработчики обновления данных ИБ<br/>// для всех поддерживаемых версий библиотеки или конфигурации.<br/>// Вызывается перед началом обновления данных ИБ для построения плана обновления.<br/>//<br/>// Параметры:<br/>//  Обработчики - ТаблицаЗначений - описание полей <br/>//                                  см. в процедуре ОбновлениеИнформационнойБазы.НоваяТаблицаОбработчиковОбновления<br/>//<br/>// Пример добавления процедуры-обработчика в список:<br/>//  Обработчик = Обработчики.Добавить();<br/>//  Обработчик.Версия              = "1.0.0.0";<br/>//  Обработчик.Процедура           = "ОбновлениеИБ.ПерейтиНаВерсию_1_0_0_0";<br/>//  Обработчик.РежимВыполнения     = "Монопольно";<br/>// <br/>Процедура ПриДобавленииОбработчиковОбновления(Обработчики) Экспорт<br/><br/> // Обработчики, выполняемые при каждом обновлении ИБ<br/> <br/> // Обработчики, выполняемые при переходе на определенную версию</p>
<p class="Programtext"> // Обработчики, выполняемые при заполнении пустой ИБ<br/><br/>КонецПроцедуры</p>
<p class="Programtext">// Вызывается перед процедурами-обработчиками обновления данных ИБ.<br/>// <br/>Процедура ПередОбновлениемИнформационнойБазы() Экспорт<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">// Вызывается после завершения обновления данных ИБ.<br/>// <br/>// Параметры:<br/>//   ПредыдущаяВерсия       - Строка - версия до обновления. "0.0.0.0" для "пустой" ИБ.<br/>//   ТекущаяВерсия          - Строка - версия после обновления.<br/>//   ВыполненныеОбработчики - ДеревоЗначений - список выполненных процедур-обработчиков обновления,<br/>//                                             сгруппированных по номеру версии.<br/>//   ВыводитьОписаниеОбновлений - Булево - (возвращаемое значение) если установить Истина,<br/>//                                то будет вывена форма с описанием обновлений. По умолчанию, Истина.<br/>//   МонопольныйРежим           - Булево - Истина, если обновление выполнялось в монопольном режиме.<br/>// <br/>Процедура ПослеОбновленияИнформационнойБазы(Знач ПредыдущаяВерсия, Знач ТекущаяВерсия,<br/>  Знач ВыполненныеОбработчики, ВыводитьОписаниеОбновлений, МонопольныйРежим) Экспорт<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">// Вызывается при подготовке табличного документа с описанием изменений в программе.<br/>//<br/>// Параметры:<br/>//   Макет - ТабличныйДокумент - описание обновления всех библиотек и конфигурации.<br/>//           Макет можно дополнить или заменить.<br/>//           См. также общий макет ОписаниеИзмененийСистемы.<br/>//<br/>Процедура ПриПодготовкеМакетаОписанияОбновлений(Знач Макет) Экспорт<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">// Позволяет переопределить режим обновления данных информационной базы.<br/>// Для использования в редких (нештатных) случаях перехода, не предусмотренных в<br/>// стандартной процедуре определения режима обновления.<br/>//<br/>// Параметры:<br/>//   РежимОбновленияДанных - Строка - в обработчике можно присвоить одно из значений:<br/>//              "НачальноеЗаполнение"     - если это первый запуск пустой базы (области данных);<br/>//              "ОбновлениеВерсии"        - если выполняется первый запуск после обновление конфигурации базы данных;<br/>//              "ПереходСДругойПрограммы" - если выполняется первый запуск после обновление конфигурации базы данных, <br/>//                                          в которой изменилось имя основной конфигурации.<br/>//<br/>//   СтандартнаяОбработка  - Булево - если присвоить Ложь, то стандартная процедура<br/>//                                    определения режима обновления не выполняется, <br/>//                                    а используется значение РежимОбновленияДанных.<br/>//<br/>Процедура ПриОпределенииРежимаОбновленияДанных(РежимОбновленияДанных, СтандартнаяОбработка) Экспорт<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">// Добавляет в список процедуры-обработчики перехода с другой программы (с другим именем конфигурации).<br/>// Например, для перехода между разными, но родственными конфигурациями: базовая -&gt; проф -&gt; корп.<br/>// Вызывается перед началом обновления данных ИБ.<br/>//<br/>// Параметры:<br/>//  Обработчики - ТаблицаЗначений - с колонками:<br/>//    * ПредыдущееИмяКонфигурации - Строка - имя конфигурации, с которой выполняется переход;<br/>//                                           или "*", если нужно выполнять при переходе с любой конфигурации.<br/>//    * Процедура                 - Строка - полное имя процедуры-обработчика перехода с программы ПредыдущееИмяКонфигурации. <br/>//                                  Например, "ОбновлениеИнформационнойБазыУПП.ЗаполнитьУчетнуюПолитику"<br/>//                                  Обязательно должна быть экспортной.<br/>//<br/>// Пример добавления процедуры-обработчика в список:<br/>//  Обработчик = Обработчики.Добавить();<br/>//  Обработчик.ПредыдущееИмяКонфигурации  = "УправлениеТорговлей";<br/>//  Обработчик.Процедура                  = "ОбновлениеИнформационнойБазыУПП.ЗаполнитьУчетнуюПолитику";<br/>//<br/>Процедура ПриДобавленииОбработчиковПереходаСДругойПрограммы(Обработчики) Экспорт<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">// Вызывается после выполнения всех процедур-обработчиков перехода с другой программы (с другим именем конфигурации),<br/>// и до начала выполнения обновления данных ИБ.<br/>//<br/>// Параметры:<br/>//  ПредыдущееИмяКонфигурации    - Строка - имя конфигурации до перехода.<br/>//  ПредыдущаяВерсияКонфигурации - Строка - имя предыдущей конфигурации (до перехода).<br/>//  Параметры                    - Структура - <br/>//    * ВыполнитьОбновлениеСВерсии   - Булево - по умолчанию Истина. Если установить Ложь, <br/>//        то будут выполнена только обязательные обработчики обновления (с версией "*").<br/>//    * ВерсияКонфигурации           - Строка - номер версии после перехода. <br/>//        По умолчанию, равен значению версии конфигурации в свойствах метаданных.<br/>//        Для того чтобы выполнить, например, все обработчики обновления с версии ПредыдущаяВерсияКонфигурации, <br/>//        следует установить значение параметра в ПредыдущаяВерсияКонфигурации.<br/>//        Для того чтобы выполнить вообще все обработчики обновления, установить значение "0.0.0.1".<br/>//    * ОчиститьСведенияОПредыдущейКонфигурации - Булево - по умолчанию Истина. <br/>//        Для случаев когда предыдущая конфигурация совпадает по имени с подсистемой текущей конфигурации, следует указать Ложь.<br/>//<br/>Процедура ПриЗавершенииПереходаСДругойПрограммы(Знач ПредыдущееИмяКонфигурации, <br/> Знач ПредыдущаяВерсияКонфигурации, Параметры) Экспорт<br/> <br/>КонецПроцедуры</p>
<p class="Programtext">#КонецОбласти</p>
<p class="Programtext">#Область СлужебныеПроцедурыИФункции</p>
<p class="Programtext">////////////////////////////////////////////////////////////////////////////////<br/>// Заполнение пустой ИБ</p>
<p class="Programtext">////////////////////////////////////////////////////////////////////////////////<br/>// Обновление ИБ</p>
<p class="Programtext">#КонецОбласти</p>
<p><a id="1.2" name="1.2"></a>1.2. Обработчики обновления данных информационной базы предназначены для дополнительной обработки данных после завершения обновления конфигурации (реструктуризации) базы данных: </p>
<ul>
<li>инициализация новых констант, новых реквизитов, реквизитов новых предопределенных элементов; 

<li>перенос данных из устаревших структур метаданных в новые; 

<li>генерация новых данных 

<li>и т.п.</li></li></li></li></ul>
<p>Для автогенерируемых строк, которые программно записываются в информационную базу, например при заполнении наименований предопределенных элементов справочников, ПВХ и т.п., следует руководствоваться стандартом <a href="#11_Автогенерированные данные в информационной базе_ требования по локализации.htm" target="_top">Автогенерированные данные в информационной базе: требования по локализации</a>.</p>
<p><a id="1.3" name="1.3"></a>1.3. Обработчик обновления данных информационной базы состоит из двух частей:</p>
<ul>
<li>
<div>описательной - сообщает, когда должен выполниться обработчик, и где он находится в конфигурации;</div>
<li>
<div>программной  - непосредственно код модификации данных ИБ, оформленный в виде процедуры-обработчика обновления.</div></li></li></ul>
<p>Добавление описаний новых обработчиков выполняется в процедуре <strong>ПриДобавленииОбработчиковОбновления</strong> с помощью вставки фрагмента кода по шаблону:<br/></p>
<p class="Programtext">Обработчик = Обработчики.Добавить();<br/>Обработчик.Версия = "&lt;номер версии&gt;";<br/>Обработчик.Процедура = "&lt;полное имя экспортной процедуры&gt;";<br/>Обработчик.НачальноеЗаполнение = {Истина|Ложь};<br/>Обработчик.РежимВыполнения = {"Монопольно"|"Оперативно"|"Отложенно"};</p>
<p>Данный код добавляет новую строку в таблицу значений <strong>Обработчики</strong>, строка которой имеет следующие поля:</p>
<p><strong>Версия</strong> (<strong>Строка</strong>) – номер версии конфигурации, при обновлении на которую должна быть вызвана процедура обновления, указанная в параметре <strong>Процедура</strong>.</p>
<ul>
<li>
<div>Номер версии конфигурации указывается в формате «Р.П.В.С» (Р – старший номер редакции; П – младший номер редакции; В – номер версии; С – номер сборки. Если следующую версию нельзя определить, то можно указать следующий номер сборки. </div>
<li>
<div>Если в качестве версии указан символ «*», то обработчик обновления должен выполняться каждый раз при обновлении информационной базы, независимо от номера версии конфигурации. Обработчики такого вида предназначены для обновления служебных, системных данных (например, обновление поставляемых профилей и групп доступа).</div>
<li>
<div>Если свойство <strong>Версия</strong> не задано, то должно быть установлено в <strong>Истина</strong> свойство <strong>НачальноеЗаполнение</strong> (см. далее).</div></li></li></li></ul>
<p><strong>Процедура</strong> (<strong>Строка</strong>) – идентификатор процедуры, содержащий полный путь к процедуре-обработчику обновления.<br/>Например, <strong>"Справочник.Валюты.ЗаполнитьКодДляПоиска"</strong>.</p>
<p><span><strong>НачальноеЗаполнение </strong>(<strong>Булево</strong>) – если <strong>Истина</strong>, то обработчик будет вызван при первом запуске пустой информационной базы (версия «0.0.0.0»), созданной из файла поставки конфигурации и не содержащей данных.<br/>Это обработчики первоначального заполнения базы.<o:p></o:p></span></p>
<p><strong>РежимВыполнения</strong> (<strong>Строка</strong>) – принимает одно из значений: "Монопольно", "Оперативно" и "Отложенно". Если свойство не задано, то по умолчанию обработчик – монопольный. </p>
<ul>
<li><strong>Монопольно</strong> – если обработчик обновления необходимо выполнять монопольно, в условиях отсутствия активных сеансов работы пользователей, регламентных заданий, внешних соединений и подключений по веб-сервисам. В противном случае, обновление версии программы прерывается. Подробнее см. <a>Ограничения на использование монопольного режима обработчиков обновления</a><br/><br/>Монопольные обработчики предназначены для обновления тех данных, обработка которых должна быть обязательно завершена к моменту входа пользователей в программу. Для сокращения времени простоя (ожидания обработки данных), рекомендуется большие объемы данных обновлять отложенно (см. ниже). <br/>Примеры монопольных обработчиков: обработка небольшого объема данных текущего периода, активных позиций номенклатуры и т.п.<br/><br/>Если хотя бы один обработчик обновления конфигурации – монопольный, то все оперативные обработчики (см. далее) выполняются в монопольном режиме.<br/><br/>В случае если обработчик обновления – обязательный (свойство Версия = «*»), то значение <strong>Монопольно</strong> следует устанавливать только в тех случаях, когда обработчик обновления должен программно определить, требуется ли монопольный режим для его выполнения: 

<ul>
<li>Такой обработчик вызывается дважды, в него передается параметр <strong>Параметры</strong> типа <strong>Структура</strong>, в котором имеется свойство <strong>МонопольныйРежим</strong> (Булево) 

<li>При первом вызове в режиме проверки, свойство <strong>МонопольныйРежим</strong> содержит значение <strong>Ложь</strong>. 

<ul>
<li>Код обработчика не должен модифицировать данные ИБ 

<li>Если в ходе выполнения обработчика возникает необходимость внесения изменений в ИБ, обработчик должен установить значение свойства в Истина и прекратить свое выполнение</li></li></ul>
<li>При втором вызове в режиме выполнения свойство <strong>МонопольныйРежим</strong> содержит значение <strong>Истина</strong>
<ul>
<li>Код обработчик может модифицировать данные ИБ 

<li>Изменение значения свойства в этом случае игнорируется<br/></li></li></ul></li></li></li></ul>
<li><strong>Оперативно</strong> – если обработчик обновления необходимо выполнять не монопольно: при активных сеансах работы пользователей, регламентных заданий, внешних соединений и подключений через веб-сервисы.<br/><br/>Оперативные обработчики следует применять в редких случаях, когда важно сократить время ожидания пользователей при переходе на исправительные релизы, которые не содержат изменений в структуре данных, и обновление на которые должно выполняться динамически.<br/><br/><em>Подробнее см. <a>Оперативное обновление данных</a>.<br/></em>
<li><strong>Отложенно</strong> – если обработчик обновления необходимо выполнять в фоне после того, как завершено выполнение монопольных (оперативных) обработчиков, и пользователям уже разрешен вход в программу.<br/><br/>Отложенные обработчики предназначены для обработки той части данных ИБ, которые не препятствуют пользователям начинать свою работу с новой версией программы, не дожидаясь завершения обработки этих данных.<br/><br/>Примеры отложенных обработчиков: обработка больших архивов данных за закрытые/прошлые периоды, неактивных позиций номенклатуры, различных данных, отключенных в данный момент функциональными опциями и т.п.<br/><br/><em>Подробнее см. </em><a><em>Отложенное обновление данных</em></a><em>.<br/><br/></em>Если в конфигурации (библиотеке) используется параллельный режим отложенного обновления (в процедуре <strong>ПриДобавленииПодсистемы</strong> свойство <strong>РежимВыполненияОтложенныхОбработчиков</strong> = "Параллельно"), то для написания отложенных обработчиков следует руководствоваться стандартом <a><em>Параллельный режим отложенного обновления</em></a>.</li></li></li></ul>
<p>Пример описания обработчика, для выполнения которого требуется монопольный режим:</p>
<p class="Programtext">Обработчик = Обработчики.Добавить();<br/>Обработчик.РежимВыполнения = "Монопольно";<br/>Обработчик.Версия = "11.1.0.0";<br/>Обработчик.Процедура = "Справочник.МойСправочник.ЗаполнитьКодДляПоиска";</p>
<p>Пример реализации обработчика в модуле менеджера <strong>Справочник.МойСправочник</strong>:</p>
<p class="Programtext">// Обработчик обновления УТ 11.1.0.0<br/>//<br/>// Перебираются все элементы справочника, в которых не заполнен код для поиска,<br/>// и заполняется кодом справочника без лидирующих нулей и префиксов<br/>// <br/>Процедура ЗаполнитьКодДляПоиска() Экспорт<br/>...</p></font>
<h3>2. Расположение обработчиков обновления</h3><font face="Verdana" size="2">
<p><a id="2.1" name="2.1"></a>2.1. Процедура-обработчик должна оформляться в виде экспортной процедуры.<br/>Располагать процедуру следует в модуле менеджера того объекта метаданных, обновление которого она выполняет. </p>
<p>Пример:<br/><em>Если в справочник «Подразделения» добавили новый реквизит, который необходимо заполнить значением по умолчанию, то процедура-обработчик должна располагаться в модуле менеджера этого справочника.</em></p>
<p><a id="2.2" name="2.2"></a>2.2. В некоторых случаях, когда невозможно соотнести обработчик с каким-то конкретным объектом метаданных, допустимо расположение процедуры-обработчика в серверном общем модуле, назначение которого по смыслу связано с выполняемой обработкой ИБ (например, процедуры обновления, связанные со складской функциональностью должны располагаться в общем модуле СкладСервер). При этом процедура должна располагаться в служебной части модуля, в подразделе «Обновление ИБ».</p></font>
<h3>3. Реализация обработчиков обновления</h3><font face="Verdana" size="2">
<p><a id="3.1" name="3.1"></a>3.1. К процедуре-обработчику предъявляются следующие требования:</p>
<ul>
<li>
<div>Обработчик не должен содержать логики по интерактивному взаимодействию с пользователем.</div>
<li>
<div>Алгоритм обработчика должен быть построен так, чтобы не прерывать, не зацикливать обработку данных, не оставлять необработанные данные и не требовать каких-либо дополнительных действий от пользователя для продолжения обработки данных. Любое невыполнение обработчика следует рассматривать как логическую ошибку и перепроектировать логику обработчика. Например, если номер документа, который создается в обработчике, оказывается неуникальным, то присваивать новый незанятый номер, а не завершать работу обработчика вызовом исключения. Если обрабатываемые обработчиком данные ссылаются на несуществующие данные (т.н. "битая ссылка"), то пропускать обработку этих данных или выполнять с недостающими значениями по умолчанию.</div>
<li>В параллельных отложенных обработчиках не следует  вызывать исключение, которое приведет к остановке всей процедуры обновления. В остальных видах обработчиков допустимо вызывать исключение только в случае критической ошибки при обновлении, когда исчерпаны все другие возможности обхода проблемы. Остановка обновления информационной базы приведет к невозможности запуска до тех пор, пока причины ошибки не будут устранены. 

<li>
<div>Обработчик должен быть рассчитан на неоднократное выполнение. На одних и тех же данных результат выполнения обработчика должен быть идентичен при любом количестве вызовов этого обработчика (например, повторный запуск обработчика не должен приводить к дублированию данных в информационной базе).</div>
<li>В пределах одной версии (значение свойства <strong>Версия</strong>), работоспособность обработчика не должна ставиться в зависимость от очередности его выполнения. Если подобные зависимости проявляются, то такие обработчики необходимо объединять в один. 

<li>Если в конфигурации предусмотрены <a href="#02_Разработка планов обмена с отборами.htm" target="_top">планы обмена РИБ с отборами</a>, то  также нужно учитывать, что в обновляемом подчиненном узле РИБ могут быть неполные данные:  например, в нем имеются движения по регистру, а сам регистратор отсутствует. При этом обработчик обновления должен пропускать обновление таких данных.</li></li></li></li></li></li></ul>
<p><a id="3.2" name="3.2"></a>3.2. Обработчик обновления не должен содержать лишних, избыточных действий с данными – должен выполняться максимально быстро.</p>
<p><a id="3.2.1" name="3.2.1"></a>3.2.1. Для этого необходимо отключать бизнес-логику при обработке данных. В большинстве случаев, с помощью установки признака <strong>ОбменДанными.Загрузка</strong>:</p>
<p class="Programtext">ДокументОбъект.ОбменДанными.Загрузка = Истина; </p>
<p>В отдельных случаях, для частичного отключения бизнес-логики допустимо предусмотреть дополнительный признак, например:</p>
<p class="Programtext">ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМоюБизнесЛогику");</p>
<p><a id="3.2.2" name="3.2.2"></a>3.2.2. Для большинства обрабатываемых данных следует отключать регистрацию изменений на узлах планов обмена, чтобы избежать отправки всего объема обработанных данных во все узлы. Таким образом:</p>
<ul>
<li>В распределенной информационной базе (РИБ) обработка данных должна выполняться независимо в каждом из узлов; 

<li>При обмене между произвольными конфигурациями (программами) обработка данных не должна приводить к их выгрузке в базы-получатели.</li></li></ul>
<p>Исключение составляют случаи создания ссылочных объектов, которые должны быть перенесены механизмами обмена данными в другие узлы РИБ с тем же значением реквизита Ссылка.</p>
<p><a id="3.2.3" name="3.2.3"></a>3.2.3. Таким образом, в коде обработчика обновления вместо</p>
<p class="Programtext">ДокументОбъект.Записать();</p>
<p>должно быть:</p>
<p class="Programtext">ДокументОбъект.ОбменДанными.Загрузка = Истина; // отключить всю бизнес-логику при записи<br/>ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов"); <br/>ДокументОбъект.ОбменДанными.Получатели.АвтоЗаполнение = Ложь;<br/>ДокументОбъект.Записать();</p>
<p>При использовании в конфигурации Библиотеки стандартных подсистем (БСП) версии 2.1.4 и выше следует использовать процедуру <strong>ЗаписатьДанные</strong> общего модуля <strong>ОбновлениеИнформационнойБазы</strong>:</p>
<p class="Programtext">ОбновлениеИнформационнойБазы.ЗаписатьДанные(ДокументОбъект);</p>
<p><a id="3.3" name="3.3"></a>3.3. Перед процедурой-обработчиком должен быть комментарий. При этом первая строка комментария должна содержать информацию о версии конфигурации, для которой предназначен этот обработчик. Последующие строки комментария должны содержать ответ на следующие вопросы:</p>
<ul>
<li>
<div>Какие данные будут изменены (что меняем)?</div>
<li>
<div>Какие изменения будут внесены в эти данные (как меняем)? </div></li></li></ul>
<p>Пример:</p>
<p class="Programtext">// Обработчик обновления УТ 11.1.0.0<br/>//<br/>// Перебираются все элементы справочника, в которых не заполнен код для поиска,<br/>// и заполняется кодом справочника без лидирующих нулей и префиксов<br/>// <br/>Процедура ЗаполнитьКодДляПоиска() Экспорт<br/></p></font>
<h3>4. Переход на новые версии библиотек</h3>
<p><a id="4.1" name="4.1"></a>4.1. При постановке конфигурации на поддержку к новой версии библиотеки, следует увеличивать номер версии конфигурации. Это необходимо для запуска обработчиков обновления информационной базы.</p>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li>
<div><a href="#12_Начальные действия при работе конфигурации.htm" target="_top">Начальные действия при работе конфигурации</a></div></li></ul></font></body><hr>
<h1 id='09_Требования по локализации'>Требования по локализации</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100458.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие требования по локализации конфигурации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие требования по локализации конфигурации</h1><div style="clear: right; float: right;">#std458</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p>При разработке следует ориентироваться на то, что 

<ul>
<li>в конфигурации предусмотрено несколько языков интерфейса пользователя, 

<li>данные в базе данных вводятся на одном языке, отличном от основного языка конфигурации (см. свойство <strong>ОсновнойЯзык</strong> метаданных). </li></li></ul>При этом не регламентируются 

<ul>
<li>ввод данных сразу на нескольких языках, 

<li>многоязычное представление метаданных, хранящихся в данных (например, предопределенные элементы, дополнительные реквизиты и т.п.). </li></li></ul>
<p>См. также 

<ul>
<li><a href="#02_Поставка международной версии конфигурации (Раздел обновлен!).htm" target="_top">Поставка международной версии конфигурации</a>
<li><a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">Интерфейсные тексты в коде: требования по локализации</a>
<li><a href="#04_Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!).htm" target="_top">Запросы, динамические списки и отчеты на СКД: требования по локализации</a>
<li><a href="#05_Форматирование даты, числа, Булево_ требования по локализации.htm" target="_top">Форматирование даты, числа, Булево: требования по локализации</a>
<li><a href="#06_Строковые константные выражения в коде_ требования по локализации.htm" target="_top">Строковые константные выражения в коде: требования по локализации</a>
<li><a href="#07_Элементы форм_ требования по локализации.htm" target="_top">Элементы форм: требования по локализации</a>
<li><a href="#08_Регламентные задания_ требования по локализации.htm" target="_top">Регламентные задания: требования по локализации</a>
<li><a href="#09_Макеты_ требования по локализации.htm" target="_top">Макеты: требования по локализации</a>
<li><a href="#11_Автогенерированные данные в информационной базе_ требования по локализации.htm" target="_top">Автогенерированные данные в информационной базе: требования по локализации</a> </li></li></li></li></li></li></li></li></li></ul></p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100769.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Поставка международной версии конфигурации (Раздел обновлен!).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script><font face="Verdana" size="2">
<h1>Поставка международной версии конфигурации</h1><div style="clear: right; float: right;">#std769</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Применим для локализуемых конфигураций (и входящих в них библиотек), на базе которых выпускаются национальные прикладные решения для различных стран или регионов.</em></p></blockquote>
<p dir="ltr">Для упрощения работы локализаторов при первичной локализации конфигурации, а также при последующих обновлениях следует выпускать международную версию конфигурации, подготовленную для создания национальных версий. При этом разработку локализованных версий конфигурации рекомендуется вести на базе международной версии.</p>
<p>Все требования данного раздела (группа стандартов <strong>Требования по локализации</strong>) одинаково применимы к обоим версиям конфигурации. В частности, национальные версии также могут поставляться с интерфейсами на нескольких языках. Например, ERP для России с англоязычным интерфейсом для работы иностранцев в одной информационной базе с русскоговорящими пользователями.</p>
<p>С целью уменьшения трудозатрат на выделение национальной специфики следует анализировать в первую очередь зарубежные версии конфигураций, опубликованные на <a href="https://releases.1c.ru" target="_blank">портале 1С</a>.</p>
<p>Для подготовки международной версии конфигурации:</p>
<p><a id="1" name="1"></a>1. Национальную (российскую) специфику в программном коде и формах конфигурации необходимо выделить в отдельные объекты метаданных, которые должны отсутствовать в международной версии. <br/>Например,</p>
<p>неправильно:</p>
<p><img height="213" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100769.files/11.png?_=00002184343E01D4-v2" style="aspect-ratio:227/213" width="227"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p>правильно:</p>
<p><img height="352" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100769.files/22.png?_=000039FD1C0A1DF3-v2" style="aspect-ratio:260/352" width="260"/></p>
<p><a id="1.1" name="1.1"></a>1.1. Реквизиты объектов, относящиеся к национальной специфике, рекомендуется оставлять в объектах, но при этом обеспечить работоспособность конфигурации в случае их удаления.</p>
<p><a id="1.2" name="1.2"></a>1.2. В формах объектов, где к национальной специфике относится лишь часть элементов, рекомендуется выносить такие элементы в отдельную форму, <br/>например:</p>
<p><img height="386" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100769.files/3.png?_=0001EE22EBC5AF5E-v2" style="aspect-ratio:789/386" width="789"/></p>
<p><a id="1.3" name="1.3"></a>1.3. К национальной специфике могут относиться и алгоритмы, например: загрузка курсов валют. Их также следует выделять в отдельных объектах метаданных.</p>
<p><a id="1.4" name="1.4"></a>1.4. В случае, когда подсистема или отдельный объект в большей части является международным, но при этом очевидна необходимость реализации некоторой национальной специфики, рекомендуется создавать общие модули с постфиксом <strong>Локализация</strong>. В алгоритмах, в которых есть потребность дополнить или переопределить поведение, предусмотреть переход в эти модули. Процедуры должны размещаться в области <strong>ПрограммныйИнтерфейс</strong>. При этом в международной поставке модули с постфиксом <strong>Локализация</strong> не должны содержать прикладного кода.</p>
<p>В национальной конфигурации код внутри процедур следует обрамлять комментариями <strong>Локализация</strong> и <strong>Конец Локализация</strong>. Если международная поставка изготавливается из национальной, то такие фрагменты кода должны удаляться из прикладного кода, включая обрамляющие комментарии. Например, в национальной конфигурации:</p><pre class="programtext">Процедура ПриОпределенииСимволовНациональногоАлфавита(СимволыНациональногоАлфавита, ДополнительныеДопустимыеСимволы) Экспорт

	

	// Локализация	

	СимволыНациональногоАлфавита = "абвгдеёжзийклмнопрстуфхцчшщъыьэюя"; 

	// Конец Локализация

	

КонецПроцедуры

</pre>
<p>В международной поставке:</p><pre class="programtext">Процедура ПриОпределенииСимволовНациональногоАлфавита(СимволыНациональногоАлфавита, ДополнительныеДопустимыеСимволы) Экспорт

		

КонецПроцедуры

</pre>
<p>При этом не следует обрамлять комментариями <strong>Локализация</strong> и <strong>Конец Локализация</strong> фрагменты кода, содержащие национальную (российскую) специфику любых других объектов и модулей. В таких случаях разработчик не сможет при необходимости доопределить национальную специфику.</p>
<p>Неправильно:</p><pre class="programtext">Функция АдресВОблачномСервисе(Сервис, Href) Экспорт

	

    АдресОбъекта = "";

    

	Если Сервис = "Box" Тогда

	    АдресОбъекта = "https://app.box.com/files/0/";

	// Локализация

	ИначеЕсли Сервис = "Yandex" Тогда

	    АдресОбъекта = "https://disk.yandex.ru/client/disk/";

	// Конец Локализация

	ИначеЕсли Сервис = "Dropbox" Тогда

	    АдресОбъекта = "https://www.dropbox.com/home/";

	КонецЕсли;

	

	Возврат АдресОбъекта + Href;

	

КонецФункции

</pre>
<p>Правильно:</p><pre class="programtext">Функция АдресВОблачномСервисе(Сервис, Href) Экспорт

	

	АдресОбъекта = "";

	

	Если Сервис = "Box" Тогда

	    АдресОбъекта = "https://app.box.com/files/0/";

	ИначеЕсли Сервис = "Dropbox" Тогда

	    АдресОбъекта = "https://www.dropbox.com/home/";

	Иначе

	    РаботаСФайламиЛокализация.ПриОпределенииАдресаОблачногоСервиса(Сервис, АдресОбъекта);

        КонецЕсли;

	

	Возврат АдресОбъекта + Href;

	

КонецФункции

</pre>В общем модуле <b>РаботаСФайламиЛокализация</b>: <pre class="programtext">Процедура ПриОпределенииАдресаОблачногоСервиса(Сервис, АдресОбъекта)

	

	// Локализация

	Если Сервис = "Yandex" Тогда

	    АдресОбъекта = "https://disk.yandex.ru/client/disk/";

	КонецЕсли;

	// Конец Локализация

	

КонецПроцедуры

</pre>
<p>Например, функциональность закрытия месяца является международной, но при этом есть необходимость дополнять список этапов теми этапами, которые реализуют национальную специфику.</p>
<p>В этом случае добавляется общий модуль <strong>ЗакрытиеМесяцаЛокализация</strong>, а из процедуры <strong>ЗакрытиеМесяца</strong>.<strong>ДобавитьЭтапыЗакрытияМесяца</strong> вызвается соответствующий метод модуля ЗакрытиеМесяцаЛокализация. При этом в международной поставке конфигурации общий модуль <strong>ЗакрытиеМесяцаЛокализация</strong> будет содержать только определение метода <strong>ДобавитьЭтапыЗакрытияМесяца</strong>.</p>
<p><a id="1.5" name="1.5"></a>1.5. В случае, когда национальная специфика занимает большую часть подсистемы, рекомендуется относить к национальной специфике всю подсистему. Например: подсистема «Склонение представлений объектов» целиком является национальной спецификой.</p>
<p><a id="1.6" name="1.6"></a>1.6. Перечислить объекты метаданных, содержащих национальную (российскую) специфику, в файле ЛокализуемыеОбъекты&lt;…&gt;.txt, и включить его в дистрибутив типовой конфигурации.</p>
<p>Файл ЛокализуемыеОбъекты&lt;…&gt;.txt содержит имена объектов метаданных в том виде, в котором их возвращает функция ОбъектМетаданных.ПолноеИмя(). Каждое имя объекта начинается с новой строки. Допускаются комментарии в таком же виде, как и в коде конфигурации.</p>
<p>Пример:</p><pre class="programtext">// Банки

Обработка.ЗагрузкаКлассификатораБанков

РегламентноеЗадание.ЗагрузкаКлассификатораБанков

Справочник.КлассификаторБанков.Реквизит.ИНН



// Валюты

Обработка.ЗагрузкаКурсовВалют

РегламентноеЗадание.ЗагрузкаКурсовВалют</pre>
<p><a id="2" name="2"></a>2. Удобство пользовательского интерфейса не должно страдать при соблюдении требования №1. Если юзабилити формы значительно ухудшается вследствие переноса её части в отдельные формы, в этом случае рекомендуется всю форму относить к национальной специфике.</p>
<p><a id="3" name="3"></a>3. В процедурах переопределяемых модулей допустимо помещать только вызовы процедур конфигурации, содержащих программный код. Это упрощает доработку переопределяемых модулей при локализации. Например,</p>
<p>неправильно:</p><pre class="programtext">// В модуле ВариантыОтчетовПереопределяемый



Процедура ОпределитьРазделыСВариантамиОтчетов(Разделы) Экспорт

	Разделы.Добавить(ВариантыОтчетовКлиентСервер.ИдентификаторНачальнойСтраницы(),

		НСтр("ru = 'Главное'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.CRMИМаркетинг,

		НСтр("ru= 'Отчеты по CRM и маркетингу'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Закупки,

		НСтр("ru= 'Отчеты по закупкам'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Казначейство,

		НСтр("ru= 'Отчеты по казначейству'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Продажи,

		НСтр("ru= 'Отчеты по продажам'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Склад,

		НСтр("ru= 'Отчеты по складу'") );

	

	Разделы.Добавить(Метаданные.Подсистемы.ФинансовыйРезультатИКонтроллинг,

		НСтр("ru= 'Отчеты по финансовому результату'"));

КонецПроцедуры</pre>
<p>правильно:</p><pre class="programtext">// В модуле ВариантыОтчетовПереопределяемый



Процедура ОпределитьРазделыСВариантамиОтчетов(Разделы) Экспорт

	ВариантыОтчетовУТ.ОпределитьРазделыСВариантамиОтчетов(Разделы);

КонецПроцедуры



// В модуле ВариантыОтчетовУТ



Процедура ОпределитьРазделыСВариантамиОтчетов(Разделы) Экспорт

	Разделы.Добавить(ВариантыОтчетовКлиентСервер.ИдентификаторНачальнойСтраницы(),

		НСтр("ru = 'Главное'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.CRMИМаркетинг,

		НСтр("ru= 'Отчеты по CRM и маркетингу'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Закупки,

		НСтр("ru= 'Отчеты по закупкам'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Казначейство,

		НСтр("ru= 'Отчеты по казначейству'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Продажи,

		НСтр("ru= 'Отчеты по продажам'"));

	

	Разделы.Добавить(Метаданные.Подсистемы.Склад,

		НСтр("ru= 'Отчеты по складу'") );

	

	Разделы.Добавить(Метаданные.Подсистемы.ФинансовыйРезультатИКонтроллинг,

		НСтр("ru= 'Отчеты по финансовому результату'"));

КонецПроцедуры</pre>
<p><a id="4" name="4"></a>4. Необходимо обеспечивать работоспособность международной конфигурации.</p>
<p><a id="5" name="5"></a>5. Следует выпускать международную и российскую версии конфигурации синхронно. Для этого рекомендуется выбрать одну из схем разработки:</p>
<p>a. Вести разработку российской версии в одном хранилище разработки. Автоматически изготавливать международную версию из российской при сборке дистрибутива путем удаления объектов метаданных, содержащих российскую специфику, и удалением кода внутри процедур общих модулей с постфиксом <strong>Локализация</strong>.</p>
<p>b. Вести разработку российской и международной версии в двух хранилищах разработки, поставив российскую версию на поддержку к международной и добавив объекты метаданных, содержащих российскую специфику. Реализацию российской специфики вести в добавляемых объектах и модулях с постфиксом <strong>Локализация</strong>.</p>
<p>При этом локализаторам рекомендуется вести разработку своих локализованных версий конфигурации на базе международной версии. Для этого:</p>
<ul>
<li>поставить свою национальную конфигурацию на поддержку международной; 

<li>по мере необходимости добавить в конфигурацию объекты, перечисленные в файле ЛокализуемыеОбъекты&lt;…&gt;.txt из поставки типовой конфигурации, взяв в качестве образца аналогичные объекты в российской версии конфигурации; 

<li>при необходимости вписать реализацию в процедуры общих модулей с постфиксом <strong>Локализация</strong>.</li></li></li></ul>
<p>Но если за основу берется российская версия конфигурации, то локализацию рекомендуется выполнять следующим образом:</p>
<ul>
<li>поставить свою национальную конфигурацию на поддержку к российской; 

<li>снять с поддержки и локализовать объекты, перечисленные в файле ЛокализуемыеОбъекты&lt;…&gt;.txt из поставки типовой конфигурации; 

<li>снять с поддержки и локализовать алгоритмы общих модулей с постфиксом <strong>Локализация</strong>.</li></li></li></ul>
<p>Подготовку файла поставки международной версии можно упростить, используя файл настроек объединения.</p>
<p class="tip">Для автоматизации предусмотрена <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/ПодготовкаФайлаНастроекОбъединения/ПодготовкаФайлаНастроекОбъединения.zip" rel="nofollow" target="_blank">обработка подготовки файла настроек объединения</a>.</p>
<h3>См. также</h3></font>
<ul><font face="Verdana" size="2">
<li><a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">Интерфейсные тексты в коде: требования по локализации</a>
<li><a href="#04_Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!).htm" target="_top">Запросы, динамические списки и отчеты на СКД: требования по локализации</a>
<li><a href="#05_Форматирование даты, числа, Булево_ требования по локализации.htm" target="_top">Даты: требования по локализации</a>
<li><a href="#06_Строковые константные выражения в коде_ требования по локализации.htm" target="_top">Строковые константные выражения в коде: требования по локализации</a>
<li><a href="#07_Элементы форм_ требования по локализации.htm" target="_top">Элементы форм: требования по локализации</a>
<li><a href="#08_Регламентные задания_ требования по локализации.htm" target="_top">Регламентные задания: требования по локализации</a> </li></li></li></li></li></li></font>
<li><font face="Verdana" size="2"><a href="#09_Макеты_ требования по локализации.htm" target="_top">Макеты: требования по локализации</a></font></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100761.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Интерфейсные тексты в коде: требования по локализации</h1><div style="clear: right; float: right;">#std761</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Если в модулях конфигурации встречаются строки, предназначенные для пользовательского интерфейса (сообщения пользователю, надписи в формах, названия и подсказки команд, выражения в настройках СКДи т.п.) необходимо обеспечить возможность локализации таких строк.</p>
<p>Для этого необходимо применять функцию <strong>НСтр</strong> вместо прямого использования строковых литералов. Иное использование строк, предназначенных для пользовательского интерфейса, не допускается.</p>
<p>Например, неправильно:</p><pre class="programtext">ПоказатьПредупреждение(, "Для выполнения операции необходимо установить расширение работы с файлами.");</pre>
<p>Правильно:</p><pre class="programtext">ПоказатьПредупреждение(, НСтр("ru='Для выполнения операции необходимо установить расширение работы с файлами.'"));</pre>
<p>Также следует обращать внимание на корректное использование функции <strong>НСтр</strong>. </p>
<p>Например, неправильно:</p><pre class="programtext"><pre>ТекстСообщения = "ru='Для выполнения операции необходимо установить расширение работы с файлами.'";

ПоказатьПредупреждение(, НСтр(ТекстСообщения));

</pre></pre>
<p>Правильно:</p><pre class="programtext">ТекстСообщения = НСтр("ru='Для выполнения операции необходимо установить расширение работы с файлами.'");

ПоказатьПредупреждение(, ТекстСообщения);</pre>
<p><a id="2" name="2"></a>2. В том случае если строка является составной и включает в себя части, зависящие от тех или иных условий, тем не менее, следует использовать логически завершенные, целостные фразы (предложения). Необходимо применять функцию <strong>СтрШаблон</strong> (или аналогичную) для подстановки параметров в строки сообщений пользователю.</p>
<p>Это требование обусловлено, во-первых, разным расположением параметров в тексте предложения на различных языках, что приводит к необходимости изменения исходного кода для перестановки складываемых фрагментов строк, а во-вторых, невозможностью корректно перевести отдельные несогласованные части предложения (наличие или отсутствие артиклей, предлогов, разное расположение знаков препинания в тексте предложения на различных языках и т.п.).</p>
<p>Неправильно:</p><pre class="programtext"><pre>СообщениеОНехватке = "Не хватает товара " + НаименованиеТовара + " на складе " + НаименованиеСклада + ".";

</pre></pre>
<p>Правильно:</p><pre class="programtext"><pre>ТекстСообщения = НСтр("ru = 'Не хватает товара %1 на складе %2.'");<br/>СообщениеОНехватке = СтрШаблон(ТекстСообщения, НаименованиеТовара, НаименованиеСклада);

</pre></pre>
<p>Также с помощью параметров подстановки не следует разрывать целостную фразу на отдельные логически незавершенные части. Вместо этого следует задавать в коде несколько строк со всеми вариантами фразы.</p>
<p>Неправильно:</p><pre class="programtext"><pre>НСтр("ru = '%1 пользователя ""%2"" в группу ""%3""?'") // где параметр %1 может принимать слова "Включить", "Копировать" или "Удалить".

</pre><o:p></o:p></pre>
<p>Правильно:</p><pre class="programtext"><pre>НСтр("ru = 'Включить пользователя ""%2"" в группу ""%3""?'")<br/>НСтр("ru = 'Копировать пользователя ""%2"" в группу ""%3""?'")<br/>НСтр("ru = 'Удалить пользователя ""%2"" из группы ""%3""?'")</pre></pre>
<p>В то же время допустимым является:</p>
<ol>
<li>Составление текста из нескольких предложений (каждое из которых заключено в <strong>НСтр</strong> и переводится отдельно). 

<li>Предложения, заканчивающиеся двоеточием. Например, НСтр("ru = 'Создание каталога не выполнено по причине:'"). </li></li></ol>
<p>В связи со сложившейся практикой, допускается использовать именованные параметры подстановки (параметры, включающие имя аналогично переменной, а не номер) только в двух вариантах: [Параметр], %Параметр%. Здесь Параметр должен удовлетворять требованиям стандарта <a href="#07_Правила образования имен переменных.htm" target="_top">Правила образования имен переменных</a>.</p>
<p>Правильно: </p><pre class="programtext"><pre>СообщениеОНехватке = НСтр("ru='Не хватает товара %Товар% на складе %Склад%.'") 

СообщениеОНехватке = СтрЗаменить(СообщениеОНехватке, "%Товар%", НаименованиеТовара); 

СообщениеОНехватке = СтрЗаменить(СообщениеОНехватке, "%Склад%", НаименованиеСклада);

</pre></pre>
<p><a id="3" name="3"></a>3. При использовании в конфигурации Библиотеки стандартных подсистем для составных форматированных строк вместо объекта <strong>ФорматированнаяСтрока</strong> следует применять функцию <strong>ФорматированнаяСтрока </strong>общих модулей<strong> СтроковыеФункции </strong>или <strong>СтроковыеФункцииКлиент</strong>.</p>
<p>Неправильно:</p>
<p class="Programtext">Текст = Новый Массив;<br/>Текст.Добавить(НСтр("ru = 'Перед удалением расширения рекомендуется'")); <br/>Текст.Добавить(" "); <br/>Текст.Добавить(Новый ФорматированнаяСтрока(НСтр("ru = 'выполнить резервное копирование информационной базы.'"), ШрифтыСтиля.ПолужирныйШрифт); <br/>ТекстПредупреждения = Новый ФорматированнаяСтрока(Текст);</p>
<p>Правильно:</p>
<p class="Programtext">ТекстПредупреждения = СтроковыеФункцииКлиент.ФорматированнаяСтрока(НСтр("ru = 'Перед удалением расширения рекомендуется &lt;b&gt;выполнить резервное копирование информационной базы&lt;/b&gt;.'");</p>
<p><a id="4" name="4"></a>4. В функции <strong>НСтр</strong> строка ограничивается символами одинарных кавычек. Такое требование обусловлено частым использованием двойных кавычек в строковых литералах, а также встроенным в платформу механизмом редактирования строк на разных языках.</p>
<p>Неправильно:</p><pre class="programtext"><pre>ПоказатьПредупреждение(, НСтр("ru=Переменная типа ""Строка""")); 

ПоказатьПредупреждение(, НСтр("ru=""Переменная типа ""Строка"""""));

</pre></pre>
<p>Правильно:</p><pre class="programtext">ПоказатьПредупреждение(, НСтр("ru='Переменная типа ""Строка""'"));</pre>
<p><a id="5" name="5"></a>5. Недопустимо выводить в пользовательском интерфейсе, в сообщениях для пользователя, справочной информации и других материалах имена объектов метаданных и внутренние идентификаторы, которые используются в коде. В пользовательском интерфейсе допустимо выводить синонимы (представления) объектов метаданных и представления внутренних идентификаторов. <br/>При этом рекомендуется получать синонимы напрямую из метаданных с помощью функции <strong>Представление</strong>, а не дублировать в текстах. Это исключит ошибки перевода, когда переводчики могут переводить один и тот же термин разными способами.</p>
<p>Например, неправильно:</p>
<p class="Programtext"><font face="Courier New" size="2">СообщениеОшибка = НСтр("ru='Обнаружены отрицательные остатки по регистру ТоварыОрганизаций.'");</font></p>
<p>Правильно:</p>
<p class="Programtext">СообщениеОшибка = СтрШаблон(НСтр("ru = 'Обнаружены отрицательные остатки по регистру ""%1"".'"), Метаданные.РегистрыНакопления.ТоварыОрганизаций.Представление());</p>
<p>Или сокращенный вариант:</p>
<p class="Programtext">СообщениеОшибка = СтрШаблон(НСтр("ru = 'Обнаружены отрицательные остатки по регистру ""%1"".'"), Метаданные.РегистрыНакопления.ТоварыОрганизаций);</p>
<p><a id="5.1" name="5.1"></a>5.1. Исключение составляют сообщения для разработчиков, интерфейсы различных инструментов разработчиков или внедренцев, для которых предусмотрен вывод имен объектов метаданных и внутренних идентификаторов. При выводе в сообщениях имен процедур и функций следует для однозначности выводить их полные имена с именем общего модуля или модуля менеджера.</p>
<p>Неправильно:</p>
<p class="Programtext">СообщениеОшибка = НСтр("ru = 'Ошибка в функции ЕстьРоль модуля УправлениеДоступом.'");</p>
<p>Правильно:</p>
<p class="Programtext">ИмяФункции = "УправлениеДоступом.ЕстьРоль";<br/>СообщениеОшибка = СтрШаблон(НСтр("ru = 'Ошибка в функции %1.'"), ИмяФункции);</p>
<p>Пример для модуля менеджера:</p>
<p class="Programtext">ИмяФункции = "Документы.АвансовыйОтчет.АдаптированныйТекстЗапросаДвиженийПоРегистру";<br/>СообщениеОшибка = СтрШаблон(НСтр("ru = 'Для исправления движений документа необходимо вызвать функцию %1.'"), ИмяФункции);</p>
<p>При выводе имен объектов метаданных рекомендуется получать их напрямую из метаданных с помощью функции <strong>ПолноеИмя</strong>. Это исключит ошибки перевода, когда переводчики могут пытаться переводить заранее непереводимые имена объектов метаданных и внутренних идентификаторов.</p>
<p>Например, неправильно:</p>
<p class="Programtext">СообщениеОшибка = НСтр("ru='Подсистема некорректно встроена в регистр ТоварыОрганизаций.'");</p>
<p>Правильно:</p>
<p class="Programtext">СообщениеОшибка = СтрШаблон(НСтр("ru = 'Подсистема некорректно встроена в регистр %1.'"), Метаданные.РегистрыНакопления.ТоварыОрганизаций.ПолноеИмя());</p>
<p><a id="6" name="6"></a>6. При использовании функций <b>ЧислоПрописью</b>, <b>ПредставлениеПериода</b>, <b>СтрокаСЧислом</b> не следует указывать параметр "Л="("L=") в строке форматирования. <br/>Например, неправильно: </p>
<p class="Programtext">СуммаПрописью = ЧислоПрописью(2341.56, "Л = ru_RU; ДП = Истина", НСтр("ru='доллар,доллара,долларов,м,цент,цента,центов,м,2'")); </p>
<p>Правильно:</p>
<p class="Programtext">СуммаПрописью = ЧислоПрописью(2341.56, "ДП = Истина", НСтр("ru='доллар,доллара,долларов,м,цент,цента,центов,м,2'")); </p>
<p><a id="7" name="7"></a>7. Недопустимо вызывать функцию <b>ПолучитьСклоненияСтрокиПоЧислу</b>, т.к. она предназначена только для русскоязычного интерфейса. Вместо нее следует использовать специализированные функции: </p>
<ul>
<li>СтроковыеФункцииКлиентСервер.СтрокаСЧисломДляЛюбогоЯзыка; 

<li>РаботаСКурсамиВалют.СформироватьСуммуПрописью; 

<li>СтрокаСЧислом; 

<li>ЧислоПрописью;</li></li></li></li></ul>или реализовывать собственные прикладные функции. 

<p><a id="8" name="8"></a>8. В редких случаях, например, когда нужно собрать длинное сообщение с предоставлением лога действий пользователя, допускается применять не замену строк в строке-шаблоне, а сложение строк. При этом неязыковые символы (чаще перенос строки) в начале и конце строк необходимо выделять в отдельные строковые литералы (которые пропускаются при переводе).</p>
<p>Неправильно:</p><pre class="programtext"><pre>ТекстСообщения = НСтр("ru = 'Не удалось сохранить файл документа по причине:

  |'")

  + ИнформацияОбОшибке;

</pre></pre>
<p>Правильно:</p><pre class="programtext"><pre>ТекстСообщения = НСтр("ru = 'Не удалось сохранить файл документа по причине:'")

  + Символы.ПС + ИнформацияОбОшибке;

</pre></pre>
<p>В противном случае, при переводе строки на другой язык концевой пробел легко может быть не замечен переводчиком, так как переводчик не видит всего контекста, а только сводную таблицу строк, подлежащих переводу. Кроме того, может быть искажена при переводе фраза, так как её продолжение переводчику не видно и нет символа шаблона подстановки, поясняющего, что дальше будет продолжение.</p>
<p><a id="9" name="9"></a>9. При вызове метода <strong>ПоказатьВопрос</strong> с указанием кнопок диалога в параметре <strong>Кнопки</strong>:</p>
<ul>
<li>следует по возможности использовать системное перечисление <strong>КодВозвратаДиалога</strong>; 

<li>Если в перечислении нет нужной кнопки, вместе со значением, связанным с кнопкой, следует задавать его представление с использованием функции <strong>НСтр</strong>.</li></li></ul>
<p>Например, неправильно:</p><pre class="Programtext">Кнопки = Новый СписокЗначений;

Кнопки.Добавить("Отключить");

Кнопки.Добавить("Нет");

ПоказатьВопрос(..., Кнопки);

</pre>
<p>Правильно:</p><pre class="Programtext">Кнопки = Новый СписокЗначений;

Кнопки.Добавить("Отключить", НСтр("ru='Отключить'"));

Кнопки.Добавить(КодВозвратаДиалога.Нет);

ПоказатьВопрос(..., Кнопки);

</pre>
<p>См. также</p>
<ul>
<li><a href="#10_Использование Журнала регистрации.htm" target="_top">Использование Журнала регистрации</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100762.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Запросы, динамические списки и отчеты на СКД_ требования по локализации (Раздел обновлен!).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Запросы, динамические списки и отчеты на СКД: требования по локализации</h1><div style="clear: right; float: right;">#std762</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В некоторых случаях строковые литералы из текстов запросов также могут оказаться частью пользовательского интерфейса. В таких случаях строковые литералы необходимо выносить из текста запроса в параметры.</p>
<p>Неправильно:</p><pre class="programtext">ЗапросПоВерсиям = Новый Запрос(" 

  |ВЫБРАТЬ 

  |Версии.Ссылка, 

  |ВЫБОР КОГДА Версии.Выпущена = ИСТИНА 

  | ТОГДА ""выпущена"" 

  | ИНАЧЕ ""в разработке"" 

  |КОНЕЦ КАК ТекстПояснения 

  | ИЗ 

  | Справочник.Версии КАК Версии");</pre>
<p>Также неправильно:</p><pre class="programtext">ТекстЗапроса = 

  "ВЫБРАТЬ

  |Версии.Ссылка,

  |ВЫБОР КОГДА Версии.Выпущена = ИСТИНА

  | ТОГДА &amp;ТекстВыпущеннойВерсии

  | ИНАЧЕ &amp;ТекстНеВыпущеннойВерсии

  |КОНЕЦ КАК ТекстПояснения

  | ИЗ

  | Справочник.Версии КАК Версии");

  

  ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ТекстВыпущеннойВерсии", НСтр("ru='выпущена'"));

  ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ТекстНеВыпущеннойВерсии", НСтр("ru='в разработке'"));</pre>
<p>Правильно:</p><pre class="programtext">ЗапросПоВерсиям = Новый Запрос(" 

  |ВЫБРАТЬ 

  |Версии.Ссылка, 

  |ВЫБОР КОГДА Версии.Выпущена = ИСТИНА 

  | ТОГДА &amp;ТекстВыпущеннойВерсии 

  | ИНАЧЕ &amp;ТекстНеВыпущеннойВерсии 

  |КОНЕЦ КАК ТекстПояснения 

  | ИЗ 

  | Справочник.Версии КАК Версии"); 



ЗапросПоВерсиям.УстановитьПараметр("ТекстВыпущеннойВерсии", НСтр("ru='выпущена'")); 

ЗапросПоВерсиям.УстановитьПараметр("ТекстНеВыпущеннойВерсии", НСтр("ru='в разработке'"));</pre>
<p><a id="2" name="2"></a>2. Аналогичные требования предъявляются к выражениям СКД и запросам, которые используются в наборах данных СКД и содержат строковые литералы, выводимые в пользовательском интерфейсе. Например, если в выражении для параметров СКД встречаются строковые константы, требующие перевода, то следует:</p>
<p>а) в запросе указывать строковые константы, соответствующие "Правилам образования имен переменных" (""ЗавершитеСозданиеДокументов" КАК Рекомендация "), а в списке доступных значений поля указать локализуемый строковый литерал ("Завершите создание документов");</p><img height="320" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/image1.png?_=00008B204BC84BCC-v2" style="aspect-ratio:737/320" width="737"/><script type="text/javascript">forceDocumentLayout()</script>
<p>б) либо значение таких параметров с помощью функции <strong>НСтр</strong> устанавливать не в колонке Выражение, а в модуле отчета в обработчике события <strong>ПриКомпоновкеРезультата</strong></p>
<p>Неправильно:</p><pre class="programtext">ВЫБОР

  КОГДА ВидОперации = "Отгрузка клиентам" ТОГДА 1

  КОГДА ВидОперации = "Возвраты товаров от клиентов" ТОГДА 2

  КОГДА ВидОперации = "Приемка от поставщиков" ТОГДА 3

КОНЕЦ</pre>
<p>Правильно:</p><pre class="programtext">ВЫБОР

  КОГДА ВидОперации = &amp;ВидОперацииОтгрузкаКлиентам ТОГДА 1

  КОГДА ВидОперации = &amp;ВидОперацииВозвратыТоваровОтКлиентов ТОГДА 2

  КОГДА ВидОперации = &amp;ВидОперацииПриемкаОтПоставщиков ТОГДА 3

КОНЕЦ</pre>
<p>в) В выражениях, используемых в настройках СКД, например <strong>Выражение представления</strong> и <strong>Выражение упорядочивания</strong> на закладке <strong>Наборы данных</strong>, а также в других им подобных, необходимо использовать функцию <strong>НСтр</strong>, аналогично тому, как это делается в коде модулей (см. стандарт <a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">Интерфейсные тексты в коде: требования по локализации</a>).</p>
<p>Неправильно:</p><pre class="programtext">Выбор Когда Объект = Раздел 

  Тогда Выбор 

    Когда Раздел = Значение(ПланВидовХарактеристик.РазделыДатЗапретаИзменения.ПустаяСсылка) 

      Тогда "&lt;Для всех разделов и объектов, кроме указанных&gt;" 

    Иначе "&lt;Для всех объектов, кроме указанных&gt;" 

  Конец 

  Иначе Объект 

Конец

</pre>
<p>Правильно:</p><pre class="programtext">Выбор Когда Объект = Раздел 

  Тогда Выбор 

    Когда Раздел = Значение(ПланВидовХарактеристик.РазделыДатЗапретаИзменения.ПустаяСсылка) 

      Тогда НСтр("ru='&lt;Для всех разделов и объектов, кроме указанных&gt;'")

    Иначе НСтр("ru='&lt;Для всех объектов, кроме указанных&gt;'")

  Конец 

  Иначе Объект 

Конец

</pre>
<p><a id="3" name="3"></a>3. Для колонок отчета на СКД для поля выборки, полученного вычислением с заданием ему псевдонима, необходимо задавать синоним при разработке. Нельзя опираться на автоматически сгенерированный заголовок по имени/псевдониму. </p>
<p>Неправильно:</p><img height="224" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/image4.png?_=00002FDF32F4A75A-v2" style="aspect-ratio:418/224" width="418"/>
<p>Правильно:</p><img height="248" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/image5.png?_=00004877B198D69A-v2" style="aspect-ratio:480/248" width="480"/>
<p>В отчётах, если не стоит галочка у поля выборки, полученного вычислением с заданием ему псевдонима, оно не попадает в результаты поиска редактирования текстов интерфейсов.</p>
<p><a id="4" name="4"></a>4. Для заголовков отчетов СКД, полей, вычисляемых полей и параметров допустимо использовать параметры подстановки через функцию <b>СтрШаблон</b>: %1, %2 и т.д.; а также два варианта именованных параметров подстановки: <b>[Параметр]</b>, <b>%Параметр%</b>. Имя параметра должно удовлетворять <a href="#07_Правила образования имен переменных.htm" target="_top">правилам образования имен переменных.</a></p>
<p>Такие параметры затем можно заменить в обработчике модуля отчета <b>ПриКомпоновкеРезультата</b> в тех случаях, когда заголовки отчета или его полей зависят от прикладной логики и вычисляются в коде.</p>
<p>  <img height="283" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/skd1.png?_=00004DC4925F025F-v2" style="aspect-ratio:794/283" width="794"/></p>
<p><img height="250" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/skd2.png?_=000060C05AF00F67-v2" style="aspect-ratio:700/250" width="700"/></p>
<p><br/></p>
<p><img height="162" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/skd3.png?_=0000470324340B32-v2" style="aspect-ratio:649/162" width="649"/></p>
<p><br/><img height="209" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/1.png?_=000051DC0E3F08FB-v2" style="aspect-ratio:653/209" width="653"/></p>
<p><br/><img height="175" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100762.files/2.png?_=00002FFFEC3CA6DE-v2" style="aspect-ratio:589/175" width="589"/></p>
<h3>См. также</h3>
<ul>
<li><a href="#01_Оформление текстов запросов.htm" target="_top">Оформление текстов запросов</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100763.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Форматирование даты, числа, Булево_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Форматирование даты, числа, Булево: требования по локализации</h1><div style="clear: right; float: right;">#std763</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При использовании функции <strong>Формат</strong> в некоторых случаях следует использовать функцию <strong>НСтр</strong> при создании форматной строки (формат представления или редактирования дат, Булево значения и т.п.) . При этом форматная строка, задаваемая в свойствах метаданных (форм), подлежит локализации всегда, также, как синоним.</p>
<p><a id="1.1" name="1.1"></a>1.1. Форматирование дат</p>
<p>для вывода дат следует учитывать, что в различных странах приняты различные порядок следования и разделители для составных частей даты. </p>
<p>Например, одна и та же дата: 20.12.2012 – для России, 12/20/2012 – для США.</p>
<p>Поэтому вместо явного задания формата даты рекомендуется использовать локальный формат даты (ДЛФ). </p>
<p>В случаях, когда использовать локальный формат даты не получатся, и требуется задать произвольный формат (ДФ) или указать представление пустой даты (ДП) нужно применять функцию <strong>НСтр</strong> к форматной строке, чтобы при локализации оставалась возможность переопределить выводимый формат:</p>
<p>Неправильно:</p><pre class="Programtext">Формат(ДатаУтверждения, "ДФ=дд.ММ.гггг");

Формат(ДатаУтверждения, "ДФ=ММММ гггг") + " г.";

</pre>
<p>Правильно:</p><pre class="Programtext">Формат(ДатаУтверждения, "ДЛФ=ДД");

Формат(ДатаУтверждения, НСтр("ru='ДФ=''ММММ гггг ""г.""'''"));</pre>
<p><a id="1.2" name="1.2"></a>1.2. Форматирование числа</p>
<p>Следует применять функцию <strong>НСтр</strong> к форматной строке в случае, когда<br/>• для числа задается нечисловое представление нулевого значения (ЧН) ;<br/>• указан шаблон форматирования числа (ЧФ);<br/>• переопределяется разделитель дробной части (ЧРД).</p>
<p>Неправильно:</p><pre class="Programtext">Предупреждение(Формат(100, "ЧН=Отсутствует"));

Предупреждение(Формат(100, "ЧФ=""$Ч' / Час'"""));

</pre>
<p>Правильно:</p><pre class="Programtext">Предупреждение(Формат(100, НСтр("ru = 'ЧН=Отсутствует'")));

Предупреждение(Формат(100, НСтр("ru = 'ЧФ=""$Ч'' / Час''""'"))); // "$100 / Час"

</pre>
<p><a id="1.3" name="1.3"></a>1.3. Форматирование Булево</p>
<p>Для вывода Булево значения пользователю всегда применяйте функцию <strong>НСтр</strong> к форматной строке.</p>
<p>Неправильно:</p><pre class="Programtext">Предупреждение(Формат(Истина, "БЛ=Нет; БИ=Да"));

</pre>
<p>Правильно:</p><pre class="Programtext">Предупреждение(Формат(Истина, НСтр("ru='БЛ=Нет; БИ=Да'")));

</pre>
<p><a id="1.4" name="1.4"></a>1.4. Не следует переопределять поведение отображения локализации данных по умолчанию – формат отображения операционной системы. При использовании функции <strong>Формат</strong> следует избегать использовать параметр «L=».</p>
<p><a id="2" name="2"></a>2. При задании формата в полях ввода в формах и полях отчетов на базе СКД также рекомендуется локальный формат даты. Использовать другие форматы допустимо, если по сути решаемой задачи локальный формат не подходит – тогда форматная строка будет переводиться при переводе конфигурации.</p>
<p><a id="3" name="3"></a>3. При переопределении стандартных представлений полей в отчетах на базе СКД следует придерживаться тех же правил, что и в коде модулей. Например, неправильно:</p>
<p class="Programtext">"N " + ВОтветНаНомер + " от " + Формат(ВОтветНаДата, "ДФ=dd.MM.yyyy")</p>
<p>правильное выражение, по которому вычисляется представление поля:</p><pre class="Programtext">СтрШаблон(

  НСтр("ru = 'N%1 от %2'"),

  ВОтветНаНомер,

  Формат(ВОтветНаДата, "ДЛФ=D"))

</pre>
<p><a id="4" name="4"></a>4. В случае, когда требуется передача значения в машиночитаемом виде, вне зависимости от информационной системы и настроек локализации, применяемых в ней, вместо локализации значения следует выполнить сериализацию. Локализацию дат нужно использовать всегда, когда это возможно. В тех случаях, когда это технически нецелесообразно, допускается отказываться от локализации. Например, при генерации файла формата XML, поддерживаемого банк-клиентом системы, специфичной для России.</p>
<p>В общем случае для сериализации рекомендуется использовать метод <strong>XMLСтрока</strong>.</p>
<p>Для десериализации <strong>XMLЗначение</strong>. Или метод <strong>ПривестиЗначение</strong> объекта <strong>ОписаниеТипов</strong>.</p>
<p><a id="4.1" name="4.1"></a>4.1. Сериализация дат</p>
<p>При разработке собственных форматов передачи данных между различными системами рекомендуется сериализовать дату в формате ISO: "ГГГГ-ММ-ДДTЧЧ:ММ:ССZ", например "2009-02-15T00:00:00Z" (соответствует типу dateTime схемы XML см. <a href="http://www.w3.org/TR/xmlschema-2/#dateTime" target="_blank">http://www.w3.org/TR/xmlschema-2/#dateTime</a>).</p>
<p>Неправильно:</p>
<p class="Programtext">Строка = Формат(Дата, "ДФ=гггг-ММ-ддTЧЧ:мм:сс"); // Сериализация</p>
<p>Правильно:</p><pre class="Programtext">// Сериализация

Строка = XMLСтрока(Дата); // Сериализация

// Или

Строка = ЗаписатьДатуJSON(Дата, ФорматДатыJSON.ISO); // Сериализация

ОписаниеТипа = Новый ОписаниеТипов("Дата");

Дата = ОписаниеТипа.ПривестиЗначение(Строка);</pre><pre class="Programtext">// Десериализация

Дата = XMLЗначение(Тип("Дата"), Строка); 

// Или

Дата = ПрочитатьДатуJSON(Строка, ФорматДатыJSON.ISO);

</pre>
<p><a id="4.2" name="4.2"></a>4.2. Сериализация числа</p>
<p>Неправильно:</p><pre class="Programtext">// Сериализация

Строка = Строка(Число);

// Или

Строка = Формат(Число);

</pre>
<p>Правильно:</p>
<p class="Programtext">Строка = XMLСтрока(Число); // Сериализация<br/>Число = XMLЗначение(Тип("Число"), Строка); // Десериализация</p>
<p><a id="4.3" name="4.3"></a>4.3. Сериализация Булево</p>
<p>Неправильно:</p><pre class="Programtext">// Сериализация

Строка = Строка(Булево);

// Или

Строка = Формат(Булево);

// Или

Строка = Формат(Булево, "БЛ=off; БИ=on");</pre>
<p>Правильно:</p><pre class="Programtext">// Сериализация

Строка = XMLСтрока(Булево);

// Или

Булево = XMLЗначение(Тип("Булево "), Строка);

// Или

Строка = ?(Булево, "on", "off");

</pre>
<p class="Programtext"><br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100764.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Строковые константные выражения в коде_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Строковые константные выражения в коде: требования по локализации</h1><div style="clear: right; float: right;">#std764</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Не локализуются строковые константы с внутренними идентификаторами, которые не выводятся пользователям. К ним не следует применять функцию <strong>НСтр</strong>. При этом, такие строковые идентификаторы должны именоваться по правилам именования идентификаторов переменных встроенного языка.</p>
<p>Например:</p><pre class="programtext">Возврат "ОперацияВыполненаУспешно";

Оповестить("ЗаписьФайл", Новый Структура("Событие", "ВерсияСохранена"), ФайлСсылка);</pre>
<p>Неправильно: </p><pre class="programtext">Если Статус = "Отгрузка клиентам" Тогда ...</pre>
<p>Правильно: </p><pre class="programtext">Если Статус = "ОтгрузкаКлиентам" Тогда ...</pre>
<p>Это требование распространяется и на использование идентификаторов в текстах запросов и в выражениях СКД. </p>
<p>При использовании в коде строковых констант можно и даже предпочтительно применять функции, возвращающие эти строковые константы, такой подход упрощает отладку и рефакторинг кода.</p>
<p>Правильно:</p><pre class="programtext">РезультатЗагрузки = ЗагрузитьФайлИзИнтернета(...);

Если РезультатЗагрузки = РезультатЗагрузкиУспешно() Тогда 

...

ИначеЕсли ...



Функция РезультатЗагрузкиУспешно()

  Возврат "Успешно"; 

КонецФункции</pre>
<p>Это устраняет неоднозначность, когда идентификатор визуально выглядит в коде как строка, выводимая пользователю, но без необходимого <strong>НСтр</strong>.</p>
<p><a id="2" name="2"></a>2. В алгоритмах программы не следует использовать представления объектов и типов. Строковые представления предназначены только для вывода пользователю, они могут различаться в зависимости от текущего языка программы. Поэтому их использование приводит к ошибкам при локализации конфигурации, а также при интеграции с системами на других языках. Частные случаи некорректного использования представлений объектов и типов в коде.</p>
<p><a id="2.1" name="2.1"></a>2.1. Для получения предопределенного значения на клиенте следует указывать его строковое имя, как оно указано в конфигураторе.</p>
<p>Например, неправильно:</p><pre class="programtext">Если Строка(ЮрФизЛицо) = "Юридическое лицо" Тогда</pre>
<p>правильно</p><pre class="programtext">Если ЮрФизЛицо = ПредопределенноеЗначение("Перечисление.ЮридическоеФизическоеЛицо.ЮридическоеЛицо") Тогда</pre>
<p>Подробнее см. раздел <a href="https://its.1c.ru/db/v838doc/bookmark/dev/TI000000158" target="_top">Работа с предопределенными значениями</a> в документации к платформе 1С:Предприятие (на ИТС).</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100765.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Элементы форм_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Элементы форм: требования по локализации</h1><div style="clear: right; float: right;">#std765</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Нельзя присваивать реквизитам, используемым в элементах формы, строковые значения, не прошедшие локализацию. Рекомендуется для этого использовать, списки значений, в которых для каждого значения задается локализуемое представление, или перечисления, если они используются в таблицах базы данных.</p>
<p>Неправильно:</p><img height="175" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image6.png?_=00004C54A94BE019-v2" style="aspect-ratio:731/175" width="731"/><script type="text/javascript">forceDocumentLayout()</script> <pre class="programtext"><pre><span class="k"><font color="#ff0000">Если</font></span> Режим <span class="k"><font color="#ff0000">=</font></span> <span class="s"><font color="#000000">"Рабочий"</font></span> <span class="k"><font color="#ff0000">Тогда</font></span>

	Режим <span class="k"><font color="#ff0000">=</font></span> <span class="s"><font color="#000000">"Демо"</font></span><span class="k"><font color="#ff0000">;</font></span>

<span class="k"><font color="#ff0000">Иначе</font></span>

	Режим <span class="k"><font color="#ff0000">=</font></span> <span class="s"><font color="#000000">"Рабочий"</font></span><span class="k"><font color="#ff0000">;</font></span>

<font color="#ff0000"><span class="k">КонецЕсли</span><span class="k">;</span></font>

</pre></pre>
<p>Правильно:</p><img height="356" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image7.png?_=00013115B3C042CC-v2" style="aspect-ratio:888/356" width="888"/>
<p>Правильно:</p><img height="150" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image8.png?_=00004D58385BC796-v2" style="aspect-ratio:731/150" width="731"/> <pre class="programtext"><pre><span class="k"><font color="#ff0000">Если</font></span> Режим <span class="k"><font color="#ff0000">=</font></span> Перечисления<span class="k"><font color="#ff0000">.</font></span>РежимыРаботы<span class="k"><font color="#ff0000">.</font></span>Рабочий <span class="k"><font color="#ff0000">Тогда</font></span>

	Режим <span class="k"><font color="#ff0000">=</font></span> Перечисления<span class="k"><font color="#ff0000">.</font></span>РежимыРаботы<span class="k"><font color="#ff0000">.</font></span>Демо<span class="k"><font color="#ff0000">;</font></span>

<span class="k"><font color="#ff0000">Иначе</font></span>

	Режим <span class="k"><font color="#ff0000">=</font></span> Перечисления<span class="k"><font color="#ff0000">.</font></span>РежимыРаботы<span class="k"><font color="#ff0000">.</font></span>Рабочий<span class="k"><font color="#ff0000">;</font></span>

<font color="#ff0000"><span class="k">КонецЕсли</span><span class="k">;</span></font></pre><pre><font color="#ff0000"><span class="k"></span></font> </pre></pre>
<div class="tip">
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="2" name="2"></a>2. Для всех таблиц и групп на формах необходимо указывать заголовки, и, если эти заголовки не нужно показывать пользователю, в свойствах элемента формы в явном виде убирать отображение заголовка элемента. </p>
<p>Это требование связано с тем, что, если заголовок не указан, при использовании команды <strong>Изменить форму</strong> пользователь увидит заголовки, автоматически сгенерированные из имен элементов формы, а перевести их будет невозможно, потому что такие заголовки попадут в выгрузку на перевод как пустые, и переведены не будут.</p>
<p>Неправильно:</p><img height="482" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image9.png?_=0000F696255BC3C7-v2" style="aspect-ratio:886/482" width="886"/> <img height="291" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image10.png?_=0000724DD9C07EFB-v2" style="aspect-ratio:747/291" width="747"/>
<p>Правильно:</p>
<p><img height="476" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image11.png?_=0000EB393F7AE96F-v2" style="aspect-ratio:887/476" width="887"/> <img height="294" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image12.png?_=000072CA46CC6EBE-v2" style="aspect-ratio:747/294" width="747"/></p>
<p>Для автоматической расстановки заголовков можно воспользоваться обработкой <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/АвтоформатированиеКодаИЛокализация/АвтоформатированиеКодаИЛокализация.zip" rel="nofollow" target="_blank">автоформатирования кода и локализации</a>.</p></div>
<p><a id="3" name="3"></a>3. Следует уменьшать количество незначащей информации, подлежащей локализации.</p>
<p><a id="3.1" name="3.1"></a>3.1. Удалять бессмысленные подсказки у групп форм. См. стандарт <a href="#04_Подсказка и проверка заполнения.htm" target="_top">Подсказка и проверка заполнения</a>.</p>
<p>Это связано не только со стремлением удешевить перевод, но и с тем, что пользователь может увидеть такие подсказки, например, когда будет изменять форму.</p>
<p>Неправильно:</p><img height="496" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image13.png?_=0000EDAAE1C4A380-v2" style="aspect-ratio:886/496" width="886"/> <img height="272" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image14.png?_=0000797DB2C3304E-v2" style="aspect-ratio:747/272" width="747"/>
<p>Правильно:</p><img height="486" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image15.png?_=0000ECB1AC0E5DB1-v2" style="aspect-ratio:887/486" width="887"/> <img height="282" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image16.png?_=000076101B495ED5-v2" style="aspect-ratio:747/282" width="747"/>
<p><a id="3.2" name="3.2"></a>3.2. У реквизитов формы, не размещенных на форме в виде элементов управления, следует очищать заголовки, т.к. они не видны пользователю. Как правило, это служебные реквизиты, используемые для технологических целей.</p>
<p>Для удаление бессмысленных подсказок можно воспользоваться обработкой, приложенной к статье <a href="#01_Тексты модулей.htm" target="_top">Тексты модулей</a>.</p>
<p><a id="4" name="4"></a>4. Следует задавать заголовок для колонок динамического списка, получающихся в запросе комбинацией других колонок или для которых задан свой псевдоним. Нельзя опираться на автоматически сгенерированный заголовок по имени/псевдониму.</p>
<p>Например, неправильно: </p><img height="434" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image2.png?_=00016B0816050E2C-v2" style="aspect-ratio:1216/434" width="1216"/>
<p>Правильно:</p><img height="362" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100765.files/image3.png?_=0000B8DD234A3E25-v2" style="aspect-ratio:648/362" width="648"/>
<p>Примеры, когда заголовок колонок следует задавать в явном виде:</p>
<p class="Programtext">ВЫБРАТЬ<br/>    Таблица.Поле1 КАК Поле2<br/>    ВЫРАЗИТЬ(Таблица.Поле1 КАК СТРОКА(100)) КАК Поле3</p>
<p>В таком случае, когда поле создается в запросе и ему присваивается имя, то синоним не "подтягивается" автоматически из метаданных, т.к. не существует реквизита, связанного с этим полем. Инструментом редактирования текстов интерфейсов не находится заголовок для колонок в динамическом списке, которым задан псевдоним в запросе. Имя колонки динамического списка должно быть задано, даже если заголовок поля не выводится на форму, так как имена колонок выводятся пользователю при настройке полей формы (команда <strong>Еще</strong> - <strong>Изменить форму...</strong>).</p>
<p><a id="5" name="5"></a>5. В полях форм со списками выбора следует всегда устанавливать свойство <strong>РежимВыбораИзСписка</strong> в значение <strong>Истина</strong>. В этом случае, в поле будет корректно выводиться локализуемое представление, а не значение из списка выбора.</p><pre></pre>
<h3>См. также</h3>
<ul>
<li><a href="#06_Группы элементов формы.htm" target="_top">Группы элементов формы</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100767.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Регламентные задания_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Регламентные задания: требования по локализации</h1><div style="clear: right; float: right;">#std767</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Предопределенным регламентным заданиям не следует задавать наименования в конфигураторе. Вместо этого, достаточно задать синоним предопределенного регламентного задания.</p>
<p>Неправильно:</p><img height="252" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100767.files/image17.png?_=00003AED764E6849-v2" style="aspect-ratio:266/252" width="266"/><script type="text/javascript">forceDocumentLayout()</script>
<p>Правильно:</p><img height="252" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100767.files/image18.png?_=000038529D589FD2-v2" style="aspect-ratio:266/252" width="266"/>
<p>Для непредопределенных (параметризованных) регламентных заданий наименование задается программно, оформляется с НСтр и может описывать контекст выполнения задания.</p>
<p>Правильно:</p><pre class="programtext">Задание = РегламентныеЗадания.СоздатьРегламентноеЗадание(Метаданные.РегламентныеЗадания.РассылкаОтчетов);

Задание.Наименование = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru = 'Рассылка отчетов: %1'"), РассылкаОтчетов);

Задание.Записать();</pre>
<p>Это связано с тем, что в отсутствие наименования платформа возьмет его автоматически из локализуемого синонима. Если же наименование задано, то будет использоваться оно, а оно не поддерживает локализацию.</p>
<h3>См. также</h3>
<ul>
<li><a href="#01_Общие требования к регламентным заданиям.htm" target="_top">Общие требования к регламентным заданиям</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100766.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Макеты_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Макеты: требования по локализации и поддержке разных языков интерфейса</h1><div style="clear: right; float: right;">#std766</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Как правило, перевод табличных, текстовых и HTML-макетов на другие языки не требует каких-либо подготовительных действий при разработке конфигурации. Особым случаем являются двоичные макеты, подлежащие переводу, а также HTML-макеты, содержащие изображения, которые должны быть отдельно подготовлены на разных языках. Например, это двоичные макеты печатных форм в форматах офисных документов, HTML-макеты с инструкциями, включающие скриншоты интерфейса программы или изображения, содержащие текстовую информацию. </p>
<p>Такой макет необходимо пометить специальным образом, пометка будет означать, что при переводе будет необходимо создавать копию, а не переводить содержимое макета. Для этого в имени макета следует указывать постфикс в виде подчеркивания и кода языка так, как он задан в метаданных, в языке <strong>Русский</strong> в свойстве <strong>Код языка</strong>: <strong>"_ru"</strong>. <br/>Например, неправильно:</p>
<p>макет <strong>ПФ_ODT_СчетНаОплату</strong> (макет печатной формы счета на оплату в формате OpenOffice Writer)</p>
<p>правильно указывать в имени постфикс основного языка:</p>
<p>макет <strong>ПФ_ODT_СчетНаОплату_ru</strong></p>
<p>При добавлении языков интерфейса следует добавлять макеты с соответствующими постфиксами. В коде, в зависимости от языка, использовать макет с соответствующим постфиксом. Например, неправильно:</p><pre class="Programtext"><font color="#ff0000"><span class="k">.</span><span class="k">.</span><span class="k">.</span></font> <span class="k"><font color="#ff0000">=</font></span> ПолучитьОбщийМакет<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"ПФ_ODT_СчетНаОплату"</font></span><font color="#ff0000"><span class="k">)</span><span class="k">;</span></font>

</pre>
<p>правильно:</p>
<p class="Programtext"><font color="#ff0000"><span class="k">.</span><span class="k">.</span><span class="k">.</span></font> <span class="k"><font color="#ff0000">=</font></span> ПолучитьОбщийМакет<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"ПФ_ODT_СчетНаОплату"</font></span> <span class="k"><font color="#ff0000">+</font></span>  <span class="s"><font color="#000000">"_"</font></span> <span class="k"><font color="#ff0000">+</font></span> ТекущийЯзык<font color="#ff0000"><span class="k">(</span><span class="k">)</span><span class="k">)</span><span class="k">;</span></font></p>
<p>Кроме того, для исключения ошибок при частичном переводе конфигурации, рекомендуется выполнять получение макета в три этапа: </p>
<ul>
<li>Сначала по <strong>ИмяМакета</strong> + "_" + ТекущийЯзык(); 

<li>Если не найден, то по <strong>ИмяМакета</strong> + "_" + <strong>Метаданные.ОсновнойЯзык.КодЯзыка</strong>; 

<li>Если не найден, то по переданному имени <strong>ИмяМакета</strong>. 

<li>И наконец установить свойство <strong>КодЯзыка</strong> (у табличного документа) или <strong>КодЯзыкаМакета</strong> (у текстового документа и HTML-макета), как указано далее в п.2.</li></li></li></li></ul>
<p><a id="2" name="2"></a>2. При разработке конфигураций, рассчитанных на несколько языков интерфейса, может возникнуть задача в одном сеансе пользователя формировать печатные формы на разных языках, а не только на текущем языке интерфейса. Например, в сеансе англоязычного пользователя сформировать счет на оплату на русском языке.</p>
<p>Для получения данных из табличного, текстового или HTML-макета на заданном языке, отличном от языка интерфейса текущего пользователя, необходимо использовать свойство <strong>КодЯзыка</strong> (доступно у табличного документа) и <strong>КодЯзыкаМакета</strong> (у текстового документа и HTML-макета).</p>
<p>Правильно:</p><pre class="programtext"><pre>Макет <span class="k"><font color="#ff0000">=</font></span> ПолучитьОбщийМакет<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"ПечатнаяФорма"</font></span><font color="#ff0000"><span class="k">)</span><span class="k">;</span></font>

Макет<span class="k"><font color="#ff0000">.</font></span>КодЯзыкаМакета <span class="k"><font color="#ff0000">=</font></span> <span class="s"><font color="#000000">"ru"</font></span><span class="k"><font color="#ff0000">;</font></span>

HTMLДокумент <span class="k"><font color="#ff0000">=</font></span> Макет<span class="k"><font color="#ff0000">.</font></span>ПолучитьДокументHTML<font color="#ff0000"><span class="k">(</span><span class="k">)</span><span class="k">;</span></font>

</pre></pre>
<p><a id="3" name="3"></a>3. При разработке конфигураций, рассчитанных на несколько языков интерфейса, может также возникнуть задача формировать печатные формы строго на одном языке, не зависимо от текущего языка интерфейса. Примером таких макетов могут служить регламентированные формы отчетности для государственных учреждений. Например, пользователи с любым языком интерфейса должны формировать русскоязычную счет-фактуру – налоговый документ строго установленного образца в соответствии с Налоговым кодексом Российской Федерации (не существует российских счет-фактур на других языках, кроме русского).</p>
<p>Для табличных и HTML-макетов, которые должны выводится пользователю и на печать строго на одном языке, следует </p>
<ul>
<li>указывать в наименовании постфикс кода языка, аналогично п.1 

<li>и устанавливать код языка макета аналогично п.2 при программном получении макета в коде. </li></li></ul>
<p>Такие макеты не должны переводиться на другие языки интерфейса. При программном формировании текстов для заполнения макета следует явно указывать второй параметр в функции <strong>НСтр()</strong> для того, чтобы строки были сформированы на том же языке, что и макет.</p>
<p>Например, не правильно:</p><pre class="Programtext">Макет <span class="k"><font color="#ff0000">=</font></span> ПолучитьМакет<font color="#ff0000"><span class="k">(</span></font><span class="s"><font color="#000000">"ПФ_MXL_СчетФактура"</font></span><font color="#ff0000"><span class="k">)</span><span class="k">;</span></font>

<font color="#ff0000"><span class="k">.</span><span class="k">.</span><span class="k">.</span></font>

Область<span class="k"><font color="#ff0000">.</font></span>Текст <span class="k"><font color="#ff0000">=</font></span> НСтр<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"ru='Заголовок печати';"</font></span><font color="#ff0000"><span class="k">)</span><span class="k">;</span></font>

</pre>
<p>Правильно:</p>
<p class="Programtext">Макет <span class="k"><font color="#ff0000">=</font></span> ПолучитьМакет<font color="#ff0000"><span class="k">(</span><span class="k">(</span></font><span class="s"><font color="#000000">"ПФ_MXL_СчетФактура_ru"</font></span><font color="#ff0000"><span class="k">)</span><span class="k">;</span></font><br/>Макет<span class="k"><font color="#ff0000">.</font></span>КодЯзыка <span class="k"><font color="#ff0000">=</font></span> Метаданные<font color="#ff0000"><span class="k">.</span></font>Языки<span class="k"><font color="#ff0000">.</font></span>Русский<span class="k"><font color="#ff0000">.</font></span>КодЯзыка<span class="k"><font color="#ff0000">;</font></span><br/><font color="#ff0000"><span class="k">.</span><span class="k">.</span><span class="k">.</span></font><br/>Область<span class="k"><font color="#ff0000">.</font></span>Текст <span class="k"><font color="#ff0000">=</font></span> НСтр<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"ru='Заголовок печати';"</font></span><span class="k"><font color="#ff0000">,</font></span> Метаданные<font color="#ff0000"><span class="k">.</span></font>Языки<span class="k"><font color="#ff0000">.</font></span>Русский<span class="k"><font color="#ff0000">.</font></span>КодЯзыка<font color="#ff0000"><span class="k">)</span><span class="k">;</span></font></p>
<p>При использовании <strong>Библиотеки стандартных подсистем (БСП)</strong> и подсистемы <strong>Печать</strong> получение макета через функцию <strong>УправлениеПечатью.МакетПечатнойФормы("ПФ_MXL_СчетФактура")</strong> позволяет получить форму <strong>ПФ_MXL_СчетФактура_ru</strong> и устанавливает у макета свойство <strong>КодЯзыка</strong>.</p>
<p><a id="4" name="4"></a>4. Если в текстах макетов используются именованные параметры подстановки, необходимо соблюдать для них <a href="#03_Интерфейсные тексты в коде_ требования по локализации (Раздел обновлен!).htm" target="_top">требования по локализации интерфейсных текстов в коде</a>.</p>
<p><a id="5" name="5"></a>5. Кодировку в макетах использовать UTF-8.</p>
<p><a id="6" name="6"></a>6. Также, по возможности, следует группировать однотипные макеты (использовать один макет вместо нескольких). Например, в следующем примере в конфигурации имеется несколько однотипных макетов с сообщениями, но их содержимое записывается в один справочник, поэтому правильно хранить все подобные сообщения в одном макете.</p>
<p>Неправильно:</p><img height="98" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100766.files/image19.png?_=0000305A5BC4E17F-v2" style="aspect-ratio:612/98" width="612"/><script type="text/javascript">forceDocumentLayout()</script> <pre class="programtext"> </pre><pre class="programtext"><pre>Макет <span class="k"><font color="#ff0000">=</font></span> Обработки<span class="k"><font color="#ff0000">.</font></span>ПереключениеРежимов<span class="k"><font color="#ff0000">.</font></span>ПолучитьМакет<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"Сообщение"</font></span><font color="#ff0000"><span class="k">)</span><span class="k">;</span></font>

</pre></pre>
<p>Правильно:</p><img height="154" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100766.files/image20.png?_=0000593E36F9CFA9-v2" style="aspect-ratio:733/154" width="733"/>
<p> </p><pre class="programtext">Макет <span class="k"><font color="#ff0000">=</font></span> Обработки<span class="k"><font color="#ff0000">.</font></span>ПереключениеРежимов<span class="k"><font color="#ff0000">.</font></span>ПолучитьМакет<span class="k"><font color="#ff0000">(</font></span>СтроковыеФункцииКлиентСервер<span class="k"><font color="#ff0000">.</font></span>ПодставитьПараметрыВСтроку<span class="k"><font color="#ff0000">(</font></span><span class="s"><font color="#000000">"Сообщения_%1"</font></span><span class="k"><font color="#ff0000">,</font></span> ОбщегоНазначения<span class="k"><font color="#ff0000">.</font></span>КодОсновногоЯзыка<font color="#ff0000"><span class="k">(</span><span class="k">)</span><span class="k">)</span><span class="k">)</span><span class="k">;</span></font></pre>
<p><a id="7" name="7"></a>7. Внешние компоненты следует размешать в макетах с типом макета <strong>внешняя компонента</strong>. При разработке внешней компоненты требуется обрабатывать метод <strong>SetLocale</strong> для локализации внешней компоненты в соответствии с полученным кодом локализации (см. <a href="https://its.1c.ru/db/content/metod8dev/src/developers/platform/i8103221.htm?_=1557748351" target="_top">Технология создания внешних компонент</a>). Если полученный код локализации отличается от предусмотренного во внешней компоненте, то компонента должна настроить свое окружение на использование английского языка.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100778.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Денежные поля_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Денежные поля: требования по локализации</h1><div style="clear: right; float: right;">#std778</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Для обеспечения работы конфигурации в странах с низким курсом национальной валюты, необходимо предусмотреть увеличение разрядности целой части числовых полей (реквизитов, ресурсов, измерений), содержащих денежный эквивалент – денежные поля. Примеры денежных полей: <strong>Сумма</strong>, <strong>Цена</strong>, <strong>Себестоимость</strong>.</p>
<p>Для этого в метаданных </p>
<ul>
<li>для денежных полей, которые могут содержать только положительные значения, вместо фиксированного типа <strong>Число(15, 2)</strong> использовать определяемый числовой тип <strong>ДенежнаяСуммаНеотрицательная</strong>; 

<li>для денежных полей, которые могут содержать отрицательное значение, использовать тип <strong>ДенежнаяСуммаЛюбогоЗнака</strong> со сброшенным флагом <strong>Неотрицательное</strong>.</li></li></ul>
<p>В тех случаях, когда определяемый тип невозможно указать (например, в качестве типа для параметра формы или включить в составной тип), то следует задать числовой тип максимальной длины - <strong>Число(31, 2)</strong>. При этом в отдельных случаях эта длина должна быть снижена из-за ограничений СУБД, например, в ресурсах регистров.</p>
<p><a id="2" name="2"></a>2. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> не следует использовать конструктор типа <strong>Число</strong> для получения описания типа денежного поля. Вместо этого использовать функцию, возвращающую описание на основании определяемого типа.</p>
<p>Неправильно:</p>
<p class="Programtext">ОписаниеТиповСумма = Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(15,2));</p>
<p>Правильно:</p>
<p class="Programtext">ОписаниеТиповСумма = РаботаСКурсамиВалют.ОписаниеТипаДенежногоПоля();</p>
<p><a id="3" name="3"></a>3. При <a href="#07_Округление результатов арифметических операций в запросах.htm" target="_top">использовании <strong>ВЫРАЗИТЬ</strong> в текстах запросов</a> для денежных полей, использовать приведение к типу <strong>ЧИСЛО(31,2)</strong>, что обеспечивает поддержку максимальной длины целой части 29. Ограничение длины целой части 29 обусловлено поддержкой сервера DB2.</p>
<p>Неправильно:</p>
<p class="Programtext">ВЫРАЗИТЬ(Т.Сумма / Т.Количество КАК ЧИСЛО(15,2))</p>
<p>Правильно:</p>
<p class="Programtext">ВЫРАЗИТЬ(Т.Сумма / Т.Количество КАК ЧИСЛО(31,2))</p>
<p><a id="4" name="4"></a>4. При использовании функции <strong>Формат</strong> и при задании формата в свойствах элементов формы, свойствах полей наборов схем компоновки данных и т.д. не следует задавать общую длину.</p>
<p>Неправильно:</p>
<p class="Programtext">Формат(Выборка.СуммаДокумента, "ЧЦ=15; ЧДЦ=2")</p>
<p>Правильно:</p>
<p class="Programtext">Формат(Выборка.СуммаДокумента, "ЧДЦ=2")</p>
<p>Неправильно:</p>
<p><img height="475" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100778.files/1.png?_=0000862D3452BE56-v2" style="aspect-ratio:588/475" width="588"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p>Правильно:</p>
<p><img height="478" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/900/i8100778.files/2.png?_=000084DDE2047F16-v2" style="aspect-ratio:590/478" width="590"/></p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/900/i8100784.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Автогенерированные данные в информационной базе_ требования по локализации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Автогенерированные данные в информационной базе: требования по локализации</h1><div style="clear: right; float: right;">#std784</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Автогенерируемые строки, которые программно записываются в информационную базу и выводятся пользователям, необходимо формировать не на языке текущего пользователя, а на языке информационной базы.</p>
<p>Например, при начальном заполнении информационной базы данными из макета, автогенерации комментария к проводке или определении значения параметра <strong>ИмяСобытия</strong> <a href="#10_Использование Журнала регистрации.htm" target="_top">метода ЗаписьЖурналаРегистрации</a>. </p>
<p>В противном случае, если документ провел пользователь с русскоязычным интерфейсом, а затем тот же документ перепровел пользователь с англоязычным интерфейсом, то содержание записей регистра бухгалтерии станет другим (что ошибочно). </p>
<p>Такие места в коде рекомендуется сопровождать комментарием, поясняющим, что строка является данными, а не интерфейсным текстом: </p>
<p>Неправильно:</p><pre class="programtext">    Комментарий = НСтр("ru = 'Комментарий к проводке'");</pre>
<p>Правильно:</p><pre class="programtext">    Комментарий = НСтр("ru = 'Комментарий к проводке'", КодОсновногоЯзыка); // строка записывается в ИБ

</pre>
<p>Где <strong>КодОсновногоЯзыка</strong> – код языка хранения данных в информационной базе, выбранный в момент первого запуска программы из языков интерфейса конфигурации и сохраненный в константе <strong>ОсновнойЯзык</strong>. 

<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> для получения кода языка для хранения данных следует использовать функцию <strong>КодОсновногоЯзыка</strong> общего модуля <strong>ОбщегоНазначения</strong>. <pre class="programtext">  

Комментарий = НСтр("ru = 'Комментарий к проводке'", ОбщегоНазначения.КодОсновногоЯзыка()); // строка записывается в ИБ </pre>
<p><a id="2" name="2"></a>2. Аналогичные требования распространяются и на обработчики начального заполнения заполняющих строковые реквизиты предопределенных элементов справочников, ПВХ и т.п. 

<p>Правильно: <pre class="programtext">Процедура ПриДобавленииОбработчиковОбновления(Обработчики) Экспорт

	Обработчик = Обработчики.Добавить();

	Обработчик.НачальноеЗаполнение = Истина;

	Обработчик.Процедура = "ПользователиСлужебный.ЗаполнитьНаименованиеПредопределенныхГруппПользователей";

КонецПроцедуры



Процедура ЗаполнитьНаименованиеПредопределенныхГруппПользователей() Экспорт

	ГруппаПользователей = Справочники.ГруппыПользователей.ВсеПользователи.ПолучитьОбъект();

	ГруппаПользователей.Наименование = НСтр("ru='Все пользователи'", КодОсновногоЯзыка);

	ОбновлениеИнформационнойБазы.ЗаписатьОбъект(ГруппаПользователей); 

КонецПроцедуры

</pre>
<p>При добавлении новых предопределенных элементов, необходимо создать новый обработчик начального заполнения с указанием версии или дополнить существующий. См. также стандарт <a href="#09_Обработчики обновления информационной базы (БСП).htm" target="_top">Обработчики обновления информационной базы</a>. 

<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> не следует создавать собственные обработчики начального заполнения. Первоначальные данные заполнения нужно размещать в модуле менеджера объекта в процедуре <strong>ПриНачальномЗаполненииЭлементов</strong>. Тогда для объектов, зарегистрированных в процедуре <strong>ПриОпределенииНастроек</strong> общего модуля <strong>ОбновлениеИнформационнойБазыПереопределяемый</strong>, эти процедуры будут вызваны автоматически. 

<p>При добавлении нового или изменении существующего элемента следует создать собственный обработчик обновления перехода на версию и продублировать изменения в процедуре <strong>ПриНачальномЗаполненииЭлементов</strong> модуля менеджера объекта. Подробнее см. <a href="https://its.1c.ru/db/bspdoc" target="_top">документацию к БСП.</a></p></p></p></p></p></p></p></body><hr>
<h1 id='10_Проектирование интерфейсов для 8.3'>Проектирование интерфейсов для 8.3</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/i8100727.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Размеры экрана.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размеры экрана</h1><div style="clear: right; float: right;">#std727</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">1. При проектировании интерфейсов типовым разрешением экрана следует считать 1280х768 пикселей. Разработку (конфигурирование) нужно вести в стандартном разрешении - 96 DPI. <o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">2. Условия эксплуатации:<o:p></o:p></font></span></p>
<ul style="MARGIN-TOP: 0cm" type="disc">
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">Основное окно программы растянуто на весь экран<o:p></o:p></font></span>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">Панель задач операционной системы видна, расположена в нижней части экрана и уменьшает его высоту на 40 пикселей<o:p></o:p></font></span>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><font size="3"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold">Программа открыта в браузере. Высота рабочей области сокращается из-за заголовков и панелей браузера в среднем на 60 пикселей (</span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold; mso-ansi-language: EN-US">Internet</span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"> </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold; mso-ansi-language: EN-US">Explorer</span><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"> – на 54, </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold; mso-ansi-language: EN-US">Mozilla</span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"> </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold; mso-ansi-language: EN-US">Firefox</span><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"> – на 63, </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold; mso-ansi-language: EN-US">Google</span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"> </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold; mso-ansi-language: EN-US">Chrome</span><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"> – на 60).<o:p></o:p></span></font></li></li></li></ul>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><o:p><font size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">3. Исходя из вышеприведенных значений, область, доступная для работы с программой, имеет размер 1280х668 пикселей.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">4. При типовом разрешении экрана элементы внутри форм должны помещаться без вертикальной и горизонтальной полос прокрутки. Исключение составляют списки, в которых вертикальная полоса прокрутки допускается, а горизонтальная – является нежелательной.</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3"></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%; mso-outline-level: 1"><span style="FONT-FAMILY: Calibri; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt; mso-bidi-font-weight: bold"><font size="3">См. также: <a href="#01_Общие рекомендации.htm" target="_top">Общие рекомендации (8.2)<o:p></o:p></a></font></span></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/i8100753.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Оформление групп разделов с настройками и справочниками.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script><font face="Verdana" size="2">
<h1>Оформление групп разделов с настройками и справочниками</h1><div style="clear: right; float: right;">#std753</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1. Группа раздела может включать в себя:<br/>    – Заголовок (1)<br/>    – Реквизиты и настройки (2)<br/>    – Информационные сообщения (3).</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000">1.1. Типовым разрешением экрана считается 1280x768 px. Все размеры в стандартах приведены с учетом этих значений.</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"></span><font size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font face="Calibri" size="3">Например:</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><img height="595" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100753.files/1-new_1.png?_=0000A5F2F04A469E-v2" style="aspect-ratio:878/595" width="878"/><script type="text/javascript">forceDocumentLayout()</script></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000">2. Разделы, состоящие из нескольких групп, должны быть реализованы в виде свертываемых групп. Для правильного отображения заголовка свертываемой группы в Конфигураторе используются следующие параметры:<br/></font><font color="#000000">    – Поведение: Свертываемая</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000">    – ОтображениеУправления: Картинка<br/></font><font color="#000000">    – Отображение: Обычное выделение<br/></font><font color="#000000">    – ЦветТекстаЗаголовка: Авто</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000">    – ШрифтЗаголовка: Авто.</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000" size="3"></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font face="Calibri" size="3">Например:</font></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><img height="122" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100753.files/753_2.png?_=00000E1A23678F01-v2" style="aspect-ratio:196/122" width="196"/></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"></span></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000">2.1. Рекомендуется формировать группы раздела таким образом, чтобы при типовом разрешении 1280х768 пикселей все группы умещались на экране. Следует сворачивать группы, по возможности избегая появления вертикальной прокрутки.</font></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"></span></span></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font face="Calibri" size="3">Например, в разделе "Продажи" все группы свернуты по-умолчанию:</font></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><img height="766" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100753.files/753_3.png?_=00009E359CE08951-v2" style="aspect-ratio:1020/766" width="1020"/></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"></span></font></span></span></span></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000">2.2. Допускается оставлять первую группу раздела развернутой, если это не повлечет за собой "растягивания" формы за пределы типового разрешения экрана 1280х768 пикселей.</font></span></span></font></span></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"></span></span></font></span></span></font></span></span></span></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font face="Calibri" size="3">Например, в разделе "Закупки" первая группа развернута — остальные группы в свернутом виде не выходят за рамки экрана:</font></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><img height="766" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100753.files/753_4.png?_=0000B451F7290FD1-v2" style="aspect-ratio:1020/766" width="1020"/></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span> </p><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="3"><span style="COLOR: #006699">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000" size="2">3. Раздел, состоящий из одной группы, должен быть развернутым и иметь параметры "Поведение: Обычное". Заголовок в такой группе не используется.</font></span></span></font></span></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="2"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"></span></span></font></span></span></font></span></span></span></font></span><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"></span></span></font></span></span></font></span></span></span></font></span></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font face="Calibri">Например:</font></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><img height="766" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100753.files/753_5.png?_=0001077FC7842175-v2" style="aspect-ratio:1020/766" width="1020"/></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span> </p></span></font></span></span></span></font></span></span></span></font></span></span></font></span></span></span></font></span></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/i8100722.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Компоновка форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Компоновка форм</h1><div style="clear: right; float: right;">#std722</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><span style="FONT-SIZE: 14pt">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Содержание:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3"><font face="Calibri">1. Общие принципы<o:p></o:p></font></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3"><font face="Calibri">2. Вкладки<o:p></o:p></font></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3"><font face="Calibri">3. Вспомогательные формы<o:p></o:p></font></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">4. Свертываемые группы</font></p></span>
<h1><span style="FONT-SIZE: 14pt">1. Общие принципы<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.1. Внутри одной формы все заголовки для однострочных полей ввода, переключателей, тумблеров следует располагать одинаково – или слева, или сверху.</font></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype> <o:p><font face="Calibri" size="3"><img height="159" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/01.png?_=000024BD287203F9-v2" style="aspect-ratio:562/159" width="562"/><script type="text/javascript">forceDocumentLayout()</script></font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><img height="159" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/02.png?_=000023A007EEA955-v2" style="aspect-ratio:561/159" width="561"/></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="159" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/03.png?_=000023B24C7CD278-v2" style="aspect-ratio:561/159" width="561"/></p></td></tr></tbody></table><o:p><font face="Calibri" size="3"></font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Заголовки многостраничных полей рекомендуется располагать в зависимости от общей композиции формы.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.1.1. Если в группе однострочных полей заголовок одного поля существенно длиннее остальных заголовков, рекомендуется сократить название заголовка этого поля или переносить часть такого заголовка на другие строки.</font></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="80" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/2b1.png?_=00000F229AD0AB71-v2" style="aspect-ratio:412/80" width="412"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="80" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1b1.png?_=00000F343A00629D-v2" style="aspect-ratio:503/80" width="503"/></p></td></tr></tbody></table><font face="Calibri" size="3"></font></p><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.1.2. Поля взаимосвязанных реквизитов, находящиеся в одной группе, должны выравниваться по опорной линии.</font></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> <img height="153" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/2a1.png?_=00001DCE78C14424-v2" style="aspect-ratio:455/153" width="455"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="153" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1a1.png?_=00001DD73BD9433F-v2" style="aspect-ratio:463/153" width="463"/></p></td></tr></tbody></table></p></font><font face="Calibri" size="3"></font>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.2. Элементы, которые в разных формах выполняют одну и ту же функцию, следует называть одинаково и всегда выводить примерно в одном и том же месте.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, реквизит "Контрагент" располагается в левой колонке шапки во всех документах, где выводится.<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.3. Если один из элементов интерфейса влияет на другие элементы, то он должен быть расположен до этих элементов (выше или левее, в зависимости от ситуации). При работе с формой пользователь сначала должен выполнить действия, связанные с основным элементом, а потом уже перейти к работе с зависимыми.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><o:p><font face="Calibri" size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, выбор системы налогообложения влияет на состав вкладок, поэтому тумблер для его выбора расположен выше всех вкладок, а не на одной из них:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="mso-spacerun: yes"><font face="Calibri" size="3"><img height="72" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/04.png?_=000018489C0AB49E-v2" style="aspect-ratio:569/72" width="569"/>  <img height="69" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/05.png?_=000015F7C5C9053E-v2" style="aspect-ratio:439/69" width="439"/></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, поле "Договор" заполняется после того, как выбран "Контрагент", поэтому расположено в колонке справа от него. Пользователь сначала укажет контрагента в левой колонке, а потом – договор в правой:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="102" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/06.png?_=000022917101ADA3-v2" style="aspect-ratio:858/102" width="858"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Аналогично, если внутри формы есть взаимосвязанные табличные части, то они должны располагаться рядом друг с другом.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, в документе "Отчет комиссионера (агента) о продажах" состав товаров и услуг зависит от выбранного покупателя. Поэтому эти табличные части расположены рядом:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="480" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/07.png?_=000121DC9DA5D624-v2" style="aspect-ratio:640/480" width="640"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p><font face="Calibri" size="3"></font></p>
<p>
<table align="left" style="HEIGHT: 102px; WIDTH: 1089px">
<tbody>
<tr align="left">
<td align="right" bgcolor="#ffe2e2">
<p align="right"><em><font size="2">Обязательно к соблюдению</font></em></p>
<p><em><font color="#536ac2" size="3"></font></em></p>
<p align="left"><font size="3">1.3.1. Использование вертикальной зеленой черты для выделенных отдельных элементов и групп взаимосвязанных реквизитов не допускается. В качестве выделения следует использовать состояния:<br/>- слабое выделение;<br/>- обычное выделение;<br/>- нет.</font></p></td></tr></tbody></table></p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="291" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1c1.png?_=00002716B2E2EACE-v2" style="aspect-ratio:485/291" width="485"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="291" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1c2.png?_=000027781713BC49-v2" style="aspect-ratio:485/291" width="485"/></p></td></tr></tbody></table></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="73" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1c3.png?_=000016C3D5D66915-v2" style="aspect-ratio:535/73" width="535"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="73" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1c4.png?_=000016D917393370-v2" style="aspect-ratio:535/73" width="535"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Использование сильного выделения с вертикальной зеленой полосой допускается в тех случаях, когда группы взаимосвязанных реквизитов располагаются в несколько колонок по горизонтали.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><o:p><font face="Calibri" size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, в документе "Шаблон магнитных карт" соблюдается четкое визуальное разделение групп реквизитов:</font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri"><img height="323" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1c5.png?_=00003599EEAC824D-v2" style="aspect-ratio:1063/323" width="1063"/><o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.4. Внутри формы документа рекомендуется группировать элементы следующим образом:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"><font face="Calibri"><span style="mso-spacerun: yes"><img height="411" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/08.png?_=00005E53C332F877-v2" style="aspect-ratio:513/411" width="513"/> <img height="411" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/09.png?_=0000448E96140C5C-v2" style="aspect-ratio:512/411" width="512"/></span></font></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">В левой и правой колонках шапки следует располагать реквизиты, необходимые для правильного отражения документа в программе, при этом следует распределять реквизиты по следующим признакам:</font></p>
<p>
<table border="1" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-alt: solid #999999 .5pt; mso-border-insideh: .5pt solid #999999; mso-border-insidev: .5pt solid #999999">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #999999 1pt solid; BORDER-RIGHT: #999999 1pt solid; WIDTH: 272pt; BORDER-BOTTOM: #999999 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #999999 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid #999999 .5pt" valign="top" width="363">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Левая колонка</font></p></td>
<td style="BORDER-TOP: #999999 1pt solid; BORDER-RIGHT: #999999 1pt solid; WIDTH: 272.05pt; BORDER-BOTTOM: #999999 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid #999999 .5pt; mso-border-left-alt: solid #999999 .5pt" valign="top" width="363">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Правая колонка</font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #999999 1pt solid; WIDTH: 272pt; BORDER-BOTTOM: #999999 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #999999 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid #999999 .5pt; mso-border-top-alt: solid #999999 .5pt" valign="top" width="363">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- важные</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- заполняются пользователем вручную</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- обязательны для заполнения</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- заполняются на основе входящих данных, полученных извне</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">- Номер и дата<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">- Контрагент<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font face="Calibri" size="3">- Договор</font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #999999 1pt solid; WIDTH: 272.05pt; BORDER-BOTTOM: #999999 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid #999999 .5pt; mso-border-left-alt: solid #999999 .5pt; mso-border-top-alt: solid #999999 .5pt" valign="top" width="363">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- вспомогательные, малозначительные</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- чаще всего заполняются автоматически</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- не обязательны для заполнения</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- значения реквизитов устанавливаются пользователем самостоятельно, по внутренним данным</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">- Организация<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"><font face="Calibri"><span style="COLOR: #006699">- Подразделение</span> </font></font></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">В нижней части формы располагается область с итогами и подвал. В подвале могут располагаться поля "Ответственный" и "Комментарий", ссылка на счет-фактуру и другие. </font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"><font face="Calibri">См. также:</font></font></p>
<ul>
<li><a href="#03_Итоги в документах.htm" target="_top">Итоги в документах</a>
<li><a href="#04_Поля _Ответственный_ и _Комментарий_.htm" target="_top">Поля "Ответственный" и "Комментарий"</a></li></li></ul><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.4.1. При компоновке документов, содержащих табличную часть, следует ориентироваться на видимое количество строк в табличной части. Табличная часть документа должна содержать не менее 7-ми строк (оптимально — не менее 10-ти строк). Если количество строк в табличной части менее 7-ми — рекомендуется размещать табличную часть на отдельной вкладке.<br/><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, в документе "Отчет комитенту" реквизиты шапки размещены во вкладке с основными реквизитами:</font></font></span></font></p></font>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"><img height="608" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1d1.png?_=0000CCB9343C25DC-v2" style="aspect-ratio:997/608" width="997"/></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Таким образом, количество строк таблицы вкладки "Товары" реквизитами не ограничивается:<br/><img height="607" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1d2.png?_=00008A804ACFBE21-v2" style="aspect-ratio:997/607" width="997"/></font></font></span></p></font>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"></font> </p><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.4.2. Если на форме имеются несколько невзаимосвязанных табличных частей, то их следует размещать на отдельных вкладках.</font></p></font>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.5. Формы следует проектировать таким образом, чтобы они не были перегружены функциями, реквизитами и элементами. Чтобы этого достичь, можно использовать:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- возможность скрытия элементов в зависимости от настроек программы или функциональных опций</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- размещение части элементов на отдельных вкладках, в свертываемых группах или во вспомогательных формах</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Конкретный способ выбирается в зависимости от ситуации и решаемых задач.</font></p>
<p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 14pt">2. Вкладки<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">2.1. Название вкладки должно отражать суть того, что на ней располагается</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, по названию вкладки "Товары" понятно, что на ней отображается список товаров:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"><img height="139" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/10.png?_=000025B2D5B084B4-v2" style="aspect-ratio:917/139" width="917"/></o:lock></v:shapetype></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">2.2. Поля, обязательные для заполнения, следует располагать на вкладке, активной в момент открытия формы</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">2.3. Не рекомендуется делать вкладки, содержащие небольшое число элементов (1-2), если они не занимают все пространство вкладки</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 14pt"><font face="Calibri"></font></span> </p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 14pt">3. Вспомогательные формы<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">3.1. При размещении элементов во вспомогательных формах рекомендуется действовать следующим образом:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1. Среди всего множества реквизитов и элементов выбрать второстепенные, в большинстве случаев заполняемые автоматически, а также те, которые использует небольшое количество пользователей. Чаще всего такие реквизиты будут являться необязательными для заполнения</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">2. Разделить эти элементы на несколько смысловых групп</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">3. Разместить эти группы в одной или нескольких вспомогательных формах</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">3.2. Для открытия вспомогательной формы следует использовать гиперссылку, размещаемую в основной форме. При открытии вспомогательная форма блокирует окно владельца.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">3.3. Текст гиперссылки может формироваться одним из двух способов.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Вариант 1. <span style="mso-spacerun: yes"> </span>В тексте ссылки указывается название вспомогательной формы. При этом название должно быть таким, чтобы по нему быть понятно, какие реквизиты могут располагаться внутри.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font size="3"><font face="Calibri"><span style="mso-spacerun: yes"><img height="482" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/11.png?_=000173DBC41B4D98-v2" style="aspect-ratio:675/482" width="675"/>  </span></font></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Вариант 2. В тексте ссылки указывается перечень значений реквизитов, заполняемых внутри вспомогательной формы. Если этот перечень слишком велик, то в первую очередь в него следует вынести реквизиты:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- значения которых важно видеть сразу из основной формы</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- которые обязательны для заполнения</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><img height="482" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/12.png?_=0001B1723BE09D9F-v2" style="aspect-ratio:597/482" width="597"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 35.4pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">Если текст ссылки выводится в виде перечня значений, то для нее следует добавлять заголовок. В табличной части заголовком будет являться название колонки.</font></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="HEIGHT: 79px; WIDTH: 706px; BORDER-COLLAPSE: collapse; MARGIN: auto auto auto 42.45pt; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 364.8pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="486">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 364.8pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="486">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 364.8pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="486">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="60" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/13.png?_=000011054C6BD8FD-v2" style="aspect-ratio:375/60" width="375"/></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 364.8pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="486">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="60" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/14.png?_=00000BD2516270B0-v2" style="aspect-ratio:293/60" width="293"/></p></td></tr></tbody></table><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p><font face="Calibri" size="3">3.4. Если внутри вспомогательной формы есть реквизиты, обязательные для заполнения, и они не заполнены, то для гиперссылки используется красный цвет (элемент стиля вида цвет "НезаполненныйРеквизит", <span lang="EN-US" style="mso-ansi-language: EN-US">RGB</span> 178,34,34)</font><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:</font></font></span></p>
<p><span style="COLOR: #006699"></span><o:p><img height="36" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/15.png?_=0000082D044203A2-v2" style="aspect-ratio:455/36" width="455"/></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">3.5. Командная панель во вспомогательной форме состоит из двух кнопок: "ОК" и "Отмена" и располагается в нижней части формы:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="333" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/16.png?_=00002E67E3C93212-v2" style="aspect-ratio:351/333" width="351"/></p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 14pt"></span> </h1>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 14pt">4. Свертываемые группы</span><o:p><font face="Calibri" size="3"> </font></o:p></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">4.1. Свертываемые группы являются разделами реквизитов или настроек, логически связанных между собой и объединенных общим заголовком. Возможность свертывания групп позволяет упростить поиск нужного раздела и информации, которая в нем расположена.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">4.2. Формы, вся информация в которых размещена в свертываемых группах, рекомендуется отображать с учетом быстрого доступа к содержимому разделов: </font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- если все группы в развернутом виде отображаются на странице без вертикальной прокрутки – раскрывать эти группы по умолчанию; </font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">- если первая группа развернута, а все последующие группы в свернутом виде отображаются на странице без вертикальной прокрутки – раскрывать первую группу по умолчанию. </font></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="375" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1e1.png?_=0000F0441190A2AD-v2" style="aspect-ratio:500/375" width="500"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="375" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1e2.png?_=00006873B0CA34D7-v2" style="aspect-ratio:500/375" width="500"/></p></td></tr></tbody></table></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="375" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1e3.png?_=00005B8B52E6541F-v2" style="aspect-ratio:500/375" width="500"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="375" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/i8100722.files/1e4.png?_=000100A281201F41-v2" style="aspect-ratio:500/375" width="500"/></p></td></tr></tbody></table></p>
<p>См. также:</p>
<p><a href="#02_Компоновка форм.htm" target="_top">Компоновка форм (8.2)</a></p>
<p><a href="#01_Оформление элементов.htm" target="_top">Оформление элементов (8.2)</a></p>
<p><a href="#02_Переход к форме с дополнительными реквизитами.htm" target="_top">Переход к форме с дополнительными реквизитами (8.2)</a></p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/i8100687.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Шрифты.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Шрифты</h1><div style="clear: right; float: right;">#std687</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><em>Действует для платформы с версии 8.3.2</em></p><font face="Verdana" size="2">
<p><br/>При разработке конфигураций следует использовать стилевые шрифты:<br/>&lt;Шрифт текста&gt;<br/>&lt;Мелкий шрифт текста&gt;<br/>&lt;Крупный шрифт текста&gt;<br/>&lt;Очень крупный шрифт текста&gt;</p>
<p><br/>При необходимости также можно использовать шрифты из состава MS Core Fonts:<br/>Andale Mono<br/>Arial<br/>Arial Black<br/>Comic Sans MS<br/>Courier New<br/>Georgia <br/>Impact <br/>Times New Roman<br/>Trebuchet MS<br/>Verdana <br/>Webdings</p>
<p><br/>Не следует использовать в конфигурациях прочие шрифты, так как они могут поддерживаться не во всех операционных системах, в которых работает клиент 1С:Предприятия.</p>
<p> </p></font></body><hr>
<h1 id='03_Командный интерфейс'>Командный интерфейс</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100711.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие принципы построения командного интерфейса.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие принципы построения командного интерфейса</h1><div style="clear: right; float: right;">#std711</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Командный интерфейс – средство навигации пользователей по функциональности конфигурации. Он включает в себя:</font></p>
<p class="MsoNormal" style="TEXT-INDENT: -17.05pt; MARGIN: 0cm 0cm 0pt 22.7pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Панель разделов</font></p>
<p class="MsoNormal" style="TEXT-INDENT: -17.05pt; MARGIN: 0cm 0cm 0pt 22.7pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Панель функций текущего раздела</font></p>
<p class="MsoNormal" style="TEXT-INDENT: -17.05pt; MARGIN: 0cm 0cm 0pt 22.7pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Меню функций</font></p>
<p class="MsoNormal" style="TEXT-INDENT: -17.05pt; MARGIN: 0cm 0cm 0pt 22.7pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Команды навигации и действий</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Каждый из этих элементов имеет свое назначение, но все вместе они создают пространство команд – возможностей для пользователя.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Состав и расположение панелей можно настраивать. При этом следует руководствоваться спецификой прикладного решения, а также следующими принципами:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 2.95pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">1. Количество элементов в панелях и меню должно быть таким, чтобы при стандартном разрешении экрана они помещались без прокрутки</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">2. Элементы внутри панелей и меню следует располагать в порядке убывания важности и частоты использования. Наиболее приоритетные пункты и команды следует располагать первыми.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 2.95pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3"><font face="Calibri">3. Не рекомендуется располагать рядом команды и пункты меню, в названиях которых совпадают первые символы. <span style="COLOR: #006699"><o:p></o:p></span></font></font></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 257.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 257.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 257.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Регламентированные отчеты</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Отчеты для руководителя</font></p></td>
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 257.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Регламентированные отчеты</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Регламентные операции</font></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">4. Командный интерфейс нужно проектировать таким образом, чтобы он способствовал повышению эффективности выполнения повседневной работы и быстрому освоению программы. Чтобы этого добиться, при разработке следует учитывать мнение пользователей и их представление о том, как команды должны быть сгруппированы. </font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">См. также: <a href="#02_Командный интерфейс.htm" target="_top">Командный интерфейс (8.2)</a></font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100712.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Панель разделов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Панель разделов</h1><div style="clear: right; float: right;">#std712</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font face="Calibri" size="3">Панель разделов может выводиться как в виде отдельной панели, так и в составе меню функций:</font></p>
<p><font face="Calibri" size="3"> <img height="381" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100712.files/01.png?_=00007B9922855553-v2" style="aspect-ratio:511/381" width="511"/><script type="text/javascript">forceDocumentLayout()</script>   <img height="381" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100712.files/02.png?_=00009D998ABF2740-v2" style="aspect-ratio:509/381" width="509"/> </font></p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt">1. Состав панели<o:p></o:p></span></h1><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">Панель разделов является "лицом" программы и имеет большое значение на этапе освоения, поэтому состав и порядок разделов следует проектировать с особой тщательностью. Количество и состав разделов должен соответствовать реальным участкам работ и областям деятельности так, как их видят пользователи.</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-bidi-font-style: italic">1.1. Раздел "Главное" по умолчанию присутствует во всех конфигурациях и располагается первым. В него рекомендуется добавлять команды перехода к объектам, относящимся ко всей конфигурации, и не включать объекты, относящиеся к конкретным разделам учета или областям деятельности.<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">1.2. Списки с условно-постоянной информацией (справочники, регистры сведений, списки перечислений и другие), в командном интерфейсе можно размещать:</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span>внутри раздела, с которым связан такой список (в конце меню или в "См. также")<br/><span style="COLOR: #006699">Например, список должностей в разделе Кадры<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span>в специально выделенном разделе конфигурации. При этом в других разделах команды перехода к подобным спискам, как правило, не размещаются<br/><span style="COLOR: #006699">Например, разделы "Справочники", "Настройки", "НСИ".</span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span>в панели навигации формы списка с условно-постоянной информацией, которой они "подчинены"<br/><span style="COLOR: #006699">Например, "Счета учета номенклатуры" в панели навигации справочника "Номенклатура"<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">Исключение составляют списки с условно-постоянной информацией, с которых начинаются бизнес-процессы. Такие списки рекомендуется помещать в группы меню соответствующего раздела.</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699">Например, справочник "Сотрудники" размещается в разделе "Кадры", потому что сначала в него вводится информация о работнике, а потом на основании этих данных создается приказ о приеме на работу и другие документы.<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">1.3. Разделы для настройки, администрирования и выполнения сервисных действий следует располагать в конце панели.</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p></font>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt">2. Названия разделов<o:p></o:p></span></h1><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">2.1. Общая длина названия раздела не должна превышать 35 знаков с учетом пробелов (это позволяет разместить название в 2 строки, при дальнейшем увеличении количества знаков появится многоточие). Лучше выбирать названия примерно одного размеры по ширине, чтобы они смотрелись единообразно и ровно.</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">2.2. Старайтесь сделать названия разделов конкретными и запоминающимися. Назначение раздела должно быть понятно из его названия. </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">2.3. По возможности не используйте длинные слова. При выборе названия рекомендуется комбинировать слова следующим образом:</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; MARGIN: auto auto auto 11.4pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 222pt; BACKGROUND: #f3f3f3; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt" valign="top" width="296">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Комбинация слов</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 234pt; BACKGROUND: #f3f3f3; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt" valign="top" width="312">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Пример</font></p></td></tr>
<tr style="mso-yfti-irow: 1">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 222pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="296">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Одно-два средних слова</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 234pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="312">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Продажи</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Зарплата и персонал</font></p></td></tr>
<tr style="mso-yfti-irow: 2">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 222pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="296">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Одно длинное и одно короткое</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 234pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="312">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Отчетность и справки </font></p></td></tr>
<tr style="mso-yfti-irow: 3; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 222pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="296">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Два коротких и одно длинное</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 234pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="312">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Учет, налоги, отчетность</font></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">2.4. <span style="mso-bidi-font-style: italic">Используйте в названиях только общеупотребительные и соответствующие целевой аудитории сокращения и аббревиатуры.<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699; mso-bidi-font-style: italic">Например, "НДС" или "МСФО".<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">При этом сокращение обязательно нужно расшифровать во всплывающей подсказке.</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699">Например, для названия раздела "ОС и НМА" появляется всплывающая подсказка "Основные средства и нематериальные активы"<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">2.5. Не рекомендуется делать раздел с названием "Сервис", т<span style="mso-bidi-font-style: italic">.к. он будет перекликаться с пунктом "Сервис" главного меню и группой "Сервис" в панели / меню функций<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p></font>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt">3. Картинки разделов<o:p></o:p></span></h1><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">3.1. Названия разделов рекомендуется выводить в режиме "Картинка и текст"</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">3.2. Картинки следует делать разными по начертанию и ведущим цветам для лучшей запоминаемости. Но при этом они должны быть нарисованы в одном стиле, с одинаковым направлением света. Картинки должны быть нарисованы во фронтальной плоскости проекции</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">См. также:</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><a href="#01_Панель разделов.htm" target="_top">Панель разделов (8.2)</a></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><a href="#02_Названия разделов.htm" target="_top">Названия разделов (8.2)</a></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><a href="#03_Картинки разделов.htm" target="_top">Картинки разделов (8.2)</a></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><a href="#04_Подсказки для интерфейсных подсистем.htm" target="_top">Подсказки для интерфейсных подсистем (8.2)</a></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Навигация внутри раздела.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Навигация внутри раздела</h1><div style="clear: right; float: right;">#std714</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Навигация внутри конкретного раздела осуществляется с помощью "Панели функций текущего раздела" или области навигации и действий в составе "Меню функций"</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt"><font face="Calibri">Панель функций текущего раздела</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt"><img height="92" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/01.png?_=000016A009DE7FC3-v2" style="aspect-ratio:903/92" width="903"/><script type="text/javascript">forceDocumentLayout()</script></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt"><font face="Calibri" size="3">Панель функций текущего раздела рекомендуется использовать в конфигурациях, содержащих небольшое количество команд в каждом разделе. В конфигурациях со сложной структурой и большим количеством команд эту панель рекомендуется скрывать.</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt"><font face="Calibri">Область команд навигации и действий в составе "Меню функций"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="534" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/02.png?_=000187F868BC9221-v2" style="aspect-ratio:714/534" width="714"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Область команд навигации и действий показывает все функциональные возможности раздела. В отличие от панели функций текущего раздела, команды здесь можно группировать.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt"><font face="Calibri"></font></span> </p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt">1. Состав команд<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">1.1. В раздел рекомендуется помещать команды перехода к:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 25.65pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 27.45pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">          </span></span></span><font face="Calibri" size="3">спискам и журналам документов</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 25.65pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 27.45pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">          </span></span></span><font face="Calibri" size="3">спискам "первичных" документов (данных), с которых начинаются бизнес-процессы</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 25.65pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 27.45pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">          </span></span></span><font face="Calibri" size="3">рабочим местам</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 25.65pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 27.45pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">          </span></span></span><font face="Calibri" size="3">специальным обработкам, похожим на обычные списки</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 25.65pt; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 27.45pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">          </span></span></span><font face="Calibri" size="3">отчетам</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">При этом все эти команды должны решать задачу по конкретному участку работ или области деятельности.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">1.2. Второстепенные и подчиненные другим объекты можно не выносить в командный интерфейс.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Чаще всего это справочники и регистры сведений, доступ к которым можно получить из документов или других объектов.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:</font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font face="Calibri" size="3">
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 287.4pt; BACKGROUND: #f3f3f3; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt" valign="top" width="383">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Справочники "Контрагенты", "Договоры" выносятся в командный интерфейс:<o:p></o:p></font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 262pt; BACKGROUND: #f3f3f3; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt" valign="top" width="349">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">Справочник "Причины списания основного средства" не выносится в командный интерфейс:<o:p></o:p></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 287.4pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="383">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">- эти справочники открываются из разных документов, но они могут использоваться и без привязки к документам, например, для просмотра контактной информации по контрагенту или условий оплаты по договору<o:p></o:p></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">- справочники могут содержать много элементов, может потребоваться работа с их списком. Например, поиск договоров по статусу или периоду, удаление дубликатов контрагентов<o:p></o:p></font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 262pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="349">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">- этот справочник можно открыть из одного специализированного документа "Списание основного средства"<o:p></o:p></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3">- элементов этого справочника мало и они редко изменяются, у пользователя нет необходимости просматривать список этих элементов в отрыве от контекста<o:p></o:p></font></p></td></tr></tbody></table></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font face="Calibri" size="3"></font></span> </p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt">2. Названия команд<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">2.1. Чтобы при стандартном разрешении экрана не возникало полос прокрутки, рекомендуется следить, чтобы названия команд не превышали 38 символов, а лучше – умещались в 30.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 14pt">3. Группировка команд<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">3.1. Область команд включает в себя блок с командами навигации и блок с командами действий, но для пользователя все они выглядят одинаково. Поэтому при группировке следует объединять команды не по техническим признакам (вид объекта; действие, происходящее при выборе команды), а по тому, как их структурирует пользователь в своей работе.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">3.2. В одну группу рекомендуется включать не более 7 команд.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">3.3. Не рекомендуется делать группы, содержащие всего одну команду.</font></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; MARGIN: auto auto auto 5.4pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-table-layout-alt: fixed">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p><o:p></o:p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"><img height="82" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/03.png?_=00000D3A18540D1A-v2" style="aspect-ratio:221/82" width="221"/></o:lock></v:shapetype></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"><img height="82" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/04.png?_=00000B5DFF1B5A42-v2" style="aspect-ratio:221/82" width="221"/></font></o:p></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p><font face="Calibri" size="3">Запрещается делать группы, в которых выводится только одна "важная" команда.</font></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; MARGIN: auto auto auto 5.4pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-table-layout-alt: fixed">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="172" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/05.png?_=00000EF144CD37DC-v2" style="aspect-ratio:250/172" width="250"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">или</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="188" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/06.png?_=000010BE94D919BB-v2" style="aspect-ratio:284/188" width="284"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="273" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/07.png?_=00001846FBA21233-v2" style="aspect-ratio:258/273" width="258"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-bidi-font-style: italic"><o:p><font face="Calibri" size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">3.4. Группам рекомендуется добавлять название. При этом оно не должно пересекаться с названиями системных групп ("Создать", "Отчеты", "Сервис", "Важное", "См. также"). </font><font face="Calibri" size="3">Обязательно нужно добавлять заголовок для групп, состоящих из нескольких команд и содержащих только одну важную.</font><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; MARGIN: auto auto auto 5.4pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-table-layout-alt: fixed">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="76" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/08.png?_=00000B774E36571F-v2" style="aspect-ratio:177/76" width="177"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 257.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="344">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="55" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100714.files/09.png?_=0000080156AE08DB-v2" style="aspect-ratio:168/55" width="168"/></p></td></tr></tbody></table></p>
<p>См. также:</p>
<p><a href="#01_Панель навигации основного окна.htm" target="_top">Панель навигации основного окна (8.2)</a></p>
<p><a href="#02_Порядок и названия команд в ПН.htm" target="_top">Порядок и названия команд в ПН (8.2)</a></p>
<p><a href="#03_Группа команд «Важное» в ПН.htm" target="_top">Группа команд «Важное» в ПН (8.2)</a></p>
<p><a href="#04_Группировка команд в ПН.htm" target="_top">Группировка команд в ПН (8.2)</a></p>
<p><a href="#05_Группа «См. также» в ПН.htm" target="_top">Группа «См. также» в ПН (8.2)</a></p>
<p><a href="#06_Команды, размещаемые в ПН.htm" target="_top">Команды, размещаемые в ПН (8.2)</a></p>
<p><a href="#05_Панель действий.htm" target="_top">Панель действий (8.2)</a></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100715.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Как вместить большое количество команд.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Как вместить большое количество команд</h1><div style="clear: right; float: right;">#std715</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font face="Calibri" size="3">В конфигурациях со сложной структурой меню и большим количеством команд рекомендуется:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">1. Панель разделов размещать вертикально, в левой части окна</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">2. Заголовки разделов выводить в виде "Картинка и текст", использовать картинки размером 16х16</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">3. Панель инструментов и панель открытых выводить сверху</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">4. Панель функций текущего раздела не отображать. Навигация внутри раздела будет осуществляться с помощью Меню функций</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3"><img height="432" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100715.files/715-02.png?_=0000451D451D5466-v2" style="aspect-ratio:612/432" width="612"/><script type="text/javascript">forceDocumentLayout()</script></font></p>
<p><img height="617" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 200/i8100715.files/715-01_.png?_=00009AEF1C24DE05-v2" style="aspect-ratio:925/617" width="925"/> </p></body><hr>
<h1 id='05_Формы документов'>Формы документов</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100716.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Командная панель документа.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Командная панель документа</h1><div style="clear: right; float: right;">#std716</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1. В командной панели кнопка по умолчанию должна быть расположена самой крайней слева. В подавляющем большинстве случаев кнопкой по умолчанию является "Провести и закрыть" или "Записать и закрыть"</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">2. Порядок расположения команд во всех документах должен быть одинаковым.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">3. Состав системных кнопок командной панели, отображаемых платформой по умолчанию, и их порядок относительно друг друга изменять не рекомендуется.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">4. Командная панель должна позволять пользователю при стандартных настройках экрана (ширина экрана 1280 точек, панель инструментов выведена слева вертикально)<span style="mso-spacerun: yes"> </span>выполнить<span style="mso-spacerun: yes">  </span>самые важные и частотные действия с документом, не открывая подменю "Еще". </font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">5. </font><font face="Calibri" size="3">При стандартных настройках экрана пользователю должны быть сразу видны все важные команды:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Провести и закрыть / Записать и закрыть</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Записать</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Провести</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Создать на основании</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Печать</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Глобальные команды</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">     - Дополнительные сведения</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">     - Движения документа</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">     - и т.д.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">   - Отчеты (контекстные, из панели навигации)</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">6. Если в командной панели расположено большое количество команд, рекомендуется отображать важные команды кнопками с картинками без текста.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, командная панель документа "Реализация товаров и услуг":</font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><img height="86" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100716.files/1.png?_=00002B363E4BDF34-v2" style="aspect-ratio:848/86" width="848"/><script type="text/javascript">forceDocumentLayout()</script></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#006699" face="Calibri" size="3">В Конфигураторе элементы командной панели структурируются следующим образом:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="266" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100716.files/00.png?_=000029919725CD2D-v2" style="aspect-ratio:316/266" width="316"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#006699" face="Calibri" size="3">Команда "Записать" — свойство Отображение = Картинка</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#006699" face="Calibri" size="3">Команда "Провести" — свойство Отображение = Картинка</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#006699" face="Calibri" size="3">Подменю "Создать на основании" — свойство Отображение = Картинка</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#006699" face="Calibri" size="3">Подменю "Печать" — свойство Отображение = Авто</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#006699" face="Calibri" size="3">Подменю "Отчеты" — свойство Отображение = Авто</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"><strong>См. также:</strong> <a href="#03_Командная панель формы.htm" target="_top">Командная панель формы (8.2)</a></font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100717.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Табличные части. Оформление списка.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Табличные части. Оформление списка</h1><div style="clear: right; float: right;">#std717</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font face="Calibri" size="3">1. Шапка табличной части должна состоять из одной строки и для "одноэтажных" списков, и для "многоэтажных".</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">В "многоэтажных" колонках следует предусмотреть общий заголовок, соответствующий смыслу указываемых в них данных, а также отображение подсказки в ячейках с незаполненными значениями. </font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Для отображения подсказки следует одновременно использовать:</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">- элемент стиля вида шрифт "ПодсказкаНезаполненнойЯчейки" (размер: 8, начертание: наклонный)</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">- свойство "ПодсказкаВвода"</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, для реквизитов с кратким и полным названиями номенклатуры выводится общий заголовок колонки – "Номенклатура", а в ячейках выводятся подсказки:</font></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><img height="88" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100717.files/01.png?_=00000F76B615D642-v2" style="aspect-ratio:489/88" width="489"/><script type="text/javascript">forceDocumentLayout()</script></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font color="#000000" face="Calibri" size="3">В Конфигураторе отображение заголовков колонок в шапке отключается с помощью свойства "ОтображатьВШапке"</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><o:p><font color="#000000" face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" face="Calibri" size="3">2. Заголовок колонки должен полностью помещаться в шапку</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><o:p><font color="#000000" face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" face="Calibri" size="3">3. Если в табличной части много колонок и они заведомо не помещаются при стандартном разрешении экрана без горизонтальной прокрутки, то часть из них следует расположить первыми и зафиксировать. </font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" face="Calibri" size="3">Фиксировать нужно самые важные колонки, которые позволят идентифицировать объект. Колонка с номером по порядку также фиксируется.</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, для списка сотрудников фиксируется колонка "ФИО", для списка товаров и услуг – колонка "Номенклатура", для списка основных средств – наименование основного средства.<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><o:p><font color="#000000" face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" face="Calibri" size="3">Все остальные реквизиты будут находиться в области, скроллируемой горизонтально.</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><o:p><font face="Calibri" size="3"></font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:<o:p></o:p></font></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><img height="106" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100717.files/02.png?_=0000290EB7DB2CDD-v2" style="aspect-ratio:1115/106" width="1115"/></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><img height="133" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100717.files/03.png?_=000023D45001ECA9-v2" style="aspect-ratio:707/133" width="707"/></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" face="Calibri" size="3">В Конфигураторе фиксация колонки табличной части осуществляется с помощью свойства "ФиксацияВТаблице" (=лево)</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><o:p><font color="#000000" face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" face="Calibri" size="3">4. Колонкам, предназначенным для указания цифровых значений, рекомендуется явно указывать ширину, достаточную для указания наиболее частотных значений. При необходимости большей ширины пользователь сможет расширить колонку самостоятельно.</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, для бухгалтерских документов в большинстве ситуаций достаточно ширины 10 (эта ширина позволяет указывать суммы в несколько млн руб.). </font></font></span></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Итоги в документах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Итоги в документах</h1><div style="clear: right; float: right;">#std718</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font face="Calibri" size="3">Итоги в документах можно выводить несколькими способами:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">отдельными полями ввода</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">в подвалах таблиц</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<h1 style="MARGIN: 0cm 0cm 0pt"><a name="_toc302747391"><span style="FONT-FAMILY: Calibri">1. Итоги в виде отдельных полей ввода</span></a><span style="FONT-FAMILY: Calibri"><o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="3"><font face="Calibri">Расположение</font></font></b></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="3"><font face="Calibri"><o:p></o:p></font></font></b> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.1. Итоги размещаются сразу под таблицей (или несколькими таблицами), по которым они выводятся. Не следует вставлять элементы, разделяющие табличную часть и группу с итогами.</font></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"><img height="381" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/01.png?_=0000F4C6EDEC1B8F-v2" style="aspect-ratio:511/381" width="511"/><script type="text/javascript">forceDocumentLayout()</script></o:lock></v:shapetype></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="381" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/02.png?_=0000F4D011A4F32E-v2" style="aspect-ratio:511/381" width="511"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3">1.2. В области итогов следует размещать только те элементы, которые относятся к итоговым данным. Иные элементы следует располагать вне области итогов.</font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например, в форме "Акта сверки расчетов" реквизит "Остаток на начало" не является итоговым значением, а приводится информационно. Поэтому его не следует включать в группу с итогами и выделять серым фоном.</font></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><font face="Calibri" size="3"></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p>
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 524.1pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="699">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 524.1pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="699"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><img height="36" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/03.png?_=00000D48DA578081-v2" style="aspect-ratio:680/36" width="680"/></o:p></p></td></tr>
<tr style="mso-yfti-irow: 2">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 524.1pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="699">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 3; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 524.1pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="699">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><img height="36" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/04.png?_=00000DCA09337D47-v2" style="aspect-ratio:680/36" width="680"/></o:p></p></td></tr></tbody></table></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font></o:p> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3">1.3. Область с итогами выравнивается по правому краю формы</font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"></font> </o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"><img height="381" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/05.png?_=0000F4C6EDEC1B8F-v2" style="aspect-ratio:511/381" width="511"/></o:lock></v:shapetype></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="381" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/06.png?_=0000F4F7673D90A2-v2" style="aspect-ratio:511/381" width="511"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="3"><font face="Calibri">Оформление<o:p></o:p></font></font></b></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.4. Итоги выделяются серым фоном. Для этого используется элемент стиля "ИтогиФонГруппы" (RGB 220,220,220)</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.5. Итоги оформляются отдельными полями ввода с установленным признаком «ТолькоПросмотр»</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.6. В заголовках полей текст выводится без слова «итог»</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"><font face="Calibri">1.7. Валюта (в случае отражения) выводится после поля ввода. Если итоги включают в себя несколько взаимосвязанных полей, то валюта выводится только после первого из них.<br/><span style="COLOR: #006699">Например, в области итогов, содержащих взаимосвязанные поля "Всего" и "НДС (в т.ч.)" валюта выводится только после поля "Всего".</span></font></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font size="3"><font face="Calibri"><span style="COLOR: #006699"></span></font></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"><img height="36" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/07.png?_=00000A8DCD6CEB30-v2" style="aspect-ratio:463/36" width="463"/></o:lock></v:shapetype></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="36" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100718.files/08.png?_=00000AC17FA6F0E7-v2" style="aspect-ratio:496/36" width="496"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><o:p><font face="Calibri" size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #006699"><o:p><font face="Calibri" size="3"></font></o:p></span></p>
<h1 style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">2. Итоги в подвалах таблиц<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">2.1. В подвалах таблиц итоги следует располагать в случае, если итоговые значения выводятся по значительному числу колонок (более 4) одной табличной части и при оформлении в виде отдельных полей ввода не помещаются на форме в одну строку.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">См. также: <a href="#06_Итоги в документах.htm" target="_top">Итоги в документах (8.2)</a> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100719.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Поля _Ответственный_ и _Комментарий_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Поля "Ответственный" и "Комментарий"</h1><div style="clear: right; float: right;">#std719</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt">1. Поле "Комментарий"<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><font face="Calibri">Поле "Комментарий" может выводиться:<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l1 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">В виде однострочного поля в нижней части формы документа<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l1 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">В виде многострочного поля на отдельной вкладке формы документа<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><font face="Calibri">Если поле "Комментарий" в типовых случаях будет большим, то допускается делать его многострочным и выносить на отдельную вкладку. В остальных случаях рекомендуется использовать однострочное поле "Комментарий".<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><font face="Calibri">1.1. Однострочное поле "Комментарий"</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><font face="Calibri"></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo2; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Располагается в нижней части формы документа, самым последним<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo2; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Заголовок располагается слева от поля<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo2; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">В поле отсутствует кнопки выбора, списка выбора и другие<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><o:p><font face="Calibri"><span style="FONT-SIZE: 12pt"><img height="34" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100719.files/01.png?_=000005695428DF2F-v2" style="aspect-ratio:456/34" width="456"/><script type="text/javascript">forceDocumentLayout()</script></span></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><font face="Calibri">1.2. Многострочное поле "Комментарий"</font></span><span style="FONT-SIZE: 12pt"><span style="mso-spacerun: yes"> </span><o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l2 level1 lfo3; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Располагается на отдельной вкладке<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l2 level1 lfo3; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Заголовок "Комментарий" выводится в названии вкладки. У поля заголовок не отображается<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l2 level1 lfo3; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">На вкладке размещается только поле с текстом комментария, которое растягивается по вертикали и по горизонтали<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l2 level1 lfo3; tab-stops: list 24.5pt 47.2pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Если поле с комментарием заполнено, то в заголовке вкладки отражается картинка "Комментарий</font></span></p>
<p><span style="FONT-SIZE: 12pt"><font face="Calibri"><span style="FONT-SIZE: 12pt"><font face="Calibri"><span style="FONT-SIZE: 12pt"><span style="mso-spacerun: yes"><font face="Calibri"><img height="190" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100719.files/02.png?_=000007D3C331A3BD-v2" style="aspect-ratio:330/190" width="330"/> <img height="190" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100719.files/03.png?_=00000C9BF7A733A3-v2" style="aspect-ratio:330/190" width="330"/></font></span></span></font></span></font></span></p><span style="FONT-SIZE: 12pt">
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt">2. Поле "Ответственный"<o:p></o:p></span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 17.05pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 18.85pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Поле следует выводить в нижней части формы документа.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><o:p><font face="Calibri"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<h1 class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="FONT-SIZE: 12pt">3. Группа полей "Ответственный" и "Комментарий"</span></h1></span>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l0 level1 lfo1; tab-stops: list 24.5pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">При одновременном наличии в форме документа поля "Ответственный" и однострочного поля "Комментарий", их следует объединять в группу.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l1 level1 lfo2; tab-stops: list 24.5pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Эту группу следует располагать в самом низу формы документа.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 22.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.05pt; mso-list: l1 level1 lfo2; tab-stops: list 24.5pt"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-SIZE: 12pt"><font face="Calibri">Внутри группы поля размещаются в одну строку, рядом друг с другом.</font></span></p>
<p><span style="FONT-SIZE: 12pt"><span style="FONT-SIZE: 12pt"><img height="34" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100719.files/04.png?_=00000C4D7749874F-v2" style="aspect-ratio:885/34" width="885"/></span></span></p>
<p><img height="485" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 300/i8100719.files/05.png?_=00006FFD77225573-v2" style="aspect-ratio:686/485" width="686"/></p>
<p>См. также:</p>
<p><a href="#11_Реквизит _Комментарий_ у документов.htm" target="_top">Реквизит "Комментарий" у документов</a></p>
<p><a href="#07_Поля _Ответственный_ и _Комментарий_.htm" target="_top">Поля "Ответственный" и "Комментарий" (8.2)</a></p>
<p> </p></body><hr>
<h1 id='06_Элементы интерфейса'>Элементы интерфейса</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100720.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Тумблер.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Тумблер</h1><div style="clear: right; float: right;">#std720</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><span style="COLOR: #006699"><font face="Calibri"><o:p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3">1. Тумблер следует использовать в ситуации, когда при выборе значения происходит изменение состава или расположения элементов в форме. Он похож на кнопку и своим видом показывает, что при нажатии что-то произойдет.</font></p><font color="#000000" size="3">
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3">Например, при выборе системы налогообложения меняется состав вкладок:</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><img height="69" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100720.files/02.png?_=000015930835189D-v2" style="aspect-ratio:432/69" width="432"/><script type="text/javascript">forceDocumentLayout()</script></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><span style="COLOR: #006699"><font size="3"><span style="COLOR: #006699"><font size="3"><img height="71" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100720.files/01.png?_=000017FBDB84CF90-v2" style="aspect-ratio:568/71" width="568"/></font></span></font></span></p></font>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3"></font> </p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3">2. Количество кнопок в тумблере рекомендуется делать небольшим, а их названия - краткими. Если количество вариантов - большое, а названия длинные, то лучше использовать выпадающий список.</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3"></font> </p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3">3. Заголовок рекомендуется добавлять в случае, если:</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3">- по названиям кнопок не понятно назначение тумблера</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"><font color="#000000" size="3">- тумблер выступает в качестве переключателя</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt"></p></o:p></font></span> </body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Подсказки на форме.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Подсказки на форме</h1><div style="clear: right; float: right;">#std721</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="2">Подсказки рекомендуется выводить по тем элементам интерфейса, которые требуют пояснения, расшифровки и донесения до пользователя подробного описания их назначения. Для реквизитов, используемых в ежедневной работе, подсказки добавлять не следует.</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="2"></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="2">В тексте подсказки не рекомендуется приводить инструкции и объяснять работу реквизита, вместо этого следует оптимизировать сценарии работы, с ним связанные.</font></p>
<p><span style='FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA'><font face="Arial" size="4"><strong>1. Текстовые подсказки к полям</strong></font></span><br/><br/>1.1. Текстовые подсказки к полям рекомендуется прятать в гиперссылке "?" Для этого в Конфигураторе устанавливается режим отображения подсказки "Кнопка". <br/><br/><img height="29" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/01.png?_=00000AF1DD458E14-v2" style="aspect-ratio:496/29" width="496"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p>При нажатии на ссылку "?" отображается текст подсказки:<br/><br/><img height="137" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/02.png?_=00001FC0948E928F-v2" style="aspect-ratio:496/137" width="496"/></p>
<p><a id="1.2" name="1.2"></a>1.2. Если в подсказку, помимо обычного текста, необходимо добавить ссылки, иконки или использовать форматированный текст, то следует использовать "расширенную" подсказку.</p>
<p><span style="COLOR: #006699">Пример расширенной подсказки:</span></p>
<p><img height="198" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/03.png?_=00002E1C25BFE3E2-v2" style="aspect-ratio:432/198" width="432"/></p>
<p><a id="1.3" name="1.3"></a>1.3. Не рекомендуется выводить в подсказке много текста (более 255 символов, включая пробелы). Если потребуется более длинная подсказка, то в ней можно дать ссылку на статью ИТС с подробным описанием.</p>
<p><span style='FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA'><font face="Arial" size="4"><strong>2. Текстовые подсказки к настройкам</strong></font></span><br/><br/>2.1. Текстовые подсказки к настройкам следует выводить внизу — под настройкой.</p>
<p><span style="COLOR: #006699">Пример подсказки:</span></p>
<p><span style="COLOR: #006699"><img height="68" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/4-721.png?_=000010B95EC40485-v2" style="aspect-ratio:434/68" width="434"/></span></p>
<p><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font color="#000000">2.2. В конфигураторе подсказки следует оформлять с помощью настройки "Подсказка" с параметром отображения "Отображать снизу".</font></span></font></span></p>
<p><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699">Пример оформления подсказки:</span></span></font></span></p>
<p><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><img height="62" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/5-721.png?_=000013543E5D9A72-v2" style="aspect-ratio:411/62" width="411"/></span></span></font></span></p>
<p><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000">Допускается так же использование расширенных подсказок. Использование в качестве текстовых подсказок декорации "Надпись" не рекомендуется.</font></span></span></span></p>
<p><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699">Пример:</span></span></font></span></font></span></span></span><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"></span></span></font></span></font></span></span></span></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: green"><font size="3"><font face="Calibri">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><span style="COLOR: #cc0000"><font size="3"><font face="Calibri">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype> <img height="60" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/7-721.png?_=00000E470FA42B66-v2" style="aspect-ratio:341/60" width="341"/></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 386.05pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="515">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="60" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 000/1 400/i8100721.files/6-721.png?_=00000E519270F4D4-v2" style="aspect-ratio:341/60" width="341"/></p></td></tr></tbody></table><o:p><span style="COLOR: #006699"><font size="3"><font face="Calibri"></font></font></span></o:p></p>
<p><span style="COLOR: #006699"><font color="#000000"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><span style="COLOR: #006699"><font color="#000000">Использование декораций "Надпись" для подсказок допустимо в случаях, когда нужное поведение нельзя реализовать иначе. Например, подсказки к полям ввода, которые должны быть выровнены вместе со всем элементом, включая заголовок.</font></span></span></span></span></span></font></span></p>
<h3>См. также</h3>
<ul>
<li><a href="#04_Подсказка и проверка заполнения.htm" target="_top">Подсказка и проверка заполнения</a></li></ul></body><hr>
<h1 id='11_Разработка пользовательских интерфейсов'>Разработка пользовательских интерфейсов</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/i8100468.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Пользовательские представления объектов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Пользовательские представления объектов</h1><div style="clear: right; float: right;">#std468</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Если для объекта метаданных определены свойства пользовательского представления, они заполняются следующим образом.<br/><br/>1. <strong>Синоним </strong>объекта должен быть определен так, чтобы осмысленно, лаконично описывать объект. Заполняется обязательно. </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#03_Имя, синоним, комментарий.htm" target="_top">Имя, синоним, комментарий</a>, <a href="#02_Тексты.htm" target="_top">Тексты</a></em></p></blockquote>
<p><a id="2" name="2"></a>2. <strong>Представление объекта (для регистра - представление записи)</strong>.<strong> </strong>Задается название объекта в единственном числе, например, "Валюта". Название должно быть лаконичным и понятным. Например, вместо "Версия проверяемой конфигурации" нужно использовать "Версия". </p>
<p>Представление объекта заполняется в случае, если синоним не может быть использован, как название объекта в единственном числе. <br/><br/>3. <strong>Расширенное представление объекта (для регистра - расширенное представление записи)</strong>.<strong> </strong>Задается полное название объекта в единственном числе. Заполняется в случае, когда название объекта, заданное в представлении объекта (или, если не заполнено, то - в синониме) менее информативно, чем его полное название. Например, в расширенном представлении объекта указано "Реализация товаров и услуг", в то время как в представлении объекта указано "Реализация". <br/><br/>4. <strong>Представление списка. </strong>Задается название объектов во множественном числе, например, "Валюты". Кроме этого, в некоторых случаях может указываться название списка, если оно является самостоятельным термином, например, «Классификатор единиц измерения». Название должно быть лаконичным и понятным. Например, вместо "Общероссийский классификатор основных фондов" нужно использовать "Классификатор ОКОФ". </p>
<p>Заполняется в случае, если синоним не может быть использован, как название списка объектов. </p>
<p>Если синоним объекта отражает некоторое действие, например, "Корректировка регистров", "Начисление зарплаты и взносов", то представление списка можно не указывать или назвать так "Документы корректировки регистров", "Документы начисления зарплаты и взносов".<br/><br/>5. <strong>Расширенное представление списка. </strong>Задается полное название списка объектов. Заполняется в случае, когда заданное в представлении списка (или, если не заполнено, то в синониме) название списка менее информативно, чем полное название списка. </p>
<p>Например, в расширенном представлении списка указано "Номенклатура (товары и услуги)", представление списка не заполнено, а в синониме указано "Номенклатура". <br/><br/>6. <strong>Расширенное представление. </strong>Задается полное название объекта метаданных. Заполняется в случае, когда заданное в синониме название объекта менее информативно, чем его полное название. </p>
<p>Например, синоним обработки - "Клиент банка", а расширенное представление - "Клиент банка (обмен платежными документами)". <br/><br/>7. <strong>Пояснение. </strong>Задается пояснение по назначению данного объекта метаданных. Пояснение задается в виде законченных предложений. Заполняется для объектов метаданных, представление которых не достаточно точно передает их назначение. </p>
<p>Например, для справочника "Организации" пояснение может быть задано так: "Юридические лица и предприниматели нашей компании.". <br/><br/>8. <strong>Картинка. </strong>Задается для подсистем верхнего уровня с установленным флажком "Включать в командный интерфейс". Размер картинки: 32 на 32. </p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000001234" target="_top">Приложение 3. Правила формирования текстов стандартных команд и автоматических заголовков форм</a> в документации к платформе 1С:Предприятие.</li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/i8100430.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Использование сочетаний клавиш, список зарезервированных сочетаний.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование сочетаний клавиш, список зарезервированных сочетаний</h1><div style="clear: right; float: right;">#std430</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Для часто выполняемых или общеупотребимых действий рекомендуется назначать сочетания клавиш. Ниже приведены списки зарезервированных сочетаний в прикладных решениях и в платформе <strong>1С:Предприятие</strong>. <br/><br/>Для действий, приведенных в таблицах, назначение указанных сочетаний клавиш обязательно. Использование зарезервированных сочетаний в иных целях запрещается. <br/><br/>Список зарезервированных сочетаний клавиш в прикладных решениях: <br/><br/>
<script type="text/javascript">forceDocumentLayout(true)</script><table>
<tbody>
<tr>
<td><strong>Сочетание клавиш</strong></td>
<td><strong>Действие</strong></td></tr>
<tr>
<td>Ctrl + Shift + F</td>
<td colspan="2">Полнотекстовый поиск</td></tr>
<tr>
<td>F7 </td>
<td colspan="2">Поиск по штрихкоду</td></tr>
<tr>
<td>F8 </td>
<td colspan="2">Выключить/включить активность проводок в журнале операций</td></tr>
<tr>
<td>F11</td>
<td colspan="2">Установить текущее учреждение</td></tr>
<tr>
<td>F12</td>
<td colspan="2">Вызов "Управление данными работника"</td></tr></tbody></table><br/>Список зарезервированных сочетаний клавиш в платформе <strong>1С:Предприятие</strong>: <br/><br/>
<table>
<tbody>
<tr>
<td><strong>Сочетание клавиш</strong></td>
<td colspan="2"><strong>Действие</strong></td></tr>
<tr>
<td>Ctrl + A</td>
<td colspan="2">Выделить все</td></tr>
<tr>
<td>Ctrl + B</td>
<td colspan="2">Включить/выключить жирность</td></tr>
<tr>
<td>Ctrl + Alt + B</td>
<td colspan="2">Предыдущая страница</td></tr>
<tr>
<td>Ctrl + C</td>
<td colspan="2">Копировать в буфер обмена</td></tr>
<tr>
<td>Ctrl + E</td>
<td colspan="2">Открыть "Свойства"</td></tr>
<tr>
<td>Ctrl + F</td>
<td colspan="2">Поиск, найти</td></tr>
<tr>
<td>Ctrl + Alt + F</td>
<td colspan="2">Следующая страница</td></tr>
<tr>
<td>Shift + Alt + F</td>
<td colspan="2">Форматировать блок</td></tr>
<tr>
<td>Ctrl + G</td>
<td colspan="2">Перейти к ячейке, перейти к строке</td></tr>
<tr>
<td>Ctrl + H</td>
<td colspan="2">Заменить, замена</td></tr>
<tr>
<td>Ctrl + I</td>
<td colspan="2">Включить/выключить курсив</td></tr>
<tr>
<td>Ctrl + L</td>
<td colspan="2">Удалить текущую строку</td></tr>
<tr>
<td>Ctrl + Shift + M</td>
<td colspan="2">Перенести элемент в другую группу</td></tr>
<tr>
<td>Ctrl + N</td>
<td colspan="2">Создать новый документ</td></tr>
<tr>
<td>Ctrl + Shift + N</td>
<td colspan="2">Установка имени текущей области</td></tr>
<tr>
<td>Ctrl + O</td>
<td colspan="2">Открыть существующий документ</td></tr>
<tr>
<td>Ctrl + Alt + O</td>
<td colspan="2">Открыть "Служебные сообщения"</td></tr>
<tr>
<td>Ctrl + P</td>
<td colspan="2">Печать активного документа</td></tr>
<tr>
<td>Ctrl + Shift + P</td>
<td colspan="2">Печать на текущий принтер</td></tr>
<tr>
<td>Ctrl + Shift + R</td>
<td colspan="2">Обновить, обновить группировки </td></tr>
<tr>
<td>Shift + Alt + R</td>
<td colspan="2">Восстановить положение окна</td></tr>
<tr>
<td>Alt + Shift + R</td>
<td colspan="2">Восстановить положение окна</td></tr>
<tr>
<td>Ctrl + S</td>
<td colspan="2">Сохранить активный документ</td></tr>
<tr>
<td>Ctrl + T</td>
<td colspan="2">Найти в дереве</td></tr>
<tr>
<td>Ctrl + U</td>
<td colspan="2">Включить/выключить подчеркивание</td></tr>
<tr>
<td>Ctrl + V</td>
<td colspan="2">Вставить из буфера обмена</td></tr>
<tr>
<td>Ctrl + W</td>
<td colspan="2">Выделить слово</td></tr>
<tr>
<td>Ctrl + Alt + W </td>
<td colspan="2">Открыть "Табло"</td></tr>
<tr>
<td>Ctrl + X</td>
<td colspan="2">Вырезать в буфер обмена</td></tr>
<tr>
<td>Ctrl + Y</td>
<td colspan="2">Вернуть отмененное действие</td></tr>
<tr>
<td>Ctrl + Z</td>
<td colspan="2">Отменить последнее действие</td></tr>
<tr>
<td>Ctrl + Alt + Z</td>
<td colspan="2">Очистить служебные сообщения</td></tr>
<tr>
<td>Ctrl + Shift + Z</td>
<td colspan="2">Закрыть "Служебные сообщения"</td></tr>
<tr>
<td>Ctrl + "-"</td>
<td colspan="2">Переход по истории активности окон, переместиться назад</td></tr>
<tr>
<td>Ctrl + Shift + "-"</td>
<td colspan="2">Переход по истории активности окон, переместиться вперед</td></tr>
<tr>
<td>Ctrl + Alt + Num-</td>
<td colspan="2">Свернуть (узел дерева, группу табличного документа) и все подчиненные</td></tr>
<tr>
<td>Shift + Num-</td>
<td colspan="2">Вычесть из буфера обмена</td></tr>
<tr>
<td colspan="3">Alt + Num-</td></tr>
<tr>
<td>Space</td>
<td colspan="2">Изменение флажка</td></tr>
<tr>
<td>Alt + Space</td>
<td colspan="2">Вызвать системное меню приложения или модального диалога</td></tr>
<tr>
<td>Alt + Hyphen (- )</td>
<td colspan="2">Вызвать системное меню окна (кроме модальных диалогов)</td></tr>
<tr>
<td>Enter</td>
<td colspan="2">Перейти к редактированию содержимого ячейки, сохранить свойства</td></tr>
<tr>
<td>Alt + Enter</td>
<td colspan="2">Открыть "Свойства"</td></tr>
<tr>
<td>Ctrl + Enter</td>
<td colspan="2">Сформировать отчет</td></tr>
<tr>
<td>F1</td>
<td colspan="2">Открыть "Справку"</td></tr>
<tr>
<td>Shift + F1</td>
<td colspan="2">Открыть "Содержание справки"</td></tr>
<tr>
<td>Shift + Alt + F1</td>
<td colspan="2">Открыть "Индекс справки"</td></tr>
<tr>
<td>Alt + F1</td>
<td colspan="2">Открыть "Поиск по справке"</td></tr>
<tr>
<td>F2</td>
<td colspan="2">Открыть, переключение режима редактирования/ввода в ячейке</td></tr>
<tr>
<td>Ctrl + F2</td>
<td colspan="2">Открыть встроенный "Калькулятор" системы 1С:Предприятие</td></tr>
<tr>
<td>Shift + F2</td>
<td colspan="2">Закончить редактирование, предыдущая закладка</td></tr>
<tr>
<td>Alt + F2</td>
<td colspan="2">Установить/снять закладку</td></tr>
<tr>
<td>F3</td>
<td colspan="2">Найти следующий</td></tr>
<tr>
<td>Ctrl + F3</td>
<td colspan="2">Найти следующий выделенный</td></tr>
<tr>
<td>Shift + F3</td>
<td colspan="2">Найти предыдущий</td></tr>
<tr>
<td>Ctrl + Shift + F3</td>
<td colspan="2">Найти предыдущий выделенный</td></tr>
<tr>
<td>F4</td>
<td colspan="2">Кнопка выбора</td></tr>
<tr>
<td>Ctrl + F4</td>
<td colspan="2">Закрыть активное обычное окно</td></tr>
<tr>
<td>Shift + F4</td>
<td colspan="2">Очистить поле</td></tr>
<tr>
<td>Alt + F4</td>
<td colspan="2">Закрыть активное окно, модальный диалог или приложение</td></tr>
<tr>
<td>Ctrl + Shift + F4</td>
<td colspan="2">Кнопка открытия</td></tr>
<tr>
<td>F6</td>
<td colspan="2">Активизировать следующую секцию окна</td></tr>
<tr>
<td>Ctrl + F6</td>
<td colspan="2">Активизировать следующее обычное окно</td></tr>
<tr>
<td>Shift + F6</td>
<td colspan="2">Активизировать предыдущую секцию окна</td></tr>
<tr>
<td>Ctrl + Shift + F6</td>
<td colspan="2">Активизировать предыдущее обычное окно</td></tr>
<tr>
<td>F9</td>
<td colspan="2">Скопировать</td></tr>
<tr>
<td>Ctrl + F9</td>
<td colspan="2">Новая группа</td></tr>
<tr>
<td>F10</td>
<td colspan="2">Вызвать главное меню</td></tr>
<tr>
<td>Shift + F10</td>
<td colspan="2">Вызвать контекстное меню</td></tr>
<tr>
<td>Alt + F10</td>
<td colspan="2">Вызвать главное меню</td></tr>
<tr>
<td>Up, Down, Left, Right</td>
<td colspan="2">Перемещение по ячейкам, прокрутить, перейти к предыдущему / следующему  свойству</td></tr>
<tr>
<td>Ctrl + (Up, Down, Left, Right)</td>
<td colspan="2">Перемещение по ячейкам или дереву, перемещение выделенного варианта, перемещение по тексту по словам</td></tr>
<tr>
<td>Shift + (Up, Down, Left, Right)</td>
<td colspan="2">Выделение ячеек, изменение размеров элемента карты</td></tr>
<tr>
<td>Alt + Right</td>
<td colspan="2">Переход к следующей главе справки</td></tr>
<tr>
<td>Alt + Left</td>
<td colspan="2">Переход к предыдущей главе справки</td></tr>
<tr>
<td>Ctrl + Shift + (Up, Down, Left, Right)</td>
<td colspan="2">Перемещение по ячейкам к следующей заполненной или пустой с выделением ячеек, выделение колонок, выделение слов, перемещение строки верх/вниз</td></tr>
<tr>
<td>Alt + Shift + (Up, Down)</td>
<td colspan="2">Выделение строк</td></tr>
<tr>
<td>Ctrl + Alt + Shift + (Left, Right)</td>
<td colspan="2">Выделение колонок до следующей заполненной или пустой ячейки</td></tr>
<tr>
<td>Ctrl + Alt + Shift + (Up, Down)</td>
<td colspan="2">Выделение строк до следующей заполненной или пустой ячейки</td></tr>
<tr>
<td>Page Up</td>
<td colspan="2">Прокрутить на страницу вверх</td></tr>
<tr>
<td>Ctrl + Page Up</td>
<td colspan="2">Предыдущая страница, перейти к предыдущей категории</td></tr>
<tr>
<td>Shift + Page Up</td>
<td colspan="2">Выделить предыдущую страницу текста</td></tr>
<tr>
<td>Alt + Page Up</td>
<td colspan="2">Прокрутить на размер окна влево, прокрутить на страницу влево</td></tr>
<tr>
<td>Page Down</td>
<td colspan="2">Прокрутить на страницу вниз</td></tr>
<tr>
<td>Ctrl + Page Down</td>
<td colspan="2">Следующая страница, перейти к следующей категории</td></tr>
<tr>
<td>Shift + Page Down</td>
<td colspan="2">Выделить следующую страницу текста</td></tr>
<tr>
<td>Alt + Page Down</td>
<td colspan="2">Прокрутить на размер окна вправо, прокрутить на страницу вправо</td></tr>
<tr>
<td>Num+</td>
<td colspan="2">Раскрыть узел дерева, увеличить масштаб, раскрыть категорию свойств</td></tr>
<tr>
<td>Ctrl + Num+</td>
<td colspan="2">Развернуть (узел дерева, группу табличного документа, группировку модуля)</td></tr>
<tr>
<td>Shift + Num+ </td>
<td colspan="2">Добавить к буферу обмена</td></tr>
<tr>
<td>Ctrl + Shift + Num+</td>
<td colspan="2">Развернуть (все узлы  дерева, группы табличного документа, группировки модуля) </td></tr>
<tr>
<td>Ctrl + Alt + Num+</td>
<td colspan="2">Развернуть (узел дерева, группу табличного документа, группировку модуля) и все подчиненные</td></tr>
<tr>
<td>Num-</td>
<td colspan="2">Закрыть узел дерева, уменьшить масштаб, закрыть категорию свойств</td></tr>
<tr>
<td>Ctrl + Num-</td>
<td colspan="2">Свернуть (узел дерева, группу табличного документа, группировку модуля)</td></tr>
<tr>
<td>Shift + Num-</td>
<td colspan="2">Вычесть из буфера обмена</td></tr>
<tr>
<td>Alt + Num-</td>
<td colspan="2">Вызвать системное меню окна (кроме модальных диалогов)</td></tr>
<tr>
<td>Ctrl + Shift + Num-</td>
<td colspan="2">Свернуть (все узлы  дерева, группы табличного документа, группировки модуля)</td></tr>
<tr>
<td>Ctrl + Alt + Num-</td>
<td colspan="2">Свернуть (узел дерева, группу табличного документа, группировку модуля) и все подчиненные</td></tr>
<tr>
<td>Num*</td>
<td colspan="2">Раскрыть все узлы дерева</td></tr>
<tr>
<td>Shift + Num*</td>
<td colspan="2">Копировать в буфер обмена как число</td></tr>
<tr>
<td>Esc</td>
<td colspan="2">Вернуть активность обычному окну, снять выделение, восстановить значения свойства</td></tr>
<tr>
<td>Shift + Esc</td>
<td colspan="2">Закрыть активное окно (кроме обычных)</td></tr>
<tr>
<td>Tab</td>
<td colspan="2">Сдвинуть блок вправо, перейти на следующий элемент карты</td></tr>
<tr>
<td>Ctrl + Tab</td>
<td colspan="2">Активизировать следующее обычное окно</td></tr>
<tr>
<td>Shift + Tab</td>
<td colspan="2">Перейти на предыдущий элемент карты, сдвинуть блок влево</td></tr>
<tr>
<td>Ctrl + Shift + Tab</td>
<td colspan="2">Активизировать предыдущее обычное окно</td></tr>
<tr>
<td>BackSpace</td>
<td colspan="2">Удалить символ слева от курсора</td></tr>
<tr>
<td>Ctrl + BackSpace</td>
<td colspan="2">Удалить слово слева от курсора</td></tr>
<tr>
<td>Alt + BackSpace</td>
<td colspan="2">Отменить последнее действие</td></tr>
<tr>
<td>Shift + Alt + BackSpace</td>
<td colspan="2">Вернуть отмененное действие</td></tr>
<tr>
<td>Ins</td>
<td colspan="2">Добавить, переключить режим вставки/замены</td></tr>
<tr>
<td>Ctrl + Ins</td>
<td colspan="2">Копировать в буфер обмена</td></tr>
<tr>
<td>Shift + Ins</td>
<td colspan="2">Вставить из буфера обмена</td></tr>
<tr>
<td>Del</td>
<td colspan="2">Удалить</td></tr>
<tr>
<td>Ctrl + Del</td>
<td colspan="2">Удалить слово справа от курсора</td></tr>
<tr>
<td>Shift + Del</td>
<td colspan="2">Вырезать в буфер обмена, удалить строку</td></tr>
<tr>
<td>Home</td>
<td colspan="2">Перейти в начало строки, перейти в начало палитры</td></tr>
<tr>
<td>Ctrl + Home</td>
<td colspan="2">Перейти в начало текста</td></tr>
<tr>
<td>Shift + Home</td>
<td colspan="2">Выделить до начала строки</td></tr>
<tr>
<td>Ctrl + Shift + Home</td>
<td colspan="2">Выделить до начала текста</td></tr>
<tr>
<td>End</td>
<td colspan="2">Перейти в конец строки</td></tr>
<tr>
<td>Ctrl + End</td>
<td colspan="2">Перейти в конец текста</td></tr>
<tr>
<td>Shift + End</td>
<td colspan="2">Выделить до конца строки</td></tr>
<tr>
<td>Ctrl + Shift + End</td>
<td colspan="2">Выделить до конца текста</td></tr>
<tr>
<td>Alt</td>
<td colspan="2">Вызвать главное меню</td></tr>
<tr>
<td>Alt + Hyphen ( - )</td>
<td colspan="2">Вызвать системное меню окна (кроме модальных диалогов)</td></tr>
<tr>
<td>Ctrl + [</td>
<td colspan="2">Перейти по операторным скобкам назад</td></tr>
<tr>
<td>Ctrl + Shift + [</td>
<td colspan="2">Перейти по операторным скобкам назад с выделением текста</td></tr>
<tr>
<td>Ctrl + ]</td>
<td colspan="2">Перейти по операторным скобкам вперед</td></tr>
<tr>
<td>Ctrl + Shift + ]</td>
<td colspan="2">Перейти по операторным скобкам вперед с выделением текста</td></tr>
<tr>
<td>Ctrl + Break</td>
<td colspan="2">Вызвать главное меню</td></tr>
<tr>
<td>Alt</td>
<td colspan="2">Вызвать главное меню</td></tr></tbody></table></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/i8100642.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Длительные операции на сервере (Раздел обновлен!).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Длительные операции на сервере</h1><div style="clear: right; float: right;">#std642</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">1. При разработке конфигураций следует избегать длительных вызовов из клиентского кода в серверный. Все длительные серверные вызовы, которые могут выполняться более <strong>8</strong> секунд в обычных сценариях работы пользователя, следует выполнять асинхронно, с помощью фонового задания.</p>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">К таким операциям относятся: формирование отчета, групповая обработка объектов, загрузка или выгрузка данных в другое приложение, заполнение больших табличных частей и т.п.</p>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">В противном случае такие вызовы могут привести к потере работоспособности приложения или затруднению работы с ним:</p>
<ul style="FONT-SIZE: small; FONT-FAMILY: Verdana">
<li>браузер может предложить прекратить длительно выполняющийся сценарий, после чего приложение станет неработоспособным; 

<li>веб сервер может прервать длительное обращение к серверу 1С:Предприятия и вернуть ошибку 504 (шлюз не отвечает); 

<li>в случае длительного выполнения операции, у пользователя нет возможности отменить ее.</li></li></li></ul>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">2.1. Общий подход к асинхронному выполнению длительных серверных операций с помощью фонового задания:</p>
<ul style="FONT-SIZE: small; FONT-FAMILY: Verdana">
<li>Код, выполняющий длительную обработку данных, располагается в модуле менеджера объекта* или в общем модуле. Результат своей работы он помещает во временное хранилище; <br/><br/><em>*Примечание: необходимо использовать процедуру-обертку в общем модуле, которая будет вызывать процедуру модуля менеджера через <strong>ОбщегоНазначения.ВыполнитьМетодКонфигурации()</strong>. Т.к. фоновые задания могут работать только с процедурами и функциями общих модулей.<br/></em>
<li>Для выполнения этого кода на сервере запускается фоновое задание, при этом необходимо ожидать завершения выполнения фонового задания в течение <strong>0.8</strong> сек; 

<li>Если за время ожидания выполнения задания оно не завершилось, то управление возвращается на клиент, и в клиентском коде подключается обработчик ожидания, в котором периодически проверяется состояние фонового задания. При этом интервал опроса задания увеличивается от <strong>1</strong> до <strong>15</strong> секунд с фиксированным коэффициентом <strong>1.4</strong>; 

<li>На время выполнения длительной операции пользователю отображается индикатор; <br/>при этом для отчетов индикатор выводится в поле табличного документа, используя свойство поля табличного документа <strong>ОтображениеСостояния</strong>:<br/><br/><img height="84" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/i8100642.files/до.png?_=00000A30EF06BC16-v2" style="aspect-ratio:243/84" width="243"/><script type="text/javascript">forceDocumentLayout()</script><br/><br/>а для прочих мест – выводится блокирующая форма (<strong>РежимОткрытияОкна</strong> = <strong>БлокироватьОкноВладельца</strong>), на которой размещена декорация с анимированной картинкой и кнопка <strong>«Отмена»</strong>:<br/><br/><img height="133" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/i8100642.files/длительнаяоперация.png?_=000012D96E66F4F0-v2" style="aspect-ratio:393/133" width="393"/><br/>
<li>При получении от сервера информации о том, что фоновое задание завершено, полученный результат загружается из временного хранилища и обрабатывается.</li></li></li></li></li></ul>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">2.2. Асинхронное формирование отчета требуется только для тех отчетов, которые </p>
<ul style="FONT-SIZE: small; FONT-FAMILY: Verdana">
<li>разработаны без использования СКД или с использованием СКД, но с переопределенной процедурой формирования отчета (переопределен обработчик кнопки <strong>«Сформировать»</strong> или в обработчике модуля отчета <strong>ПриКомпоновкеРезультата</strong> устанавливается <strong>СтандартнаяОбработка</strong> = <strong>Ложь</strong>). 

<li>и формирование которых, как правило, занимает длительное время.</li></li></ul>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">Поведение таких отчетов должно быть максимально похожим на поведение отчетов на базе СКД, а именно:</p>
<ul style="FONT-SIZE: small; FONT-FAMILY: Verdana">
<li>форму отчета не следует блокировать на время его формирования;  

<li>пользователь может изменить настройки и переформировать отчет, не дожидаясь окончания его формирования; 

<li>при закрытии формы отчета, формирование отчета прерывается.</li></li></li></ul>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">3. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> в распоряжении разработчика имеются вспомогательные функции и процедуры общих модулей <strong>ДлительныеОперации</strong>, <strong>ДлительныеОперацииКлиент</strong>, а также процедура <strong>УстановитьСостояниеПоляТабличногоДокумента</strong> общего модуля <strong>ОбщегоНазначенияКлиентСервер</strong>.</p>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">Пример выполнения функции в фоновом задании при использовании в конфигурации Библиотеки стандартных подсистем. В модуле менеджера объекта размещена функция, которая выполняет поиск настроек и возвращает их:</p>
<p class="Programtext"><font face="Verdana" size="2">Функция ОпределитьНастройкиУчетнойЗаписи(АдресЭлектроннойПочты, Пароль) Экспорт</font><br/><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">    ...<br/>    Возврат Настройки;<br/></span><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">КонецФункции</span></p>
<p style="FONT-SIZE: small; FONT-FAMILY: Verdana">В форме объекта выполняется вызов этой функции в фоновом задании в три этапа:<br/>1) запуск фонового задания на сервере,<br/>2) подключение обработчика завершения фонового задания на клиенте,<br/>3) обработка результата выполнения фонового задания.</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">&amp;НаКлиенте<br/>Процедура НастроитьПараметрыПодключенияАвтоматически()</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">    // 1. Запуск фонового задания на сервере.<br/>    ДлительнаяОперация = НачатьПоискНастроекУчетнойЗаписи();<br/> <br/>    // 2. Подключение обработчика завершения фонового задания.<br/>    ПараметрыОжидания = ДлительныеОперацииКлиент.ПараметрыОжидания(ЭтотОбъект);<br/>    Оповещение = Новый ОписаниеОповещения("ПриЗавершенииПоискаНастроек", ЭтотОбъект);<br/>    ДлительныеОперацииКлиент.ОжидатьЗавершение(ДлительнаяОперация, Оповещение, ПараметрыОжидания);</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">КонецПроцедуры</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">&amp;НаСервере<br/>Функция НачатьПоискНастроекУчетнойЗаписи()</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">    ПараметрыВыполнения = ДлительныеОперации.ПараметрыВыполненияФункции(УникальныйИдентификатор);<br/>    Возврат ДлительныеОперации.ВыполнитьФункцию(ПараметрыВыполнения,<br/>        "Справочники.УчетныеЗаписиЭлектроннойПочты.ОпределитьНастройкиУчетнойЗаписи",<br/>        АдресЭлектроннойПочты, Пароль);</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">КонецФункции</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">// 3. Обработка результата выполнения фонового задания.<br/></p>
<p class="Programtext"><font face="Verdana" size="2">// Параметры:<br/></font><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">//  Результат - см. ДлительныеОперацииКлиент.НовыйРезультатДлительнойОперации<br/></span><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">//  ДополнительныеПараметры - Неопределено<br/></span><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">//<br/></span><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">&amp;НаКлиенте<br/></span><span style="FONT-SIZE: small; FONT-FAMILY: Verdana">Процедура ПриЗавершенииПоискаНастроек(Результат, ДополнительныеПараметры) Экспорт</span></p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">    Если Результат = Неопределено Тогда // Пользователь отменил задание.<br/>        Возврат;<br/>    КонецЕсли;<br/> <br/>    Если Результат.Статус = "Ошибка" Тогда<br/>        СтандартныеПодсистемыКлиент.ВывестиИнформациюОбОшибке(Результат.ИнформацияОбОшибке);<br/>        Возврат;<br/>    КонецЕсли;<br/> <br/>    Настройки = ПолучитьИзВременногоХранилища(Результат.АдресРезультата);<br/>    УдалитьИзВременногоХранилища(Результат.АдресРезультата);<br/>    УстановитьНастройкиУчетнойЗаписи(Настройки);</p>
<p class="Programtext" style="FONT-SIZE: small; FONT-FAMILY: Verdana">КонецПроцедуры<br/></p>
<p align="right" class="tip" style="HEIGHT: 1px; WIDTH: 76.25%"></p>
<p><em><font style="BACKGROUND-COLOR: #ccffcc">Методическая рекомендация (полезный совет)</font></em></p>
<p align="left"><font size="2" style="BACKGROUND-COLOR: #ccffcc">3.1. При каждом выполнении фонового задания его результат помещается во временное хранилище на время жизни формы:</font></p>
<p align="left" class="Programtext"><font style="BACKGROUND-COLOR: #ccffcc">ПараметрыВыполнения = ДлительныеОперации.ПараметрыВыполненияФункции(УникальныйИдентификатор);<br/>ДлительныеОперации.ВыполнитьФункцию(ПараметрыВыполнения, ПараметрФоновогоЗадания);</font></p>
<p align="left"><font style="BACKGROUND-COLOR: #ccffcc">Если длительная операция выполняется пользователем многократно, пока эта форма открыта, то временные хранилища накапливаются, что вызывает рост потребления памяти. Поэтому для уменьшения расхода оперативной памяти в большинстве случаев рекомендуется очищать временное хранилище сразу после получения результата фонового задания:</font></p>
<p align="left" class="Programtext"><font style="BACKGROUND-COLOR: #ccffcc">Настройки = ПолучитьИзВременногоХранилища(Результат.АдресРезультата);<br/>УдалитьИзВременногоХранилища(Результат.АдресРезультата);  // Данные во временном хранилище больше не требуются.</font></p><font style="BACKGROUND-COLOR: #ccffcc">
<p align="left">Если же результат фонового задания требуется сохранять на протяжении нескольких серверных вызовов, то необходимо передавать фиксированный адрес заранее инициализированного временного хранилища:</p>
<p align="left" class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ)<br/>    АдресРезультатаФоновогоЗадания = ПоместитьВоВременноеХранилище(Неопределено, УникальныйИдентификатор); // Резервируем адрес временного хранилища<br/>КонецПроцедуры</p>
<p align="left" class="Programtext">&amp;НаСервере<br/>Функция НачатьПоискНастроекУчетнойЗаписи()<br/>    ПараметрыВыполнения = ДлительныеОперации.ПараметрыВыполненияФункции(УникальныйИдентификатор);<br/>    ПараметрыВыполнения.АдресРезультата = АдресРезультатаФоновогоЗадания; // всегда используем одно и то же временное хранилище</p></font>
<p align="left" class="Programtext"><font style="BACKGROUND-COLOR: #ccffcc">    Возврат ДлительныеОперации.ВыполнитьФункцию(ПараметрыВыполнения,<br/>        "Справочники.УчетныеЗаписиЭлектроннойПочты.ОпределитьНастройкиУчетнойЗаписи", АдресЭлектроннойПочты, Пароль);<br/>КонецФункции</font></p>
<p></p>
<p><a id="4" name="4"></a>4. Если в конфигурации реализуются алгоритмы, инициирующие запуск фоновых заданий или запись данных информационной базы <strong>без участия пользователя </strong>(например, регулярное обновление информации в открытой форме), то в них следует проверять, что в текущем сеансе не установлен монопольный режим. В противном случае, следует блокировать попытки выполнения таких действий. Например:</p>
<p class="Programtext">Если МонопольныйРежим() Тогда<br/>    Возврат;<br/>КонецЕсли;</p>
<p class="Programtext">ФоновыеЗадания.Выполнить("...</p>
<p><a id="5" name="5"></a>5. В некоторых случаях возникает необходимость в выполнении длительных операций, требующих установки монопольного режима доступа к информационной базе. Например:</p>
<ul>
<li>
<div> Обновление данных ИБ при первом интерактивном запуске программы после обновления конфигурации;</div>
<li>
<div> Удаление объектов, помеченных на удаление;</div>
<li>
<div> Выгрузка данных информационной базы в файл для перехода в сервис;</div>
<li>
<div> Использования монопольного режима для снижения времени выполнения массовых операций по изменению данных;</div></li></li></li></li></ul>
<p>При этом необходимо сначала устанавливать монопольный режим, а затем выполнять запуск фонового задания, которое реализует саму длительную операцию. В этом случае фоновым заданием будет унаследован монопольный режим, ранее установленный из пользовательского сеанса (см. <a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000000542" target="_top">документацию к платформе</a>).</p>
<p>На время выполнения этого фонового задания следует блокировать весь интерфейс приложения, открывая форму ожидания завершения операции в режиме <strong>РежимОткрытияОкна</strong> <strong>=</strong> <strong>БлокироватьВесьИнтерфейс.</strong> Блокировать интерфейс приложения требуется потому, что на время выполнения задания полноценная работа пользователя с приложением уже невозможна:</p>
<ul>
<li>Если пользователь(*) попытается записать какой-либо объект, это приведет к ошибке (из-за установленного монопольного режима); 

<li>В ряде случаев могут запускаться фоновые задания в качестве реакции на действия пользователя случае (при поиске в динамическом списке, при вводе по строке, формировании отчетов и пр.), которые также завершатся с ошибкой.<br/>Кроме того, на самой форме ожидания длительной операции не следует размещать элементы управления, которые могут приводить к запуску таких фоновых заданий. Например: поля ввода, динамические списки и отчеты.</li></li></ul>
<p><em>*</em> <em>Примечание: ошибки записи также возникают в тех случаях, когда объекты записываются программно, например, из обработчиков ожидания. В них также следует проверять монопольный режим согласно п.5.</em></p>
<h4>См. также</h4><font face="Verdana" size="2">
<ul>
<li>
<div><a href="#04_Длительные операции на клиенте.htm" target="_top">Длительные операции на клиенте</a></div></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/i8100755.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Длительные операции на клиенте.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Длительные операции на клиенте</h1><div style="clear: right; float: right;">#std755</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Следует избегать длительного выполнения клиентского кода, помимо длительных вызовов серверного кода из клиентского (см. «<a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">Длительные операции на сервере</a>»), т.к. это приводит к ощутимым задержкам при работе с программой или даже к зависанию. Не следует выполнять потенциально длительные операции (такие как: обращение к сетевым ресурсам, «тяжелые» алгоритмы обработки данных на клиенте) в обработчиках ожидания и обработчиках событий элементов форм.</p>
<p>Длительные клиентские операции допустимо выполнять, только когда пользователь инициирует их явным образом (например, нажатием на кнопку).</p>
<h4>Пример 1</h4>
<p><font color="#cc0000">Неправильно:</font></p>
<p>В обработчике ожидания обращаться к веб сервису для получения информации об обновлениях.</p>
<p><font color="#008000">Правильно:</font></p>
<p>Получать информацию об обновлениях только при нажатии на кнопку, либо перенести получение информации об обновлениях на сервер:</p>
<ul>
<li>
<div>В регламентном задании получать информацию об обновлениях через веб сервис и сохранять полученную информацию, например, в регистре;</div>
<li>
<div>В обработчике ожидания зачитывать уже полученную информацию об обновлении при помощи легкого запроса к регистру.</div></li></li></ul>
<h4>Пример 2</h4>
<p><font color="#cc0000">Неправильно:</font></p>
<p>Проверять доступность сетевого ресурса в обработчике события ПриИзменении поля формы, в котором вводится путь к этому сетевому ресурсу.</p>
<p><font color="#008000">Правильно:</font></p>
<p>Проверять доступность сетевого ресурса в обработчике команды, которая выведена в интерфейс, например, в виде кнопки Проверить.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/i8100548.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Формирование печатных форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Формирование печатных форм</h1><div style="clear: right; float: right;">#std548</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Некоторые справочники, документы и др. объекты конфигурации могут предоставлять команды по выводу их на печать. В данной статье приведены требования к реализации таких команд.</p>
<p><a id="1" name="1"></a>1. Для формирования печатной формы пользователю должно быть достаточно прав:</p><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">
<ul>
<li><span style="FONT-SIZE: 9.5pt">на чтение данных, по которым формируется печатная форма (например, для формирования печатной формы документа </span><b style="FONT-SIZE: 9.5pt">ЗаказПокупателя</b><span style="FONT-SIZE: 9.5pt"> нужны права на чтение этого документа);</span>
<li><span style="FONT-SIZE: 12px; FONT-FAMILY: Verdana">и на выполнение команды, которая инициирует формирование печатной формы (если у пользователя есть права на документ </span><strong style="FONT-SIZE: 12px; FONT-FAMILY: Verdana">ЗаказПокупателя</strong><span style="FONT-SIZE: 12px; FONT-FAMILY: Verdana">, то в общем случае, это не приводит к тому, что ему автоматически становятся доступны все печатные формы; права на печатные формы могут быть ограничены отдельно с помощью прав на команды).</span></li></li></ul></span>
<p><a id="2" name="2"></a>2. <span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; LINE-HEIGHT: 107%">В функции печати рекомендуется предусмотреть множественную печать нескольких объектов. В этом случае по соображениям производительности</span> (снижение нагрузки на СУБД) необходимо выполнять выборку данных в одном запросе, результаты которого затем обходятся в цикле.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#02_Многократное выполнение однотипных запросов.htm" target="_top">Многократное выполнение однотипных запросов</a></em></p></blockquote>
<p><a id="3" name="3"></a>3. <span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif">Следующие рекомендации применимы для нерегламентированных печатных форм.</span></p>
<p><a id="3.1" name="3.1"></a>3.1. Печатная и экранная формы объектов (справочников, документов и др.), в которых выводятся табличные части, должны соответствовать друг другу по составу и порядку строк табличных частей. В частности, при выводе на печать не следует каким-либо образом дополнительно группировать строки табличных частей.</p>
<p><a id="3.2" name="3.2"></a>3.2. Однако, если строки в экранной форме уже сгруппированы по каким-либо признакам, то при выводе на печать следует применять такую же группировку. </p>
<p>Например, рассмотрим печатную и экранную формы документа, в которых выводится табличная часть цен номенклатуры по типам цен: для каждой номенклатуры в колонках выводятся розничная, оптовая и другие типы цен, но при этом «физически» одна строка табличной части документа содержит информацию о цене только одного типа.  </p>
<p>3.3 В табличных частях печатных форм следует всегда выводить колонку со значением реквизита «Номер строки». В этом случае пользователи всегда смогут легко сопоставить строки табличных частей в печатных и экранных формах. </p>
<p><a id="3.4" name="3.4"></a>3.4. В тех случаях, когда на экранной форме не отображается реквизит «Номер строки», строки в печатной форме нумеруются в порядке их вывода.</p>
<p><a id="3.5" name="3.5"></a>3.5. Заголовок колонки с номером строки зависит от прикладной специфики печатной формы и может различаться в разных печатных формах. Например, в ТОРГ-12 колонка имеет строго регламентированное название «Номер по порядку», а в нерегламентированных печатных формах – может называться «№».</p>
<p><span style="FONT-SIZE: 9.5pt; FONT-FAMILY: Verdana, sans-serif; LINE-HEIGHT: 107%">4. Порядок строк табличных частей в печатной форме должен быть одинаковым на различных СУБД. Для этого их следует выводить отсортированными по номеру строки или другому полю. Рекомендуется индексировать</span><span style="FONT-SIZE: 10pt; FONT-FAMILY: Arial, sans-serif; LINE-HEIGHT: 107%"> поля, по которым выполняется сортировка.</span></p>
<p>Например, в задании кладовщику на отбор товаров из складских ячеек, строки задания отсортированы по порядку обхода ячеек склада (при этом значение реквизита «Номер строки» также выводится в соответствующей колонке).</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#06_Упорядочивание результатов запроса.htm" target="_top">Упорядочивание результатов запроса</a></em></p></blockquote>
<p dir="ltr">5.1. При выводе данных в печатные формы, необходимо обеспечить, чтобы они были выведены полностью и не обрезались. </p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="5.2" name="5.2"></a>5.2. В случае если печатные формы формируются с помощью табличных макетов, то при выводе строк табличных частей рекомендуется устанавливать свойство <strong>АвтоВысотаСтроки</strong> (объекта <strong>ОбластьЯчеекТабличногоДокумента</strong>)<strong> </strong>в значение <strong>Истина</strong>. Это позволяет избежать обрезания длинных текстовых строк, когда ширины колонок таблиц недостаточно.</p></td></tr></tbody></table>
<p dir="ltr">6. При подготовке табличного документа на сервере не следует устанавливать размер полей заведомо меньше физических ограничений полей у принтера. В частности, недопустимо устанавливать нулевые поля.</p>
<p dir="ltr">В общем случае, размер полей табличного документа рекомендуется не менять (оставлять по умолчанию), кроме тех случаев, когда они явно регламентированы или стандартизированы. Например, согласно ГОСТ Р 6.30-2003 "Унифицированные системы документации. Унифицированная система организационно-распорядительной документации. Требования к оформлению документов" в документе должны быть заданы поля: 20 мм левое, 10 мм правое, 20 мм верхнее, 20 мм нижнее.</p>
<p dir="ltr">Требование обусловлено тем, что получение физических ограничений полей клиентского принтера не представляется возможным на сервере приложений, в связи с чем, при печати документа с нулевыми полями текст, выступающий за минимально допустимые поля принтера, не будет напечатан.</p>
<p dir="ltr">Пример некорректного кода:</p>
<p class="Programtext" dir="ltr">// Зададим параметры печатной формы по умолчанию<br/>ТабДокумент.ПолеСверху              = 0;<br/>ТабДокумент.ПолеСлева               = 0;<br/>ТабДокумент.ПолеСнизу               = 0;<br/>ТабДокумент.ПолеСправа              = 0;</p>
<p dir="ltr"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold">См. также</span></p>
<ul dir="ltr">
<li>
<div><a href="#01_Названия печатных форм учетных документов и команд по их выводу на печать.htm" target="_top">Названия печатных форм учетных документов и команд по их выводу на печать</a></div>
<li>
<div><a href="#06_Разработка печатных форм с учетом возможного внесения изменений в макет пользователем.htm" target="_top">Разработка печатных форм с учетом возможного внесения изменений в макет пользователем</a></div></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/i8100789.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Разработка печатных форм с учетом возможного внесения изменений в макет пользователем.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<p></p>
<h1>Разработка печатных форм с учетом возможного внесения изменений в макет пользователем</h1><div style="clear: right; float: right;">#std789</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>Если в конфигурации предусмотрена возможность редактирования макетов пользователем (например, средствами подсистемы «Печать» Библиотеки стандартных подсистем), то необходимо учитывать то, что любые параметры или области макета могут быть изменены или удалены.<br/>В зависимости от используемой технологии компоновки печатных форм эти требования различаются. 

<p></p>
<p><a id="1" name="1"></a>1. При использовании технологии формирования печатной формы средствами подсистемы <b>Печать</b> Библиотеки стандартных подсистем (по макету СКД), для обеспечения вывода изменённых макетов следует сохранять существующий состав полей в макетах <b>ДанныеПечати</b> объектов метаданных.</p>
<p><a id="1.1" name="1.1"></a>1.1. При наличии макета <b>ДанныеПечати</b> в объекте допускается расширение состава полей, но не допускается переименование или удаление полей.</p>
<p><a id="1.2" name="1.2"></a>1.2. При отсутствии макета <b>ДанныеПечати</b> в объекте не допускается переименование реквизитов или табличных частей. При необходимости изменения состава реквизитов и/или табличных частей объекта необходимо предварительно создать макет <b>ДанныеПечати</b>, чтобы зафиксировать прежний состав полей объекта.</p>
<p><a id="2" name="2"></a>2. При программной компоновке печатной формы помимо разработки макета, требуется разработка процедур получения данных и вывода в печатную форму. Поэтому при разработке процедуры вывода печатной формы необходимо принять меры по повышению устойчивости программного кода к изменениям в макете.</p>
<p><a id="2.1" name="2.1"></a>2.1. Области макета могут быть удалены пользователем, поэтому перед получением области необходимо выполнить проверку её существования в макете.</p>
<p>Неправильно:</p>
<p class="Programtext">ОбластьМакета = Макет.ПолучитьОбласть(ИмяОбласти);</p>
<p>Правильно:</p>
<p class="Programtext">ОбластьМакета = Макет.Области.Найти(ИмяОбласти);<br/>Если ОбластьМакета &lt;&gt; Неопределено Тогда<br/> ...<br/> // Вывод области макета в печатную форму.<br/> ...<br/>КонецЕсли<br/><span style="FONT-SIZE: 12px; FONT-FAMILY: Verdana"><br/></span></p>
<p><a id="2.2" name="2.2"></a>2.2. Следует избегать явного присвоения значений параметров в областях печати. Вместо этого следует использовать глобальный метод <b>ЗаполнитьЗначенияСвойств</b> или метод <b>Заполнить</b> коллекции <b>ПараметрыМакетаТекстовогоДокумента</b>.</p>
<p>Неправильно:</p>
<p class="Programtext">ОбластьПечати.Параметры.Организация = ДанныеПечати.Организация; // будет ошибка при отсутствии в макете параметра Организация</p>
<p class="Programtext"><span style="FONT-SIZE: 10pt">ОбластьПечати.Параметры.Контрагент = ДанныеПечати.Контрагент;   // будет ошибка при отсутствии в макете параметра Контрагент</span></p>
<p>Правильно:</p>
<p class="Programtext">ЗаполнитьЗначенияСвойств(ОбластьПечати.Параметры, ДанныеПечати);</p>
<p>или</p>
<p class="Programtext">ОбластьПечати.Параметры.Заполнить(ДанныеПечати);</p>
<p><a id="3" name="3"></a>3. В общем случае, изменения в макетах печати (в метаданных) могут быть обязательными и необязательными. Обязательные – если, например, в макете отражены изменения в регламентированной печатной формы. Необязательные - если разработчик добавил новую область печатной формы, без которой печатная форма все еще остается пригодной к использованию.</p>
<p>Если изменение обязательное, то при обновлении конфигурации необходимо отключить пользовательский макет, оповестив об этом пользователя. При наличии в конфигурации Библиотеки стандартных подсистем, для отключения пользовательского макета необходимо использовать процедуру <b>ОтключитьПользовательскийМакет</b> общего модуля <b>УправлениеПечатью</b>. Для проверки наличия и использования изменённых макетов необходимо использовать функции <b>ПоставляемыйМакетИзменен</b> и <b>ИспользуетсяПользовательскийМакет</b> общего модуля <b>УправлениеПечатью</b>.</p>
<p>Если изменение не обязательное, то в новом коде формирования печатной формы необходимо обеспечить вывод печатной формы с использованием старого макета (см. п. 2.1 и 2.2).</p></body><hr>
<h1 id='07_Реализация работы формы'>Реализация работы формы</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100404.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Открытие форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Открытие форм</h1><div style="clear: right; float: right;">#std404</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Для открытия форм следует применять метод глобального контекста <strong>ОткрытьФорму</strong> (при использовании версии платформы 1С:Предприятие 8.2 и более ранних версий - также <strong>ОткрытьФормуМодально</strong>). Применение альтернативного способа, с получением формы и ее последующим открытием с помощью метода <strong>ПолучитьФорму</strong>, не рекомендуется. <br/><br/>Рекомендация обусловлена соображениями </p>
<ul>
<li>повышения устойчивости кода, работающего с формой, за счет разделения программного интерфейса для работы с формой и деталей ее внутренней реализации, 

<li>а также сохранения единой стилистики кода прикладных решений. </li></li></ul>
<p>Кроме того, применение глобального метода <strong>ОткрытьФорму</strong> гарантирует выполнение инициализации формы на сервере в обработчике <strong>ПриСозданииНаСервере</strong>. Этот подход помогает сосредоточить весь код инициализации формы в одном месте и исключает "случайное" обращение к серверу, связанное с инициализацией формы, между строками кода</p>
<p class="Programtext">Форма = ПолучитьФорму(...) </p>
<p>и</p>
<p class="Programtext">Форма.ОткрытьФорму(...) </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: раздел «Открытие управляемой формы» статьи </em><a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top"><em>«Минимизация количества серверных вызовов»</em></a><em> </em></p></blockquote>
<p><a id="2" name="2"></a>2. В случаях когда форма требует параметризации при открытии, все ее параметры следует указывать в наборе параметров формы. Таким образом, набор параметров формы декларативно описывает возможности формы по ее параметризации. </p>
<p>Параметры формы из этого набора могут быть указаны в вызывающем коде при открытии формы (<strong>ОткрытьФорму</strong>).</p>
<p><a id="3" name="3"></a>3. Не следует применять другие способы параметризации формы при открытии. Например, нужно избегать обращения к методам и свойствам формы после ее открытия. <br/>Например, вместо </p>
<p class="Programtext">ФормаПутеводитель = Форма.ОткрытьФорму("ОбщаяФорма.ПутеводительПоСистеме");<br/>ФормаПутеводитель.Элементы.ГруппаШаг.ТекущаяСтраница = ФормаПутеводитель.Элементы.ГруппаШаг.Страницы.Приветствие;</p>
<p>следует по той же причине использовать параметры формы:</p>
<p class="Programtext">ОткрытьФорму("ОбщаяФорма.ПутеводительПоСистеме", Новый Структура("РежимОткрытия", "Приветствие"));</p>
<p><a id="4" name="4"></a>4. Для получения результата работы формы, вместо непосредственного обращения к элементам и реквизитам формы</p>
<p class="Programtext">ФормаВопроса = ПолучитьФорму("ОбщаяФорма.ФормаВопроса");<br/>ФормаВопроса.ОткрытьМодально();<br/>Если ФормаВопроса.БольшеНеПоказыватьНапоминание Тогда<br/>// …</p>
<p>следует использовать процедуры-обработчики оповещений, которые будут вызваны при завершении работы пользователя с формой:</p>
<p class="Programtext">Оповещение = Новый ОписаниеОповещения("БольшеНеПоказыватьНапоминаниеЗавершение", ЭтотОбъект);<br/>ОткрытьФорму("ОбщаяФорма.ФормаВопроса",,,,, Оповещение, РежимОткрытияОкнаФормы.БлокироватьВеcьИнтерфейс);<br/>...</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура БольшеНеПоказыватьНапоминаниеЗавершение(БольшеНеПоказыватьНапоминание, Параметры) Экспорт<br/><br/>  Если БольшеНеПоказыватьНапоминание = Неопределено Тогда<br/>    Возврат;<br/>  КонецЕсли;   </p>
<p class="Programtext">  Если БольшеНеПоказыватьНапоминание Тогда<br/>  // …</p>
<p class="Programtext">КонецПроцедуры</p>
<p>При этом возвращаемое значение формы формируется в коде модуля формы с помощью метода формы <strong>Закрыть</strong>.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#08_Ограничения на использование экспортных процедур и функций.htm" target="_top"><em>Ограничения на использование экспортных процедур и функций</em></a></p></blockquote>
<p><a id="5" name="5"></a>5. Другие ограничения:</p>
<ul>
<li>Обработчик события формы <strong>ПриОткрытии</strong> не должен содержать код по открытию какой-либо другой формы, так как это может привести к нарушению порядка отображения окон. В этом случае рекомендуется использовать обработчик ожидания на короткий интервал или открывать другие формы интерактивно, например, по нажатию на кнопку. 

<li>Не рекомендуется выполнять программное открытие и закрытие формы в одном обработчике. Такие действия должны быть разнесены по времени. Например, закрытие формы можно выполнять в обработчике ожидания. 

<li>При использовании в конфигурации <strong>Библиотека стандартных подсистем</strong>  и разработке форм (рабочих мест), предназначенных только для <a href="#07_Использование гиперссылок в диалогах форм.htm" target="_top">внешних пользователей</a>, следует явно блокировать открытие таких форм в сеансах "обычных" пользователей. Для этого следует устанавливать параметр <strong>Отказ</strong> при создании формы на сервере с помощью функции <strong>ЭтоСеансВнешнегоПользователя</strong> общего модуля <strong>Пользователи</strong> или <strong>ПользователиКлиент</strong>:</li></li></li></ul>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br/> <br/>  Если Не ПользователиКлиентСервер.ЭтоСеансВнешнегоПользователя() Тогда<br/>    Отказ = Истина;<br/>    Возврат;<br/>  КонецЕсли;<br/>  …<br/>КонецПроцедуры</p>
<p><a id="6" name="6"></a>6. Следующие виды форм должны быть всегда доступны пользователю в режиме <strong>1С:Предприятия</strong> из меню "Все функции" вне зависимости от того, размещены ли соответствующие объекты в командном интерфейсе приложения или нет:</p>
<ul>
<li>
<div>основная форма списка (для всех объектов)</div>
<li>
<div>основная форма обработки</div>
<li>
<div>основная форма отчета</div></li></li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="#02_Открытие параметризированных форм.htm" target="_top">Открытие параметризированных форм</a></div></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100741.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Открытие параметризированных форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Открытие параметризированных форм</h1><div style="clear: right; float: right;">#std741</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В случаях когда форма требует параметризации при открытии, предназначена для открытия только при помощи встроенного языка и, как следствие, не может быть открыта из пункта меню "Все функции", не следует назначать такую форму основной формой объекта. </p>
<p><a id="2" name="2"></a>2. Если же у объекта нет других форм, которые могли бы быть назначены основными, то следует сделать основной эту параметризированную форму. В обработчике <strong>ПриСозданииНаСервере</strong> модуля формы  необходимо проверять параметры формы и, если они не заполнены, вызывать исключение. Текст исключения должен указывать пользователю причину, по которой форма не может быть открыта. </p>
<p><a id="3" name="3"></a>3. Параметры формы следует объявлять явно на закладке <strong>Параметры</strong> редактора формы. В таком случае в коде обработчика <strong>ПриСозданииНаСервере</strong> не требуется проверять наличие свойств у структуры <strong>Параметры</strong>, а сам состав параметров формы явно задекларирован (поэтому их не требуется восстанавливать, изучая весь код обработчика <strong>ПриСозданииНаСервере</strong>).</p>
<p>Например, неправильно:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br/>    ФамилияИмяОтчество = Неопределено;<br/>    Если Параметры.Свойство("ФамилияИмяОтчество", ФамилияИмяОтчество) Тогда<br/>        Объект.Наименование = ФамилияИмяОтчество;<br/>    КонецЕсли;<br/>КонецПроцедуры</p>
<p>правильно:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br/>    Объект.Наименование = Параметры.ФамилияИмяОтчество;<br/>КонецПроцедуры<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100630.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Правила создания модулей форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Правила создания модулей форм</h1><div style="clear: right; float: right;">#std630</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote><font face="Verdana" size="2">
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p align="left"><em>Область применения (уточнение): управляемое приложение, обычное приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. В модуле формы размещаются процедуры и функции, которые необходимы только для реализации логики работы этой формы и исполняются в контексте этой формы. </p>
<p><a id="1.1" name="1.1"></a>1.1. Не следует размещать экспортные процедуры и функции в модулях форм. Для реализации экспортных процедур и функций рекомендуется использовать <a href="#07_Использование модуля объекта, модуля менеджера объекта и общих модулей.htm" target="_top">модули объектов, модули менеджеров объектов или общие модули</a>. Для передачи входных параметров в формы следует применять метод <strong>ОткрытьФорму</strong>, для получения результата - процедуры-обработчики оповещений  (см. стандарт  <a href="#01_Открытие форм.htm" target="_top">Открытие форм</a>), а для взаимодействия с открытыми формами - метод <strong>Оповестить</strong> и обработчик события <strong>ОбработкаОповещения</strong> (см. стандарт <a href="#04_Обновление списков при интерактивных действиях пользователя.htm" target="_top">Обновление списков при интерактивных действиях пользователя</a>).</p>
<p><a id="1.2" name="1.2"></a>1.2. Неправильно использовать экспортные процедуры и функции формы для параметризации формы при открытии. Например, неправильно: </p>
<p class="Programtext">Форма = ПолучитьФорму("ОбщаяФорма.МояФорма");<br/>Форма.Открыть();<br/>Форма.УстановитьПараметрСПомощьюЭтойЭкспортнойФункции(РежимРаботы);</p>
<p>правильно:</p>
<p class="Programtext">ПараметрыФормы = Новый Структура("РежимРаботы", РежимРаботы)<br/>ОткрытьФорму("ОбщаяФорма.МояФорма", ПараметрыФормы)</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: <a href="#01_Открытие форм.htm" target="_top">Открытие форм</a></em></p></blockquote>
<p><a id="1.3" name="1.3"></a>1.3. Также не следует вызывать экспортные процедуры и функции модуля формы для обновления данных формы или для программной перерисовки формы в результате действий пользователя в других формах. В этом случае следует использовать метод глобального контекста <strong>Оповестить</strong>, методы формы <strong>ОповеститьОЗаписиНового</strong>, <strong>ОповеститьОбАктивизации</strong> и <strong>ОповеститьОВыборе</strong>. См. также: <a href="#04_Обновление списков при интерактивных действиях пользователя.htm" target="_top">Обновление списков при интерактивных действиях пользователя</a>.</p>
<p><a id="1.4" name="1.4"></a>1.4. Исключения из этого правила составляют экспортные процедуры-обработчики оповещений (ОписаниеОповещения.ИмяПроцедуры).</p></td></tr></tbody></table>
<p><a id="2" name="2"></a>2. В некоторых случаях в модуле формы возникает необходимость реализации процедур и функций, которые выполняются как на стороне клиента, так и на сервере. Например, для обновления данных формы из серверного обработчика <strong>ПриСозданииНаСервере</strong> и из клиентских событий <strong>ПриИзменении</strong>.</p>
<p>Для того чтобы избежать дублирования кода, такие процедуры и функции необходимо размещать в модуле формы с директивой компиляции<strong> &amp;НаКлиентеНаСервереБезКонтекста</strong> и передавать в них контекст самостоятельно в виде параметра. В качестве контекста может выступать либо сама форма (<strong>ФормаКлиентскогоПриложения</strong>), либо ее реквизит (<strong>ДанныеФормыСтруктура</strong>). </p>
<p>Пример:</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере()<br/> УстановитьДоступность(ЭтотОбъект);<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура РазрешитьРедактированиеСуммыПриИзменении(Элемент)<br/> УстановитьДоступность(ЭтотОбъект);<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиентеНаСервереБезКонтекста<br/>Процедура УстановитьДоступность(Форма)<br/> Форма.Элементы.ТоварыСумма.Доступность = Форма.Объект.РазрешитьРедактированиеСуммы;<br/>КонецПроцедуры</p></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li>
<div><a href="#02_Структура модуля.htm" target="_top">Структура модуля</a></div>
<li>
<div><a href="#11_Контекстная и внеконтекстная передача управления на сервер.htm" target="_top">Контекстная и внеконтекстная передача управления на сервер</a></div></li></li></ul></font><font face="Verdana" size="2"></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100742.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Блокирующее или независимое открытие форм объектов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Блокирующее или независимое открытие форм объектов</h1><div style="clear: right; float: right;">#std742</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. По умолчанию, при создании форм некоторых типов объектов (справочников, планов видов характеристик и др.) им устанавливается режим открытия с блокированием окна владельца (свойство <strong>РежимОткрытияОкна</strong> установлено в значение <strong>БлокироватьОкноВладельца</strong>). Для таких форм предполагается, что работа с ними всегда выполняется "за один заход", без необходимости переключения в другие формы. Тем самым, предотвращается одновременное открытие нескольких форм такого типа, и как следствие, рабочее пространство пользователя не "замусоривается" лишними окнами. </p>
<p><a id="2" name="2"></a>2. Это умолчание платформы рекомендуется изменять в тех случаях, когда форма представляет из себя «рабочее место», т.е. с помощью нее осуществляется доступ к большому функциональному блоку. В частности, если при работе с формой в обычных сценариях работы может потребоваться</p>
<ul>
<li>открытие других самостоятельных форм (отчетов, справочников и т.д.) из глобального командного интерфейса приложения; 

<li>сравнение двух и более объектов между собой;</li></li></ul>
<p>а также если в панели навигации формы</p>
<ul>
<li>содержится большое количество переходов к связанной информации (например, к подчиненным справочникам); 

<li>есть переходы к параметризируемым отчетам.</li></li></ul>
<p>Для таких форм необходимо установить свойству <strong>РежимОткрытияОкна</strong> значение <strong>Независимый.</strong> Как правило, это формы документов.</p>
<p><a id="3" name="3"></a>3. Для конфигураций, разрабатываемых на платформе 1С:Предприятие 8.3.9 и ранее, не следует открывать формы в режиме <strong>ВариантОткрытияОкна.ОтдельноеОкно</strong>, поскольку в конфигурациях, рассчитанных на работу в режимах «Такси» или «В закладках», такой режим открытия форм значительно усложняет пользователю настройку приложения для работы в веб-клиенте.</p>
<p>В большинстве случаев такие формы можно перевести на открытие в режиме блокирования окна владельца или независимо (что технически не приводит к открытию отдельного окна в веб-браузере в режимах интерфейса «Такси» или «В закладках», но визуально будет выглядеть для пользователя так же, как открытие отдельного окна).</p>
<p>Исключение составляют случаи, когда в конфигурации предусмотрено, что форма открывается таким способ только в тонком клиенте или только в режиме «В отдельных окнах».</p>
<script type="text/javascript">forceDocumentLayout()</script><h3 dir="ltr" style="MARGIN-RIGHT: 0px">См. также</h3>
<ul dir="ltr">
<li>
<div style="MARGIN-RIGHT: 0px"><a href="#11_Блокирующая или независимая форма.htm" target="_top">Выбор: блокирующая форма или независимая</a> в руководстве по стилю.</div></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100703.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Ограничение на использование модальных окон и синхронных вызовов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение на использование модальных окон и синхронных вызовов</h1><div style="clear: right; float: right;">#std703</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Действует для конфигураций, разрабатываемых на платформе 1С:Предприятие 8.3 и выше.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При разработке конфигураций, предназначенных для работы в веб-клиенте, запрещено использовать модальные формы и диалоги. В противном случае, конфигурация окажется неработоспособной в ряде веб-браузеров, так как модальные окна не входят в стандарт веб-разработки. Для разработки качественных веб-приложений требуются асинхронные средства обеспечения взаимодействия с пользователем, которые предоставляет платформа 1С:Предприятие.</p>
<p><a id="2" name="2"></a>2. Для этого свойство конфигурации <strong>Режим использования модальности</strong> должен быть установлено в <strong>Не использовать</strong>, а вместо модальных методов следует вызывать их немодальные аналоги с блокированием окна владельца или всего интерфейса.</p>
<p><a id="3" name="3"></a>3. В процедуре <strong>ПриЗавершенииРаботыСистемы</strong> модуля управляемого приложения недопустимо использовать асинхронные вызовы.</p>
<p><a id="4" name="4"></a>4. Если в процедуре <strong>ПередЗавершениемРаботыСистемы</strong> модуля управляемого приложения используются асинхронные вызовы, то в ней необходимо установить значение параметра <strong>Отказ = Истина</strong> и из процедуры оповещения о завершении асинхронного вызова  продолжить завершение работы системы.<br/>Пример:</p>
<p class="Programtext">Процедура ПередЗавершениемРаботыСистемы(Отказ)<br/> ДополнительныеПараметры = Новый Структура;<br/> ДополнительныеПараметры.Вставить("ЗавершитьРаботуСистемы", Истина);<br/> ОписаниеОповещения = Новый ОписаниеОповещения("ПослеУдаленияФайлов", РаботаСФайламиКлиент, ДополнительныеПараметры);<br/> НачатьУдалениеФайлов(ОписаниеОповещения, ПутьКФайлу);<br/> Отказ = Истина;<br/>КонецПроцедуры</p>
<p class="Programtext">// Общий модуль РаботаСФайламиКлиент:<br/>Процедура ПослеУдаленияФайлов(ДополнительныеПараметры) Экспорт <br/> Если ДополнительныеПараметры.ЗавершитьРаботуСистемы Тогда<br/>  // Больше нет действий перед завершением работы системы.<br/>  ЗавершитьРаботуСистемы();<br/> КонецЕсли; <br/>КонецПроцедуры</p>
<p><a id="5" name="5"></a>5. При переработке синхронных вызовов на их асинхронные аналоги можно включать флажок <strong>Поиск использования синхронных вызовов при проверке конфигурации</strong> (конфигуратор – меню <strong>Конфигурация</strong> – <strong>Проверка конфигурации…</strong>). Но при этом из результатов проверки потребуется вручную исключать все корректные места вызовов в коде, который не исполняется в веб-клиенте (например, серверный код).</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<dir>
<li><a href="https://its.1c.ru/db/metod81/content/5272/hdoc" target="_top">Отказ от использования модальных окон</a> (статья на ИТС) 

<li><a href="https://its.1c.ru/db/metod81/content/5293/hdoc" target="_top">Перевод конфигураций на платформе "1С:Предприятие 8.2" на платформу "1С:Предприятие 8.3" без режима совместимости с версией 8.2</a> (статья на ИТС) 

<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a><br/></li></li></li></dir>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100399.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Запрет редактирования полей таблицы по условию.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Запрет редактирования полей таблицы по условию</h1><div style="clear: right; float: right;">#std399</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>В некоторых случаях требуется предупредить пользователя о том, что ввод тех или иных данных в таблице управляемой формы не имеет смысла или вообще не может быть выполнен до заполнения других полей таблицы. В таких случаях рекомендуется применять описанный ниже прием. </p>
<ul>
<li>
<div>Для предупреждения пользователя применять свойства поля <strong>ОтображениеПредупрежденияПриРедактировании</strong> и <strong>ПредупреждениеПриРедактировании</strong></div>
<li>
<div>Текст предупреждения указать в свойстве поля формы при разработке формы в конфигураторе.</div>
<li>
<div>Управлять свойством <strong>ОтображениеПредупрежденияПриРедактировании</strong> из встроенного языка при активизации строки таблицы и при изменении тех значений, которые влияют на условие редактирования поля</div>
<li>
<div>Дать пользователю возможность редактирования уже введенное значение, даже если оно введено "не по правилам", для того, чтобы пользователь мог удалить ранее введенное значение.</div></li></li></li></li></ul>
<p>Например, в таблице формы <strong>Затраты</strong> имеются поля <strong>СтатьяЗатрат</strong> и <strong>АналитикаСтатьиЗатрат</strong>. При этом заполнение поля <strong>АналитикаСтатьиЗатрат</strong> не имеет смысла без заполнения поля <strong>СтатьяЗатрат</strong>. Тогда код формы может включать примерно следующие процедуры. </p>
<p class="Programtext">&amp;НаКлиенте <br/>Процедура УстановитьПредупреждениеПриРедактировании() <br/>   Если НЕ ЗначениеЗаполнено(Элементы.Затраты.ТекущиеДанные.СтатьяЗатрат) Тогда <br/>      Если НЕ ЗначениеЗаполнено(Элементы.Затраты.ТекущиеДанные.АналитикаСтатьиЗатрат) Тогда <br/>         Элементы.ЗатратыАналитикаСтатьиЗатрат.ОтображениеПредупрежденияПриРедактировании = <br/>           ОтображениеПредупрежденияПриРедактировании.Отображать; <br/>      Иначе <br/>         Элементы.ЗатратыАналитикаСтатьиЗатрат.ОтображениеПредупрежденияПриРедактировании = <br/>           ОтображениеПредупрежденияПриРедактировании.НеОтображать; <br/>      КонецЕсли; <br/>   Иначе <br/>      Элементы.ЗатратыАналитикаСтатьиЗатрат.ОтображениеПредупрежденияПриРедактировании = <br/>        ОтображениеПредупрежденияПриРедактировании.НеОтображать; <br/>   КонецЕсли; <br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаКлиенте <br/>Процедура ЗатратыПриАктивизацииСтроки(Элемент) <br/>   УстановитьПредупреждениеПриРедактировании(); <br/>КонецПроцедуры <br/><br/>&amp;НаКлиенте <br/>Процедура ЗатратыСтатьяЗатратПриИзменении(Элемент) <br/>   УстановитьПредупреждениеПриРедактировании() <br/>КонецПроцедуры <br/><br/>&amp;НаКлиенте <br/>Процедура ЗатратыАналитикаСтатьиЗатратПриИзменении(Элемент) <br/>   УстановитьПредупреждениеПриРедактировании() <br/>КонецПроцедуры </p>
<p>В том случае если от некоторых условий зависит не только сама необходимость предупреждения, но и текст самого предупреждения, следует управлять из встроенного языка не только свойством поля <strong>ОтображениеПредупрежденияПриРедактировании</strong>, но и свойством <strong>ПредупреждениеПриРедактировании</strong>. </p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100533.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Особенности табличного документа в веб-клиенте.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Особенности табличного документа в веб-клиенте</h1><div style="clear: right; float: right;">#std533</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p><a id="1" name="1"></a>1. Для достижения приемлемой скорости работы форм в веб-клиенте, в которых пользователь редактирует табличный документ, необходимо придерживаться следующих рекомендаций.</p>
<p><a id="1.1" name="1.1"></a>1.1. В случае если после изменения пользователем значения ячейки требуется выполнить перерасчет состояния формы (установить значения соседних зависимых ячеек, доступность элементов управления и т.п.), следует избегать обращений на сервер, а выполнять весь перерасчет на клиенте. Контекстный вызов на сервер для формы с табличным документом может сделать работу пользователя в форме неприемлемой.</p>
<p>При этом важно, чтобы клиентская логика обновления была оптимизирована и отрабатывала быстро. В частности:</p>
<ul>
<li>вместо полного перерасчета всех ячеек документа следует «точечно» обновлять только те соседние ячейки, значения которых зависят от измененной ячейки; 

<li>не обновлять динамически состояние кнопок в зависимости от текущей области табличного документа; а например, сообщать пользователю при нажатии на кнопку, почему действие в данный момент недоступно, либо автоматически определять ближайшую подходящую область документа для выполнения действия.</li></li></ul>
<p><a id="1.2" name="1.2"></a>1.2. В тех случаях, когда серверный вызов при завершении редактирования ячейки все же необходим, следует убедиться, что вызов сервера выполняется только один. По возможности, рекомендуется использовать безконтекстные вызовы (<strong>&amp;НаСервереБезКонтекста</strong>).</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top"><em>Минимизация клиент-серверного взаимодействия</em></a><em>.</em></p></blockquote>
<p><a id="1.3" name="1.3"></a>1.3. Следует избегать в макетах табличных документов большого количества колонок и объединений. Для этого рекомендуется использовать переменную ширину колонок для различных строк. При этом внешний вид документа для пользователя не меняется.</p>
<p>Это упрощение позволяет снизить время открытия формы, а также интервал ожидания пользователя при выполнении действий в форме, предполагающих контекстный вызов сервера.</p>
<p><a id="2" name="2"></a>2. В веб-браузерах <strong>Microsoft Internet Explorer 6.0</strong> и <strong>7</strong> не поддерживается отображение объединенных ячеек табличного документа, у которых указана рамка слева и не указана рамка снизу. Для таких ячеек рекомендуется указывать рамку снизу.</p>
<p><a id="3" name="3"></a>3. В веб-клиенте, если у ячейки табличного документа установлено выравнивание по правому краю и текст не полностью помещается в ячейке, то помещающаяся часть текста выравнивается по левому краю, при этом текст обрезается. Поэтому если отображение только части содержимого ячейки не имеет смысла (как правило, это так для числовых полей - нет смысла показывать половину числа), то ячейке следует устанавливать свойство Размещение в значение <strong>Забивать</strong>. Если же урезанное значение имеет смысл (строковые наименования и т. д.), то следует устанавилвать значение <strong>Обрезать</strong>.<br/></p></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100536.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Обращение из кода к автоматически формируемым элементам управления формы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обращение из кода к автоматически формируемым элементам управления формы</h1><div style="clear: right; float: right;">#std536</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Недопустимо управлять из кода элементами управления формы, которые автоматически формируются платформой. <br/>Например:</p>
<ul>
<li>неправильно при открытии формы из кода прятать команды группы <strong>Создать на основании</strong> в зависимости от тех или иных условий. 

<li>правильно: использовать <a href="#06_Обработчик события ОбработкаЗаполнения.htm" target="_top">обработчик события <strong>ОбработкаЗаполнения</strong></a>.<br/></li></li></ul></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#09_Обращение из кода к пользовательским элементам управления формы.htm" target="_top">Обращение из кода к пользовательским элементам управления формы</a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100545.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Обращение из кода к пользовательским элементам управления формы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обращение из кода к пользовательским элементам управления формы</h1><div style="clear: right; float: right;">#std545</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>При разработке логики работы формы следует иметь в виду, что е<font face="Verdana" size="2">сли пользователь в режиме <strong>1С:Предприятия</strong> добавляет какие-либо элементы формы (<strong>Все действия -</strong> <strong>Изменить форму</strong>), то обращение к таким элементам из встроенного языка невозможно.</font></p>
<p>Например, если в элемент формы <strong>Группа</strong> вида <strong>Страницы</strong> пользователь добавил страницу, то при переходе на эту страницу, свойство группы <strong>ТекущаяСтраница</strong> станет равно <strong>Неопределено</strong>. Свойство формы <strong>ТекущийЭлемент</strong> также будет содержать значение <strong>Неопределено</strong> в том случае, когда активным элементом формы является элемент, добавленный пользователем.</p>
<p>Например, вместо непосредственного обращения к свойствам элементов группы со страницами:</p>
<p class="Programtext">ИмяТекущейСтраницы = Элементы.ГруппаСоСтраницами.ТекущаяСтраница.Имя;</p>
<p>следует предварительно выполнять проверку на <strong>Неопределено</strong>:</p>
<p class="Programtext">ТекущаяСтраница = Элементы.ГруппаСоСтраницами.ТекущаяСтраница;<br/>ИмяТекущейСтраницы = ?(ТекущаяСтраница &lt;&gt; Неопределено, ТекущаяСтраница.Имя, "");</p>
<h3>См. также</h3>
<ul>
<li><a href="#08_Обращение из кода к автоматически формируемым элементам управления формы.htm" target="_top">Обращение из кода к автоматически формируемым элементам управления формы</a></li></ul></td></tr></tbody></table></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100537.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Команды по модификации объектов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Команды по модификации объектов</h1><div style="clear: right; float: right;">#std537</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font size="2">Свойство <strong>Изменяет данные</strong> должно быть установлено в <strong>Истина</strong> для всех команд, которые изменяют или могут изменять данные объекта. </font></p>
<p><font size="2">Это правило должно соблюдаться и для тех команд, которые в некоторых сценариях работы могут и не изменить данные. Например, если на форме имеется команда по заполнению табличной части документа, которая перед выполнением задает пользователю вопрос вида: «Перед выполнением операции табличная часть будет очищена. Продолжить?», то в случае отказа пользователя, выполнение команды прерывается, и изменения табличной части не происходит. Тем не менее, если пользователь ответит утвердительно, то табличная часть будет изменена. Поэтому в целом для этой команды должен быть установлен признак <strong>Изменяет данные</strong>.<br/></font><font face="Verdana" size="2"></font></p>
<p>При несоблюдении этого правила:</p>
<ul>
<li>не будет выполняться установка свойства <strong>Только просмотр</strong> для данной команды при установке в <strong>Истина</strong> этого свойства для формы в целом. 

<li>при выполнении команды не произойдет попытки автоматической блокировки объекта для редактирования, что может привести к невозможности его последующего сохранения, в том случае, если в это же время другой пользователь изменит данный объект.</li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100636.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Контекстная и внеконтекстная передача управления на сервер.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Контекстная и внеконтекстная передача управления на сервер</h1><div style="clear: right; float: right;">#std636</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Платформа <strong>1С:Предприятие</strong> позволяет передавать управление из клиентского в серверный код модуля формы двумя способами: контекстно и внеконтекстно. </p>
<p>При внеконтекстной передаче управления на сервер передаются только те данные, которые явно специфицированы разработчиком в параметрах процедуры (функции) с директивой компиляции <strong>&amp;НаСервереБезКонтекста</strong>. </p>
<p>При контекстной передаче управления на сервер, помимо параметров процедуры (функции) с директивой компиляции <strong>&amp;НаСервере</strong>, передаются еще и данные формы, которые были изменены на клиенте за период с момента предыдущего контекстного серверного вызова (см. ниже приложение). При этом на сервере выполняется ряд дополнительных действий по инициализации методов формы и серверной копии данных формы, что может увеличивать общее время, которое сервер затрачивает на обработку вызванной процедуры (функции). </p>
<p><a id="2.1" name="2.1"></a>2.1. Контекстную передачу управления следует использовать в случаях когда:</p>
<ul>
<li>платформа <strong>1С:Предприятие</strong> самостоятельно оптимизирует объем передаваемых данных между клиентом и сервером (в обоих направлениях). Прежде всего, это реквизиты формы с табличными документами и коллекции элементов (<strong>ДанныеФормыКоллекция</strong>, <strong>ДанныеФормыСтруктураСКоллекцией</strong>, <strong>ДанныеФормыДерево</strong>). См. также: <a href="#12_Использование объекта ДанныеФормыКоллекция.htm" target="_top">Использование объекта <strong>ДанныеФормыКоллекция</strong></a>. 

<li>и при этом затраты ресурсов сервера на инициализацию контекста формы оправдываются существенным снижением трафика между клиентом и сервером и <a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">снижением числа вызовов сервера</a>.  </li></li></ul>
<p>При этом следует учитывать, что в некоторых клиентских обработчиках событий форм (ПередЗаписью, ПослеЗаписи, ПередЗакрытием, ПриЗакрытии и др.) не допускается вызов контекстных серверных процедур, а также выполнение действий, которые могут привести к неявному серверному вызову. Подробности см. в <a href="https://its.1c.ru/db/pubv8devui/content/282/hdoc" target="_top">документации платформы</a>.</p>
<p>Для устранения контекстного серверного вызова есть несколько способов:</p>
<p></p>
<ul>
<li>Сделать вызываемую серверную процедуру или функцию в обработчике неконтекстной, то есть использовать директиву компиляции <b>&amp;НаСервереБезКонтекста</b>. При этом следует передавать на сервер минимально необходимый объем данных, а не данные формы или табличной части целиком. 

<li>Перенести выполняемый в обработчике серверный код на клиент. 

<li>Внутри клиентского обработчика использовать обработчик ожидания, который выполнит контекстный серверный вызов или действие, приводящее к неявному серверному вызову после завершения выполнения обработчика. </li></li></li></ul>
<p></p></font><font face="Verdana" size="2">
<p>Неправильно:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура Подключаемый_ДоступныеПоляПриОкончанииРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования)<br/>  ПриИзмененииОбразцаНаСервере();<br/>КонецПроцедуры</p>
<p>Правильно:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура Подключаемый_ДоступныеПоляПриОкончанииРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования)<br/>  ПодключитьОбработчикОжидания("ПриИзмененииОбразца", 0.1, Истина);<br/>КонецПроцедуры<br/><br/>&amp;НаКлиенте<br/>Процедура ПриИзмененииОбразца()<br/>  ПриИзмененииОбразцаНаСервере();<br/>КонецПроцедуры<br/><br/>&amp;НаСервере<br/>Процедура ПриИзмененииОбразцаНаСервере()<br/>  ...<br/>КонецПроцедуры </p>
<p><a id="2.2" name="2.2"></a>2.2. В случае, если на форме размещена таблица, при активизации строки которой необходимо обновлять содержимое формы (например, выводить подробности к выделенной строке), то в обработчике таблицы <strong>ПриАктивизацииСтроки</strong> следует подключать однократный обработчик ожидания. В нем выполнять действия, которые приводят к перестроению формы: контекстные серверные вызовы, изменение свойств элементов формы и т.п. При этом чтобы избежать повторных вызовов <strong>ПриАктивизацииСтроки</strong>, необходимо запоминать текущую строку (<strong>ИдентификаторТекущейСтроки</strong>) и не выполнять обновление формы, если она не изменилась. </p>
<div>В остальных случаях рекомендуется использовать внеконтекстную передачу управления с клиента на сервер. </div>
<p><a id="3" name="3"></a>3. При передаче управления с клиента на сервер недопустимо использовать объекты типов <strong>ДанныеФормыСтруктура</strong>, <strong>ДанныеФормыКоллекция</strong>, <strong>ДанныеФормыСтруктураСКоллекцией</strong>, <strong>ДанныеФормыДерево</strong> и <strong>ТабличныйДокумент</strong> в качестве параметров функции, передаваемых по значению. При передаче таких типов по значению с клиента на сервер всегда передается полная копия объекта, а не только измененные данные. <br/>Вести работу с этими типами следует на сервере, для чего переходить с клиента на сервер с помощью явного контекстного вызова сервера.<br/>Например, неправильно: </p>
<p class="Programtext">// Модуль формы<br/><br/>&amp;НаКлиенте<br/>Процедура КоличествоОтмененныхСтрокЗаказа()<br/>  КоличествоСтрок = ОбщийМодульВызовСервера.КоличествоОтмененныхСтрок(Объект.Товары);   // Неоптимальная передача на сервер табличной части "Товары"<br/>КонецПроцедуры</p>
<p class="Programtext">// Общий серверный модуль ОбщийМодульВызовСервера<br/><br/>Функция КоличествоОтмененныхСтрок(ТабличнаяЧасть);<br/>  НайденныеСтроки = ТабличнаяЧасть.НайтиСтроки(Новый Структура("Отменено", Истина));<br/>  Возврат НайденныеСтроки.Количество();<br/>КонецФункции</p>
<p>Правильно:</p>
<p class="Programtext">// Модуль формы<br/><br/>&amp;НаКлиенте<br/>Процедура КоличествоОтмененныхСтрокЗаказа()<br/>  КоличествоСтрок = КоличествоОтмененныхСтрок(); // Передача табличной части "Товары" выполняется неявно платформой, оптимально<br/>КонецПроцедуры</p>
<p class="Programtext">&amp;НаСервере<br/>Процедура КоличествоОтмененныхСтрок()<br/>  Возврат ОбщийМодульВызовСервера.КоличествоОтмененныхСтрок(Объект.Товары); // вызов "сервер"-"сервер" без доп. накладных расходов<br/>КонецПроцедуры</p>
<p class="Programtext">// Общий серверный модуль ОбщийМодульВызовСервера<br/><br/>Функция КоличествоОтмененныхСтрок(ТабличнаяЧасть);<br/>  НайденныеСтроки = ТабличнаяЧасть.НайтиСтроки(Новый Структура("Отменено", Истина));<br/>  Возврат НайденныеСтроки.Количество()<br/>КонецФункции</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>Приложение</h3><font face="Verdana" size="2">
<p>При контекстной передаче управления на сервер в платформе <strong>1С:Предприятие</strong> действуют следующие правила передачи измененных данных формы между клиентом и сервером:</p>
<ul>
<li>значения реквизитов формы типа <strong>ДанныеФормыСтруктура</strong> передается целиком, в случае если изменился хотя бы один из его реквизитов;  

<li>для объектов, представленных типами <strong>ДанныеФормыКоллекция</strong> (<strong>ДанныеФормыСтруктураСКоллекцией</strong>, <strong>ДанныеФормыДерево</strong>) изменения учитываются с "точностью" до каждого элемента коллекции – передаются только измененные элементы. При этом измененные элементы коллекций передаются целиком. См. также: <a href="#12_Использование объекта ДанныеФормыКоллекция.htm" target="_top">Использование объекта <strong>ДанныеФормыКоллекция</strong></a>. 

<li>для объектов типа <strong>ТабличныйДокумент</strong> передаются только измененные области; 

<li>объекты типа <strong>ДинамическийСписок</strong> не передаются. </li></li></li></li></ul></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#03_Правила создания модулей форм.htm" target="_top">Правила создания модулей форм</a> </li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100628.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Использование объекта ДанныеФормыКоллекция.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование объекта ДанныеФормыКоллекция</h1><div style="clear: right; float: right;">#std628</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p><font face="Verdana" size="2">1. В целях оптимизации объема данных, передаваемых между клиентом и сервером, платформа <strong>1С:Предприятие</strong> по-особому организует передачу объектов формы типа <strong>ДанныеФормыКоллекция</strong>. Данные таких объектов передаются определенными порциями таким образом, что новые порции данных передаются с сервера на клиент только по мере обращения к этим данным на клиенте. Необходимо учитывать эту особенность при разработке форм, т.к. в противном случае, код формы может приводить к излишним неявным серверным вызовам, инициируемым платформой.</font></p>
<p><a id="2" name="2"></a>2. При работе с объектами типа <strong>ДанныеФормыКоллекция</strong>, если предполагается, что объект типа <strong>ДанныеФормыКоллекция</strong> может содержать большое количество строк (нужно ориентироваться на количество от 20 строк), необходимо придерживаться следующих рекомендаций:</p>
<ul>
<li>обход строк такой коллекции необходимо производить на сервере; 

<li>функцию <strong>НайтиСтроки</strong> вызывать только на сервере.</li></li></ul>
<p>Например, если решается задача по проверке в объекте строк, удовлетворяющих некоторому условию, то <br/>неправильно:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПроверитьНаличиеСтрокСНезаполненнымКоличеством()<br/> Если Объект.Товары.НайтиСтроки(Новый Структура("Количество", 0 )).Количество() &gt; 0 Тогда<br/>  Предупреждение(НСтр("ru = 'Есть строки с нулевым количеством'"));<br/> КонецЕсли;<br/>КонецПроцедуры</p>
<p>правильно выполнять один явный вызов сервера:</p>
<p class="Programtext">&amp;НаСервере<br/>Функция ЕстьСтрокиСНулевымКоличеством()<br/> Возврат Объект.Товары.НайтиСтроки(Новый Структура("Количество", 0 )).Количество() &gt; 0; <br/>КонецФункции</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПроверитьНаличиеСтрокСНезаполненнымКоличеством()<br/> Если ЕстьСтрокиСНулевымКоличеством() Тогда<br/>  Предупреждение(НСтр("ru = 'Есть строки с нулевым количеством'"));<br/> КонецЕсли;<br/>КонецПроцедуры<br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#04_Минимизация количества серверных вызовов и трафика.htm" target="_top">Минимизация количества серверных вызовов</a></li></ul>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100710.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Условное оформление в формах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Условное оформление в формах</h1><div style="clear: right; float: right;">#std710</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><em><font color="#008000">Рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. Для настройки некоторых свойств элементов управления можно использовать условное оформление. Однако у этого механизма также есть ряд ограничений. </p>
<p><a id="1.1" name="1.1"></a>1.1. Не следует использовать условное оформление для скрытия в таблице строк целиком. Это существенно замедляет работу в веб-клиенте, а также приводит к некорректному отображению содержимого таблицы.</p>1.2. Если задача может быть функционально решена как с помощью условного оформления динамического списка, так и с помощью условного оформления формы, то следует выбрать первый вариант (условное оформление динамического списка). Это также несколько ускорит открытие формы. 

<p><a id="2.1" name="2.1"></a>2.1. Настройку условного оформления форм и динамических списков рекомендуется делать в коде формы. Такой подход имеет ряд преимуществ перед заданием настроек условного оформления в свойствах формы:</p>
<ul>
<li>настройки однотипного условного оформления можно вынести в общие модули. Например, есть 80 форм, имеющих условное оформление: <br/>"если НЕ ХарактеристикиИспользуются, то в поле "Характеристика" вывести текст &lt;характеристики не используются&gt;", <br/>то можно вынести эту настройку в код процедуры общего модуля; 

<li>при объединении конфигураций есть возможность объединять условное оформление (особенно это актуально при <a href="#14_Технология разветвленной разработки конфигураций.htm" target="_top">разветвленной разработке конфигураций</a>); 

<li>при изменении в метаданных (например, переименовании значения перечисления) условное оформление может перестать работать. Если условное оформление настраивается в коде конфигурации, то при синтаксическом контроле модулей эта ошибка будет выявлена. Так ошибки в настройках условного оформления будут выявляться средствами автоматизированной проверки (например, АПК), т.к. будет диагностироваться ошибка при попытке получения формы.</li></li></li></ul>
<p><a id="2.2" name="2.2"></a>2.2. Все настройки условного оформления должны производиться при создании формы и потом не должны модифицироваться. Исключением могут являться случаи, когда элементы формы генерируются программно – условное оформление таких элементов нужно настраивать при генерации элементов и потом не нужно менять.</p>
<p><a id="2.3" name="2.3"></a>2.3. В коде процедуры установки условного оформления нужно минимизировать использование строковых констант, а использовать переменные, разыменования и т.д. – такой подход позволит минимизировать количество скрытых ошибок в настройках условного оформления, например:</p>
<p class="Programtext"><font face="Courier New">&amp;НаСервере<br/>Процедура УстановитьУсловноеОформление()<br/> <br/> УсловноеОформление.Элементы.Очистить();<br/> <br/> Элемент = УсловноеОформление.Элементы.Добавить();</font></p>
<p class="Programtext"><font face="Courier New"> ПолеЭлемента = Элемент.Поля.Элементы.Добавить();<br/> ПолеЭлемента.Поле = Новый ПолеКомпоновкиДанных(Элементы.ТоварыУпаковка.Имя);</font></p>
<p class="Programtext"><font face="Courier New"> ГруппаОтбора1 = Элемент.Отбор.Элементы.Добавить(Тип("ГруппаЭлементовОтбораКомпоновкиДанных"));<br/> ГруппаОтбора1.ТипГруппы = ТипГруппыЭлементовОтбораКомпоновкиДанных.ГруппаИли;</font></p>
<p class="Programtext"><font face="Courier New"> ОтборЭлемента = ГруппаОтбора1.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));<br/> ОтборЭлемента.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("АдресноеХранение");<br/> ОтборЭлемента.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;<br/> ОтборЭлемента.ПравоеЗначение = Ложь;</font></p>
<p class="Programtext"><font face="Courier New"> ОтборЭлемента = ГруппаОтбора1.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));<br/> ОтборЭлемента.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Объект.Товары.ТипНоменклатуры");<br/> ОтборЭлемента.ВидСравнения = ВидСравненияКомпоновкиДанных.НеРавно;<br/> ОтборЭлемента.ПравоеЗначение = Перечисления.ТипыНоменклатуры.Товар;</font></p>
<p class="Programtext"><font face="Courier New"> ОтборЭлемента = ГруппаОтбора1.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));<br/> ОтборЭлемента.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Объект.Статус");<br/> ОтборЭлемента.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;<br/> ОтборЭлемента.ПравоеЗначение = Перечисления.СтатусыПриходныхОрдеров.КПоступлению;</font></p>
<p class="Programtext"><font face="Courier New"> Элемент.Оформление.УстановитьЗначениеПараметра("ОтметкаНезаполненного", Ложь);</font></p>
<p class="Programtext"><font face="Courier New">КонецПроцедуры</font></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="#07_Поле _Дата_ в списках.htm" target="_top">Поле "Дата" в списках</a></div>
<li>
<div><a href="#03_Правила создания модулей форм.htm" target="_top">Правила создания модулей форм</a><br/></div></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100730.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Ограничение использования поля HTML документа.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение использования поля HTML документа</h1><div style="clear: right; float: right;">#std730</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Не следует использовать поля с HTML-документами (свойство <strong>ВидПоля</strong> установлено в <strong>ВидПоляФормы.ПолеHTMLДокумента</strong>) в случаях, когда возможно использование элементов управления платформы 1С:Предприятие. При разработке форм следует стремиться применять только штатные элементы управления, предусмотренные в платформе. </p>
<p>Например, неправильно, размещать на форме отдельные гиперссылки с помощью полей с HTML-документами. <br/>Правильно использовать для этих целей кнопки, надписи с гиперссылками или с форматированными строками.</p>
<p><a id="2" name="2"></a>2. Допустимый пример использования поля с HTML-документом: вывод в формах различных пользовательских инструкций, встроенной справки, путеводителей с оформлением и картинками, которые предназначены только для просмотра информации.</p>
<p>При этом должно быть самостоятельно обеспечено корректное отображения страниц во всех видах клиентских приложений и на всех веб-браузерах, которые поддерживаются платформой 1С:Предприятие.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также </h3>
<ul>
<li><a href="#15_Особенности разработки конфигураций для ОС Linux и macOS.htm" target="_top">Особенности разработки конфигураций для ОС Linux</a><br/></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100734.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Использование режима вертикальной прокрутки форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование режима вертикальной прокрутки форм</h1><div style="clear: right; float: right;">#std734</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Действует для конфигураций, разрабатываемых на платформе 1С:Предприятие 8.3 и выше.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Для конфигураций с режимом совместимости «Версия 8.3.3» и выше свойство «Вертикальная прокрутка» формы должно, как правило, иметь значение «Авто».</p>
<p><a id="2" name="2"></a>2. Исключением являются формы, имеющие поля для вывода HTML-документов, форматированных документов, текстовых документов, а также формы, кроме отчетов, имеющие поля для вывода табличных документов. Для таких форм свойство «Вертикальная прокрутка» формы должно быть установлено в значение «Использовать при необходимости».</p>
<p>Если форма была создана в режиме совместимости «Версия 8.3.2» или ниже – после включения режима совместимости «Версия 8.3.3» и выше свойство «Вертикальная прокрутка» автоматически устанавливается в значение «Использовать при необходимости». Правильное значение свойства для таких форм следует установить после смены режима совместимости.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="https://its.1c.ru/db/v83doc/bookmark/dev/TI000000415" target="_top">Документация по платформе 8.3. Руководство разработчика. 7.5.2. Форма</a><br/></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/700/i8100744.htm' target='_blank'>Ссылка на оригинал</a><div id='16_История выбора при вводе.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>История выбора при вводе</h1><div style="clear: right; float: right;">#std744</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font face="Calibri" size="3">1. Для свойства <strong>История выбора</strong>  большинства объектов метаданных должно быть установлено значение <strong>Авто</strong>.</font></p>
<p><font face="Calibri" size="3">2.1. Историю выбора в свойствах объекта метаданных рекомендуется отключать, если ее использование не соответствует прикладной логике конфигурации:</font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font face="Calibri"><font size="3">• для объектов, сценарий использования которых не предполагает повторный выбор из 5 ранее выбранных вариантов.  </font></font></p>
<p><font face="Calibri"><font size="3"><font color="#006699">Примеры:</font></font></font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font color="#006699" face="Calibri" size="3">Специфика использования большинства документов такова, что повторный их выбор маловероятен, например, выбор объекта расчетов в <strong>Поступлении безналичных денежных средств</strong>.</font></p></blockquote>
<p dir="ltr"><font face="Calibri" size="3">• для объектов, в модуле менеджера которых переопределена обработка получения данных выбора (есть обработчик <strong>ОбработкаПолученияДанныхВыбора</strong>), т.к. прописанные там условия не учитываются механизмом составления списка истории выбора. Поэтому, используя историю выбора в этом случае, пользователь может получить возможность выбрать значение, которое он не мог бы выбрать другими способами.</font></p></blockquote>
<p dir="ltr"><font face="Calibri" size="3">2.2. После отключения истории выбора в свойствах объекта метаданных необходимо, во всех ссылающихся на него полях ввода, установить для следующих свойств указанные ниже значения:</font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p dir="ltr"><font face="Calibri" size="3">• <strong>КнопкаВыпадающегоСписка</strong> – <strong>Нет</strong><br/>• <strong>КнопкаВыбора</strong> – <strong>Да</strong><br/>• <strong>ОтображениеКнопкиВыбора</strong> – <strong>В поле ввода</strong></font></p></blockquote>
<p dir="ltr"><font face="Calibri" size="3">Это необходимо сделать, чтобы пользователю перед началом выбора в поле ввода не отображалось меню, в котором нужно всегда нажимать «Показать все».<br/></font><br/><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:</font></font></span><span style="COLOR: #006699"><o:p><font face="Calibri" size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">
<script type="text/javascript">forceDocumentLayout(true)</script><table style="HEIGHT: 275px; WIDTH: 944px" width="944">
<tbody>
<tr>
<td><font color="#008000" size="3">Правильно</font></td>
<td><font color="#cc0000" size="3">Неправильно</font></td></tr>
<tr>
<td><img height="277" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/700/i8100744.files/прав4.jpg?_=00007212B78CB51A-v2" style="aspect-ratio:486/277" width="486"/><script type="text/javascript">forceDocumentLayout()</script></td>
<td><img height="243" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/700/i8100744.files/неправ3.jpg?_=00005E0C27D754C6-v2" style="aspect-ratio:496/243" width="496"/></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3"><strong></strong></font> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Исключения:</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font face="Calibri" size="3">Можно не изменять значения свойств полей ввода если:</font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p dir="ltr"><font face="Calibri" size="3">• для поля ввода установлен режим выбора из списка и заполнен (или в метаданных или программно) список выбора<br/>• поле ввода ссылается на объект метаданных с установленным свойством <strong>Быстрый выбор</strong></font></p></blockquote></blockquote>
<p class="tip">Для автоматического изменения свойств полей выбора можно воспользоваться приложенной <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/АвтоматическоеИзмененияСвойствПолей/АвтоматическоеИзмененияСвойствПолей.zip" rel="nofollow" target="_blank">обработкой</a>.</p><font face="Calibri" size="3"></font></body><hr>
<h1 id='08_Реализация форм списков'>Реализация форм списков</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100489.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Ограничения при использовании динамических списков.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения при использовании динамических списков</h1><div style="clear: right; float: right;">#std489</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p><font face="Verdana" size="2">1.1. При разработке интерфейса, разработчик может использовать группировки в динамических списках (cм. <a href="#09_Группировки в списках.htm" target="_top">Группировки в списках</a>).</font><font face="Verdana" size="2"><br/>Разработчик может:</font></p><font face="Verdana" size="2">
<ul>
<li>установить в настройках динамического списка группировки по умолчанию; 

<li>добавить на форму специальные элементы управления (команды меню, поля выбора для «быстрой» группировки и т.п.), которые предоставляют пользователю возможность устанавливать группировки. </li></li></ul>
<p>В данном стандарте перечислены условия, которые должен соблюсти разработчик, если он тем или иным способом управляет группировками динамических списков.</p>
<p><a id="1.2" name="1.2"></a>1.2. Пользователь, при помощи настройки списка может установить свои группировки – в этом случае прикладной разработчик не может (и не должен) гарантировать оптимальную производительность.</p>
<p><a id="1.3" name="1.3"></a>1.3. Использование группировок рекомендуется в тех динамических списках, в которых заведомо небольшое число записей (не более нескольких сотен). Небольшое число записей может обеспечиваться отбором, примененным в запросе динамического списка или отбором, применяемым к динамическому списку в форме и действие которого пользователь не может отменить.</p>
<p><a id="1.4" name="1.4"></a>1.4. В динамических списках, которые отображают таблицы с большим количеством записей, группировка может осуществляться только по проиндексированным полям.</p>
<p>Требование связано со следующими особенностями работы динамического списка. Для построения группировки, динамическому списку необходимо выбрать все уникальные из таблицы базы данных значения поля, по которому строится группировка. Затем производится сортировка и вывод пользователю. Когда пользователь раскрывает значение группировки, динамический список выбирает все записи таблицы с заданным значением в поле.</p>
<p><a id="1.5" name="1.5"></a>1.5. Допускается делать многоуровневые группировки в динамических списках только при соблюдении следующих условий:</p>
<ul>
<li>поле, по которому осуществляется первая группировка, должно быть проиндексировано; 

<li>поле, по которому осуществляется первая группировка, должно обладать хорошей селективностью (т.е. для каждому значению этого поля должно соответствовать небольшое количество записей в таблице базы данных);</li></li></ul>
<p>Эти требования связаны с тем, что раскрытие пользователем последующих (после первой) группировок динамический список будет отрабатывать уже без использования индексов, по всем элементам, отобранным по первой группировке.</p>
<p><a id="1.6" name="1.6"></a>1.6. Не рекомендуется делать группировки по полям, которые являются характеристиками объекта метаданных. Это ограничение связано с тем, что при выводе характеристик делается ЛЕВОЕ СОЕДИНЕНИЕ с таблицей характеристик, поэтому запрос с отбором по одной характеристике будет не эффективным даже при наличии индекса (в любом случае будет сканирование по главной таблице).</p>
<p><a id="2" name="2"></a>2. Для иерархических списков не рекомендуется устанавливать свойство <strong>НачальноеОтображениеДерева</strong> в значение <strong>РаскрыватьВсеУровни</strong>, так как это приведет к критичному снижению скорости открытия больших списков. Следует  использовать значения <strong>НеРаскрывать</strong> или <strong>РаскрыватьВерхнийУровень</strong>.</p></font>
<p>Дополнительную информацию об особенностях динамических списков можно получить в документации по платформе (см. <a href="https://its.1c.ru/db/v8doc/content/61/hdoc/IssOgl2_7.1.3. Динамический список" target="_top">Динамический список</a>)</p>
<p><font size="2">3. <span style='FONT-SIZE: 10pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: black; mso-fareast-font-family: "Times New Roman"; mso-fareast-language: RU'><a href="http://v8.1c.ru/o7/201401ls/index.htm" target="_blank">Строку поиска в командной панели динамического списка</a> допустимо отключать в тех случаях, когда с его помощью не выполняются основные сценарии поиска. Например, в списке номенклатуры важен поиск по части артикула, что не поддерживается механизмом поиска.<o:p></o:p></span></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt; LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style='FONT-SIZE: 10pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: black; mso-fareast-font-family: "Times New Roman"; mso-fareast-language: RU'>Это ограничение обусловлено тем, что почти всегда поиск (когда он использует технологию полнотекстового поиска) работает только с начала слов. При этом в версиях платформы 1С:Предприятие 8.3.7 и ранее у данного механизма имеется еще более ограничений (в частности, в поисковую выдачу не попадали элементы, которые еще не были проиндексированы и т.п.).<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt; LINE-HEIGHT: normal; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style='FONT-SIZE: 10pt; FONT-FAMILY: "Verdana","sans-serif"; COLOR: black; mso-fareast-font-family: "Times New Roman"; mso-fareast-language: RU'>Для отключения строки поиска в командной панели необходимо свойства <b style="mso-bidi-font-weight: normal">ПоложениеСтрокиПоиска</b> и <b style="mso-bidi-font-weight: normal">ПоложениеУправленияПоиском</b> динамических списков установить в значение <b style="mso-bidi-font-weight: normal">Нет</b> (для форм, созданных в предыдущих версиях платформы, значение <b style="mso-bidi-font-weight: normal">Нет </b>уже<b style="mso-bidi-font-weight: normal"> </b>установлено по умолчанию).<o:p></o:p></span></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также:</em> <a href="#06_Запросы в динамических списках.htm" target="_top">Запросы в динамических списках</a></p></blockquote></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100495.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Особенности реализации команд для форм списков.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Особенности реализации команд для форм списков</h1><div style="clear: right; float: right;">#std495</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p>При разработке команд непосредственно в формах динамических списков, логика команды должна учитывать возможность того, что пользователь может сгруппировать динамический список по одной из колонок. Если логика команды не предусматривает обработку выделенных строк группировки, то их необходимо пропускать. При этом рекомендуется выдавать сообщение, если в списке выделена только одна строка группировки:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура КомандаВФорме(Команда)<br/> МассивОбъектов = Элементы.Список.ВыделенныеСтроки;<br/> Если МассивОбъектов.Количество() = 1 <br/>  И ТипЗнч(МассивОбъектов [0]) &lt;&gt; &lt;ОжидаемыйТип&gt;  Тогда<br/>  Предупреждение(НСтр("ru = 'Команда не может быть выполнена для указанного объекта.'"));<br/>  Возврат;<br/> КонецЕсли;<br/>  Для Каждого ОбъектИзСписка Из МассивОбъектов Цикл<br/>    Если ТипЗнч(ОбъектИзСписка) &lt;&gt; &lt;ОжидаемыйТип&gt; Тогда<br/>      Продолжить;<br/>    КонецЕсли;</p>
<p class="Programtext">    // Обработка объекта строки.<br/>    // ...<br/>  КонецЦикла; <br/>КонецПроцедуры<br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li>
<div><a href="#04_Обновление списков при интерактивных действиях пользователя.htm" target="_top">Обновление списков при интерактивных действиях пользователя</a></div></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100397.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Организация работы со списками данных с помощью общих команд.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Организация работы со списками данных с помощью общих команд</h1><div style="clear: right; float: right;">#std397</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. В некоторых случаях возникает необходимость в разработке специализированных форм списков, которые должны использоваться в том или ином сценарии работы пользователя и команды которых должны быть расположены в разных разделах командного интерфейса (разных "рабочих местах" пользователей). </p>
<p><a id="2" name="2"></a>2. Для того чтобы обеспечить отсутствие дублирования кода форм списков, облегчить их поддержку и, вместе с тем, обеспечить их использование в разных разделах командного интерфейса программы, рекомендуется следующее решение:</p>
<ul>
<li>
<div>Разработать параметризуемую форму списка объекта, которая при создании формы на сервере на основании переданных параметров обеспечит разные прикладные свойства: тот или иной состав колонок, те или иные отборы и порядок элементов, а также параметризуемый заголовок формы. </div>
<li>
<div>Назначить эту форму основной формой списка объекта. Открытие формы без параметра при этом должно выглядеть для пользователя как открытие основной формы списка.</div>
<li>
<div>Создать соответствующее число общих команд, которые открывают такую форму с тем или иным параметром. При этом заголовок открываемой формы должен соотвествовать названию команды.</div>
<li>
<div>Разместить общие команды в командном интерфейсе программы (отнести к той или иной подсистеме, разместить в тех или иных формах и т.п.) </div>
<li>
<div>Обеспечить раздельное сохранение тех настроек формы, которые специфичны для каждого рабочего места (например, значения полей с отборами). См. свойство формы <strong>КлючНазначенияИспользования</strong>.</div></li></li></li></li></li></ul>
<p>Пример подобной параметризированной формы списка можно найти в Библиотеке стандартных подсистем в форме <strong>Задача.ЗадачаИсполнителя.ФормаСписка</strong>.</p>
<p><a id="3" name="3"></a>3. Если по каким-то причинам разработка всей функциональности в рамках одной формы не оправдана, то допустимо следующее решение: </p>
<ul>
<li>разработать отдельные общие формы конфигурации, предназначенные для работы со списком объектов; 

<li>разработать соответствующее число общих команд, которые открывают ту или иную форму; 

<li>и разместить их в командном интерфейсе. </li></li></li></ul>
<p><a id="4" name="4"></a>4. Также возможно комбинирование двух подходов, когда некоторые специализированные формы списков одного и того же объекта получаются параметризацией форм, а некоторые - реализацией отдельных форм. При этом предпочтительным решением остается вариант создания одной параметизуемой формы.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100558.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Обновление списков при интерактивных действиях пользователя.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обновление списков при интерактивных действиях пользователя</h1><div style="clear: right; float: right;">#std558</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Платформа <strong>1С:Предприятие</strong> по умолчанию обновляет содержимое динамических списков при выполнении пользователем стандартных команд по изменению элементов этого списка (<strong>Записать</strong>, <strong>Провести</strong>, <strong>Пометить на удаление</strong> и т.п.) и при добавлении новых элементов. Но в ряде ниже перечисленных случаев такое обновление следует предусмотреть явно в прикладном коде.</p>
<p><a id="2" name="2"></a>2. Команды, которые изменяют объекты и размещаются в форме списка, должны заботиться об обновлении списка объектов после своего выполнения. Например, после изменения одного объекта рекомендуется вызывать метод <strong>ОповеститьОбИзменении</strong>:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">ОбъектСсылка = ПараметрКоманды;<br/> // Меняем объект<br/> // ...<br/>ОповеститьОбИзменении(ОбъектСсылка);</p></blockquote>
<p class="Programtext">КонецПроцедуры</p>
<p>При изменении нескольких объектов целесообразно обновлять список однократно, в конце операции:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">Для Каждого ОбъектСсылка Из ПараметрКоманды Цикл<br/>  // Меняем объект<br/>  // ...<br/>КонецЦикла; </p>
<p class="Programtext">ОповеститьОбИзменении(ТипЗнч(ПараметрКоманды[0]));</p></blockquote>
<p class="Programtext">КонецПроцедуры</p>
<p><a id="3" name="3"></a>3. Также должно быть обеспечено обновление данных в динамическом списке, у которого не назначена основная таблица. Такие динамические списки могут отображать данные из нескольких таблиц.</p>
<p><a id="3.1" name="3.1"></a>3.1. Если данные добавляются или изменяются командой, расположенной в форме динамического списка, то необходимо обновить список явно после выполнения команды.</p>
<p><a id="3.2" name="3.2"></a>3.2. Если данные изменяются в какой-либо другой форме (например, в форме объекта), то необходимо организовать обновление списка через оповещение. Для этого в каждой форме объекта, данные которого выводятся в динамическом списке, следует реализовать обработчик события <strong>ПослеЗаписи</strong> с использованием метода <strong>Оповестить</strong>:</p>
<p class="Programtext">Оповестить ("Запись_&lt;ИмяОбъекта&gt;", ПараметрыОповещения, ОбъектСсылка);</p>
<p>где </p>
<ul>
<li><strong>Запись_&lt;ИмяОбъекта&gt;</strong> - имя события, в котором &lt;ИмяОбъекта&gt; - имя объекта, как оно задано в метаданных. Например, для документа <strong>"Расходная накладная"</strong> имя события будет <strong>"Запись_РасходнаяНакладная"</strong>. 

<li><strong>ПараметрыОповещения</strong> – как правило, это параметр события <strong>ПослеЗаписи</strong> формы объекта. Состав свойств структуры может быть расширен исходя из потребностей прикладной логики. 

<li><strong>ОбъектСсылка</strong> – ссылка на записываемый объект.</li></li></li></ul>
<p>Пример:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ПослеЗаписи(ПараметрыЗаписи)<br/>  Оповестить("Запись_РасходнаяНакладная", ПараметрыЗаписи, Объект.Ссылка);<br/>КонецПроцедуры</p>
<p>Затем в обработчике события <strong>Оповещение</strong> в форме динамического списка разместить код по обновлению динамического списка вида:</p>
<p class="Programtext">&amp;НаКлиенте<br/>Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)</p>
<p class="Programtext"> Если Врег(ИмяСобытия) = Врег("Запись_РасходнаяНакладная") <br/>   Или Врег(ИмяСобытия) = Врег("Запись_НакладнаяНаПеремещение") Тогда<br/>   Элементы.СписокНакладных.Обновить();<br/> КонецЕсли;</p>
<p class="Programtext">КонецПроцедуры<br/></p></font>
<p>При этом имена событий следует проверять явным образом, чтобы исключить неоправданное обновление списка.</p>
<p><a id="3.3" name="3.3"></a>3.3. При изменении сразу нескольких объектов в параметре <b>ОбъектСсылка</b> метода <b style="mso-bidi-font-weight: normal">Оповестить</b> следует передавать значение <b>Неопределено</b>.</p>
<p>Пример:</p>
<p class="Programtext">Оповестить("Запись_РасходнаяНакладная", ПараметрыЗаписи, Неопределено);</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#02_Особенности реализации команд для форм списков.htm" target="_top">Особенности реализации команд для форм списков<br/></a></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100702.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Реквизит Ссылка в динамических списках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Реквизит Ссылка и признак "Использовать всегда" в динамических списках объектов</h1><div style="clear: right; float: right;">#std702</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Рекомендация (полезный совет)</font></em></p>
<p><a id="1" name="1"></a>1. С помощью команды <strong>Еще</strong> - <strong>Изменить форму</strong> пользователь может добавить отображение любых реквизитов объектов в динамическом списке. Для того чтобы пользователь смог воспользоваться этой возможностью, в динамических списках объектов ссылочных типов (справочников, документов и т.п.) рекомендуется добавлять в список поле <strong>Ссылка</strong>, у которого отключать пользовательскую видимость.</p>
<p>Кроме того, при использовании в объектах различных механизмов платформы 1С:Предприятие и <strong>Библиотеки стандартных подсистем</strong> наличие реквизита <strong>Ссылка</strong> в динамических списках может быть критичным для работоспособности этих механизмов. Например:</p>
<ul>
<li>при использовании механизма характеристик платформы 1С:Предприятие (или подсистемы "Свойства" <strong>Библиотеки стандартных подсистем</strong>) в динамические списки рекомендуется всегда выводить реквизит <strong>Ссылка</strong>, т.к. характеристики (дополнительные реквизиты и сведения) можно вывести в колонки списка только используя настройку в пользовательском режиме; 

<li>при разработке команд печати (подсистема "Печать" <strong>Библиотеки стандартных подсистем</strong>) реквизит <strong>Ссылка</strong> с признаком <strong>"Использовать всегда"</strong> становится обязательным для корректной работы этих команд.</li></li></ul>
<p><a id="2.1" name="2.1"></a>2.1. При обращении к данным строки динамического списка в коде (например, в обработчике <strong>ПриАктивацииСтроки</strong>, <strong>ПриПолученииДанныхНаСервере</strong> и др.) необходимо учитывать, что в целях оптимизации данные невидимых колонок не получаются. При этом видимостью может управлять, в том числе, пользователь.</p>
<p><a id="2.2" name="2.2"></a>2.2. Для колонок, у которых в свойствах таблицы формы, отображающей динамический список установлен признак "Использовать всегда" данные получаются всегда, вне зависимости от видимости.<br/>Не рекомендуется устанавливать признак "Использовать всегда" для колонки реквизита динамического списка, кроме тех случаев, когда значение колонки обязательно для выполнения алгоритма. Например, колонка <strong>Ссылка</strong> всегда требуется для команды "Печать",  но эта колонка может быть скрыта пользователем.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100732.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Запросы в динамических списках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Запросы в динамических списках</h1><div style="clear: right; float: right;">#std732</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p align="right"><em><font color="#008000">Методическая рекомендация (полезный совет)</font></em></p><font face="Verdana" size="2">
<p>При проектировании динамических списков в формах следует учитывать, что динамические списки предъявляют более высокие требования к скорости выполнения запросов, чем в других случаях (например, в отчетах, в процедурах обработки данных и пр.). Данные в динамических списках непосредственно отображаются пользователю, поэтому скорость вывода и обновления данных является критичной. В данной статье перечислены рекомендации, дополняющие общие сведения по оптимизации запросов (см. группу статей «Оптимизация запросов»).</p>
<p><a id="1" name="1"></a>1. Нужно стараться делать простые запросы для динамических списков. Для этого в первую очередь нужно оптимизировать архитектуру хранения данных, чтобы их было просто отображать в динамических списках.</p></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>Пример</h3><font face="Verdana" size="2">
<p>В динамическом списке документов-распоряжений на отгрузку нужно вывести состояние отгрузки. Состояние зависит от остатков регистра накопления, и статусов двух документов другого типа.</p></font>
<h3>НЕПРАВИЛЬНО</h3><font face="Verdana" size="2">
<p>Пытаться разработать запрос для динамического списка, который будет учитывать всю сложную логику расчета состояния отгрузки.</p></font>
<h3>ПРАВИЛЬНО</h3><font face="Verdana" size="2">
<p>Сделать регистр сведений «Состояния отгрузки», в котором хранить уже рассчитанное состояние отгрузки. При этом расчет можно делать или в процессе проведения документов, которые могут влиять на состояние отгрузки, или отдельным регламентным заданием.</p>
<p><a id="2" name="2"></a>2. Необходимо выбрать один из трех режимов работы динамического списка:</p>
<ul>
<li><em>Динамическое считывание данных включено (рекомендуется).</em> Используются запросы, выбирающие записи в количестве приблизительно соответствующем количеству видимых строк в таблице; 

<li><em>Динамическое считывание данных выключено, задана не виртуальная основная таблица или одна из следующих таблиц: СрезПервых, СрезПоследних, ЗадачиПоИсполнителю, КритерииОтбора, ДвижениеСубконто.</em> Используются запросы, выбирающие по 1000 записей в буфер на сервере, по мере необходимости данные передаются на клиент.  Менее эффективно, чем динамическое считывание; 

<li><em>Динамическое считывание данных выключено, основная таблица не задана.</em> Запрос выполняется «как есть». В буфере накапливаются данные, начиная с 1000 записей. Чем ближе к концу списка, тем больше записей.  Можно использовать только для заведомо маленьких выборок.</li></li></li></ul>
<p><a id="3" name="3"></a>3. При разработке динамического списка следует учитывать что запрос, который фактически будет сформирован к СУБД, зависит от предопределенных настроек отборов, порядка и группировки СКД. В частности это означает, что необходимо рассмотреть индексирование полей:</p>
<ul>
<li>По которым выполняется соединение в запросе; 

<li>На которые наложены условия в запросе; 

<li>Выведенных в качестве быстрых отборов; 

<li>По которым выполняется упорядочивание или предусмотрена группировка; 

<li>По которым ожидается,  что пользователь будет часто упорядочивать (группировать).</li></li></li></li></li></ul>
<p>При этом не следует индексировать все поля подряд «на всякий случай», так как избыточные индексы создают неоправданную нагрузку при записи данных.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также:</em> <a href="#02_Несоответствие индексов и условий запроса.htm" target="_top">Несоответствие индексов и условий запроса</a>, <a href="#01_Ограничения при использовании динамических списков.htm" target="_top">Ограничения при использовании динамических списков</a></p></blockquote>
<p><a id="4" name="4"></a>4. Настоятельно не рекомендуется использовать конструкции, «утяжеляющие» запрос:</p>
<ul>
<li>конструкции РАЗЛИЧНЫЕ и СГРУППИРОВАТЬ ПО; 

<li>конструкции ВЫБОР в предложении ГДЕ или в условиях соединения; 

<li>упорядочивание по полю, полученному при помощи конструкции ВЫБОР, в том числе и пользовательское.</li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также: </em><a href="#01_Общие требования по разработке оптимальных запросов.htm" target="_top">Общие требования по разработке оптимальных запросов</a></p></blockquote>
<p>5.1 Соединяться в запросе следует только с небольшим количеством реальных таблиц (в оптимальном варианте в динамическом списке – только одна таблица, и она назначена основной).</p>
<p>Не рекомендуется выполнять соединения:</p>
<ul>
<li>с большим количеством реальных таблиц. Ориентироваться стоит на количество не более 4 таблиц; 

<li>с вложенными запросами; 

<li>с виртуальными таблицами.  </li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См. также</em>: <a href="#04_Ограничения на соединения с вложенными запросами и виртуальными таблицами.htm" target="_top">Запросы, выполняющие соединение с вложенными запросами или виртуальными таблицами</a></p></blockquote>
<p><a id="5.2" name="5.2"></a>5.2. Соединение с виртуальными таблицами допустимо в отдельных случаях, если запрос и архитектура данных удовлетворяют ряду условий:</p>
<ul>
<li>допустимо соединение с виртуальными таблицами СрезПоследних (СрезПервых), если регистр сведений содержит<br/>заведомо небольшое количество записей. Например, получение текущего курса валют по данным регистра сведений КурсыВалют; 

<li>при обращении к виртуальной таблице будут использованы хранимые итоги регистра сведений (см. <a href="#08_Разрешение итогов для периодических регистров сведений.htm" target="_top">Разрешение итогов для периодических регистров сведений</a>); 

<li>запрос к виртуальной таблице <strong>Остатки</strong> будет преобразован платформой в простое чтение хранимой таблицы итогов без группировок (см. <a href="#09_Эффективное обращение к виртуальной таблице «Остатки».htm" target="_top">Эффективное обращение к виртуальной таблице «Остатки»</a>).</li></li></li></ul>
<p><a id="5.3" name="5.3"></a>5.3. Временные таблицы в динамических списках следует использовать с учетом требований описанных ниже и в стандарте про <a href="#10_Использование временных таблиц.htm" target="_top">использование временных таблиц</a>.</p>
<p><a id="5.3.1" name="5.3.1"></a>5.3.1. Временные таблицы в динамических списках рекомендуется использовать только тогда, когда они содержат заведомо небольшое количество записей. Иначе их использование неэффективно, т.к. значения временных таблиц в динамическом списке НЕ кешируются, а формируется при каждом считывании данных для заполнения списка.</p>
<p><a id="5.3.2" name="5.3.2"></a>5.3.2. В частности, если не удается переделать запрос динамического списка, используя виртуальные таблицы с ограничениями (см. п. 5.2), или вообще отказавшись от их использования, то вместо соединения с ними следует использовать соединения с временными таблицами.</p>
<p><a id="5.3.3" name="5.3.3"></a>5.3.3. Если последний запрос динамического списка выбирает данные только из ранее созданной временной таблицы, то это уже не динамический список и следует перепроектировать его запрос и, скорее всего, метаданные, используемые запросом.</p>
<p><a id="5.4" name="5.4"></a>5.4. При учете количества таблиц, участвующих в запросе, необходимо помнить, что  обращение к полям «через точку» приводит к неявному соединению с дополнительными таблицами. Подробнее см.: <a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top">Разыменование ссылочных полей составного типа в языке запросов</a></p>
<p><a id="5.5" name="5.5"></a>5.5. При работе со списком под неполными правами, в которых настроены ограничения доступа к данным (RLS)  к таблицам, участвующим в запросе*, также автоматически присоединяются условия ограничения доступа к данным, которые замедляют работу списка. Именно в этом режиме работы следует проверять скорость работы динамических списков.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>* <em>примечание: к тем таблицам, к которым предусмотрен RLS в конфигурации.</em></p></blockquote>
<p><a id="6" name="6"></a>6. Предусмотреть оптимизацию при работе с полями составного типа</p>
<ul>
<li>При использовании в соединениях, отборах, упорядочивании и других конструкциях составного поля, необходимо чтобы состав типов данного поля определялся только ссылочными типами. Подробнее см.: <a href="#07_Ограничения на использование реквизитов составного типа.htm" target="_top">Ограничения на использование реквизитов составного типа</a>; 

<li>Если известно заранее, какого типа должно быть получено поле составного типа, то его необходимо выражать. </li></li></ul>
<p>Например:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">ВЫРАЗИТЬ(ДанныеДокумента.ДокументОснование КАК Документ.АктВыполненныхРабот)</p>
<p><em>См.</em> <em>также:</em> <a href="#03_Разыменование ссылочных полей составного типа в языке запросов.htm" target="_top">Разыменование ссылочных полей составного типа в языке запросов</a></p></blockquote>
<p><a id="7" name="7"></a>7. Запрос динамического списка рекомендуется менять «на лету» на более оптимальный, если это возможно.</p>
<p>Например, если изменение настройки позволяет переписать запрос динамического списка так, что он будет обращаться к другим метаданным, что позволит выполняться ему быстрее.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>См.</em> <em>также:</em> <a href="#08_Программное переопределение текстов запросов динамических списков.htm" target="_top">Программное переопределение текстов запросов динамических списков</a></p></blockquote>
<blockquote></blockquote>
<p><a id="8" name="8"></a>8. Если применение вышеизложенных рекомендаций не возможно, либо оно не дает должного эффекта, то можно рассмотреть следующие пути оптимизации:</p>
<p><a id="8.1" name="8.1"></a>8.1. Отказаться от части возможностей динамического списка.</p>
<p>Например:</p>
<ul>
<li>От вывода не столь значимой информации, получение которой приводит к усложнению запроса; 

<li>От реализованных сервисных возможностей по группировке списка.</li></li></ul>
<p><a id="8.2" name="8.2"></a>8.2. Осуществлять вывод данных не в динамический список, а в таблицу или дерево значений.</p>
<p>При этом появятся возможности оптимизации недоступные для динамических списков, такие как использование привилегированного режима и т.п.. </p>
<p>Данный способ применим, если выполняется одно из условий:</p>
<ul>
<li>Исходных данных заведомо мало (десятки-сотни записей). 

<li>Обязательные отборы, накладываемые на список, гарантируют, что данных в один момент времени записей выводится мало. 

<li>Порционность вывода данных организована другими средствами (вручную), например, как в результатах полнотекстового поиска.</li></li></li></ul>
<p><a id="9" name="9"></a>9. В случаях, когда в динамическом списке требуется отображение вспомогательных колонок, по которым не требуется отбирать (в том числе через механизмы поиска), сортировать и группировать, и затруднительно, неэффективно или невозможно выполнить получение данных с помощью основного запроса, рекомендуется воспользоваться обработчиком <strong>ПриПолученииДанныхНаСервере</strong> таблицы управляемой формы. Например, колонки <strong>Курс на сегодня</strong>, <strong>Кратность</strong> в списке валют и т.п.</p>
<p>Для эффективной работы обработчика <strong>ПриПолученииДанныхНаСервере</strong> следует выбирать всю вспомогательную информацию одним запросом сразу для всех отображаемых строк, которые передаются в этот обработчик после выполнения основного запроса динамического списка.</p>
<p>Кроме того, для корректной работы динамического списка требуется явно ограничить выполнение отбора, сортировки и группировки по вспомогательным колонкам с помощью методов динамического списка <strong>УстановитьОграниченияИспользованияВГруппировке</strong>, <strong>УстановитьОграниченияИспользованияВПорядке</strong> и <strong>УстановитьОграниченияИспользованияВОтборе</strong>.<br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100745.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Поле _Дата_ в списках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Поле "Дата" в списках<font face="Verdana" size="2"></font></h1><div style="clear: right; float: right;">#std745</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение, мобильное приложение.</em></p></blockquote>
<p><font face="Calibri" size="3">Сокращенное представление поля <strong>Дата</strong> в списках, содержащих реквизит с составом даты <strong>Дата и время</strong>.</font></p>
<p><font face="Calibri" size="3">В целях оптимизации места на форме, рекомендуется изменить представление поля <strong>Дата</strong> в списках:</font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font face="Calibri" size="3">1. Установить ширину поля <strong>Дата</strong> без времени: <strong>9 пунктов</strong><br/>2. Отображать дату документов в виде даты без времени: <strong>01.01.2015</strong><br/>3. Для систем оперативного учета, рекомендуется дату сегодняшних документов отображать в виде времени: <strong>09:46</strong></font></p>
<p><span style="COLOR: #006699"><font size="3"><font face="Calibri">Например:</font></font></span></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table style="HEIGHT: 257px; WIDTH: 682px" width="682">
<tbody>
<tr>
<td><font color="#008000" face="Calibri" size="3">Рекомендуется</font></td>
<td><font color="#cc0000" face="Calibri" size="3">Не рекомендуется</font></td></tr>
<tr>
<td><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"> <img height="234" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/800/i8100745.files/сокращенная дата 3.jpg?_=000047C34EB4D439-v2" style="aspect-ratio:322/234" width="322"/><script type="text/javascript">forceDocumentLayout()</script><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype></span></td>
<td><img height="234" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/800/i8100745.files/полное представление даты 2.jpg?_=00005F001EF70284-v2" style="aspect-ratio:353/234" width="353"/></td></tr></tbody></table></p></blockquote>
<p><font face="Calibri" size="3"><span style="COLOR: #006699"><font size="3"><font face="Calibri">Пример кода:</font></font></span></font></p><font face="Calibri"><span style="COLOR: #006699">
<p class="Programtext"></p></span></font><font face="Courier New">&amp;НаСервере<br/>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br/></font><font face="Courier New"> СтандартныеПодсистемыСервер.УстановитьУсловноеОформлениеПоляДата(ЭтотОбъект, "Список.Дата", Элементы.Дата.Имя);</font><font face="Courier New"><br/>КонецПроцедуры<font size="3"><font face="Calibri"><strong></strong></font></font></font>
<p class="Programtext"><font face="Courier New"><font size="3"><font face="Calibri"><font color="#000000"></font></font></font></font> </p>
<p class="tip">Для автоматического изменения свойств полей выбора можно воспользоваться приложенной <a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/ИзменитьПредставлениеПоляДатаВСписках/ИзменитьПредставлениеПоляДатаВСписках.zip" rel="nofollow" target="_blank">обработкой</a>.</p>
<h3>См. также</h3>
<ul>
<li><a href="#05_Форматирование даты, числа, Булево_ требования по локализации.htm" target="_top">Даты: требования по локализации</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/800/i8100768.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Программное переопределение текстов запросов динамических списков.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h2 id="chapter1">Программное переопределение текстов запросов динамических списков</h2>
<p>1. Если текст запроса динамического списка переопределяется в коде, то рекомендуется придерживаться правил, описанных ниже. Это нужно для того, чтобы:</p>
<ul>
<li>разработчики, глядя на запрос в динамическом списке, могли однозначно понять, что он переопределяется в коде конфигурации; 

<li>не снижать производительность при открытии формы, установке текста запроса, основной таблицы и признака динамического считывания данных.</li></li></ul>
<p>1.1. В редакторе запроса динамического списка следует устанавливать полноценный наиболее часто выполняемый текст запроса (запрос по умолчанию), чтобы при открытии формы, в большинстве случаев, не происходила программная установка текста запроса, снижающая производительность. Исключением является случай, когда текст запроса собирается программно.</p>
<p>ПРАВИЛЬНО:</p>
<p>Полноценный запрос:</p>
<p class="Programtext">ВЫБРАТЬ<br/>    НоменклатураПереопределяемый.Ссылка КАК Ссылка<br/>ИЗ<br/>    Справочник.Номенклатура КАК НоменклатураПереопределяемый</p>
<p>НЕПРАВИЛЬНО:</p>
<p>Запрос, требующий обязательной замены в коде конфигурации, т.к. не содержит секции ИЗ:</p>
<p class="Programtext">ВЫБРАТЬ<br/>    ЗНАЧЕНИЕ(Справочник.Номенклатура.ПустаяСсылка) КАК Ссылка</p>
<p>1.2. Псевдонимы таблиц должны заканчиваться постфиксом «Переопределяемый», чтобы визуально было заметно, что этот запрос может переопределяться в коде конфигурации.</p>
<p>ПРАВИЛЬНО:</p>
<p class="Programtext">ВЫБРАТЬ<br/>    Номенклатура<strong>Переопределяемый</strong>.Ссылка КАК Ссылка<br/>ИЗ<br/>    Справочник.Номенклатура КАК Номенклатура<strong>Переопределяемый</strong></p>
<p>НЕПРАВИЛЬНО:</p>
<p class="Programtext">ВЫБРАТЬ<br/>    Номенклатура.Ссылка КАК Ссылка<br/>ИЗ<br/>    Справочник.Номенклатура КАК Номенклатура</p>
<p>1.3. Установка текста запроса и основной таблицы при первичной инициализации динамического списка (в ПриСозданииНаСервере) должна выполняться до любого обращения к настройкам этого списка (в т.ч. параметрам), чтобы не снижалась производительность. В остальных случаях, если требуется изменить текст запроса и основную таблицу, между этими действиями не следует обращаться к настройкам (можно до них или после). При наличии БСП, следует использовать процедуру ОбщегоНазначения.УстановитьСвойстваДинамическогоСписка(). Это необходимо для повышения производительности и возможности автоматического сбора переопределяемых текстов запросов динамических списков.</p>
<p>ПРАВИЛЬНО:</p>
<p class="Programtext">СвойстваСписка = ОбщегоНазначения.СтруктураСвойствДинамическогоСписка();<br/>СвойстваСписка.ОсновнаяТаблица = "Справочник.Номенклатура";<br/>СвойстваСписка.ДинамическоеСчитываниеДанных = Истина;<br/>СвойстваСписка.ТекстЗапроса = ТекстЗапроса;<br/>ОбщегоНазначения.УстановитьСвойстваДинамическогоСписка(Элементы.Список,<br/>СвойстваСписка);<br/>Список.Параметры.УстановитьЗначениеПараметра("Параметр1", 42);</p>
<p>НЕПРАВИЛЬНО:</p>
<p class="Programtext">Список.ТекстЗапроса = ТекстЗапроса;<br/>Список.Параметры.УстановитьЗначениеПараметра("Параметр1", 42);<br/>Список.ОсновнаяТаблица = ОсновнаяТаблица;</p>
<p>В этом случае снижается производительность из-за того, что при изменении текста запроса или основной таблицы сбрасывается источник доступных настроек и при обращении к Список.Параметры источник инициализируется заново.</p>
<p>2. Переопределяемые тексты запросов динамического списка можно размещать в любых модулях конфигурации, но следует следить за тем, чтобы текст запроса в динамическом списке был точно таким же, как и переопределяемый текст запроса по умолчанию (наиболее часто используемый).</p>
<p>Этого можно добиться, например, если:</p>
<ul>
<li>изменить текст запроса по умолчанию в коде конфигурации; 

<li>после изменения, скопировать текст запроса в динамический список; 

<li>или наоборот (изменить в динамическом списке, скопировать в код конфигурации).</li></li></li></ul>
<p><strong>См. также</strong></p>
<ul>
<li>
<div><a href="#06_Запросы в динамических списках.htm" target="_top">Запросы в динамических списках</a></div></li></ul></body><hr>
<h1 id='09_Организация диалога с пользователем'>Организация диалога с пользователем</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/900/i8100400.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Информирование пользователя.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Информирование пользователя</h1><div style="clear: right; float: right;">#std400</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Случаи, когда необходимо довести информацию до пользователя: </p>
<ol>
<li>Множество сообщений (протокол) по поводу невозможности выполнения того или иного действия.  

<li>Множество сообщений (протокол) по поводу выполнения того или иного действия. 

<li>Информация об ошибке выполнения действия.  

<li>Информация об успешном выполнении того или иного действия при работе в форме.  

<li>Информация об успешном выполнении того или иного действия в условиях отсутствия формы. </li></li></li></li></li></ol>
<p><a id="1.1" name="1.1"></a>1.1. <strong>Информация об ошибках, выявленных при проверке заполнения,</strong> должна выводиться в панели сообщений формы. Например, такой способ информирования пользователя предлагает платформа для наименования справочников. Проверки заполнения можно разделить на два случая: <br/><br/>А) Проверку заполнения реквизитов объекта следует выполнять вне транзакции записи объекта.<br/><br/>Пример: </p>
<ul>
<li>При попытке записать объект необходимо выдать ряд сообщений о его неправильном заполнении;  

<li>При выполнении команды "Пересчитать цены" необходимо выдать сообщения об ошибках пересчета цен товаров, выбранных в документе.</li></li></ul>
<p>Средства для реализации: </p>
<ul>
<li>Свойство <strong>Проверка заполнения</strong>  

<li><a href="#05_Обработчик события ОбработкаПроверкиЗаполнения.htm" target="_top">Обработчик </a><strong><a href="#05_Обработчик события ОбработкаПроверкиЗаполнения.htm" target="_top">ОбработкаПроверкиЗаполнения</a> </strong>(в этом случае для формирования сообщений об ошибках следует применять объект <strong>СообщениеПользователю</strong>)</li></li></ul>
<p>Б) Проверку целостности объекта и связанных с ним данных следует выполнять в транзакции записи объекта.<br/><br/>Пример: </p>
<ul>
<li>Проверка складских остатков товаров и выдача <span style='FONT-SIZE: 9.5pt; FONT-FAMILY: "Verdana",sans-serif; COLOR: black; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Times New Roman"; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA'>нескольких </span>сообщений о нехватке товаров </li></ul>
<p>Средства для реализации: </p>
<ul>
<li><a href="#01_Обработчик события ПередЗаписью.htm" target="_top">Обработчики <strong>ПередЗаписью</strong></a> и <strong><a href="#02_Обработчик события ПриЗаписи.htm" target="_top">ПриЗаписи</a></strong>
<li>Для формирования сообщений об ошибках следует применять объект <strong>СообщениеПользователю</strong>
<li>Для отказа от записи объекта устанавливать параметр <strong>Отказ</strong> = <strong>Истина</strong> </li></li></li></ul>
<p>При этом </p>
<ul>
<li>если ошибочная ситуация носит исключительный характер и делает бессмысленными все остальные проверки, которые выводят другие блокирующие сообщения, то следует использовать <a href="#11_Перехват исключений в коде.htm" target="_top"><strong>ВызватьИсключение</strong></a> (см. ниже п.1.3, пример №2). Но если пользователь может оперативно устранить эту ошибочную ситуацию (то есть это ошибка ввода данных пользователем, а не ошибка настройки системы), то следует устанавливать параметр <strong>Отказ</strong> в значение <strong>Истина</strong> и выводить сообщения пользователю. 

<li>следует минимизировать число проверок, которые выполняются во время записи объекта. Во время записи должны выполняться только проверки, которые носят транзакционный характер. Например, если подразделение сотрудника можно сменить в любой момент времени и при этом не проверяется, существуют ли уже документы, в которых выбран данный сотрудник, то также не имеет смысла проверять при записи документа соответствие выбранного сотрудника и заданного подразделения. Такую проверку следует выполнять в процедуре <strong>ОбработкаПроверкиЗаполнения</strong> до начала транзакции записи. </li></li></ul>
<p><a id="1.2" name="1.2"></a>1.2. <strong>Информация о протоколе выполненных действий</strong> может выводиться в отдельном поле в форме. <br/> <br/>Пример:</p>
<ul>
<li>При выполнении команды формы "Прокомментировать расчет" выдать информацию об использованных при расчете данных и промежуточных результатах расчета</li></ul>
<p>Средства для реализации:</p>
<ul>
<li>Формирование сообщений в отдельном реквизите формы и изменение видимости поля в форме; 

<li>Открытие отдельной формы со списком сообщений.</li></li></ul>
<p><a id="1.3" name="1.3"></a>1.3. <strong>Информация об ошибке</strong> должна доводиться до пользователя в отдельном диалоге. Например, такой способ информирования пользователя предлагает платформа при выводе системных сообщений об ошибке: сообщения о неуникальности кода, неуникальности записи регистра сведений, незаданной дате документа и т.п. <br/><br/>Пример №1: </p>
<ul>
<li>При выполнении локальной команды формы "Заполнить скидку" необходимо сообщить, что еще не выбран контрагент  

<li>При выполнении локальной команды "Рассчитать зарплату" необходимо сообщить, что в системе еще не задан курс валюты на текущий месяц.</li></li></ul>
<p>Способ реализации: </p>
<ul>
<li>Проверять необходимые значения в коде формы и использовать метод глобального контекста <strong>ПоказатьПредупреждение</strong>.  

<li>В случае если есть вариант решения проблемы, рекомендуется использовать функцию <strong>ПоказатьВопрос</strong>. Например: </li></li></ul>
<p class="Programtext">Оповещение = Новый ОписаниеОповещения("ПослеЗакрытияВопроса", ЭтотОбъект);<br/>ПоказатьВопрос(Оповещение, НСтр("ru='В этом месяце еще не задан курс валюты. Использовать курс за прошлый месяц?'"), ...)) </p>
<p>Пример №2: </p>
<ul>
<li>При выполнении функции расчета кросс-курса валюты по отношению к управленческой валюте сообщить, что не задан курс валюты, не задана управленческая валюта и т.п.; 

<li>Сообщить о запрете при записи документа в закрытом периоде; 

<li>Выдать сообщение об ошибке и предотвратить запись объекта, для которого загружены некорректные правила регистрации на узлах плана обмена.</li></li></li></ul>
<p>Способ реализации: </p>
<ul>
<li>Вызвать исключение. Например: </li></ul>
<p>Правильно:</p>
<p class="Programtext">ВызватьИсключение НСтр("ru='Не установлена управленческая валюта в настройках программы.'");</p>
<p>Правильно:</p>
<p class="Programtext">Если Не ЗарегистрироватьИзмененияНаУзлахПлановОбмена() Тогда <br/>  ВызватьИсключение НСтр("ru = 'Не удалось зарегистрировать изменения на узлах планов обмена из-за некорректных правил регистрации. Обратитесь к администратору.'"); <br/>КонецЕсли;</p>
<p><a id="1.4" name="1.4"></a>1.4. <strong>Информация об успешном выполнении действия в форме</strong> должна выводиться в случае, если факт выполнения команды не очевиден для пользователя. Система должна выдавать ту или иную реакцию на любую команду. Например, неправильно "проглатывать" молча нажатие на кнопку формы.  <br/><br/>Доводить информацию до пользователя рекомендуется как при помощи блокирующего диалога (например, процедуры <strong>ПоказатьПредупреждение</strong>), так и при помощи метода <strong>ПоказатьОповещениеПользователя</strong>. Применять процедуру <strong>ПоказатьПредупреждение</strong> следует в том случае, если требуется "приостановить" работу пользователя и обратить его внимание на результат выполнения команды. <br/><br/>Пример: </p>
<ul>
<li>При выполнении команды формы "Проверить заполнение" необходимо сообщить, что проверка ошибок не обнаружила; 

<li>При выполнении команды формы "Ограничить остатками на складе" необходимо сообщить, что количество товаров проверено и не было уменьшено; 

<li>При выполнении команды формы "Принять изменения" необходимо сообщить, что обработаны все пять выбранных документов.</li></li></li></ul>
<p>Способ реализации: </p>
<ul>
<li>Использовать процедуру <strong>ПоказатьПредупреждение</strong> </li></ul>
<p>Вместе с тем, не следует информировать пользователя об очевидно выполненном действии. Например, не следует сообщать об успешном выполнении команды "Заполнить" в условиях, когда заполняемый список товаров у пользователя "на виду", и пользователь и так отчетливо видит результат выполнения команды.<br/><br/>1.5. <strong>Информация об успешном выполнении действия в условиях отсутствия формы</strong> на экране должна также выводиться в том случае, когда для пользователя может оказаться неочевидным тот факт, что действие выполнено.</p>
<p><a id="1.5.1" name="1.5.1"></a>1.5.1. Использовать процедуру <strong>ПоказатьОповещениеПользователя</strong> для уведомления о завершении действия. <br/>Например, при выполнении стартовой обработки информационной базы сообщить, что обработка выполнена успешно:</p>
<p class="Programtext">ПоказатьОповещениеПользователя(<br/>  НСтр("ru = 'Обновление на версию 2.0 успешно выполнено.'"), ,<br/>  НСтр("ru = 'Переход на новую версию'"),<br/>  БиблиотекаКартинок.Информация32);</p>
<p><a id="1.5.2" name="1.5.2"></a>1.5.2. Использовать процедуру <strong>Состояние</strong> при изменении состояния выполняемого действия на клиенте и после завершения действия (без последующего вызова <strong>ПоказатьОповещениеПользователя</strong>). <br/>Например, при обработке нескольких файлов на клиенте сообщать: «Обработан файл 1 из 5»… «Обработан файл 4 из 5»… «Обработка файлов завершена»:</p>
<p class="Programtext">Состояние(СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку (<br/>  НСтр("ru = 'Обработан файл %1 из %2.'"), СчетчикФайлов, КоличествоФайлов),<br/>  СчетчикФайлов/КоличествоФайлов*100);<br/>…<br/>Состояние(НСтр("ru = 'Обработка файлов успешно завершена.'"));</p>
<p>В то же время для серверных операций не рекомендуется выполнять оповещение с помощью процедуры Состояние, т.к. в этом случае потребуются многократные вызовы сервера для передачи прогресса. См. <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">Длительные операции на сервере</a>.</p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#11_Сообщения пользователю.htm" target="_top">Сообщения пользователю</a>
<li><a href="#11_Перехват исключений в коде.htm" target="_top">Перехват исключений в коде</a>
<li><a href="#08_Работа с параметром «Отказ» в обработчиках событий.htm" target="_top">Работа с параметром «Отказ» в обработчиках событий</a> </li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/900/i8100418.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Ограничение на использование метода Сообщить.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение на использование метода Сообщить</h1><div style="clear: right; float: right;">#std418</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Для вывода сообщений пользователю во всех случаях следует использовать объект <strong>СообщениеПользователю</strong>, даже когда сообщение не «привязывается» к некоторому элементу управления формы. Метод <strong>Сообщить</strong> применять не следует.</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> рекомендуется использовать процедуру <strong>СообщитьПользователю</strong> общего модуля <strong>ОбщегоНазначения </strong>или <strong>ОбщегоНазначенияКлиент</strong>, которая работает с объектом <strong>СообщениеПользователю</strong>.</p></td></tr></tbody></table></font>
<h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#01_Информирование пользователя.htm" target="_top">Информирование пользователя</a>
<li><a href="#11_Сообщения пользователю.htm" target="_top">Сообщения пользователю</a></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 100/900/i8100700.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Предложение об установке внешних компонент и расширений платформы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Установка внешних компонент и расширений платформы</h1><div style="clear: right; float: right;">#std700</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1.1" name="1.1"></a>1.1. Установка внешних компонент и расширений платформы должна быть интерактивной. Пользователь должен самостоятельно принять решение об установке. В диалоге установки должно быть указано, для чего нужна компонента (расширение) и что не будет работать, если ее не устанавливать.</p>
<p>Например, неправильно использовать конструкции вида </p>
<p class="Programtext">Если Не ПодключитьВнешнююКомпоненту(…) Тогда <br/>  УстановитьВнешнююКомпоненту(…)</p>
<p>Правильно задавать пользователю вопрос в явном виде:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><em>Для продолжения работы требуется установить внешнюю компоненту, которая позволит работать с отчетностью. Для установки компоненты нажмите "Установить". После завершения установки нажмите "Продолжить".</em></p></blockquote>
<p><a id="1.2" name="1.2"></a>1.2. Рекомендуется выводить предложение об установки компоненты (расширения) перед выполнениям прикладного действия. <br/>Например:</p>
<ul>
<li>Пользователь воспользовался командой «Отправить отчет» 

<li>Для этого конфигурации необходимо, чтобы была установлена какая-либо внешняя компонента. 

<li>Конфигурация проверяет, установлена ли компонента. 

<li>Если компонента не установлена, отображает пользователю информацию о том, что для отправки отчета нужно установить компоненту и кнопку, вызывающую установку компоненты. 

<li>Пользователь нажимает на кнопку, выполняется установка. 

<li>После установки пользователь нажимает на кнопку «Продолжить отправку отчета» 

<li>Программа продолжает отправлять отчет.</li></li></li></li></li></li></li></ul>
<p>Такой сценарий позволит обеспечить, чтобы компоненты (расширения) устанавливались без проблем на всех поддерживаемых браузерах, в том числе, в браузере <strong>FireFox</strong>.</p>
<p>Другой пример. Предложение об установке расширения работы с файлами при загрузке файла из файловой системы:</p>
<p align="left"><img align="middle" height="422" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/900/i8100700.files/блок-схема.png?_=00002F21850D51D4-v2" style="aspect-ratio:723/422" width="723"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><a id="1.3" name="1.3"></a>1.3. При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> для вывода предложения об установке расширения работы с файлами следует использовать следующие процедуры общего модуля <strong>ФайловаяСистемаКлиент</strong> в следующих сценариях:</p>
<ul>
<li><strong>ВыбратьКаталог</strong> вместо метода <strong>Показать</strong> объекта <strong>ДиалогВыбораФайла</strong> с заданным режимом работы <strong>ВыборКаталога</strong>; 

<li><strong>ЗагрузитьФайл</strong> вместо методов глобального контекста <strong>ПоместитьФайл</strong>, <strong>НачатьПомещениеФайла</strong>, а также вместо метода <strong>Показать</strong> объекта <strong>ДиалогВыбораФайла</strong> с заданным режимом работы <strong>Открытие</strong>; 

<li><strong>ЗагрузитьФайлы</strong> вместо методов глобального контекста <strong>ПоместитьФайлы</strong>, <strong>НачатьПомещениеФайлов</strong>, а также вместо метода <strong>Показать</strong> объекта <strong>ДиалогВыбораФайла</strong> с заданным режимом работы <strong>Открытие</strong>; 

<li><strong>ОткрытьФайл</strong> вместо метода глобального контекста <strong>ЗапуститьПриложение</strong> для открытия файла, ассоциированного с некоторым приложением; 

<li><strong>СохранитьФайл</strong> вместо метода глобального контекста <strong>ПолучитьФайл</strong> или метода <strong>Показать</strong> объекта <strong>ДиалогВыбораФайла</strong> с заданным режимом работы <strong>Сохранение</strong>; 

<li><strong>СохранитьФайлы</strong> вместо методов глобального контекста <strong>ПолучитьФайлы</strong>, <strong>НачатьПолучениеФайлов</strong>, а также вместо метода <strong>Показать</strong> объекта <strong>ДиалогВыбораФайла</strong> с заданным режимом работы <strong>Сохранение</strong>. 

<li>В остальных случаях, для вывода предложения об установке расширения работы с файлами следует использовать процедуру <strong>ПодключитьРасширениеДляРаботыСФайлами</strong>.<br/><br/>
<div align="left"><img height="153" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 100/900/i8100700.files/безымянный.png?_=000055BF91345981-v2" style="aspect-ratio:616/153" width="616"/></div></li></li></li></li></li></li></li></ul>
<p><br/>2. В прикладном решении должны быть предоставлены инструменты для установки пользователем внешних компонент и расширений в любой момент работы. Таким образом, их можно установить не только в ходе решения какой-то задачи, но и в виде отдельного действия (из некоторого административного режима).</p>
<script type="text/javascript">forceDocumentLayout(true)</script><table class="tip">
<tbody>
<tr>
<td>
<p align="right"><em>Методическая рекомендация (полезный совет)</em></p>
<p>При использовании в конфигурации <strong>Библиотеки стандартных подсистем</strong> для установки расширения для работы с файлами предназначена общая команда <strong>УстановитьРасширениеРаботыСФайлами</strong>, которую рекомендуется размещать в форме персональных настроек пользователя (см. общую форму <strong>_ДемоМоиНастройки</strong> в демонстрационной конфигурации). В этой же форме рекомендуется размещать команды по установке внешних компонент, которые могут потребоваться пользователю при его работе.</p></td></tr></tbody></table>
<h3>См. также</h3>
<ul>
<li><a href="#01_Общие требования к конфигурации.htm" target="_top">Общие требования к конфигурации</a> <br/> <br/></li></ul>
<p> </p></body><hr>
<h1 id='12_Проектирование интерфейсов для 8.2'>Проектирование интерфейсов для 8.2</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100566.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие рекомендации.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие рекомендации</h1><div style="clear: right; float: right;">#std566</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#01_Размеры экрана.htm" target="_top">Размеры экрана (8.3)</a></p>
<p> </p>
<p><font size="2">1. Типовым разрешением экрана считается 1280х768 pt. Все размеры в стандартах приведены с учетом этих значений. Условия эксплуатации:</font></p>
<ul>
<li><font size="2">Основное окно 1С:Предприятия растянуто на весь экран</font>
<li><font size="2">Видна панель задач операционной системы</font></li></li></ul>
<p><font size="2"></font> </p>
<p><font size="2">2. Разработку (конфигурирование) нужно вести в стандартном разрешении - 96 DPI.</font></p>
<p><font size="2"></font><font size="2"></font> </p>
<p><font size="2">3. При разработке управляемого интерфейса не рекомендуется вносить массовые изменения, нарушающие умолчание платформы,<br/>если иное не указано в этом руководстве по стилю или других стандартах.</font></p>
<p><font color="#536ac2" size="2"><em>Например, для контекстных меню лучше использовать умолчание платформы, но в отдельных специфических случаях допускается внесение изменений. </em></font></p>
<p><em><font color="#536ac2" size="2"></font></em> </p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table align="left" style="HEIGHT: 102px; WIDTH: 1089px">
<tbody>
<tr align="left">
<td align="right" bgcolor="#ccffcc">
<p align="right"><em><font size="2">Рекомендация (полезный совет)</font></em></p>
<p align="right"><em><font size="2"></font></em> </p>
<p><em><font color="#536ac2" size="2"></font></em></p>
<p align="left"><font size="2">4. При проектировании интерфейсов рекомендуется использовать <b><a class="attachment" href="https://its.1c.ru/db/files/1CITS/EXE/V8Std/UIChecklist/UIChecklist.zip" rel="nofollow" target="_blank">Чек-лист проверки интерфеса</a></b>. Проверка формы по чек-листу позволяет быстро выявить грубые ошибки в интерфейсе и выяснить, обеспечивается ли приемлемый уровень качества.</font></p></td></tr></tbody></table></p>
<p><em><font color="#536ac2" size="2"></font></em> </p>
<p align="right"><font size="2"></font> </p>
<p><font size="+0"></font> </p>
<p> </p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100600.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Командный интерфейс.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Командный интерфейс</h1><div style="clear: right; float: right;">#std600</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#01_Общие принципы построения командного интерфейса.htm" target="_top">Общие принципы построения командного интерфейса (8.3)</a></p>
<p>Командный интерфейс (КИ) – средство навигации пользователей по функциональности конфигурации. КИ создается панелью разделов, панелью навигации и панелью действий. Каждая из панелей имеет свое назначение, но все вместе они создают пространство команд – возможностей для пользователя.</p>
<p>При проектировании КИ следует учитывать, что все три навигационных элемента связаны контекстом и предназначены:</p>
<ul>
<li>для повышения эффективности выполнения повседневной работы; 

<li>для быстрого освоения программы.</li></li></ul>
<p>Качество конфигурации во многом зависит:</p>
<ul>
<li>от того насколько удачно это пространство будет организовано; 

<li>насколько оно будет соответствовать представлениям пользователя о назначении этой конфигурации.</li></li></ul>
<p>Критериями хорошо проектированного КИ являются:</p>
<ul>
<li>скорость работы; 

<li>скорость обучения; 

<li>субъективная удовлетворенность пользователя.</li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100576.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Панель действий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Панель действий</h1><div style="clear: right; float: right;">#std576</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p>
<p>Панель действий (ПД) – место, где пользователи всегда смогут найти самые востребованные команды в контексте текущего раздела.<br/>Она также служит своеобразным введением, «рассказывает» о том, что в этом разделе можно сделать.<br/>При разработке состава команд следует отталкиваться от задач пользователей, например, «продажа товаров», «работа с внутренними документами» и т.д. Спектр этих задач формирует список команд, среди которых можно выделить наиболее частотные, вероятные. Их и нужно разместить в ПД.<br/><br/>Цель ПД – обеспечить возможность быстро создавать новые объекты, выполнять типовые обработки или строить популярные отчеты, не выполняя переключения в тот или иной интерфейс в ПН.</p>
<h2><br/>Когда ПД не нужна:</h2>
<ul>
<li>Если нельзя выделить частотные команды или их очень мало. 

<li>Когда все частотные команды контекстные.<br/><font color="#536ac2"><em>Например, команды создания групп не рекомендуется выносить в ПД, т.к. они почти всегда контекстны.</em></font>
<li>Если выполнение действий рекомендовано разработчиком через специальные формы (рабочие места).<br/><font color="#536ac2"><em>Например, перед созданием заказа поставщику нужно видеть общую картину заказов по организации.</em></font></li></li></li></ul>
<h2>Размеры ПД</h2>
<p>При проектировании состава команд ПД, необходимо учитывать следующее:</p>
<ul>
<li>По умолчанию в видимой области ПД помещается не более 15-ти средних команд.<br/><font color="#536ac2"><em>Под средней подразумевается команда, название которой состоит из 15-20 символов.</em></font>
<li>Максимальная емкость ПД по высоте - 30 команд. Если команд больше, то появляется кнопка открытия полного списка команд.</li></li></ul>
<h2>Названия команд</h2>
<ul>
<li>Текст стандартных команд (создание нового объекта, открытие отчета или обработки) формируется из синонима или представления соответствующего объекта метаданных. Это следует учитывать при присвоении имен и представлений объектам метаданных так, чтобы из текста команды было однозначно понятно ее назначение с учетом группы, в которую она входит (создать, отчет, сервис). 

<li>Тексты пользовательских команд тоже должны соответствовать этой рекомендации. 

<li>Не рекомендуется использовать очень короткие (менее 5 символов) и очень длинные (более 30) названия команд и синонимы (или представления) объектов метаданных. 

<li>Лучше, если названия команд, синонимы или представления объектов метаданных начинаются с разных слов. Тогда соответствующие команды будут хорошо различаться в панели действий.</li></li></li></li></ul>
<h2><br/>Группы команд в ПД</h2>
<p>Если команду ПД нельзя отнести к одной из стандартных групп («Создать», «Отчеты», «Сервис»), то можно создавать свои группы. Рекомендуется минимизировать количество таких групп.</p>
<h2><br/>Подсказки в ПД</h2>
<p>Подсказка и справка для команд в ПД не является обязательной, но рекомендуется.</p>
<p> </p>
<h2>Команды отчетов</h2>
<ul>
<li>Если отчетов немного, то следует помещать команды для их открытия в панель действий. При этом нужно учитывать общее наполнение ПД, чтобы она не получилась громоздкой. 

<li>Если отчетов много или если для управления ими пользователю нужен особый интерфейс, следует разработать специальное рабочее место по работе с отчетами.<br/><font color="#536ac2"><em>Такое рабочее место может содержать, например:</em></font>
<ul>
<li><font color="#536ac2"><em>Список отчетов и вариантов</em></font>
<li><font color="#536ac2"><em>Готовые настройки</em></font>
<li><font color="#536ac2"><em>Предварительный просмотр</em></font></li></li></li></ul>
<li>Команду вызова рабочего места рекомендуется поместить: 

<ul>
<li>в панель навигации – если рабочее место должно открываться в главном окне; 

<li>в группу «Сервис» панели действий - если рабочее место должно открываться в отдельном окне.</li></li></ul></li></li></li></ul>
<p>См. также: <a href="#02_Тексты.htm" target="_top">Оформление текстов</a></p>
<p><a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100401.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Размещение большого количества команд в основном окне приложения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размещение большого количества команд в основном окне приложения</h1><div style="clear: right; float: right;">#std401</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>В конфигурациях может возникнуть проблема размещения большого числа команд в панели действия. Как правило, это касается команд формирования отчетов. Использование для большого числа команд панели действий не оптимально. Для решения данной проблемы предлагается следующая методика. <br/><br/>Выполняется анализ всех команд отчетов, отнесенных к определенной подсистеме (с вложенными подсистемами); </p>
<ul>
<li>
<div>Для большинства из них снимается видимость по умолчанию;</div>
<li>
<div>Для некоторых, наиболее востребованных отчетов, видимость по умолчанию оставляется;</div>
<li>
<div>При необходимости, настройка видимости команд по умолчанию выполняется «по ролям», но для самого «полноправного» пользователя число команд, видимых по умолчанию в панели действий, не должно превышать 6-9 команд.</div></li></li></li></ul>
<p>Для подсистемы верхнего уровня реализуется общая форма с названием, включающим в той или иной форме имя подсистемы, например, «Все отчеты по зарплате». В такой форме размещаются все команды той или иной подсистемы;</p>
<ul>
<li>
<div>В форме все команды реализуются как гиперссылки;</div>
<li>
<div>В такой форме может быть реализована «отсылка» к настойке панели действий;</div>
<li>
<div>Большой размер рабочей области позволяет разместить также команды смежных областей, т.е. реализовать подобие раздела «см. также».</div></li></li></li></ul>
<p>Реализуется общая команда, например, <strong>ВсеОтчетыПоЗарплате</strong>:</p>
<ul>
<li>
<div>Код команды представляет собой просто открытие общей формы</div></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="Programtext">ОткрытьФорму("ОбщаяФорма.ВсеОтчетыПоЗарплате", , <br/>ПараметрыВыполненияКоманды.Источник, <br/>ПараметрыВыполненияКоманды.Уникальность, <br/>ПараметрыВыполненияКоманды.Окно)</p></blockquote>
<ul>
<li>
<div>Название такой команды подчеркивает то, что она охватывает все отчеты. Например, «Все отчеты по зарплате».</div>
<li>
<div>Команда включается в состав нашей подсистемы верхнего уровня.</div>
<li>
<div>Команда относится к одной из групп Панели навигации</div></li></li></li></ul>
<p>На рисунке ниже приведен пример внешнего вида основного окна приложения при выполнении такой команды как «Все отчеты по зарплате»</p>
<p><img height="549" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100401.files/панель отчетов.jpg?_=000199606FE81B3D-v2" style="aspect-ratio:1199/549" width="1199"/><script type="text/javascript">forceDocumentLayout()</script></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100578.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Рабочий стол.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Рабочий стол</h1><div style="clear: right; float: right;">#std578</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><br/>Рабочий стол – личный заботливый помощник пользователя. Каждый рабочий день начинается с «общения» с ним.</p>
<p><br/>Рабочий стол должен вводить пользователя в курс дел, отвечая на его вопросы, например:</p>
<ul>
<li>Что нужно сделать сегодня? 

<li>Что появилось нового? 

<li>На что следует обратить внимание? 

<li>Каково состояние важных для меня сведений?</li></li></li></li></ul>
<h2>Что размещать на рабочем столе</h2>
<p><br/>При определении состава форм, доступных на рабочем столе следует исходить из набора ролей конфигурации. Каждой роли может соответствовать одна или более форм рабочего стола. Т.к. пользователи, как правило, относятся к нескольким ролям, то рабочий стол будет состоять из комбинации форм этих ролей.</p>
<p><br/>При проектировании рабочего стола важно учитывать:</p>
<ul>
<li>Рабочий стол – первое, что увидит пользователь при запуске программы, поэтому его следует разрабатывать особенно тщательно.<br/>Для командной панели рабочего стола допускается снятие флажка «Автозаполнение» и их ручное заполнение.<br/>К формам рабочего стола нужно относиться, как к микро рабочим местам. С одной стороны они не должны быть перегружены, но с другой, предоставлять богатые возможности.<br/><font color="#536ac2"><em>Например, список задач может поддерживать drag-and-drop, чтобы при перетаскивании в него заказа покупателя система сразу предлагала создать новую задачу для коллеги со ссылкой на этот заказ.</em></font>
<li>Содержимое рабочего стола формируется автоматически в соответствии с ролями. Как правило, пользователь выполняет несколько ролей.<br/><font color="#536ac2"><em>Например, менеджер по продажам – занимается продажами, ведет личный учет времени, исполняет общефирменные поручения и приказы, выполняет анализ рынка, ведет исследования для развития своего направления.</em></font></li></li></ul>
<h2>Что нужно учитывать при разработке</h2>
<ul>
<li>Рабочий стол является обязательным разделом и не может быть отключен. 

<li>Проектируйте формы рабочего стола под существенно меньший размер, чем обычные формы. 

<li>Не рекомендуется размещать на формах рабочего стола списки с горизонтальной полосой прокрутки. 

<li>Не рекомендуется использовать в формах рабочего стола меню «Все действия». 

<li>По возможности, не вставляйте команду вызова справки в формы рабочего стола. 

<li>В командных панелях форм рабочего стола рекомендуется делать минимально необходимый набор команд. 

<li>В командной панели списков не рекомендуется делать команды поиска и отмены поиска. 

<li>Формы для рабочего стола следует проектировать «с запасом» - делая их по умолчанию не видимыми, чтобы пользователи имели возможность настроить рабочий стол под себя. 

<li>В командных панелях динамических списков рекомендуется размещать команду обновления. 

<li>Состав форм рабочего стола следует проектировать таким образом, чтобы рабочий стол реального пользователя, с учетом ролей, содержал по умолчанию от 3-хдо 6-ти форм. Иначе рабочий стол будет смотреться вырожденным или перегруженным. 

<li>В списках на рабочем столе по умолчанию должно быть видно не менее 3,5 строк.</li></li></li></li></li></li></li></li></li></li></li></ul>
<h2>Панель действий на рабочем столе</h2>
<ul>
<li>Панель действий на рабочем столе рекомендуется делать только в том случае, если можно достоверно выделить частотные и не контекстные команды: 

<ul>
<li>Команды, которыми будут пользоваться часто; 

<li>Команды, для выполнения которых не нужно переключаться в другой раздел. </li></li></ul>
<li>При этом нужно следить, чтобы ПД не стала непонятной из-за разнородности команд, попавших в нее из разных разделов.</li></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100615.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Рабочее место.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Рабочее место</h1><div style="clear: right; float: right;">#std615</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><br/>Рабочее место — это форма для выполнения какой-то одной бизнес-операции или группы взаимосвязанных бизнес-операций.<br/><font color="#536ac2"><em><br/>Примеры: Приемка, Отгрузка, Заказы клиентов.</em></font></p>
<p>Следовательно, рабочее место должно удовлетворять двум основным требованиям:</p>
<ul>
<li>предоставлять необходимый набор команд (создание новых данных, анализ имеющихся, выполнение других контекстных действий); 

<li>обеспечивать пользователя актуальной информацией, необходимой для правильного и быстрого выполнения бизнес-операций.<br/> <font color="#536ac2"><em>Примеры: Статусы выполнения, сроки исполнения, приоритетность.</em></font></li></li></ul></font>
<h2><br/>Другие требования к рабочему месту</h2><font face="Verdana" size="2">
<ul>
<li>Рабочее место должно быть интуитивно понятно сотруднику, который знает свою работу, но не знаком с программой. 

<li>Своим оформлением рабочее место должно «говорить», для какого специалиста и для решения каких задач оно предназначено. 

<li>Предусмотрите на рабочем месте необходимый состав инструментов для работы специалиста. 

<li>Акцентируйте внимание пользователя на важной информации с помощью цвета. 

<li>Проследите, чтобы визуально рабочее место не казалось перегруженным. 

<li>Рабочее место должно содержать достаточный минимум сведений, необходимых для качественного выполнения пользователем своих задач. 

<li>Самые важные сведения располагайте сверху. 

<li>Размещайте инструменты в логической последовательности решения задач. 

<li>Продумайте оптимальное выполнение действий: без необходимости переключения в другие интерфейсы. 

<li>Предусмотрите, в случае необходимости, переход к косвенным задачам (рабочим местам). 

<li>Названия рабочим местам следует давать по смыслу решаемых ими задач.<br/><font color="#536ac2"><em>Примеры: "Администрирование", "Расчет заработной платы", «Регистрация корреспонденции».</em></font>
<li>В названиях рабочих мест не рекомендуется использовать словосочетание «рабочее место». 

<li>Не рекомендуется размещать внедренную справку на рабочем месте. 

<li>Внедренная справка — справка в форме, оформленная в виде подробных комментариев к полям, либо в виде отдельного поля, содержащего справку к форме. Для реализации внедренной справки следует указывать подсказку элемента формы с режимом отображения «Снизу», используя стиль "ПоясняющийТекст" RGB (128, 122, 89). В качестве исключения, если нет возможности добиться желаемого визуального эффекта с помощью подсказки элемента, можно использовать декорацию «Надпись». </li></li></li></li></li></li></li></li></li></li></li></li></li></li></ul></font>
<h2><br/>Где размещать команду перехода к рабочему месту</h2><font face="Verdana" size="2">
<ul>
<li>В группе «Важное» панели навигации, если решаемые задачи частотны. При этом команда будет отображаться жирным шрифтом. 

<li>В блоке «См. также» панели навигации, если в контексте конкретной подсистемы рабочее место имеет второстепенное, вспомогательное значение и используется не часто.</li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100585.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Сообщения пользователю.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: auto 0cm"><span style="FONT-FAMILY: Calibri; FONT-WEIGHT: normal; mso-bidi-font-weight: bold">Сообщения пользователю</span></h1><div style="clear: right; float: right;">#std585</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri">1. Общие рекомендации</span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"></span> </p><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><o:p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.1. Сообщения должны быть достаточно информативными и содержательными. Сообщения составляются в форме безличного предложения: не употребляются местоимения "Вы", "Вас" и пр. </font></span><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p><font size="3"></font></o:p></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">
<script type="text/javascript">forceDocumentLayout(true)</script><table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><span style="FONT-FAMILY: Calibri; COLOR: #cc0000">Неправильно</span><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p></o:p></span></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Недостаточно прав для выполнения обработки"<span style="COLOR: green"><o:p></o:p></span></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri">"У Вас</span></i><span style="FONT-FAMILY: Calibri"> недостаточно прав для выполнения обработки"<span style="COLOR: green"><o:p></o:p></span></span></font></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.2. Сообщения не должны содержать восклицательных знаков и повелительных тонов, за исключением сообщений, предупреждающих об опасных или критических действиях.</font></span><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"></font></o:p></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><span style="FONT-FAMILY: Calibri; COLOR: #cc0000">Неправильно</span><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p></o:p></span></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Внимание. Загрузка базы может привести к потере всех данных"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Выберите элемент, а не группу"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Внимание! Загрузка базы может привести к потере всех данных"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Это сообщение не акцентирует внимание пользователя на том, что последствия могут критичны<o:p></o:p></font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><br/><font size="3">"Выберите элемент, а не группу!"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Это сообщение несет негативный настрой, а также заставляет пользователя чувствовать себя глупо</font></span></i><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri"><o:p></o:p></span></i></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.3. Сообщение должно быть написано текстом, понятным пользователю. </font></span><span style="FONT-FAMILY: Calibri"><font size="3">В частности, оно не должно содержать технической терминологии (терминологии разработчика). Подобную терминологию допускается использовать только в сообщениях, предназначенных для администратора.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Например, если пользователь указал в качестве кассы отправителя и кассы получателя одно и то же значение, то выводится <span style="mso-spacerun: yes"> </span>сообщение: "Касса отправителя равна кассе получателя".<o:p></o:p></font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699">В реальности касса не может быть равна другой – она может быть одной и той же.</span></i></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="3"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><br style="mso-special-character: line-break"/> </span></i></font></p></o:p></span><span style="FONT-FAMILY: Calibri"><o:p></o:p></span>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><span style="FONT-FAMILY: Calibri; COLOR: #cc0000">Неправильно</span><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p></o:p></span></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Касса отправителя и касса получателя должны различаться"<span style="COLOR: green"><o:p></o:p></span></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Касса отправителя равна кассе получателя"<o:p></o:p></font></span></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.4. Сообщения, указывающие на ошибку, должны выводиться в момент возникновения ошибки.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Например, в отчете, сдаваемом в Пенсионный фонд, указываются <span style="mso-spacerun: yes"> </span>регистрационные номера сотрудников. Эти номера заполняются в карточке сотрудника.<br/>Проверку<span style="mso-spacerun: yes">  </span>правильности заполнения этого номера нужно делать в момент его <span style="mso-spacerun: yes"> </span>ввода в карточке, а не в момент формирования отчета.<o:p></o:p></font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.5. В тексте сообщений необходимо избегать двусмысленности. Категорически запрещается постановка вопроса с содержанием частиц "не" и "бы". Подобные вопросы не способны дать однозначного ответа.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><span style="FONT-FAMILY: Calibri; COLOR: #cc0000">Неправильно</span><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p></o:p></span></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Удалить файл?"<span style="COLOR: green"><o:p></o:p></span></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"<i style="mso-bidi-font-style: normal">Не</i> хотели <i style="mso-bidi-font-style: normal">бы</i> вы удалить этот файл?" (Да / Нет)<br/>"Переместить <i style="mso-bidi-font-style: normal">или</i> удалить этот файл?" (Да / Нет)<o:p></o:p></font></span></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style="FONT-FAMILY: Calibri"><font size="3">1.6. В текстах сообщений не следует использовать сокращения и аббревиатуры. Исключением являются только общеупотребительные и соответствующие целевой аудитории сокращения и аббревиатуры.<br/><i style="mso-bidi-font-style: normal"><span style="COLOR: #006699">Например, сокращения "НДС", "МСФО" понятны пользователям, а "К." (коэффициент) – нет. </span></i></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style="FONT-FAMILY: Calibri"><font size="3"><i style="mso-bidi-font-style: normal"><span style="COLOR: #006699"><o:p></o:p></span></i></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style="FONT-FAMILY: Calibri"><font size="3">1.7. Если текст сообщения занимает несколько строк, рекомендуется составлять его таким образом, чтобы строки оканчивались на логическую паузу или завершались знаком препинания.</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto"><span style="FONT-FAMILY: Calibri"><font size="3"></font></span> </p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Times New Roman" size="3">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 323.4pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="431">
<p style="MARGIN: 0cm 0cm 0pt"><font size="3"><strong><span style="FONT-FAMILY: Calibri; FONT-WEIGHT: normal; COLOR: green; mso-bidi-font-weight: bold">Правильно</span></strong><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p></o:p></span></font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 330pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="440">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><strong><span style="FONT-FAMILY: Calibri; FONT-WEIGHT: normal; COLOR: #cc0000; mso-bidi-font-weight: bold">Неправильно</span></strong><span style="FONT-FAMILY: Calibri; COLOR: #cc0000"><o:p></o:p></span></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 323.4pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="431">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">Не рекомендуется изменять значение ставки налога,<br/><i style="mso-bidi-font-style: normal">если</i> она уже используется в справочниках или документах.<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 330pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="440">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">Не рекомендуется изменять значение ставки налога, <i style="mso-bidi-font-style: normal">если</i><br/>она уже используется в справочниках или документах.<o:p></o:p></font></span></p></td></tr></tbody></table></font></o:p></p>
<p style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Times New Roman" size="3"></font></o:p> </p>
<p style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.8. Следует руководствоваться принципом, что в процедурах и функциях, выполняемых в транзакции, нельзя выполнять каких-либо взаимодействий с пользователем – выводить предупреждения и вопросы.</font></span></p>
<p style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3"><o:p></o:p></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto"><span style="FONT-FAMILY: Calibri"><font size="3">1.9. Сообщения, оповещения, предупреждения или состояние не следует использовать в случае, если нужно вывести протокол, отчет или подробности о результатах выполненной операции. Для этого следует предусмотреть специальную форму.</font></span><span style="FONT-FAMILY: Calibri"><br style="mso-special-character: line-break"/></span></p><span style="FONT-FAMILY: Calibri">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri">2. Сообщение об ошибках в форме<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto"><img height="69" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/14.png?_=00001090E764DFF2-v2" style="aspect-ratio:198/69" width="198"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">Сообщения об ошибках в форме выводятся в панели сообщений об ошибках справа:<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto"><img height="609" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/13.png?_=00012CF450BE53DA-v2" style="aspect-ratio:1026/609" width="1026"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3"></font></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">2.1. В панели сообщений следует выводить только сообщения об ошибках. Сообщения об успешном завершении операции в панели выводить запрещается.</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3"><br style="mso-special-character: line-break"/> </font></span></p><o:p></o:p></span>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri"><font size="3">2.2. Сообщение об ошибке по возможности должно быть привязано к полю, которое породило ошибку или позволяет исправить ее. Если сообщение нельзя привязать к тому или иному полю, то в тексте сообщения следует явно указать, что пользователю нужно сделать для того, чтобы устранить проблему.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">2.3. Сообщения об ошибках должны отвечать на 3 вопроса:<o:p></o:p></font></span></p>
<ul style="MARGIN-TOP: 0cm" type="disc">
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Calibri"><font size="3">Что произошло?<o:p></o:p></font></span>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Calibri"><font size="3">Почему это произошло?<o:p></o:p></font></span>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Calibri"><font size="3">Что делать дальше?<o:p></o:p></font></span></li></li></li></ul>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">Ответов на эти вопросы должно хватить пользователю, чтобы принять решение о дальнейших действиях, а также не повторить данной ошибки в будущем.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Например, пользователь пытается изменить статус документа, помеченного на удаление.<br/>Система выдает сообщение: "Документ "Коммерческое предложение &lt;номер&gt; не проведен. Статус не изменен"<o:p></o:p></font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Сообщение создает новый вопрос для пользователя: почему не изменен статус? В тексте сообщения отсутствует информация о том, что документ помечен на удаление, и что именно это является причиной возникновения ошибки.</font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3"><o:p></o:p></font></span></i> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><font size="3"><span style="FONT-FAMILY: Calibri; COLOR: #cc0000">Неправильно</span><span style="FONT-FAMILY: Calibri; COLOR: green"><o:p></o:p></span></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Невозможно изменить статус: документ "Коммерческое предложение &lt;номер&gt; помечен на удаление"<span style="COLOR: green"><o:p></o:p></span></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Документ "Коммерческое предложение &lt;номер&gt; не проведен. Статус не изменен"<span style="COLOR: green"><o:p></o:p></span></font></span></p></td></tr></tbody></table><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">2.4. Следует учитывать, что в панели сообщений текст сообщения автоматически форматируется, а строки переносятся, сохраняя при этом свои пропорции. Поэтому текст таких сообщений не нужно разбивать на строки.<br/></span></p><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"></span>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">См. также: <a href="#02_Перенос выражений.htm" target="_top">Перенос выражений</a></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto"><span style="FONT-FAMILY: Calibri"><font size="3">2.5. Сообщение должно быть как можно более кратким и понятным. <br/>Если же поле заполнено, но неправильно, то сообщение должно быть более подробным.<br/><i style="mso-bidi-font-style: normal"><span style="COLOR: #006699">Например, "Указанного количества товара &lt;название товара&gt; нет на складе. Доступно: &lt;количество доступно&gt; &lt;единица измерения&gt;". </span></i></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri"><font size="3">2.6. Текст сообщения об ошибке должен содержать побудительную часть, призывающую пользователя совершить действия по исправлению ошибки. </font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 12pt; mso-margin-top-alt: auto">
<table border="0" cellpadding="0" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-table-layout-alt: fixed; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri; COLOR: green"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri; COLOR: #cc0000"><font size="3">Неправильно<o:p></o:p></font></span></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Укажите хотя бы одну систему налогообложения"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></i></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; WIDTH: 274.7pt; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent" valign="top" width="366">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; tab-stops: list 36.0pt"><span style="FONT-FAMILY: Calibri"><font size="3">"Необходимо указать хотя бы одну систему налогообложения" <o:p></o:p></font></span></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><o:p><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">3. Оповещение</span></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><o:p><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"></span></o:p></span> </p><o:p></o:p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img height="85" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/12.png?_=00001340C99E5A0F-v2" style="aspect-ratio:255/85" width="255"/></p>
<p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">3.1. Рекомендуется использовать оповещение для информирования пользователя о произошедших событиях без прерывания основной работы. Пользователю не обязательно реагировать на оповещение, оно выдается для информации.<br/>Оповещение сообщает о том, что запрошенная операция (запись элемента справочника или проведение документа) выполнена. <o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">3.2. Оповещения рекомендуется делать с гиперссылками на соответствующие объекты. <o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">3.3. Текст и пояснение оповещения рекомендуется составлять так, чтобы они целиком помещались в окне оповещения с размерами "по умолчанию":<o:p></o:p></font></span></p>
<ul style="MARGIN-TOP: 0cm" type="disc">
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Calibri"><font size="3">Текст – 36 знаков;<o:p></o:p></font></span>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Calibri"><font size="3">Пояснение  – около 100 знаков (с учетом переноса на три строки).</font></span> </li></li></ul>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Calibri"><font size="3"></font></span> </p><span style="FONT-FAMILY: Calibri"><font size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri">4. Состояние<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">4.1. Рекомендуется использовать состояние для информирования о выполнении длительных процессов (занимающих более 10 секунд), чтобы у пользователей не сложилось впечатление о том, что программа "зависла". Выводите состояние:<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; tab-stops: list 0cm; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">        </span></span></span><span style="FONT-FAMILY: Calibri">перед началом выполнения ("Выполняется расчет. Пожалуйста, подождите…")<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; tab-stops: list 0cm; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">        </span></span></span><span style="FONT-FAMILY: Calibri">в процессе выполнения (если есть возможность)<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; tab-stops: list 0cm; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">        </span></span></span><span style="FONT-FAMILY: Calibri">при завершении ("Расчет выполнен")<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 18pt"><span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">4.2. Состояние используется для длительных операций, состоящих из некоторого числа более мелких операций.<br/><i style="mso-bidi-font-style: normal"><span style="COLOR: #006699">Например, при переносе файлов с жесткого диска в информационную базу можно выводить состояние для каждого переносимого файла:</span></i></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><i style="mso-bidi-font-style: normal"><span style="COLOR: #006699"><o:p></o:p></span></i></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><o:p><img height="100" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/11.png?_=0000684A4772D9D4-v2" style="aspect-ratio:400/100" width="400"/></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><o:p></o:p> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><o:p><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">См. также: <a href="#03_Длительные операции на сервере (Раздел обновлен!).htm" target="_top">Длительные операции</a>, <a href="#06_Запись событий в историю работы пользователя.htm" target="_top">Запись событий в историю работы пользователя</a></span></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><o:p><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"></span></o:p> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"> </p><o:p><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri">5. Предупреждение <o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">5.1. Предупреждение рекомендуется использовать только в тех случаях, когда необходимо прервать работу пользователя, чтобы он ознакомился с некоторой информацией. При этом для возобновления работы пользователю не нужно принимать решений.<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">5.2. Не следует использовать предупреждение для информирования о начале выполнения длительных обработок. Такое сообщения следует выдавать непосредственно в форме обработки.<br/><br/>5.3. В тексте предупреждения следует привести законченные пояснения о последующих действиях и их последствиях.<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699">Например, пользователь пытается заполнить цены товаров в табличной части "Товары" документа «Заказ клиента». Программа выдает предупреждение о невозможности выполнения этого действия:</span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><o:p></o:p></span></i> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><img height="108" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/img28f1.png?_=0000332F8409FBC7-v2" style="aspect-ratio:451/108" width="451"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri">6. Вопросы в сообщениях<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">6.1. Рекомендуется использовать в тех случаях, когда необходимо, чтобы пользователь принял решение, например, о продолжении начатой операции.<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt -18pt"><span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">6.2. Вопросы рекомендуется выдавать перед выполнением:<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 54.15pt; TEXT-INDENT: -18pt; tab-stops: list 18.15pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-FAMILY: Calibri">действий, результаты которых отменить потом невозможно<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 54.15pt; TEXT-INDENT: -18pt; tab-stops: list 18.15pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-FAMILY: Calibri">потенциально опасных для данных пользователя действий<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 54.15pt; TEXT-INDENT: -18pt; tab-stops: list 18.15pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-FAMILY: Calibri">массовой обработки информационной базы<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt 54.15pt; TEXT-INDENT: -18pt; tab-stops: list 18.15pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-FAMILY: Calibri">длительных процедур<o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri">6.3. Ответами на вопрос должны выступать глаголы, обозначающие последующие действия. <o:p></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">Например:</span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><img height="149" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/10.png?_=000018DBF45A514F-v2" style="aspect-ratio:200/149" width="200"/></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><font color="#000000">6.4. <span style="mso-spacerun: yes"> </span>В сообщениях-вопросах кнопкой по умолчанию должна являться та кнопка, выбор которой наиболее безопасен для данных пользователя.<br/></font><span style="COLOR: #006699">Например, при сохранении файла кнопкой по умолчанию является "Сохранить":</span></span></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="COLOR: #006699"></span></span></span> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="COLOR: #006699"><img height="149" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100585.files/09.png?_=00001A1836A140EC-v2" style="aspect-ratio:216/149" width="216"/></span></span></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="COLOR: #006699"></span></span></span> </p><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; COLOR: #006699; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA"><span style="COLOR: #006699">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font color="#000000"><b style="mso-bidi-font-weight: normal"><span style="FONT-FAMILY: Calibri">ВАЖНО:</span></b><span style="FONT-FAMILY: Calibri"> Чаще всего в ОС </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-ansi-language: EN-US">Windows</span><span style="FONT-FAMILY: Calibri"> кнопкой по умолчанию является первая (самая левая) кнопка. Прибегать к изменению кнопки по умолчанию рекомендуется только в исключительных ситуациях.<o:p></o:p></span></font></p></span></span></span></span></o:p></font></span></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100586.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Окно старта.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt"><a name="_toc221270483"></a>Окна на старте</h1><div style="clear: right; float: right;">#std586</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p style="MARGIN: 12pt 0cm 3pt"><br/>Если содержание окна на старте не обязательно для ознакомления пользователям, то необходимо предусмотреть по умолчанию возведенный флаг «Показывать при открытии программы». Флаг рекомендуется располагать под содержанием окна.</p>
<h1 style="MARGIN: 12pt 0cm 3pt"><font face="Calibri" size="3"></font> </h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><img height="98" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100586.files/окно старта.png?_=00002B402A24E36E-v2" style="aspect-ratio:645/98" width="645"/><script type="text/javascript">forceDocumentLayout()</script></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100596.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Требования к изображениям (иконкам).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Требования к изображениям</h1><div style="clear: right; float: right;">#std596</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<ul>
<li>Хорошо узнаваемые метафоры, выдержанные в едином стиле.<br/>
<li>Разные очертания у близких в ряду иконок, чтобы повысить их запоминаемость.<br/>
<li>Соблюдены одинаковые углы, перспектива, тень во всех используемых иконках.<br/>
<li>Объекты изображены в современном виде (например, компьютер).<br/>
<li>Иконки разные по начертанию и по ведущим цветам.<br/>
<li>Исключите ситуации, когда различить иконки можно только по их цвету.<br/>
<li>Формат - картинки PNG с 8-битным альфаканалом.<font color="#536ac2"><em><br/>Если есть возможность без потери качества сделать картинку с 1-битным альфа-каналом, то лучше делать именно так для уменьшения размера конфигурации.</em></font><br/>
<li>Не следует использовать в конфигурациях альфа-канал у картинок, чей размер превышает 40000 точек (например, картинка 200х200 точек). Для таких картинок не поддерживается корректное отображение в веб-клиенте, который работает в веб-браузере Microsoft Internet Explorer 6.0. Это правило не относится к картинкам-коллекциям, размер элементов которых меньше указанного ограничения. <br/>
<li>Если в конфигурации делается поле HTML документа, которое будет показывать какие-либо картинки, то эти картинки нужно делать в формате PNG с 1-битным, а не 8-битным альфа-каналом, т.е. в формате png-8, либо в формате png-24 без альфа-канала. Для правильного отображения цветов в браузере рекомендуется удалять из заголовка файла PNG информацию о палитре и гамма-коррекции. </li></li></li></li></li></li></li></li></li></ul>
<ul>
<li>Для корректного отображения картинок конфигурации во всех поддерживаемых браузерах необходимо, чтобы используемые цвета были либо полностью прозрачными, либо полностью непрозрачными. То есть компонент их прозрачности должен быть равен либо 0% либо 100%.<br/><br/> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100423.htm' target='_blank'>Ссылка на оригинал</a><div id='16_Правила создания иконок командных панелей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Правила создания иконок командных панелей</h1><div style="clear: right; float: right;">#std423</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Руководство по созданию иконок командных панелей. Данное руководство рассчитано на использование с продуктами <strong>Adobe Photoshop</strong> и <strong>Axialis IconWorkshop</strong>. </p>
<h4>Палитра</h4>
<p><img height="541" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100423.files/pic1.jpg?_=00006BF936C24C86-v2" style="aspect-ratio:351/541" width="351"/><script type="text/javascript">forceDocumentLayout()</script><br/></p>
<p>Палитра предполагает использование серого от <strong>#4D4D4D</strong> до <strong>#FFFFFF</strong>, а также цветов смешения между указанными цветами. </p>
<h4>Проекция</h4>
<p>Для лучшей разборчивости элементы маленьких иконок отображаются во фронтальной проекции, без перспективы. </p>
<h4>Размер</h4>
<p>Иконки командной панели имеют размер 16?16. Но изображение не должно непременно занимать всё доступное пространство. Главное, чтобы иконки имели примерно одинаковый визуальный вес и чтобы их центр тяжести располагался на одной горизонтальной линии.</p>
<p><img height="139" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100423.files/pic2.jpg?_=00001DECDB9720CE-v2" style="aspect-ratio:271/139" width="271"/></p>
<p><strong>Элементы стиля</strong></p>
<p><img height="162" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100423.files/pic3.jpg?_=0000360E529E6F63-v2" style="aspect-ratio:507/162" width="507"/></p>
<p><a id="1" name="1"></a>1. <strong>Обводка.</strong> Элементы имеют обводку толщиной 1 пиксель, с закругленными углами. Технически обводка реализуется растушевкой с альфа - каналом. Прозрачность от 10 до 50%. На углах прозрачный пиксель от 5 до 15% прозрачности. <br/><br/>2. <strong>Контур.</strong> Для придания объектам читаемости, от модификатора идет внешний дополнительный контур на объект, шириной 1 пиксель. Подсветка может располагаться снизу, справа - внизу или по всему периметру: на усмотрение художника. Интенсивность подсветки подбирается индивидуально. <br/><br/>3. <strong>Тени.</strong> Собственные и падающие тени отсутствуют. <br/><br/>4. <strong>Модификаторы.</strong> Имеют основной зеленый и синий цвет. Исключение составляют модификаторы «опасности». <br/></p>
<h4>Направление света</h4>
<p>Источник света считается расположенным вверху. Поэтому обводка закрашивается вертикальным градиентом (обычно от 2-го до 5-го цвета из палитры). На лицевой стороне объектов допускается как вертикальный градиент, так и градиент, направленный из верхнего левого угла в нижний правый (на усмотрение художника). </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100665.htm' target='_blank'>Ссылка на оригинал</a><div id='18_Горячие клавиши.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Горячие клавиши </h1><div style="clear: right; float: right;">#std665</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Рекомендуется установить сочетание клавиш для наиболее частотных команд. 

<li>Рекомендуется установить сочетание клавиш для вызова часто используемых неконтекстных форм.<br/><font color="#00008b"><em>Например, форма полнотекстового поиска, форма ежедневного отчета о рабочем времени.</em></font></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/i8100667.htm' target='_blank'>Ссылка на оригинал</a><div id='19_Элементы стиля.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Элементы стиля</h1><div style="clear: right; float: right;">#std667</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Для каждого элемента управления оформление по умолчанию задается платформой. Умолчаний следует придерживаться в большинстве случаев — это позволяет обеспечить единообразное оформление всех форм.</p>
<p>В некоторых ситуациях возникает потребность визуально выделить конкретный элемент управления среди других, изменив его оформление по умолчанию.</p>
<p>Для изменения оформления следует использовать элементы стиля, а не задавать конкретные значения непосредственно в элементах управления. Это требуется для того, чтобы аналогичные элементы управления выглядели одинаково во всех формах, где они встречаются.</p>
<p>Виды элементов стиля:<br/>• Цвет (задается значение RGB)<br/>• Шрифт (задаются вид, размер и начертание)<br/>• Рамка (задаются тип и ширина границ)<br/></p>
<p><a id="1" name="1"></a>1. Элементы стиля нужно использовать всегда, когда требуется изменить оформление (Цвет, Шрифт, Рамку), установленные по умолчанию. </p>
<p><font color="#00008b"><em>Например, информационные надписи среди других надписей можно выделить с помощью цвета. Цвет таких надписей следует задавать в виде элемента стиля "ИнформационнаяНадпись", а не в виде значения RGB или выбора цвета web/windows:</em></font></p><em><font color="#00008b">
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 58px; WIDTH: 726px" width="726">
<tbody>
<tr>
<td bgcolor="#dcdcdc">
<p><font color="#2e8b57">Хорошо</font></p></td>
<td bgcolor="#dcdcdc">
<p><font color="#b22222">Плохо</font></p></td></tr>
<tr>
<td>
<p><img height="20" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/11ff6d~1.png?_=000009C34C9D5D3E-v2" style="aspect-ratio:320/20" width="320"/><script type="text/javascript">forceDocumentLayout()</script></p></td>
<td>
<p><img height="20" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/1245a1~1.png?_=000007E0CA9444D1-v2" style="aspect-ratio:320/20" width="320"/></p>
<p><img height="20" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/132a39~1.png?_=00000A0FA294B31B-v2" style="aspect-ratio:320/20" width="320"/></p></td></tr></tbody></table></p></font></em>
<p><a id="2" name="2"></a>2. Не следует использовать элементы стиля для того, чтобы подменить оформление, которое используется по умолчанию в платформе. </p>
<p><font color="#00008b"><em>Например, для гиперссылок нужно использовать цвет, предусмотренный в платформе, а не создавать для него свой элемент стиля с точно таким же цветом:</em></font></p>
<p><em><font color="#00008b">
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 58px; WIDTH: 726px" width="726">
<tbody>
<tr>
<td bgcolor="#dcdcdc">
<p><font color="#2e8b57">Хорошо</font></p></td>
<td bgcolor="#dcdcdc">
<p><font color="#b22222">Плохо</font></p></td></tr>
<tr>
<td>
<p><img height="20" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/2158e1~1.png?_=0000072FE311352E-v2" style="aspect-ratio:312/20" width="312"/></p></td>
<td>
<p><img height="25" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/2281a0~1.png?_=0000089DA00120FA-v2" style="aspect-ratio:311/25" width="311"/></p></td></tr></tbody></table></font></em></p>
<p> </p>
<p><a id="3" name="3"></a>3. Каждый элемент стиля следует создавать для применения в конкретной ситуации. Если такой же цвет или шрифт нужно использовать в другой ситуации, то для нее нужно создать отдельный элемент стиля.</p>
<p><font color="#00008b"><em>Например, цвет элемента стиля "ФонУправляющегоПоля" следует применять только для фона полей, которые влияют на видимость других полей в форме. Если такой же цвет фона предполагается использовать для поля с другим назначением, то для него нужно создать отдельный элемент стиля.</em></font></p>
<p><a id="4" name="4"></a>4. Название для элемента стиля следует подбирать таким образом, чтобы в нем отразить назначение элемента стиля.</p>
<p><font color="#00008b"><em>Например:</em></font></p>
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 86px; WIDTH: 664px" width="664">
<tbody>
<tr>
<td bgcolor="#dcdcdc">Название элемента стиля</td>
<td bgcolor="#dcdcdc">Назначение</td></tr>
<tr>
<td>ФонУправляющегоПоля</td>
<td><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">Фон поля, которое управляет видимостью других полей</span></td></tr>
<tr>
<td><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">ТекстНевыбраннойКартинки</span></td>
<td><span style="FONT-SIZE: 12pt; FONT-FAMILY: Calibri; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">Текст, который будет отражается на картинке, пока она не выбрана</span></td></tr></tbody></table></p>
<p><a id="5" name="5"></a>5. Для нескольких элементов стиля, имеющих одинаковое название, но разный вид, рекомендуется включать вид (слова "Цвет", "Шрифт", "Рамка") в название: </p>
<p><font color="#00008b"><em>Например: "ТекстНевыбраннойКартинкиЦвет" и "ТекстНевыбраннойКартинкиШрифт".</em></font></p>
<p>При этом вид элемента стиля (Цвет, Шрифт, Рамка) следует указывать после его названия. Это требуется для того, чтобы можно было по первым буквам найти нужный элемент стиля в списке.</p>
<p><em><font color="#00008b">Например:</font></em></p>
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 74px; WIDTH: 478px" width="478">
<tbody>
<tr>
<td bgcolor="#dcdcdc">
<p><font color="#2e8b57">Хорошо</font></p></td>
<td bgcolor="#dcdcdc">
<p><font color="#b22222">Плохо</font></p></td></tr>
<tr>
<td>
<p>ПросроченныеДанныеЦвет<br/>ПросроченныеДанныеШрифт</p></td>
<td>
<p>ЦветПросроченныхДанных<br/>ШрифтПросроченныхДанных</p></td></tr></tbody></table></p>
<p>В названии элемента стиля следует указывать только тот вид (Цвет, Шрифт, Рамка), который используется фактически.</p>
<p><font color="#00008b"><em>Например, для элемента стиля вида "Цвет" не следует включать в название слово "Шрифт":</em></font></p><em><font color="#00008b">
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 74px; WIDTH: 478px" width="478">
<tbody>
<tr>
<td bgcolor="#dcdcdc">
<p><font color="#2e8b57">Хорошо</font></p></td>
<td bgcolor="#dcdcdc">
<p><font color="#b22222">Плохо</font></p></td></tr>
<tr>
<td>
<p>ВажнаяНадпись</p>
<p><img height="57" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/51dc2e~1.png?_=00000F49E8A9CB96-v2" style="aspect-ratio:320/57" width="320"/></p></td>
<td>
<p>ШрифтВажнойНадписи</p>
<p><img height="57" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/i8100667.files/528806~1.png?_=0000105F45DA5B13-v2" style="aspect-ratio:325/57" width="325"/></p></td></tr></tbody></table></p>
<p> </p></font></em>
<h2>Элементы стиля с видом "Цвет"</h2>
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 495px; WIDTH: 979px" width="979">
<tbody>
<tr bgcolor="#dcdcdc">
<td> Элемент стиля</td>
<td>
<p align="left"> Значение  (RGB)</p></td>
<td> В каком стандарте используется</td></tr>
<tr>
<td> ПросроченныеДанные </td>
<td>178,34,34 

<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td></td></tr></tbody></table></td>
<td>
<p> <a href="#12_Акцентирование внимания на просроченных или критичных состояниях.htm" target="_top">Акцентирование внимания на просроченных или критичных состояниях</a> </p>
<p> <a href="#06_Итоги в документах.htm" target="_top">Итоги в документах</a> </p></td></tr>
<tr>
<td> ПояснениеОтсутствующейГиперссылки</td>
<td>128,128,128 

<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#808080"></td></tr></tbody></table></td>
<td> <a href="#13_Гиперссылка на счет-фактуру.htm" target="_top">Гиперссылка на счет-фактуру</a> </td></tr>
<tr>
<td> ТекстЗапрещеннойЯчейки</td>
<td>192,192,192 

<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#c0c0c0"></td></tr></tbody></table></td>
<td> <a href="#11_Пояснение невозможности заполнения ячеек в табличных частях.htm" target="_top">Пояснение невозможности заполнения ячеек в табличных частях</a></td></tr>
<tr>
<td> ИтоговыеПоказателиДокументов</td>
<td>22,39,121 

<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#162779"></td></tr></tbody></table></td>
<td> <a href="#06_Итоги в документах.htm" target="_top">Итоги в документах</a> </td></tr>
<tr>
<td> ИтогиЖурналаЦвет</td>
<td>100,100,100 

<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#646464"></td></tr></tbody></table></td>
<td> <a href="#07_Итоги в журналах документов.htm" target="_top">Итоги в журналах документов</a> </td></tr>
<tr>
<td> ФонУправляющего поля</td>
<td>255,232,179 

<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#ffe8b3"></td></tr></tbody></table></td>
<td> <a href="#14_Поле, влияющее на состав остальных полей в форме.htm" target="_top">Поле, влияющее на состав остальных полей в форме</a> </td></tr>
<tr>
<td>
<p> ТекстНевыбраннойКартинкиЦвет</p></td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">220,220,220<o:p></o:p></font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#dcdcdc"></td></tr></tbody></table></td>
<td><a href="#15_Невыбранная картинка.htm" target="_top">Невыбранная картинка</a> </td></tr>
<tr>
<td>
<p> НегативноеСобытие</p></td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">178,34,34</font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#b22222"></td></tr></tbody></table></td>
<td><a href="#06_Отчеты вида _таблица_, _список_.htm" target="_top">Отчеты вида "таблица", "список"</a></td></tr>
<tr>
<td>
<p> ПозитивноеСобытие</p></td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">0,128,0</font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#008000"></td></tr></tbody></table></td>
<td><a href="#06_Отчеты вида _таблица_, _список_.htm" target="_top">Отчеты вида "таблица", "список"</a></td></tr>
<tr>
<td>
<p> НеактуальнаяИнформация</p></td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">255,200,200</font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#ffc8c8"></td></tr></tbody></table></td>
<td><a href="#06_Отчеты вида _таблица_, _список_.htm" target="_top">Отчеты вида "таблица", "список"</a></td></tr>
<tr>
<td>
<p> Диаграмма</p></td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">70,130,180</font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#4682b4"></td></tr></tbody></table></td>
<td><a href="#07_Отчеты вида _диаграмма_.htm" target="_top">Отчеты вида "диаграмма"</a></td></tr>
<tr>
<td> Прогноз</td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">199,21,133</font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#c71585"></td></tr></tbody></table></td>
<td><a href="#07_Отчеты вида _диаграмма_.htm" target="_top">Отчеты вида "диаграмма"</a></td></tr>
<tr>
<td>ПоясняющийТекст</td>
<td>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">128,122,89</font></span></p>
<table bgcolor="#b22222" cellspacing="0" style="HEIGHT: 22px; WIDTH: 23px" width="23">
<tbody>
<tr>
<td bgcolor="#807a59"></td></tr></tbody></table></td>
<td><a href="#09_Рабочее место.htm" target="_top">Рабочее место</a></td></tr></tbody></table></p>
<p> </p>
<h2>Элементы стиля с видом "Шрифт"</h2>
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 90px; WIDTH: 978px" width="978">
<tbody>
<tr>
<td bgcolor="#dcdcdc">Элемент стиля</td>
<td bgcolor="#dcdcdc">Значение (шрифт, размер, начертание)</td>
<td bgcolor="#dcdcdc">В каком стандарте используется</td></tr>
<tr>
<td>ОсновнойЭлементСписка</td>
<td>Обычный шрифт текста, начертание: Полужирный</td>
<td><a href="#12_Значения по умолчанию.htm" target="_top">Значения по умолчанию</a> </td></tr>
<tr>
<td>ОсновноеИтоговоеЗначение</td>
<td>Обычный шрифт текста, начертание: Полужирный</td>
<td><a href="#06_Итоги в документах.htm" target="_top">Итоги в документах</a> </td></tr>
<tr>
<td>ИтогиЖурналаШрифт</td>
<td>Обычный шрифт текста, начертание: Полужирный</td>
<td><a href="#07_Итоги в журналах документов.htm" target="_top">Итоги в журналах документов</a> </td></tr>
<tr>
<td>ТекстНевыбраннойКартинкиШрифт</td>
<td>Обычный шрифт текста, размер: 12</td>
<td><a href="#15_Невыбранная картинка.htm" target="_top">Невыбранная картинка</a> </td></tr></tbody></table></p></body><hr>
<h1 id='03_Панель разделов'>Панель разделов</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/400/i8100567.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Панель разделов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Панель разделов</h1><div style="clear: right; float: right;">#std567</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#02_Панель разделов.htm" target="_top">Панель разделов (8.3)<font color="#536ac2"></font></a></p>
<p>Панель разделов (ПР) – оглавление конфигурации.</p>
<p>Разделы должны соответствовать реальным областям деятельности или участкам работ так, как их понимают пользователи. </p>
<p>Состав разделов рекомендуется проектировать так, чтобы в типовых комбинациях ролей не появлялась полоса прокрутки. Для этого емкость панели должна быть не более 8-10 разделов.</p>
<p>Что следует учитывать при проектировании: </p>
<li>Панель разделов является «лицом» программы и имеет большое значение на этапе освоения, поэтому состав и порядок разделов следует проектировать с особой тщательностью. 

<li>Предполагается, что при выполнении задач связанных с определенной деятельностью пользователь будет проводить большую часть времени в каком-то одном разделе. Т.е. раздел является устойчивым режимом работы. Задачи, относящиеся к одной деятельности или к одному участку работ, должны решаться в рамках одного раздела – переключения между разделами должны быть минимизированы. 

<li>Интерфейс раздела нужно проектировать так, чтобы он содержал в себе все необходимые для работы команды и функции. При этом частотные или важные команды следует «вытаскивать наверх» – в начало панели навигации и панели действий. 

<li>При проектировании панели учитывайте и используйте доступность разделов (подсистем) по ролям. 

<li>Для интерфейса администратора допустимо наличие полосы прокрутки в панели. 

<li>По умолчанию разделы располагаются в алфавитном порядке. Рекомендуется определять порядок в зависимости от приоритета каждого раздела: от наиболее частотного и значимого до второстепенного и не часто используемого. 

<li>Последним всегда должен быть раздел для администрирования, настройки и выполнения сервисных действий. 

<li>Не рекомендуется делать раздел с названием «Сервис».<font color="#536ac2"><br/><em>Т.к. он будет перекликаться с меню «Сервис» и группой «Сервис» в ПД. Альтернативой могут быть такие названия как «Сервисные возможности», «Дополнительные возможности», «Прочее», «Сервисные функции», «Служебные функции» и т.д.</em></font></li></li></li></li></li></li></li></li></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/400/i8100568.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Названия разделов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Названия разделов</h1><div style="clear: right; float: right;">#std568</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#02_Панель разделов.htm" target="_top">Панель разделов (8.3)</a></p>
<ul>
<li>
<div>Общая длина названия не должна превышать примерно 50 знаков с учетом пробелов (примерно 150 точек при 96 DPI).</div>
<li>При выборе названия (синонима) нужно учитывать, что панель разделов отображает максимум две строки названия с автоматическим переносом строк, но без переноса слов, т.е. слова не разрываются. 

<li>Для того чтобы название раздела смотрелось симпатично, рекомендуется использовать такие комбинации слов: 

<ul>
<li>одно-два средних слова;<br/><font color="#536ac2"><em>«Финансы», «Зарплата и персонал»</em></font></li></ul></li></li></li></ul>
<ul>
<ul>
<li>одно среднее и одно короткое;<br/><font color="#536ac2"><em>«Учет времени»</em></font></li></ul></ul>
<ul>
<ul>
<li>одно длинное и одно короткое;<br/><font color="#536ac2"><em>«Сервис и администрирование»</em></font></li></ul></ul>
<ul>
<ul>
<li>два коротких и одно длинное.<br/><font color="#536ac2"><em>«Работы, услуги, производство»</em></font></li></ul></ul>
<ul>
<li><em>По возможности не используйте длинные слова.<br/><font color="#536ac2">Например, «гидролесомелиорация» или «делопроизводство».</font></em></li></ul>
<ul>
<li><em>Выбирайте названия примерно одного размера по ширине так, чтобы они смотрелись единообразно и ровно. </em>
<li><em>Давайте разделам конкретные (не двусмысленные) запоминающиеся названия. </em>
<li><em>Используйте в названиях только общеупотребительные и соответствующие целевой аудитории сокращения и аббревиатуры, например, «НДС» или «МСФО».</em></li></li></li></ul>
<p><em>Но если это возможно, лучше обходиться без сокращений.</em></p>
<p>См. также:</p>
<p><a href="#02_Тексты.htm" target="_top">Оформление текстов</a></p>
<p><a href="#03_Имя, синоним, комментарий.htm" target="_top">Имя, синоним, комментарий</a><a href="#02_Панель разделов.htm" target="_top"><font color="#536ac2"></font></a></p>
<p><br/><em> </em></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/400/i8100569.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Картинки разделов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Картинки разделов</h1><div style="clear: right; float: right;">#std569</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#02_Панель разделов.htm" target="_top">Панель разделов (8.3)</a></p>
<p>• Для каждого раздела в ПР назначьте картинку размером 48х48 pt. Формат PNG с переменным альфаканалом.<br/>• Картинки следует делать разными по начертанию и по ведущим цветам. Это нужно для лучшей запоминаемости. Но при этом они должны быть нарисованы в одном стиле, с одинаковым углом поворота, выравниванием, направлением света и т.д.<br/>• Следует проверять, чтобы в режиме отображения «только картинки» ПР выглядела ровно и гармонично.</p>
<p>См. также: <a href="#15_Требования к изображениям (иконкам).htm" target="_top">Требования к изображениям</a><a href="#02_Панель разделов.htm" target="_top"><font color="#536ac2"></font></a></p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/400/i8100571.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Подсказки для интерфейсных подсистем.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt"><a name="_toc290565707"></a><a name="_toc224527378"></a><a name="_toc223950664"><span style="mso-bookmark: _Toc224527378"><span style="mso-bookmark: _Toc290565707">Подсказки для интерфейсных </span></span></a><span style="mso-bookmark: _Toc290565707">подсистем</span><span style="mso-bookmark: _Toc290565707"></span></h1><div style="clear: right; float: right;">#std571</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#02_Панель разделов.htm" target="_top">Панель разделов (8.3)<font color="#536ac2"></font></a></p>
<p class="aCxSpFirst" style="MARGIN: 0cm 0cm 0pt 36pt; LINE-HEIGHT: normal; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l0 level3 lfo2"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">        </span></span></span><font face="Calibri" size="3">Подсказки для ПР не являются обязательными – назначение раздела должно быть однозначно понятно из его названия.</font><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font face="Calibri"><font size="3"><br/><font color="#536ac2">Название раздела должно быть настолько интуитивно понятно, чтобы пользователь, в поисках нужной ему информации, сразу понял, в каком разделе ее следует искать.<o:p></o:p></font></font></font></span></i></p>
<p class="a" style="MARGIN: 0cm 0cm 6pt 35.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.85pt; mso-list: l0 level3 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">        </span></span></span><font face="Calibri" size="3">Подсказка может дополнительно расшифровывать содержимое раздела, например, с помощью краткого перечисления входящих в него функции.</font></p>
<p class="a" style="MARGIN: 0cm 0cm 6pt 35.7pt; LINE-HEIGHT: normal; TEXT-INDENT: -17.85pt; mso-list: l0 level3 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">        </span></span></span><font face="Calibri" size="3">Справка для разделов ПР не является обязательной.</font><o:p><font face="Times New Roman" size="3"> </font></o:p></p><font face="Verdana" size="2">
<p>См. также: <a href="#04_Подсказка и проверка заполнения.htm" target="_top">Подсказка и проверка заполнения</a><a href="#02_Панель разделов.htm" target="_top"><font color="#536ac2"></font></a></p></font></body><hr>
<h1 id='04_Панель навигации основного окна'>Панель навигации основного окна</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/500/i8100572.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Панель навигации основного окна.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt"><a name="_toc290565708"></a><a name="_toc224527383"></a><span style="mso-bookmark: _Toc224527383"><span style="mso-bookmark: _Toc290565708">Панель навигации основного окна</span></span></h1><div style="clear: right; float: right;">#std572</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p style="MARGIN: 12pt 0cm 3pt"><font face="Calibri" size="3">См. также: </font><a href="#03_Навигация внутри раздела.htm" target="_top"><font face="Calibri" size="3">Навигация внутри раздела (8.3)</font></a></p>
<p style="MARGIN: 12pt 0cm 3pt"> </p><font face="Verdana" size="2">
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-add-space: auto"><font face="Calibri" size="3">Панель навигации (ПН) представляет собой оглавление раздела.</font></p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-add-space: auto"><font face="Calibri" size="3">Основная ценность панели заключается в том, что она всегда видна и позволяет быстро перейти к нужному списку или к рабочему месту.</font></p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-add-space: auto"><font face="Calibri" size="3">Размеры панели по умолчанию – 243х589 <span lang="EN-US" style="mso-ansi-language: EN-US">pt</span>.</font></p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-add-space: auto"><font face="Calibri" size="3">Количество обычных команд – 31 (без группировки, выделения важных, без полосы прокрутки).</font></p>
<p style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US" style="mso-ansi-language: EN-US"><o:p><font face="Times New Roman" size="3"> </font></o:p></span></p>
<p></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/500/i8100573.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Порядок и названия команд в ПН.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Названия команд</h1><div style="clear: right; float: right;">#std573</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p>
<ul>
<li>По возможности, названия команд должны помещаться в ПН с учетом ее стандартной ширины ПН (234 pt). 

<li>Важные команды – примерно 30 символов (т.к. они отображаются жирным шрифтом). 

<li>Обычные команды – примерно 38 символов. 

<li>Лучше, если названия команд начинаются с разных слов, так их удобнее искать с взглядом.<br/><em><font color="#536ac2">Следует учитывать, что ширина ПН может быть уменьшена пользователем поэтому команды должны отличаться друг от друга уже в первых символах, но в тоже время должны быть понятны.</font></em></li></li></li></li></ul>
<h1>Порядок команд</h1>
<ul>
<li>По умолчанию команды располагаются в алфавитном порядке. Рекомендуется менять порядок так, чтобы частотные или первостепенные команды располагались сверху.</li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/500/i8100623.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Группа команд «Важное» в ПН.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Группа команд «Важное»</h1><div style="clear: right; float: right;">#std623</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p><font face="Verdana" size="2">
<p>«Важное» - команды переходов в ПН, выделенные жирным шрифтом. Могут выступать как отдельными элементами ПН, так и входить в группы.  <br/></p>
<p><img height="368" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/500/i8100623.files/важное.png?_=0000D9AEEED9F190-v2" style="aspect-ratio:269/368" width="269"/><script type="text/javascript">forceDocumentLayout()</script></p>
<ul>
<li><font face="Calibri" size="3">Наличие группы команд «Важное» не является обязательным.</font>
<li>Использование необходимо в случаях прогнозируемой частотности переходов по той или иной команде. Это позволяет пользователям быстрее ориентироваться в ПН. 

<li>Выделяйте не более 5 важных команд.<br/><font color="#536ac2"><em>При большем количестве команд ПН выглядит громоздко и выделение команд жирным шрифтом действует не так эффективно.</em></font></li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/500/i8100574.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Группировка команд в ПН.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt"><a name="_toc290565711">Группировка команд</a></h1><div style="clear: right; float: right;">#std574</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p><font face="Verdana" size="2">
<ul>
<li>Если команд в группе «Обычное» получается много, группируйте их по смыслу. Для этого следует пересмотреть содержимое подсистемы и разбить его на подсистемы так, чтобы в группе было от 4 до 9 команд.<br/><em><font color="#536ac2">Критерием количества команд может служить оценка емкости кратковременной памяти человека – 7± 2.</font></em><br/>
<li>Состав команд следует проектировать так, чтобы по умолчанию в панели навигации не было полосы прокрутки.<br/><font color="#536ac2"><em>Скрывайте нечастотные команды – пользователь, если потребуется, сам их себе включит.</em></font><br/>
<li>По возможности избегайте появления в панели навигации групп, состоящих всего из одной команды.<br/><font color="#536ac2"><em>Помните, что при построении командного интерфейса учитываются роли и это может привести к тому, что для каких-то пользователей группа станет «вырожденной», т.е. состоящей всего из одной команды.</em></font><br/>
<li>Не рекомендуется делать глубину вложенности групп команд более 2.<br/><font color="#536ac2"><em>При этом помните, что по умолчанию на втором уровне ширина текста команды будет меньше - 36 символов.</em></font><br/>
<li>При разработке учитывайте, что по умолчанию все группы раскрыты.<br/>
<li>Названия групп в ПН не должны пересекаться с системными группами, например, «Создать», «Отчеты», «Сервис», «См. также».</li></li></li></li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/500/i8100601.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Группа «См. также» в ПН.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Группа «См. также»</h1><div style="clear: right; float: right;">#std601</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p>
<ul>
<li>Наличие группы не является обязательным. 

<li>В группу «См. также» не следует помещать команды по принципу «на всякий случай» или «вдруг пригодится». 

<li>Группа «См.также» предназначена для того, чтобы обеспечить горизонтальные связи между подсистемами – в нее следует относить важные, полезные для пользователя команды, которые напрямую не относятся к текущему разделу, но могут быть востребованы в некоторых случаях.</li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/500/i8100575.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Команды, размещаемые в ПН.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Команды, размещаемые в панели навигации</h1><div style="clear: right; float: right;">#std575</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Навигация внутри раздела.htm" target="_top">Навигация внутри раздела (8.3)</a></p>
<ul>
<li>В ПН следует помещать то, без чего нельзя обойтись в контексте текущего раздела: команды для перехода к рабочим местам, спискам, специальным обработкам.<br/>Под специальными командами понимаются обработки похожие на обычные списки, например, «Журнал регистрации», но не «Удаление помеченных объектов».<br/>
<li>Обязательно размещайте команды перехода к спискам «первичных» данных.<br/><font color="#536ac2"><em>Списки первичных документов/данных, имеющих самостоятельную ценность (заказы покупателей, расходные накладные). Первичные – такие документы, с которых начинаются бизнес-процессы.<br/>Формы списков первичных данных при этом следует оптимизировать под соответствующие задачи пользователей, например поиск, или отбор необработанных заявок.</em></font><br/>
<li>Для документов рекомендуется: 

<ul>
<li>помещать в панель навигации и команды журналов и команды списков; 

<li>команды перехода к спискам делать по умолчанию невидимыми.</li></li></ul><br/>
<li>Если объект по логике второстепенен, подчинен другому объекту, то его можно вообще не выносить в командный интерфейс – например, подчиненный регистр сведений.<br/>Если же есть независимый регистр сведений, и он является важным для пользователя, то его следует поместить в панель навигации.<br/>
<li>НЕ размещайте в панели навигации команды открытия обычных отчетов.<br/><font color="#536ac2"><em>Это связано с тем, что типовые отчеты должны открываться во вспомогательном окне со своим интерфейсом.</em></font><br/>
<li>Если отчет по сути является рабочим местом для выполнения тех или иных функций, то нужно сделать специальную навигационную команду открытия этого отчета и разместить ее в ПН.</li></li></li></li></li></li></ul></body><hr>
<h1 id='06_Отчеты'>Отчеты</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100670.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Содержание отчета.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Содержание отчета</h1><div style="clear: right; float: right;">#std670</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>1. Показатели отчета</h2>
<p><a id="1.1" name="1.1"></a>1.1. Отчет может содержать одновременно несколько финансовых или нефинансовых, числовых или качественных показателей. Их состав должен соответствовать назначению отчета (цели анализа). <br/>1.2. В отчет включаются только те показатели, которые связаны общей целью анализа.<br/>1.3. В отчетах, реализованных без использования СКД, рекомендуется обеспечивать возможность расшифровки всех выводимых показателей.<br/>1.4. Отчеты не должны содержать данные, помеченные на удаление. Если такие данные требуется выводить в отчет, то их следует выделять явным образом (см. стандарт «Отчеты вида «таблица», «список» п.3.5).<br/></p>
<h2>2. Валюты</h2>
<p><a id="2.1" name="2.1"></a>2.1. При включении показателя в отчет следует учитывать ситуации, когда он может принимать значения в разных валютах. Для сравнительного анализа валюта показателя должна быть единой в пределах отчета. <br/>2.2. Если назначение отчета предполагает анализ какого-либо показателя в различных валютах, то следует одновременно выводить значения показателя как в исходной валюте, так и в приведенной, единой валюте отчета. <font color="#00008b"><em>Например, в отчете "Анализ расчетов с клиентами", расчеты с клиентами могут производиться в различных валютах. Для оценки объема задолженности по всем клиентам требуется приведение сумм задолженностей к единой валюте, например, к валюте управленческого или регламентированного учета (в зависимости от конфигурации).</em></font></p>
<h2><br/>3. Контекстные и неконтестные отчеты</h2>
<p><a id="3.1" name="3.1"></a>3.1. Отчеты и варианты отчетов могут быть предназначены для разных контекстов работы.</p>
<ul>
<li>
<div>Под неконтекстным отчетом подразумевается отчет, который запускается из командного интерфейса конфигурации (например, панели отчетов) вне какого-либо контекста для начала или продолжения анализа. Отчет запускается либо со стандартными, либо с сохраненными ранее пользовательскими настройками. <img height="653" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100670.files/содержаниеотчета_1.png?_=0002864278B44D83-v2" style="aspect-ratio:893/653" width="893"/><script type="text/javascript">forceDocumentLayout()</script></div></li></ul>
<p> </p>
<ul>
<li>
<div>Под контекстным отчетом подразумевается отчет, который запускается из панели навигации какого-либо объекта учета (документа, элемента справочника), то есть при запуске происходит автоматическая настройка отборов/параметров отчета. Отчет в этом случае содержит информацию, имеющую отношение только к выбранному объекту учета. <img height="477" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100670.files/содержаниеотчета_2.png?_=0001DDCB8394A853-v2" style="aspect-ratio:1113/477" width="1113"/></div></li></ul>
<p><a id="3.2" name="3.2"></a>3.2. Если используются варианты отчетов, то пользователь не должен иметь возможность выбирать в списке вариантов отчета контекстные варианты отчета (в том числе в панели отчетов).<br/>3.3. В контекстных отчетах следует исключать из группировок объект анализа (контекст).<br/><font color="#00008b"><em>Например, группировка валовой прибыли по заказам клиентов не требуется, если отчет запущен в контексте определенного заказа клиента.<br/></em></font>3.4. При использовании СКД имя контекстного варианта отчета должно содержать слово "Контекст".<br/><font color="#00008b"><em>Например, "ДвиженияСерийНоменклатуры<strong>Контекст</strong>" отчета "ДвиженияСерийТоваров".</em></font><br/></p>
<p><br/> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100671.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Варианты отчетов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Варианты отчетов<br/></h1><div style="clear: right; float: right;">#std671</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p><a id="1" name="1"></a>1. Варианты отчетов следует создавать в случае, когда есть необходимость анализировать один и тот же вид (источник) данных в различных:</p>
<ul>
<li>группировках 

<li>сортировках 

<li>отборах 

<li>с разными наборами показателей</li></li></li></li></ul>
<p><br/>В этом случае создается отчет с несколькими вариантами отчетов.</p>
<p><font color="#00008b"><em>Примером источников данных может являться совокупность документов и регистров сведений, которые предназначены для пользователей с одинаковым уровнем прав. Например,  отчет "Выручка и себестоимость продаж":<br/><img height="326" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100671.files/вариантыотчетов_1.png?_=0000433AABC86CBB-v2" style="aspect-ratio:498/326" width="498"/><script type="text/javascript">forceDocumentLayout()</script></em></font></p>
<p><em><font color="#00008b"></font></em> </p>
<p><a id="2" name="2"></a>2. Если вариант отчета является рабочим местом или используется очень часто, то такой вариант лучше оформлять отдельным отчетом. Это упростит его использование.</p>
<p><a id="3" name="3"></a>3. Если вариант отчета требуется включить в состав различных подсистем одного и того же раздела, то вместо одного варианта отчета следует создать свои варианты отчетов для каждой подсистемы с различными параметрами и отборами. <br/><font color="#00008b"><em>Например, для отчета "Валовая прибыль по поставщикам":</em></font><br/>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="WIDTH: 708px; HEIGHT: 58px" width="708">
<tbody>
<tr>
<td><font color="#2e8b57">Правильно</font></td>
<td><font color="#b22222">Неправильно</font></td></tr>
<tr>
<td>Создать два варианта отчета: "Валовая прибыль по поставщикам (опт)" и "Валовая прибыль по поставщикам (розница)" с отборами по оптовым и розничным продажам</td>
<td>Создать один вариант отчета, который включить в состав подсистем "Продажи/Продажи и возвраты" и "Продажи/Розничные продажи"</td></tr></tbody></table></p>
<p><a id="4" name="4"></a>4. При использовании в конфигурации Библиотеки стандартных подсистем следует обязательно заполнять описание варианта отчета. В описании отчета указывается основное назначение, состав анализируемых данных.</p></font>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100672.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Поля периодов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Поля периодов</h1><div style="clear: right; float: right;">#std672</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. При настройке схемы компоновки данных следует придерживаться следующих умолчаний именования полей периодов:</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="WIDTH: 692px; HEIGHT: 222px" width="692">
<tbody>
<tr bgcolor="#f5fbf7">
<td>Поле</td>
<td>Путь</td>
<td>Синоним</td></tr>
<tr>
<td>Год</td>
<td>Периоды.Год</td>
<td>Период, год</td></tr>
<tr>
<td>Полугодие</td>
<td>Периоды.Полугодие</td>
<td>Период, полугодие</td></tr>
<tr>
<td>Квартал</td>
<td>Периоды.Квартал</td>
<td>Период, квартал</td></tr>
<tr>
<td>Месяц</td>
<td>Периоды.Месяц</td>
<td>Период, месяц</td></tr>
<tr>
<td>Декада</td>
<td>Периоды.Декада</td>
<td>Период, декада</td></tr>
<tr>
<td>Неделя</td>
<td>Периоды.Неделя</td>
<td>Период, неделя</td></tr>
<tr>
<td>День</td>
<td>Периоды.День</td>
<td>Период, день</td></tr>
<tr>
<td>Час</td>
<td>Периоды.Час</td>
<td>Период, час</td></tr>
<tr>
<td>Минута</td>
<td>Периоды.Минута</td>
<td>Период, минута</td></tr>
<tr>
<td>Секунда</td>
<td>Периоды.Секунда</td>
<td>Период, секунда</td></tr></tbody></table></p>
<p> </p>
<p><a id="2" name="2"></a>2. При настройке схемы компоновки данных следует придерживаться следующих умолчаний формата полей периодов:</p>
<p>
<table border="1" style="WIDTH: 695px; HEIGHT: 162px" width="695">
<tbody>
<tr bgcolor="#f5fbf7">
<td>Поле</td>
<td>Форматная строка</td>
<td>Пример</td></tr>
<tr>
<td>Год</td>
<td>Л=ru; ДФ='yyyy "г."'</td>
<td>2012 г.</td></tr>
<tr>
<td>Полугодие</td>
<td>Л=ru; ДФ='ММ.гггг "г."'</td>
<td>06.2012 г.</td></tr>
<tr>
<td>Квартал</td>
<td>Л=ru; ДФ='к "квартал" гггг "г."'</td>
<td>3 квартал 2012 г.</td></tr>
<tr>
<td>Месяц</td>
<td>Л=ru; ДФ='MMMM гггг "г."'</td>
<td>Август 2012 г.</td></tr>
<tr>
<td>Декада</td>
<td>Л=ru; ДФ='dd.MM.yyyy "г."'</td>
<td><span style="FONT-FAMILY: Calibri; FONT-SIZE: 12pt; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">03.08.2012 г.</span></td></tr>
<tr>
<td>Неделя</td>
<td>Л=ru; ДФ='dd.MM.yyyy "г."'</td>
<td><span style="FONT-FAMILY: Calibri; FONT-SIZE: 12pt; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">03.08.2012 г.</span></td></tr>
<tr>
<td>День</td>
<td>Л=ru; ДФ='dd.MM.yyyy "г."'</td>
<td><span style="FONT-FAMILY: Calibri; FONT-SIZE: 12pt; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">03.08.2012 г.</span></td></tr></tbody></table></p>
<p> </p>
<p><a id="3" name="3"></a>3. Для полей ПериодСекунда и Регистратор следует придерживаться указанных ниже настроек:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><br/>3.1. Для поля ПериодСекунда следует установить ограничение на использование поля в качестве доступного поля выбора, отбора, группировки и упорядочивания, так указанное поля не является пользовательским;<br/>3.2. Для поля Регистратор указать выражение представления «Регистратор»;<br/>3.3. Для поля Регистратор указать выражение упорядочивания «ПериодСекунда возр, Регистратор возр».</p></blockquote>
<p dir="ltr">Все это необходимо для корректного упорядочивания данных при расшифровке по регистратору.<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Пользовательские настройки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Пользовательские настройки</h1><div style="clear: right; float: right;">#std673</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Для эффективной работы пользователя с отчетом требуется определить состав быстрых и обычных пользовательских настроек. Состав настроек определяется основной целью использования отчета.</p>
<h2><br/>1. Общие рекомендации</h2>
<p><a id="1.1" name="1.1"></a>1.1. Избегайте использования наименований настроек, которые могут быть истолкованы пользователями неоднозначно или быть для них непонятными. </p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="WIDTH: 551px; HEIGHT: 42px" width="551">
<tbody>
<tr>
<td><font color="#2e8b57">Правильно</font></td>
<td><font color="#b22222">Неправильно</font></td></tr>
<tr>
<td>"Оплатить позже"</td>
<td>«Дата оплаты Меньше или равно …»</td></tr></tbody></table></p>
<p><a id="1.2" name="1.2"></a>1.2. Для параметров, без указания которых запрос системы компоновки данных не выполнится или его выполнение не имеет смысла, следует в настройках взвести флажок «Запрещать незаполненные значения» и установить режим использования «Всегда».<br/>1.3. Обязательные для заполнения параметры должны заполняться наиболее вероятными значениями. <br/><em><font color="#4169e1">Например, период "Этот месяц" для отчета "Выручка и себестоимость продаж".</font></em></p>
<h2>2. Быстрые пользовательские настройки<br/></h2>
<p><a id="2.1" name="2.1"></a>2.1. Рекомендуется делать не более 5-7 быстрых настроек.<br/><font color="#2e8b57">Правильно:</font></p>
<p><img height="255" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_1.png?_=0000A8F9F2C4AFCB-v2" style="aspect-ratio:840/255" width="840"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><font color="#2e8b57"></font> </p>
<p><font color="#b22222">Неправильно:</font></p>
<p><img height="312" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_2.png?_=0000BC6C5E5FFA02-v2" style="aspect-ratio:840/312" width="840"/></p>
<p><font color="#b22222"></font> </p>
<p><a id="2.2" name="2.2"></a>2.2. В состав быстрых пользовательских настроек следует включать только частотные настройки:</p>
<ul>
<li>Параметры отчета (обязательные и необязательные). Это нужно потому, что контекстное меню отчета не позволяет пользователю "на лету" применять параметры.</li></ul>
<p> <img height="509" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_3.png?_=0000AFBE897F020D-v2" style="aspect-ratio:790/509" width="790"/></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font color="#2e8b57">Правильно</font> – все параметры включены в быстрые настройки:</p>
<p><img height="255" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_4.png?_=00009E183D7C92DC-v2" style="aspect-ratio:840/255" width="840"/><br/></p>
<p><font color="#b22222">Неправильно</font> – параметр "Данные по продажам" не включен в быстрые настройки:<br/><img height="490" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_5.png?_=0001310DFDEED8A5-v2" style="aspect-ratio:840/490" width="840"/></p></blockquote>
<ul dir="ltr">
<li>
<div>Отборы по соответствующим группировкам. Должны быть добавлены в быстрые пользовательские настройки для наиболее важных группировок отчета.   </div></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p dir="ltr"><font color="#2e8b57">Правильно:</font></p>
<p dir="ltr"><img height="439" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_6.png?_=0000DFDC5B1161C3-v2" style="aspect-ratio:840/439" width="840"/></p>
<p dir="ltr"> </p>
<p dir="ltr"><font color="#b22222">Неправильно:</font></p>
<p dir="ltr"><img height="453" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_7.png?_=0000E4BAE059EDB5-v2" style="aspect-ratio:840/453" width="840"/></p>
<p dir="ltr"> </p></blockquote>
<p dir="ltr">2.3. Если в отчете несколько элементов, например, гистограмма и список, то в быстрых настройках рекомендуется предусмотреть возможность их отключения.<br/>2.4. В быстрые настройки контекстных отчетов не следует включать отборы по полям, по которым устанавливается отбор через параметры в командах вызова отчета.<br/></p>
<h2 dir="ltr">3. Обычные пользовательские настройки</h2>
<p dir="ltr">3.1. Для настроек, которые являются нечастотными,  лучше устанавливать режим редактирования "Обычный".</p>
<p dir="ltr">3.2. В состав обычных пользовательские настройки следует включать:</p>
<ul dir="ltr">
<li>
<div>Отборы по реквизитам объектов анализа, которые по умолчанию не выводятся в отчет, если таковые требуются<br/><font color="#4682b4"><em>Например, "Обособленное подразделение (филиал)" - реквизит поля "Организация"</em></font></div>
<li>
<div>Отборы по числовым показателям отчета, если таковые требуются<br/><font color="#4682b4"><em>Например, "Сумма задолженности Больше …" Настройки выбранных полей ("Выбранные поля")</em></font></div>
<li>
<div>Настройки отборов ("Отборы")</div>
<li>
<div>Настройки упорядочивания ("Сортировка")</div>
<li>
<div>Настройки условного оформления ("Условное оформление")</div>
<li>
<div>Настройки группировок ("Группировка")<br/></div></li></li></li></li></li></li></ul>
<p><font color="#4682b4"><em>Например, в настройках отчета "Выручка и себестоимость продаж" зеленым выделены быстрые настройки. Остальные настройки – обычные.</em></font><img height="309" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100673.files/пользовательскиенастройки_8.png?_=0000691F27DA32DB-v2" style="aspect-ratio:829/309" width="829"/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100674.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Заголовок отчета.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Заголовок отчета</h1><div style="clear: right; float: right;">#std674</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><a id="1" name="1"></a>1. Заголовок отчета должен четко отражать цель анализа и содержание отчета. Заголовок должен быть узнаваемым и понятным.</p>
<p><a id="2" name="2"></a>2. Если используются варианты отчета, то заголовок каждого варианта всегда должен быть заполнен и соответствовать наименованию варианта отчета. Это необходимо для быстрого поиска отчета в системе по заголовку напечатанного отчета.<br/></p>
<p><font color="#2e8b57">Правильно </font>– в таблице отчета есть заголовок, который соответствует наименованию варианта отчета:</p>
<p> <img height="492" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100674.files/заголовокотчета_1.png?_=0000CD8EB5C5753C-v2" style="aspect-ratio:633/492" width="633"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><font color="#b22222">Неправильно</font> – в таблице отчета нет заголовка: </p>
<p><img height="492" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100674.files/заголовокотчета_2.png?_=0000D248773B7735-v2" style="aspect-ratio:633/492" width="633"/></p>
<p><a id="3" name="3"></a>3. Если используются однотипные варианты отчета с различными группировками, то уточнение по группировке следует писать во множественном числе без использования разделителей (тире, скобок и т.п.), таким образом чтобы все слова названия были согласованы. </p>
<p><font color="#4682b4"><em>Например:</em></font></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="HEIGHT: 42px; WIDTH: 705px" width="705">
<tbody>
<tr>
<td><font color="#2e8b57">Правильно</font></td>
<td><font color="#b22222">Неправильно</font></td></tr>
<tr>
<td>Анализ расчетов с клиентами по договорам</td>
<td>Анализ расчетов с клиентами (по договорам)</td></tr></tbody></table></p>
<p><span style="FONT-FAMILY: Calibri"><font size="3">В исключительных случаях можно использовать разделители или иные специальные знаки, например, для стандартизованной отчетности.</font></span></p>
<p><span style="FONT-FAMILY: Calibri"><font size="3"><o:p>4. Запрещается использование названия "Основной" для варианта отчета, т.к. для новичков не понятно, что кроется за этим определением. Лучше давать осмысленные названия.<br/><font color="#4682b4"><em>Например, для отчета "Анализ причин проигрыша сделок" варианты могут называться:</em></font></o:p></font></span></p><span style="FONT-FAMILY: Calibri"><font size="3"><o:p><font color="#4682b4">
<ul>
<li>
<div><em>Анализ причин проигрыша сделок по партнерам</em></div>
<li>
<div><em>Анализ причин проигрыша сделок по ответственным</em></div>
<li>
<div><em>Анализ причин проигрыша сделок по причинам<br/></em></div></li></li></li></ul>
<p><font color="#000000">5. Следует избегать слова "отчет" в синониме и заголовках отчетов.</font></p>
<p><font color="#000000">6. Если в отчете несколько элементов (например, гистограмма и список), то для каждого рекомендуется устанавливать заголовок. Общий заголовок отчета в этом случае не обязателен. <br/></font></p></font></o:p></font></span>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Отчеты вида _таблица_, _список_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Отчеты вида "таблица", "список"</h1><div style="clear: right; float: right;">#std676</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>1. Структура отчета</h2>
<p>Отчет должен максимально соответствовать целям и задачам анализа. Отчет будет хорошим, если глядя на него, пользователю будет понятно:</p>
<ul>
<li>
<div>для кого он предназначен (должность, роль пользователя)</div>
<li>
<div>на какие вопросы и каким образом можно получить ответы с помощью этого отчета.</div></li></li></ul>
<p><a id="1.1" name="1.1"></a>1.1. Следует проектировать отчет таким образом, чтобы количество уровней вложенности не превышало 3-х.</p>
<p><a id="1.2" name="1.2"></a>1.2. Вложенность группировок  должна отражать взаимосвязь объектов анализа – от общего к частному. <br/><em><font color="#4682b4">Например, в отчете "Валовая прибыль по партнерам", видно,  какая номенклатура (частное) продана определенному партнеру (общее):</font></em></p>
<p><img height="431" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_1.png?_=0000AFD6FA83997D-v2" style="aspect-ratio:967/431" width="967"/><script type="text/javascript">forceDocumentLayout()</script><br/></p>
<p><a id="1.3" name="1.3"></a>1.3. Группировку по периоду рекомендуется располагать в колонках таблицы с упорядочиванием по возрастанию.<br/><em><font color="#4682b4">Например:</font></em><br/><img height="390" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_2.png?_=0000A232BD177822-v2" style="aspect-ratio:921/390" width="921"/></p>
<p><a id="1.4" name="1.4"></a>1.4. Дополнительную информацию по группировке следует выводить:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>• вместе с объектом анализа, если информация уточняет свойства объекта.<br/><font color="#4682b4"><em>Например, "Характеристика" для объекта "Номенклатура":</em></font><br/><img height="326" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_3.png?_=00006E1858C65ED7-v2" style="aspect-ratio:790/326" width="790"/></p>
<p>• в отдельной колонке, если информация, по сути, также является объектом анализа, но группировка по ней невозможна или усложнит восприятие отчета.<br/><em><font color="#4682b4">Например, "Валюта" в отчетах по анализу расчетов с клиентами:</font></em><br/></p>
<p><img height="577" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_4.png?_=0000A05A38F48439-v2" style="aspect-ratio:709/577" width="709"/></p>
<p> </p></blockquote>
<p dir="ltr">1.5. Показатели отчета следует располагать:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p dir="ltr">• в колонках. При этом порядок следования показателей – по важности, слева направо. В отдельных случаях показатели могут располагаться в порядке, отражающем логику вычислений (формулу).<br/><font color="#4682b4"><em>Например, в отчете "Валовая прибыль по сделкам" показатели следуют в порядке логики вычисления:<br/></em></font></p>
<p dir="ltr"><font color="#4682b4"><em><img height="294" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_5.png?_=0002DB77C7F1373F-v2" style="aspect-ratio:1241/294" width="1241"/></em></font></p>
<p dir="ltr">• в строках, если требуется сравнение нескольких показателей в динамике.<br/><font color="#4682b4"><em>Например, в отчете "Динамика оборотных средств":</em></font><br/></p>
<p dir="ltr"><img height="390" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_6.png?_=000088F7BC846743-v2" style="aspect-ratio:750/390" width="750"/></p>
<p dir="ltr"> </p></blockquote>
<p dir="ltr">1.6. В отчетах, где данные будут представлены в виде списка, рекомендуется колонку с порядковым номером делать первой.</p>
<p dir="ltr">1.7. Если предполагается печать отчета, то следует оптимизировать его макет под формат А4.</p>
<p dir="ltr"> </p>
<h2 dir="ltr">2. Сортировка данных</h2>
<p dir="ltr"><font color="#4682b4"><font color="#000000">2.1. Сортировку по умолчанию следует устанавливать исходя из назначения отчета, так, чтобы наверху отображались самые важные для пользователей данные.</font></font></p>
<p dir="ltr"><font color="#2e8b57">Правильно</font> (сортировка по долгу клиента, сравнивать просто):</p>
<p dir="ltr"><img height="713" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_7.png?_=0000C67B3A3CEF0E-v2" style="aspect-ratio:650/713" width="650"/></p>
<p dir="ltr"><font color="#b22222">Неправильно</font> (сортировка по алфавиту, сравнивать сложно):</p>
<p dir="ltr"><img height="721" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_8.png?_=0000CB5F26550C9D-v2" style="aspect-ratio:709/721" width="709"/></p>
<p dir="ltr"> </p>
<p dir="ltr">2.2. Сортировку по алфавиту (по возрастанию) следует применять в случае, когда числовые показатели являются дополнительной информацией, а целью анализа является поиск объектов учета по наименованию<br/><font color="#4682b4"><em>Например, в отчете "Движения товаров по складам" применена сортировка по наименованию номенклатуры.</em></font><br/><img height="503" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_9.png?_=0000B366A5C70EBE-v2" style="aspect-ratio:845/503" width="845"/></p>
<p dir="ltr">2.3. Сортировку по периоду (по возрастанию) следует применять, когда в отчете производится анализ с учетом периода хозяйственных операций.</p>
<p dir="ltr">2.4. Сортировка в отчетах должна применяться только к видимым объектам анализа (группировкам или показателям). Пользователю должен быть понятен принцип сортировки без дополнительных объяснений.<br/></p>
<h2 dir="ltr">3. Условное оформление</h2>
<p dir="ltr">Оформление отдельных элементов отчета играет роль индикаторов, благодаря которым пользователь обратит внимание на важные факты. При цветовом оформлении таблиц, списков и диаграмм следует придерживаться следующих правил: <br/></p>
<p dir="ltr">3.1. <em>Негативные</em> факты оформляются красным цветом (элемент стиля "НегативноеСобытие", RGB 178,34,34)<br/><em>Позитивные</em> факты оформляются зеленым цветом (элемент стиля "ПозитивноеСобытие", RGB 0,128,0)<br/><img height="421" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_10.png?_=0000B5886717ABE2-v2" style="aspect-ratio:1075/421" width="1075"/></p>
<p dir="ltr">3.2. Для фона ячеек с <em>неактуальной</em> информацией используется розовый цвет  (элемент стиля "НеактуальнаяИнформация" (RGB 255,200,200)</p>
<p dir="ltr"><img height="362" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100676.files/отчетытаблица_11.png?_=00006BD1D6AB9861-v2" style="aspect-ratio:592/362" width="592"/></p>
<p dir="ltr">3.3. <em>Итоговая</em> информация оформляется жирным шрифтом (элемент стиля вида шрифт "ИтоговаяИнформация", начертание – жирный).<br/>3.4. Для числовых полей следует включать выделение отрицательных значений в тех случаях, когда отрицательные значения однозначно указывают на ошибку в анализируемых данных или являются негативным фактом.<br/>3.5. <em>Помеченные на удаление</em> данные оформляются шрифтом с зачеркиванием(элемент стиля вида шрифт "ПомеченныеНаУдалениеДанные", начертание – зачеркнутый).</p>
<h2 dir="ltr"><br/>4. Общие итоги</h2>
<p dir="ltr"><br/>Если отображение общих итогов не имеет смысла, то его следует отключать.<br/><font color="#4682b4"><em>Например, в отчете "Прайс-лист" для колонки "Цена" общие итоги нужно отключить.</em></font><br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/700/i8100675.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Отчеты вида _диаграмма_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Отчеты вида "диаграмма"</h1><div style="clear: right; float: right;">#std675</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>1. Типы диаграмм</h2>
<p>Использование диаграмм в отчетах позволяет визуально компактно представить закономерности в данных. Это, в свою очередь, сокращает время, затрачиваемое пользователем на поиск необходимой информации.</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><a id="1.1" name="1.1"></a>1.1. Применять диаграммы в отчетах следует лишь в том случае, если объем данных потенциально невелик и диаграммы не будут перегружены.<br/>1.2. Для различных целей поиска информации должны использоваться определенные типы диаграмм:</p></blockquote>
<meta content="MSHTML 9.00.8112.16447" name="GENERATOR"/>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="WIDTH: 965px; HEIGHT: 447px">
<tbody>
<tr bgcolor="#f5fbf7">
<td valign="top">
<p align="center"><b><font>Цель поиска</font></b></p></td>
<td valign="top">
<p align="center"><b><font>Тип диаграммы</font></b></p></td>
<td valign="top">
<p align="center"><b><font>Сортировка</font></b></p></td>
<td valign="top">
<p align="center"><b><font>Условие применения</font></b></p></td></tr>
<tr>
<td rowspan="3" valign="top">
<p>Динамика показателей</p></td>
<td valign="top">
<p>График</p>
<p>График по шагам</p></td>
<td valign="top">
<p>По возрастанию периода</p></td>
<td valign="top">
<p>Много периодов</p>
<p>От 1-й до нескольких серий</p></td></tr>
<tr>
<td valign="top">
<p>График с областями</p>
<p>График с накоплением и областями</p>
<p>Нормированные графики</p></td>
<td valign="top">
<p>По возрастанию периода</p></td>
<td valign="top">
<p>Много периодов</p>
<p>От 2-х серий до нескольких серий</p></td></tr>
<tr>
<td valign="top">
<p>Вертикальные гистограммы</p></td>
<td valign="top">
<p>По возрастанию периода</p></td>
<td valign="top">
<p>Несколько периодов</p>
<p>До 3-х серий</p></td></tr>
<tr>
<td rowspan="2" valign="top">
<p>Распределение величины по значимым диапазонам</p></td>
<td valign="top">
<p>Вертикальная гистограмма</p></td>
<td valign="top">
<p>Логический порядок диапазонов</p></td>
<td valign="top">
<p>Менее 10 диапазонов</p></td></tr>
<tr>
<td valign="top">
<p>График</p></td>
<td valign="top">
<p>Логический порядок диапазонов</p></td>
<td valign="top">
<p>Более 10 диапазонов, непрерывная шкала диапазонов</p></td></tr>
<tr>
<td rowspan="3" valign="top">
<p>Анализ структуры показателей</p></td>
<td valign="top">
<p>Круговая диаграмма</p></td>
<td valign="top">
<p>По важности значений показателя,</p>
<p>по периоду</p></td>
<td valign="top">
<p>Анализ соотношения компонент как частей целого.</p>
<p>Количество компонент до 7-10</p></td></tr>
<tr>
<td valign="top">
<p>Вертикальная гистограмма</p></td>
<td valign="top">
<p>По убыванию величины показателя</p></td>
<td valign="top">
<p>Рейтинг.</p>
<p>Количество компонент – менее 10</p></td></tr>
<tr>
<td valign="top">
<p>Горизонтальная диаграмма</p></td>
<td valign="top">
<p>По возрастанию величины показателя</p></td>
<td valign="top">
<p>Рейтинг.</p>
<p>Количество компонент – более 10</p></td></tr></tbody></table></p><o:p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri; mso-fareast-font-family: Calibri; mso-bidi-font-family: Calibri"><span style="mso-list: Ignore"><font size="3">1.3. Следует избегать объемных диаграмм, так как они искажают информацию, отвлекают от закономерностей, которые можно обнаружить при визуальном анализе.</font></span></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri; mso-fareast-font-family: Calibri; mso-bidi-font-family: Calibri"><span style="mso-list: Ignore"><font size="3"></font></span></span> </p>
<h2 class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri; mso-fareast-font-family: Calibri; mso-bidi-font-family: Calibri"><span style="mso-list: Ignore"></span></span><span style="FONT-FAMILY: Calibri"><o:p>2. Условное оформление</o:p></span></h2>
<h2 class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p></o:p></span> </h2>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3">2.1. Основной цвет для гистограмм и линий графиков динамики – элемент стиля вида цвет "Диаграмма", RGB 70,130,180.</font></o:p></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3">2.2. Основной цвет для прогнозных значений гистограмм и линий графиков динамики – элемент стиля вида цвет "Прогноз", RGB 199,21,133.</font></o:p></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3">2.3. Следует избегать использования оттенков красного и зеленого цветов для отдельных значений (серий) в диаграммах, если значения (серии) не показывают критические (негативные) и позитивные значения.</font> <br/></o:p></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><font color="#2e8b57" size="3">Правильно:</font></o:p></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><img height="508" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100675.files/отчетыдиаграммы_1.png?_=000038F22161D0F0-v2" style="aspect-ratio:679/508" width="679"/><script type="text/javascript">forceDocumentLayout()</script></o:p></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><font color="#2e8b57" size="3"></font></o:p></span> </p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><font color="#b22222" size="3">Неправильно:</font></o:p></span></p>
<p class="MsoNormal" style="TEXT-INDENT: -21.6pt; MARGIN: 0cm 0cm 0pt 39.6pt; tab-stops: list 39.7pt"><span style="FONT-FAMILY: Calibri"><o:p><img height="508" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/700/i8100675.files/отчетыдиаграммы_2.png?_=000032CD5F7BFD10-v2" style="aspect-ratio:679/508" width="679"/></o:p></span></p></o:p></body><hr>
<h1 id='10_Оформление форм списков'>Оформление форм списков</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100616.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Формы списков.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Формы списков</h1><div style="clear: right; float: right;">#std616</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<ul>
<li>Состав и порядок колонок должен определяется прогнозируемым сценарием заполнения. 

<li>Отбирайте и группируйте колонки в несколько этажей так, чтобы можно было обойтись без горизонтальной полосы прокрутки.<br/><font color="#536ac2"><em>При этом нужно учитывать, что в многоэтажных списках труднее воспринимать информацию при беглом чтении.</em></font>
<li>Фиксируйте колонки там, где это уместно.<br/><font color="#536ac2"><em>Например, «№» и «Номенклатура» в списках документов.<br/></em></font>При конфигурировании можно вставлять в таблицы динамических списков колонки «с запасом», делая их по умолчанию невидимыми, чтобы пользователь со временем мог оптимально настроить список по себя. Эту рекомендацию не следует применять для табличных частей. 

<li>Рекомендуется по умолчанию делать активной колонкой ту, поиск по которой будет наиболее вероятным.<br/><font color="#536ac2"><em>Например, для табличной части списка товаров это будет колонка «Товар».</em></font>
<li>Не рекомендуется использовать режим выделения строки – строка.</li></li></li></li></li></ul>
<p><br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100617.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Списки с одной колонкой.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Списки с одной колонкой</h1><div style="clear: right; float: right;">#std617</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Не рекомендуется делать шапку. 

<li>Если заголовка нет, то визуально пустой список ничем не будет отличаться от многострочного поля ввода. Это нужно учитывать, чтобы не ввести пользователя в заблуждение. 

<li>Не рекомендуется горизонтальная разлиновка и чередование строк.</li></li></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><font color="#536ac2"><em>Неправильно:</em></font><font color="#536ac2"><em><br/><img height="259" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100617.files/неправильно.png?_=00001C811FB2C882-v2" style="aspect-ratio:335/259" width="335"/><script type="text/javascript">forceDocumentLayout()</script></em></font></p>
<p><em><font color="#536ac2"></font></em> </p>
<p dir="ltr"><em><font color="#536ac2">Правильно:</font></em></p>
<p><img height="261" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100617.files/правильно.png?_=000019C566F961C1-v2" style="aspect-ratio:338/261" width="338"/></p></blockquote></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100618.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Размеры списков.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размеры списков</h1><div style="clear: right; float: right;">#std618</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Высота списков по умолчанию может быть подобрана с учетом типового количества строк. При этом нужно исходить из практики.<br/><font color="#536ac2"><em>Например, для списка товаров в УНФ это не более5-10 штук. Для списка документов заказов покупателя 3-5 строк мало, более 20 уже много т.к. такое количество все равно не охватить одним взглядом.</em></font>
<li>Не обязательно стремиться к одинаковой высоте списков, например, в различных документах. Они должны быть узнаваемыми, но точного соблюдения геометрии не требуется. 

<li>Высота строки управляемого списка при обычном шрифте – 19 pt. 

<li>Если нужно понять какой ширины должна быть колонка или поле и известно типовое количество символов в значении, используйте формулу:<br/><font color="#536ac2"><em>Ширина колонки = Количество символов/1,25</em></font></li></li></li></li></ul></font>
<h2>Минимальные размеры колонок для таблиц управляемой формы</h2>
<h2>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; MARGIN: auto auto auto 4.65pt; WIDTH: 414.1pt; BORDER-COLLAPSE: collapse; BORDER-TOP: medium none; BORDER-RIGHT: medium none; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 1184; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext" width="552">
<tbody>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; BACKGROUND: #e5f2ff; HEIGHT: 24.35pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Колонка<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; BACKGROUND: #e5f2ff; HEIGHT: 24.35pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Количество символов (с пробелами)<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; BACKGROUND: #e5f2ff; HEIGHT: 24.35pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Ширина<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 1">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Банк<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 2">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Банковский счет<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 3">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">БИК<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">9<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">7<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 4">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Валюта<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">3<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">3<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 5">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Год<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">4<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">4<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 6">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Дата (со временем)<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">19<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">13<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 7">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Договор<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">24<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">19<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 8">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Индекс<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">6<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">5<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 9">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">ИНН физ. лица<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">12<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">10<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 10">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">ИНН юр.лица<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">10<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">8<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 11">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Код ИФНС<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">4<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">4<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 12">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Комментарий<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 13">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Контрагент<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 14">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">КПП<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">9<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">7<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 15">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Месяц<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">8<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">7<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 16">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Номенклатура<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 17">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Номер<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">11<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">9<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 18">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Номер ГТД<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">30<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">23<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 19">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">ОГРН<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">13<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">10<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 20">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">ОКАТО<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">11<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">9<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 21">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Описание<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 22">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Организация<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 23">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Ответственный<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">15<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">12<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 24.35pt; mso-yfti-irow: 24; mso-yfti-lastrow: yes">
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p style="MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">Подразделение<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">20<o:p></o:p></font></font></span></p></td>
<td nowrap="" style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; PADDING-RIGHT: 5.4pt; HEIGHT: 24.35pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="bottom">
<p align="center" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><span style="mso-fareast-language: RU"><font face="Verdana"><font size="2">16<o:p></o:p></font></font></span></p></td></tr></tbody></table></h2><span class="Apple-style-span" style="WIDOWS: 2; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 14px Verdana; WHITE-SPACE: normal; ORPHANS: 2; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">
<h1 style="TEXT-ALIGN: left; FONT-FAMILY: Arial, Tahoma; COLOR: rgb(0,51,102); FONT-SIZE: 18pt; FONT-WEIGHT: bold">Какую высоту строки использовать</h1>
<ul>
<li>Одинарную, если значения в ячейках короткие и список выглядит компактно и не перегружено. 

<li>Двойную, если значения в ячейках длинные и важно их видеть полностью.</li></li></ul></span><br/></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100581.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Быстрые отборы в списках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt">Быстрые отборы в списках</h1><div style="clear: right; float: right;">#std581</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2 style="MARGIN: 12pt 0cm 3pt"><br/>1. Когда использовать</h2>
<p style="MARGIN: 12pt 0cm 3pt">1.1 Если список используется часто и просматриваются типовые поисковые «запросы». <font color="#536ac2"><em><br/>Например, по контрагенту, за период и т.д.</em></font></p>
<p style="MARGIN: 12pt 0cm 3pt">1.2 Если список подразумевает большое количество объектов, что создаст трудности для самостоятельного поиска (идентификации) объекта пользователем.</p>
<p style="MARGIN: 12pt 0cm 3pt">1.3. При работе со списком частотной является операция выбора/поиска.</p>
<h2 style="MARGIN: 12pt 0cm 3pt">2. Как оформлять быстрые отборы</h2>
<p style="MARGIN: 12pt 0cm 3pt">2.1 Поля ввода или флажки рекомендуется размещать перед списком сверху, слева или справа, в зависимости от состава отборов и их смысла. Допускается размещать внизу списка, если отбор полезный, но не частотный. <font color="#536ac2"><em><br/>Например, «Показывать выполненные задачи» в списке «Мои задачи».</em></font></p>
<p style="MARGIN: 12pt 0cm 3pt">2.2. Быстрые отборы сверху следует располагать над командной панелью списка.</p>
<p style="MARGIN: 12pt 0cm 3pt">2.3 У полей необязательных отборов должна быть кнопка очистки или должна быть одна кнопка очистки всех полей быстрого отбора.</p>
<p style="MARGIN: 12pt 0cm 3pt">2.4 Быстрые отборы следует оформлять без кнопки открытия</p>
<p style="MARGIN: 12pt 0cm 3pt">
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="WIDTH: 618px; HEIGHT: 59px" width="618">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td><img height="33" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100581.files/01.png?_=000006A95420DB1F-v2" style="aspect-ratio:279/33" width="279"/><script type="text/javascript">forceDocumentLayout()</script></td>
<td><img height="31" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100581.files/02.png?_=000007DF6F3606B4-v2" style="aspect-ratio:293/31" width="293"/></td></tr></tbody></table></p>
<p style="MARGIN: 12pt 0cm 3pt"><font face="Verdana" size="2">2.5 Если поля быстрых отборов по умолчанию сильно растягиваются, то для них следует устанавливать фиксированные размеры (при условии, что хорошие размеры можно заведомо подобрать)</font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100604.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Многоэтажные списки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Многоэтажные списки</h1><div style="clear: right; float: right;">#std604</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Когда данные важно просматривать без прокрутки. 

<li>Если в списке много колонок, например, более 10. 

<li>Если для просмотра данных пользователям часто придется использовать горизонтальную полосу прокрутки. 

<li>При проектировании учитывайте, что в многоэтажных списках визуальный поиск данных сложнее, чем в одноэтажных.<br/></li></li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100606.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Команды, размещаемые во _Всех действиях_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Команды, размещаемые во "Всех действиях"</h1><div style="clear: right; float: right;">#std606</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Рекомендуется использовать умолчание платформы. 

<li>Для отдельных списков допускается индивидуальная настройка командной панели. При этом непосредственно в командной панели формы лучше располагать небольшое количество наиболее частотных команд (не более 10),  а остальные размещать во «Все действия».<br/></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Заголовки списков.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Заголовки списков</h1><div style="clear: right; float: right;">#std607</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2><br/>1. Оформление заголовка списка</h2>
<p><a id="1.1" name="1.1"></a>1.1. Если список имеет командную панель, то его заголовок выводится в виде группы с рамкой "линия".<br/><font color="#00008b"><em>Например, список "Выданные авансы":</em></font></p>
<p><img height="469" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/11ff6d~1.png?_=0000BC67EF50792F-v2" style="aspect-ratio:692/469" width="692"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><a id="1.2" name="1.2"></a>1.2. Если список не имеет командной панели, то его заголовок выводится в положении "верх".<br/><font color="#00008b"><em>Например, список "Файлы" в карточке письма:</em></font><br/><img height="349" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/1245a1~1.png?_=0000859ED3ECC9FB-v2" style="aspect-ratio:747/349" width="747"/></p>
<h2>2. Отражение количества элементов в списке</h2>
<p><a id="2.1" name="2.1"></a>2.1. Количество элементов следует показывать только в тех случаях, когда это уместно и помогает пользователю решить какую-либо задачу. <br/><font color="#00008b"><em>Например, в карточке внутреннего документа количество в заголовке списка файлов показывает, с каким числом файлов нужно ознакомиться пользователю:</em></font></p>
<p><img height="612" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/2158e1~1.png?_=000116D3E39C5B46-v2" style="aspect-ratio:756/612" width="756"/></p>
<p><a id="2.2" name="2.2"></a>2.2. Если в заголовке конкретного списка принято выводить количество элементов, то это нужно делать во всех формах программы, где этот список используется и решает аналогичные задачи.<br/><font color="#00008b"><em>Например, количество в заголовке списка файлов выводится во всех видах документов: входящих, исходящих, внутренних.</em></font></p>
<p><a id="2.3" name="2.3"></a>2.3. Количество элементов в списке выводится после заголовка, в круглых скобках.<br/><font color="#00008b"><em>Например, число товаров в списке "Товары"  документа "Отбор (размещение) товаров":</em></font><br/><img height="456" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/23ac09~1.png?_=00011039164D837B-v2" style="aspect-ratio:772/456" width="772"/></p>
<p><a id="2.4" name="2.4"></a>2.4. В пустом списке количество элементов выводить не требуется.</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table style="WIDTH: 626px; HEIGHT: 227px" width="626">
<tbody>
<tr>
<td><font color="#3cb371">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td><img height="201" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/241~1.png?_=00002091CDB2B9FC-v2" style="aspect-ratio:282/201" width="282"/></td>
<td><img height="201" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/242~1.png?_=000021BBAC7284EC-v2" style="aspect-ratio:284/201" width="284"/></td></tr></tbody></table></p>
<p> </p>
<h2>3. Ситуации, в которых заголововок списка не выводится</h2>
<p><br/>3.1. Если на форме только один список. В качестве заголовка выступает название формы.<br/><font color="#00008b"><em>Например, журнал "Кассовые документы":</em></font></p>
<p><img height="444" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/317e50~1.png?_=000091E9B35F241A-v2" style="aspect-ratio:644/444" width="644"/></p>
<p> </p>
<p><a id="3.2" name="3.2"></a>3.2. Если на форме два списка, связанных общих контекстом. При этом назначение списков должно быть интуитивно понятно и не требовать дополнительного пояснения. В качестве общего заголовка выступает название формы.<br/><font color="#00008b"><em>Например, дерево папок файлов и список файлов в папке:</em></font><br/><img height="401" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/32e6d3~1.png?_=00011EEE877A7137-v2" style="aspect-ratio:833/401" width="833"/></p>
<p> </p>
<p><a id="3.3" name="3.3"></a>3.3. Если список выводится на странице (вкладке). В качестве заголовка выступает название страницы (вкладки).<br/><font color="#00008b"><em>Например, вкладка "Товары" в документе "Счет на оплату покупателю":</em></font><br/><img height="506" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100607.files/33cb6b~1.png?_=0000D7F28F2BB916-v2" style="aspect-ratio:756/506" width="756"/></p>
<p>В остальных случаях заголовок списка рекомендуется показывать.<br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100627.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Колонки с флажками.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Колонки с флажками</h1><div style="clear: right; float: right;">#std627</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Избегайте длинных заголовков т.к. колонка при этом выглядит некрасиво, занимает много места: флажок прижат влево и вся колонка пустая. 

<li>По возможности, заменяйте названия таких колонок на понятные картинки с хорошей подсказкой или используйте сокращения. Необходимо помнить, что большое количество картинок замедляет открытие формы.<br/></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100609.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Группировки в списках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Группировки в списках</h1><div style="clear: right; float: right;">#std609</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Группировку в списке стоит использовать, если есть уверенность в том, что она будет способствовать визуальному поиску нужных данных 

<li>Если группировок просматривается несколько, то их можно вынести как настройку в область быстрого отбора. 

<li>Следует помнить, что группировки могут сильно затормозить работу (см. <a href="#02_Особенности реализации команд для форм списков.htm" target="_top">Ограничения при использовании динамических списков</a>)</li></li></li></ul>
<p>См. также: <a href="#04_Быстрые отборы в списках.htm" target="_top">Быстрые отборы в списках<br/></a><br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100582.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Команда _Создать_ в журналах документов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt">Команда "Создать" в журналах документов</h1><div style="clear: right; float: right;">#std582</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p style="MARGIN: 12pt 0cm 3pt"> </p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2">1. Для создания документов в некоторых журналах рекомендуется использовать подменю «Создать» вместо стандартной команды «Создать».<br/></font><font size="2">Вариант создания через подменю подходит, если:</font></p>
<ul>
<li>
<div style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><font size="2">в журнале отражается небольшое количество видов документов (до 6) </font></div>
<li>
<div style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 0pt; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><font size="2">журнал часто используется в работе</font></div></li></li></ul>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2">2. В подменю размещаются команды для открытия конкретных типов документов.</font></p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2"></font> </p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2">3. Картинку <img height="20" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100582.files/add button.png?_=0000041ECB3541CC-v2" style="aspect-ratio:20/20" width="20"/><script type="text/javascript">forceDocumentLayout()</script><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><span style="mso-spacerun: yes"> </span>следует добавлять только для подменю «Создать», для каждого типа команды в подменю ее использовать нет необходимости.</font></p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font color="#536ac2" size="2">Например, в журнале «Кассовые документы» доступны команды создания «Приходного кассового ордера», «Расходного кассового ордера» и т.д.</font></span></i></p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font color="#536ac2" size="2"><img height="113" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100582.files/создать.png?_=0000132902C6646C-v2" style="aspect-ratio:227/113" width="227"/></font></span></i></p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2"></font></p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2"></font> </p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2">4. В подменю «Создать» рекомендуется сортировать команды по частоте использования, а не в алфавитном порядке.</font></p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2"></font> </p>
<p style="LINE-HEIGHT: normal; MARGIN: 0cm 0cm 6pt"><font size="2">5. При использовании подменю «Создать» поведение клавиши <span lang="EN-US" style="mso-ansi-language: EN-US">Insert</span> не меняется – при нажатии на нее открывается стандартная форма «Выбор типа документа».</font></p>
<p style="MARGIN: 0cm 0cm 10pt"><o:p><font size="2"> </font></o:p></p>
<p style="MARGIN: 0cm 0cm 10pt"><o:p><font size="2"> </font></o:p></p>
<p><font size="2"></font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100610.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Пояснение невозможности заполнения ячеек в табличных частях.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Пояснение невозможности заполнения ячеек в табличных частях</h1><div style="clear: right; float: right;">#std610</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В случае, если ячейка в табличной части не нуждается в заполнении в том или ином состоянии, необходимо сообщать пользователю о причине.<br/>Текст рекомендуется оформлять так:</p>
<ul>
<li>угловые скобки 

<li>цвет текста: «ТекстЗапрещеннойЯчейки» (RGB: 192,192,192) 

<li>с маленькой буквы</li></li></li></ul>
<p><font color="#536ac2"><em>Например, в случае если номенклатура не использует характеристики, в ячейке «Характеристика» выводится сообщение в угловых скобках: &lt;характеристики не используются&gt;</em></font></p>
<p><font color="#536ac2"><em><img height="273" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100610.files/характер.png?_=000087299F841B1C-v2" style="aspect-ratio:833/273" width="833"/><script type="text/javascript">forceDocumentLayout()</script><br/></em></font></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100584.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Акцентирование внимания на просроченных или критичных состояниях.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt">Акцентирование внимания на просроченных или критичных состояниях</h1><div style="clear: right; float: right;">#std584</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2"><font face="Verdana" size="2">
<p style="MARGIN: 12pt 0cm 3pt"><br/>При необходимости привлечь внимание, например к истекающему состоянию, сроку выполнения операции и т.п., рекомендуется выделять только тот элемент, который поможет пользователю понять в чем причина привлечения внимания и что делать дальше.</p>
<p style="MARGIN: 12pt 0cm 3pt"><br/>Цвет текста: "ПросроченныеДанные" (RGB 178; 34; 34)</p>
<p style="MARGIN: 12pt 0cm 3pt"><br/><font color="#536ac2"><em>Например, в случае если истекает срок действия Соглашения с поставщиком, необходимо выделять только ячейку состояния «действует» и ячейку «действует по».  <br/></em></font></p></font>
<p><img height="184" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100584.files/action.png?_=00005E29340AAF5E-v2" style="aspect-ratio:1068/184" width="1068"/><script type="text/javascript">forceDocumentLayout()</script></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Групповые обработки в списках.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Групповые обработки в списках<font face="Verdana" size="2"></font></h1><div style="clear: right; float: right;">#std653</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Решаемые проблемы: <br/>• Различные отклики программы на одни и те же действия пользователя<br/>• Пользователь остается без отклика программы на свое действие</p>
<p><a id="1" name="1"></a>1. При использовании групповых обработок необходимо сообщать пользователю о количестве удачно выполненных операций. </p>
<p><font color="#00008b"><em>Например, при изменении статуса у выделенных заказов клиентов программа сообщает пользователю, что статус был успешно изменен у всех заказов:</em></font></p>
<p><img height="85" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.files/1.png?_=000023EA1AFED8E6-v2" style="aspect-ratio:255/85" width="255"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><font color="#00008b"><em>В случае возникновения ошибок программа сообщает пользователю:</em></font></p>
<p><img height="85" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.files/2.png?_=00002293158B5CCC-v2" style="aspect-ratio:255/85" width="255"/></p>
<p><em><font color="#00008b"></font></em> </p>
<p><a id="2" name="2"></a>2. Нельзя оставлять пользователя без отклика в случае возникновении ошибок. В случае, если часть или все объекты групповой обработки выполнены неудачно, необходимо сообщить об этом пользователю.</p>
<p><font color="#00008b"><em>Например, пользователь пробует измененить статус у Заказов клиентов, которые находятся в статусе "Закрыт" на статус "Закрыт". Система сообщает пользователю, что документы уже находятся в статусе "Закрыть" и в изменении статуса нет необходимости.</em></font><br/></p>
<p><img height="229" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.files/3.png?_=000032B73998EA17-v2" style="aspect-ratio:234/229" width="234"/>    <img height="85" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.files/4.png?_=000029F0A4B3131A-v2" style="aspect-ratio:255/85" width="255"/></p>
<p> </p>
<p><a id="3" name="3"></a>3. Групповые обработки в списках с группировкой списка</p>
<p><img height="192" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.files/5.png?_=00012901855B2C7F-v2" style="aspect-ratio:624/192" width="624"/></p>
<p>При реализации групповых обработок при установленной группировке списка необходимо соблюдать следующие требования:<br/>• При выделении нескольких строк, в том числе строк группировки, в момент групповой обработки игнорировать строки группировок. Обработка применяется только к выделенным строкам.<br/>• При выделении только строки группировки и применении групповой обработки выдавать платформенное сообщение:<br/></p>
<p><img height="126" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 100/i8100653.files/сообщение.png?_=000026074196A613-v2" style="aspect-ratio:429/126" width="429"/></p></body><hr>
<h1 id='13_Формы'>Формы</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100619.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Формы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Формы</h1><div style="clear: right; float: right;">#std619</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font size="2">Форма должна быть оптимизирована под клавиатурный ввод : </font></p><font size="2">
<ul>
<li>Логичный сценарий переходов по клавише Tab. 

<li>Последний переход должен быть на кнопку завершающую сценарий. 

<li>Связанные объекты должны быть расположены так, чтобы переходы по клавише Tab осуществлялся последовательно.<br/><font color="#536ac2"><em>Например, переход с выбора партнера на выбор контрагента.</em></font></li></li></li></ul></font><br/>
<p><font size="2">См. Также: <a href="#02_Компоновка форм.htm" target="_top">Общие рекомендации компоновки форм</a></font></p>
<p><font size="2"><br/></font><font face="Verdana" size="2"> </font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Компоновка форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Компоновка форм</h1><div style="clear: right; float: right;">#std597</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><o:p><font face="Calibri" size="3"> См. также: <a href="#04_Компоновка форм.htm" target="_top">Компоновка форм (8.3)</a></font></o:p></p>
<h2>1. Общие рекомендации</h2><font face="Verdana" size="2"><font face="Calibri" size="3">
<p><font face="Verdana"><font size="2">1.1. Один и тот же реквизит в разных формах рекомендуется размещать в одинаковом месте. <br/><font color="#536ac2"><em>Например, поле «Контрагент» располагается в левой верхней части всех форм, в которых присутствует.</em></font></font></font></p>
<p></p></font>1.2. В шапке формы документа размещаются реквизиты, используемые для его правильной регистрации в программе. Сведения, относящиеся к содержательной части документа, итоговые и второстепенные реквизиты в шапке не указываются.
<p><a id="1.3" name="1.3"></a>1.3. Шапка документа может состоять из одной, двух или трех колонок. Число и состав колонок определяются в зависимости от количества реквизитов документа.<br/></p></font>
<h2 style="MARGIN: 12pt 0cm 3pt"><br/>2. <a name="_toc290565803">Оформление шапки, состоящей из двух колонок</a></h2><font face="Verdana" size="2">
<p style="MARGIN: 12pt 0cm 3pt">2.1. В левой колонке рекомендуется размещать основные сведения о документе, а в правой – второстепенные.</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="3"><font face="Calibri">Левая колонка<o:p></o:p></font></font></b></p></td>
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="3"><font face="Calibri">Правая колонка<o:p></o:p></font></font></b></p></td></tr>
<tr style="mso-yfti-irow: 1">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Важные для заполнения поля</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Вспомогательные, малозначительные поля</font></p></td></tr>
<tr style="mso-yfti-irow: 2">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Поля, заполняемые пользователем</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Поля, заполняемые автоматически, значение которых требуется только проконтролировать</font></p></td></tr>
<tr style="mso-yfti-irow: 3">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Обязательные для заполнения поля</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Не обязательные для заполнения поля</font></p></td></tr>
<tr style="mso-yfti-irow: 4; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Поля, значения которых заполняются по данным, приходящим извне</font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Поля, значения которых пользователь устанавливает самостоятельно по внутренним данным</font></p></td></tr></tbody></table><o:p><font face="Calibri" size="3"></font></o:p></p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal">2.2. Реквизиты рекомендуется распределять по колонкам в следующем порядке:</p>
<p>
<table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="2">Левая колонка<o:p></o:p></font></b></p></td>
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="347">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="2">Правая колонка<o:p></o:p></font></b></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<ol style="MARGIN-TOP: 0cm" type="1">
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l1 level1 lfo2; tab-stops: list 36.0pt"><font size="2">Номер, дата </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l1 level1 lfo2; tab-stops: list 36.0pt"><font size="2">Вид операции </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l1 level1 lfo2; tab-stops: list 36.0pt"><font size="2">Контрагент </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l1 level1 lfo2; tab-stops: list 36.0pt"><font size="2">Банковский счет (контрагента) </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l1 level1 lfo2; tab-stops: list 36.0pt"><font size="2">Договор </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l1 level1 lfo2; tab-stops: list 36.0pt"><font size="2">Контактное лицо</font></li></li></li></li></li></li></ol></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 260.55pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="347">
<ol style="MARGIN-TOP: 0cm" type="1">
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l2 level1 lfo3; tab-stops: list 36.0pt"><font size="2">Организация </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l2 level1 lfo3; tab-stops: list 36.0pt"><font size="2">Банковский счет (организации) </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l2 level1 lfo3; tab-stops: list 36.0pt"><font size="2">Подразделение </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l2 level1 lfo3; tab-stops: list 36.0pt"><font size="2">Склад </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l2 level1 lfo3; tab-stops: list 36.0pt"><font size="2">Касса </font>
<li class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l2 level1 lfo3; tab-stops: list 36.0pt"><font size="2">Регистрация в ИФНС</font></li></li></li></li></li></li></ol></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal">2.3. При наличии в форме нескольких взаимозависимых полей, их следует располагать последовательно – одно под другим.<br/><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font color="#536ac2">Например, поле «Подразделение» располагается сразу под полем «Организация»<o:p></o:p></font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal">2.4. Если в форме есть поле «Вид операции», то под ним следует размещать реквизиты, состав которых зависит от выбора вида операции, за исключением реквизитов, отражаемых в содержательной части формы.</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"> </p></font>
<h2 style="MARGIN: 12pt 0cm 3pt">3. <a name="_toc290565804">Примеры оформления конкретных групп полей</a></h2><font face="Verdana" size="2">
<p>
<table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext; mso-table-layout-alt: fixed">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt" valign="top" width="359">
<p align="left" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="2">Левая колонка<o:p></o:p></font></b></p></td>
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="359">
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><b style="mso-bidi-font-weight: normal"><font size="2">Правая колонка<o:p></o:p></font></b></p></td></tr>
<tr style="mso-yfti-irow: 1">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Номер, дата + Вид операции</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"><img height="52" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/номер дата.png?_=00001B29528DF289-v2" style="aspect-ratio:350/52" width="350"/><script type="text/javascript">forceDocumentLayout()</script></o:lock></v:shapetype></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Организация + Банковский счет (организации)</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="51" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/орг банк.png?_=000018D6652751F9-v2" style="aspect-ratio:340/51" width="340"/></p></td></tr>
<tr style="mso-yfti-irow: 2">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Контрагент + Договор</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="51" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/контр дог.png?_=0000163AE316AFF3-v2" style="aspect-ratio:342/51" width="342"/></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Организация + Подразделение + Склад</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="71" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/орг под склад.png?_=000020698FF05C65-v2" style="aspect-ratio:338/71" width="338"/></p></td></tr>
<tr style="mso-yfti-irow: 3">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Контрагент + Банковский счет (контрагента)</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="55" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/контр банк.png?_=00001AE9C0469CBB-v2" style="aspect-ratio:346/55" width="346"/></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Организация + Подразделение</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="48" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/орг под.png?_=0000189A75B96131-v2" style="aspect-ratio:339/48" width="339"/></p></td></tr>
<tr style="mso-yfti-irow: 4">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Контрагент + Контактное лицо</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="55" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/контр конт.png?_=000019DCD7DCD23D-v2" style="aspect-ratio:337/55" width="337"/></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Организация + Касса</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="43" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/орг касс.png?_=000013DAD70F084D-v2" style="aspect-ratio:329/43" width="329"/></p></td></tr>
<tr style="mso-yfti-irow: 5; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 269.45pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="359">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font size="2">Организация + Регистрация в ИФНС</font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="46" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100597.files/орг рег.png?_=00001AAD40A70829-v2" style="aspect-ratio:339/46" width="339"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><o:p><font face="Calibri" size="3"></font></o:p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100620.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Командная панель формы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Командная панель формы<font face="Verdana" size="2"></font></h1><div style="clear: right; float: right;">#std620</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font face="Verdana" size="2">См. также: <a href="#01_Командная панель документа.htm" target="_top">Командная панель документа (8.3)</a></font></p>
<p>В командной панели формы кнопка по умолчанию должна быть самой левой (первой)</p>
<p><font face="Verdana" size="2"> </font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100682.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Порядок полей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Порядок полей</h1><div style="clear: right; float: right;">#std682</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2"><font face="Verdana" size="2">
<ul>
<li>Кнопкам рекомендуется устанавливать свойство «ПропускатьПриВводе». 

<li>Для поля, с которого обычно начинается ввод, рекомендуется установить свойство «АктивизироватьПоУмолчанию».</li></li></ul></font></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100681.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Размеры.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размеры</h1><div style="clear: right; float: right;">#std681</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2"><font face="Verdana" size="2">
<ul>
<li>Установку размера формы и/или ее элементов рекомендуется выполнять только в особенных случаях, например, для декораций. В остальных случаях рекомендуется использовать умолчание платформы. 

<li>Для форм с панелями со страницами рекомендуется подбирать ширину так, чтобы одновременно были видны все закладки страниц. 

<li>Ширину колонок форм рекомендуется изменять только в тех случаях, если колонки содержат простой набор хорошо масштабируемых полей и групп, например, два поля списка в левой и правой колонке. 

<li>Для форм объектов рекомендуется использовать авто ширину колонок (установлено по умолчанию).</li></li></li></li></ul></font></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100621.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Группы элементов формы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Группы элементов формы.<br/></h1><div style="clear: right; float: right;">#std621</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>Применение</h2><font face="Verdana" size="2">
<ul>
<li>Если элементы формы можно объединить в группу с общим признаком.<br/><font color="#536ac2"><em>В группу «Доверенность» входят элементы формы: номер, дата выдачи, кем выдана, кому выдана.</em></font>
<li>Для облегчения визуального восприятия формы за счет объединения элементов формы. </li></li></ul>
<p> </p></font>
<h2>Количество элементов в группе </h2><font face="Verdana" size="2">
<ul>
<li>Нет необходимости делать группы, содержащие один элемент. 

<li>Рекомендуется размещать в группах 4-9 элементов. В случае если элементов более 9 необходимо разбить их на две и более группы.<br/></li></li></ul></font>
<h2>Оформление заголовка группы</h2><font face="Verdana" size="2">
<ul>
<li>Заголовок может использоваться в качестве расшифровки или пояснения, если из названий реквизитов не достаточно понятно их назначение. 

<li>Не рекомендуется использование заголовка, если группа одна и расположена на странице панели (вкладке). В этом случае заголовком группы является заголовок самой страницы.<br/></li></li></ul></font>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#07_Элементы форм_ требования по локализации.htm" target="_top">Элементы форм: требования по локализации</a> </li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Поля _Ответственный_ и _Комментарий_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt">Поля "Ответственный" и "Комментарий"</h1><div style="clear: right; float: right;">#std587</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <font size="2"><a href="#04_Поля _Ответственный_ и _Комментарий_.htm" target="_top">Поля "Ответственный" и "Комментарий" (8.3)</a></font></p>
<p style="MARGIN: 12pt 0cm 3pt"><br/>Поля "Ответственный" и "Комментарий", используемые в формах документов, необходимо располагать и оформлять в соответствии со следующими рекомендациями.<br/><font face="Verdana" size="2"></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><strong>1. Расположение группы полей "Ответственный" и "Комментарий"</strong></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal">Группу полей "Ответственный" и "Комментарий" следует располагать в самом низу формы, друг за другом:</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="34" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.files/ответственный-коммент.png?_=00000BA54B7B9D06-v2" style="aspect-ratio:676/34" width="676"/><script type="text/javascript">forceDocumentLayout()</script></p></blockquote>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><strong>2. Оформление поля «Ответственный»</strong></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal">• Поле не растягивается на всю ширину формы</p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><br/>• Для поля подбирается такая ширина,  чтобы в него полностью помещались типичные выбираемые значения. На максимально возможные значения ориентироваться не следует.<br/><font face="Verdana" size="2"></font></p>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><font face="Verdana" size="2"><img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.files/02.png?_=000006BAD57FCF1B-v2" style="aspect-ratio:306/23" width="306"/></font></p></blockquote>
<p style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"> </p><font face="Verdana" size="2">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"><strong>3. Оформление поля «Комментарий»</strong></font></o:p></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3">• Заголовок располагается слева от поля</font></o:p></p><o:p><font face="Calibri" size="3"></font></o:p><o:p><font face="Calibri" size="3">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><br/>• Поле растягивается по горизонтали на всю ширину формы</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><br/>• Поле не растягивается по вертикали</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"></p></font></o:p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3">Как правило, поле "Комментарий" является многострочным (свойство "МногострочныйРежим" = Да). В случае, если в поле "Комментарий" всегда будет вводиться небольшое количество информации, его рекомендуется делать однострочным (свойство "МногострочныйРежим" = Авто).<br/>Решение о том, каким должно быть поле – однострочным или многострочным –</font></o:p><o:p><font face="Calibri" size="3"> принимается разработчиком исходя из прикладных требований.<br/></font></o:p></p></blockquote></font>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><b style="mso-bidi-font-weight: normal"><span style="FONT-FAMILY: Calibri"><font size="3">3.1. Оформление многострочного поля "Комментарий":</font></span></b></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="48" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.files/03.png?_=000004E79751A9BA-v2" style="aspect-ratio:664/48" width="664"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3">• Высота поля – две строки</font></o:p><o:p><font face="Calibri" size="3"><br/>• Используется кнопка выбора, по которой открывается окно редактора многострочного текста (блокирующее):<br/></font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><img height="161" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.files/04.png?_=00000E042DFFAC50-v2" style="aspect-ratio:344/161" width="344"/></p></blockquote>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"><strong> 3.2. Оформление однострочного поля "Комментарий":</strong></font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><o:p><font face="Calibri" size="3"><img height="29" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.files/комм.png?_=000005E68243264A-v2" style="aspect-ratio:658/29" width="658"/></font></o:p></p><o:p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt 18pt; TEXT-INDENT: -18pt; mso-list: l0 level1 lfo1; tab-stops: list 18.0pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-FAMILY: Calibri"><font size="3">Высота поля – одна строка<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt 18pt; TEXT-INDENT: -18pt; mso-list: l0 level1 lfo1; tab-stops: list 18.0pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="FONT-FAMILY: Calibri"><font size="3">Кнопка выбора не используется<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"></font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri"><font size="3">Если поле «Комментарий» в типовых случаях будет большим, то допускается вынести его на отдельную вкладку</font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt"><span style="FONT-FAMILY: Calibri"></span></p></o:p> 
<p style="MARGIN: 12pt 0cm 3pt"><strong>4. Оформление вкладки «Комментарий»<br/></strong></p><font face="Verdana" size="2">
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt">• Заголовок вкладки – «Комментарий»</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><br/>• На вкладке размещается поле с текстом комментария, которое растягивается по вертикали и по горизонтали. Заголовок поля не отражается</p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal; mso-list: l0 level1 lfo1; tab-stops: list 36.0pt"><br/>• Если поле с комментарием заполнено, то в заголовке вкладки отражается картинка «Комментарий» <br/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 6pt; LINE-HEIGHT: normal"><img height="154" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100587.files/комм айкон.png?_=00000CD81FF0CAE3-v2" style="aspect-ratio:679/154" width="679"/><o:p><font face="Calibri" size="3"> </font></o:p></p></blockquote></font>
<p>См. также: <font face="Verdana" size="2"><a href="#11_Реквизит _Комментарий_ у документов.htm" target="_top">Реквизит "Комментарий" у документов</a></font></p>
<p><font face="Verdana" size="2"><br/> </font></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100588.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Группа полей _Наименование_, _Код_, _Полное наименование_, _Входит в группу_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 0cm 0cm 10pt">Группа полей "Наименование", "Код", "Полное наименование", "Входит в группу"</h1><div style="clear: right; float: right;">#std588</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p style="MARGIN: 0cm 0cm 10pt"><font face="Calibri" size="3"><br/><font face="Verdana" size="2">Поля, содержащие Наименование объекта  (одно или несколько), Код и Группу, в которую входит объект, рекомендуется объединять вместе.</font></font></p>
<p style="MARGIN: 0cm 0cm 10pt">В качестве заголовка для Группы рекомендуется использовать понятный заголовок, например «Входит в группу». Заголовки остальных полей не следует менять без крайней необходимости, чтобы они могли соответствовать синонимам соответствующих реквизитов объектов метаданных.</p>
<p style="MARGIN: 0cm 0cm 10pt">Расположение полей:</p>
<ul>
<li>
<div style="MARGIN: 0cm 0cm 10pt">Группа полей размещается в верхней части формы </div>
<li>
<div style="MARGIN: 0cm 0cm 10pt">Первыми располагаются поля «Наименование» и «Код» - горизонтально в одну строку. Поле «Код» следует за полем «Наименование» </div>
<li>
<div style="MARGIN: 0cm 0cm 10pt">При наличии поля «Полное наименование» оно размещается под полями «Наименование» и «Код» </div>
<li>
<div style="MARGIN: 0cm 0cm 10pt">Поле «Входит в группу» рекомендуется располагать последним<br/> </div></li></li></li></li></ul>
<p style="MARGIN: 0cm 0cm 10pt">Рекомендуется пропускать поле «Код» при вводе с клавиатуры.</p>
<p style="MARGIN: 0cm 0cm 10pt">Примеры расположения полей:</p>
<p><img height="171" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100588.files/группы полей.png?_=00001CA5D6EC9D29-v2" style="aspect-ratio:498/171" width="498"/><script type="text/javascript">forceDocumentLayout()</script></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100611.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Панель навигации вспомогательного окна.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Панель навигации вспомогательного окна</h1><div style="clear: right; float: right;">#std611</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Если нужно отображать в форме объекта (документа, справочника) какую-то дополнительную информацию (не хранящуюся в самом объекте), связанные списки, отчеты, и т.п., то это следует реализовывать с помощью команд, отображаемых в панели навигации вспомогательного окна, а не путем помещения этой информации в саму форму (в том числе и на отдельные закладки).<br/><font color="#536ac2"><em><br/>Лучше пользователю давать единообразные решения,  так как иначе получается, что часть связанной информации он получает через панель навигации, а часть через переключение закладок.<br/>Наличие лишних элементов может замедлять  открытие формы.</em></font><br/>
<li>Для частотных и важных форм рекомендуется вручную настраивать видимость команд в ПН, отбирая только команды перехода к важным для пользователя сведениям. 

<li>Рекомендуется размещать в ПН не более 10 команд. 

<li>Не следует размещать в панели команды перехода к другим формам для редактирования реквизитов объекта. Открывать форму элемента из панели навигации окна другой формы элемента недопустимо.<br/></li></li></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100684.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Список, открываемый из панели навигации формы объекта.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Список, открываемый из панели навигации формы объекта</h1><div style="clear: right; float: right;">#std684</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>1. Список, открываемый из панели навигации формы объекта, следует отражать с отбором по этому объекту. 

<p></p>
<p><font color="#536ac2"><em>Например, в списке «Договоры» справочника «Контрагент» отражаются договоры только по конкретному контрагенту, например, по ООО «Контрагент»</em></font> </p>
<p><a id="2" name="2"></a>2. В списке не следует выводить название объекта (в виде надписи или поля ввода в режиме "просмотр"), т.к. оно отображается в области системных команд и в панели навигации</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" style="HEIGHT: 56px; WIDTH: 1040px" width="1040">
<tbody>
<tr>
<td><font color="#2e8b57"> Правильно</font></td>
<td><font color="#b22222"> Неправильно</font></td></tr>
<tr>
<td><img height="191" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100684.files/01.png?_=00008E13383F124D-v2" style="aspect-ratio:494/191" width="494"/><script type="text/javascript">forceDocumentLayout()</script></td>
<td><img height="214" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100684.files/02.png?_=0000A1EF87D8C35A-v2" style="aspect-ratio:518/214" width="518"/></td></tr></tbody></table></p>
<p> </p>
<p><a id="3" name="3"></a>3. В списке не следует отражать колонку с названием объекта, т.к. для каждой строки это название будет одинаковым.</p>
<p><font color="#536ac2"><em>Например, в списке «Договоры» справочника «Контрагент» колонка Контрагент не выводится.</em></font></p>
<p><img height="219" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100684.files/03.png?_=00005A0A996A78A3-v2" style="aspect-ratio:631/219" width="631"/></p>
<p><a id="4" name="4"></a>4. В названии команды, отражаемой в панели навигации, не следует указывать название объекта, т.к. его можно определить из контекста.</p>
<p>
<table width="100%">
<tbody>
<tr>
<td><font color="#2e8b57"> Правильно</font></td>
<td><font color="#b22222"> Неправильно</font></td></tr>
<tr>
<td>Банковские счета</td>
<td>Банковские счета контрагента</td></tr>
<tr>
<td>Договоры</td>
<td>Договоры контрагента</td></tr>
<tr>
<td>Ответственные лица</td>
<td>Ответственные лица организаций</td></tr></tbody></table></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100589.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Блокирующая или независимая форма.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Выбор: блокирующая форма или независимая</h1><div style="clear: right; float: right;">#std589</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2><br/>Блокирующая</h2>
<ul>
<li>Работа с формой выполняется «за один заход», без необходимости переключения в другие формы. 

<li>На форме небольшое количество элементов, например, менее 5.</li></li></ul>
<h2>Независимая</h2>
<ul>
<li>Если при работе с формой может потребоваться открытие других самостоятельных форм. 

<li>Если пользователям может потребоваться сравнение двух и более объектов. 

<li>На форме много элементов, больше 9.</li></li></li></ul>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3>
<ul>
<li><a href="#04_Блокирующее или независимое открытие форм объектов.htm" target="_top">Блокирующее или независимое открытие форм объектов</a></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100612.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Формы выбора.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Формы выбора</h1><div style="clear: right; float: right;">#std612</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<ul>
<li>Рекомендуется не создавать формы выбора, а использовать генерируемые платформой по умолчанию. 

<li>Если, в соответствии с прикладной логикой, в форме выбора нужно предусмотреть особенный состав команд или колонок, то можно создать форму выбора, следуя рекомендациям  

<ul>
<li>В командной панели формы рекомендуется размещать минимально необходимый набор команд для выбора, создания нового и поиска/отбора. 

<li>В часто используемых формах выбора из больших наборов данных рекомендуется делать область быстрого отбора/поиска. 

<li>Состав колонок следует оптимизировать для быстрого визуального поиска данных</li></li></li></ul></li></li></ul>
<p><br/>См. также: <a href="#04_Быстрые отборы в списках.htm" target="_top">Быстрые отборы в списках<br/></a><br/></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Формы пошаговых помощников (мастеров).htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 16pt"><font face="Calibri">Формы </font><a name="ole_link2"></a><a name="ole_link1"><span style="mso-bookmark: OLE_LINK2"><font face="Calibri">пошаговых помощников (мастеров)</font></span></a><o:p></o:p></span></h1><div style="clear: right; float: right;">#std696</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Пошаговые помощники (мастера) используются для последовательного, контекстно-зависимого ввода данных. В помощнике весь процесс ввода данных разбивается на несколько отдельных этапов.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><font face="Calibri"><i style="mso-bidi-font-style: normal"><span style="LINE-HEIGHT: 150%; COLOR: #006699; FONT-SIZE: 12pt">Примеры пошаговых помощников: <span style="mso-spacerun: yes"> </span>помощник ввода нового партнера, помощник приема сотрудника на работу, помощник создания опроса, помощник обновления системы и т.д.</span></i><span style="LINE-HEIGHT: 150%; COLOR: #006699; FONT-SIZE: 12pt"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 14pt"><font face="Calibri">1. Расположение и оформление<span style="mso-spacerun: yes">  </span>кнопок<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">1.1. Кнопки, которые используются в форме пошагового помощника, оформляются в виде командной панели, расположенной в нижней части формы. Подобное размещение командной панели характерно именно для форм помощников.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"><img align="left" height="250" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 1.png?_=000011FA010D3B01-v2" style="aspect-ratio:352/250" width="352"/><script type="text/javascript">forceDocumentLayout()</script></font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">1.2. На каждом этапе помощника одна из кнопок должна являться кнопкой по умолчанию и отличаться от других кнопок визуально – желтым цветом фона и жирным шрифтом.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Для разных экранов помощника кнопка по умолчанию может называться по-разному.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Как правило, кнопка по умолчанию – это команда, наиболее часто используется на конкретном экране.</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"></font></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><o:p><img align="left" height="250" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 2.png?_=0000135CD3BCB565-v2" style="aspect-ratio:352/250" width="352"/></o:p></span></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><img align="left" height="250" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 3.png?_=0000122FDF5C2941-v2" style="aspect-ratio:352/250" width="352"/></o:p></span></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"></font></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"></font></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"></font></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 14pt"><font face="Calibri">2. Состав кнопок<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.1. Состав кнопок определяется для каждого помощника индивидуально и зависит от задач, которые решаются с помощью него.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Командная панель помощника может включать:<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 53.4pt; mso-list: l0 level1 lfo1; tab-stops: list 17.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: Symbol; FONT-SIZE: 12pt; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Кнопку по умолчанию:<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 89.4pt; mso-list: l0 level2 lfo1; tab-stops: list 89.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: 'Courier New'; FONT-SIZE: 12pt; mso-fareast-font-family: 'Courier New'"><span style="mso-list: Ignore">o<span style="FONT: 7pt 'Times New Roman'">       </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">"Далее"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 89.4pt; mso-list: l0 level2 lfo1; tab-stops: list 89.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: 'Courier New'; FONT-SIZE: 12pt; mso-fareast-font-family: 'Courier New'"><span style="mso-list: Ignore">o<span style="FONT: 7pt 'Times New Roman'">       </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Кнопка, подтверждающая ввод данных<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 89.4pt; mso-list: l0 level2 lfo1; tab-stops: list 89.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: 'Courier New'; FONT-SIZE: 12pt; mso-fareast-font-family: 'Courier New'"><span style="mso-list: Ignore">o<span style="FONT: 7pt 'Times New Roman'">       </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">"Закрыть"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 53.4pt; mso-list: l0 level1 lfo1; tab-stops: list 17.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: Symbol; FONT-SIZE: 12pt; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">"Назад"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 53.4pt; mso-list: l0 level1 lfo1; tab-stops: list 17.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: Symbol; FONT-SIZE: 12pt; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">"Отмена"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 53.4pt; mso-list: l0 level1 lfo1; tab-stops: list 17.4pt"><span style="LINE-HEIGHT: 150%; FONT-FAMILY: Symbol; FONT-SIZE: 12pt; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">         </span></span></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">"Справка"<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.2. <b style="mso-bidi-font-weight: normal">Кнопка «Далее»</b><o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Используется для перехода к следующему этапу помощника. <span style="mso-spacerun: yes"> </span>В название кнопки добавляется угловая скобка "&gt;".<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"><img align="left" height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 4.png?_=000005830DE32D9D-v2" style="aspect-ratio:63/23" width="63"/></font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p> </o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.3. <b style="mso-bidi-font-weight: normal">Кнопка "Назад" (при наличии)</b><o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Используется для перехода к предыдущему этапу помощника. В название кнопки добавляется угловая скобка "&lt;".</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В командной панели кнопка "Назад" всегда располагается в крайнем левом углу. На первый экран помощника кнопка "Назад" не добавляется.<o:p></o:p></font></span></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><img height="21" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 10.png?_=000002D7D084D8FB-v2" style="aspect-ratio:49/21" width="49"/></font></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.4. <b style="mso-bidi-font-weight: normal">Кнопка, подтверждающая ввод данных</b><o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Используется для безусловного применения всех действий, выполненных в помощнике.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В качестве названия для этой кнопки следует использовать глагол, характеризующий действие, которое будет выполнено при нажатии на нее.</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><o:p></o:p></font></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><span style="mso-spacerun: yes"><font face="Calibri"></font></span></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"><img align="left" height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 6.png?_=000005CABC2063E6-v2" style="aspect-ratio:63/24" width="63"/></font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p> <img height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 7.png?_=0000068103DB18E9-v2" style="aspect-ratio:75/24" width="75"/> <img height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 8.png?_=0000061B0550BD89-v2" style="aspect-ratio:71/24" width="71"/></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В случае если такое название подобрать сложно, можно использовать слово "Готово".<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"><img height="25" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 9.png?_=000004BDD0E7056E-v2" style="aspect-ratio:55/25" width="55"/></font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p> </o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Название "ОК" лучше не использовать, т.к. пользователю будет сложнее попасть в кнопку из-за небольшого размера, а также понять, какое действие подразумевается под "ОК".<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Если кнопка, подтверждающая ввод данных, расположена на одном из промежуточных экранов помощника, то в название кнопки добавляется угловая скобка "&gt;".<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В случае расположения кнопки на последнем экране помощника, угловая скобка "&gt;" не добавляется.<o:p></o:p></font></span></p><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt">
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="mso-spacerun: yes"><font face="Calibri"></font></span><img height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 11.png?_=0000080D1CBCAE64-v2" style="aspect-ratio:142/24" width="142"/><font face="Calibri"> <img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 12.png?_=000006F3F6B545CC-v2" style="aspect-ratio:86/23" width="86"/></font></p></span><span lang="EN-US" style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt; mso-ansi-language: EN-US"></span>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span lang="EN-US" style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt; mso-ansi-language: EN-US"></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.5. <b style="mso-bidi-font-weight: normal">Кнопка "Закрыть"</b><o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">После нажатия на кнопку, подтверждающую ввод данных, может быть показана информация, содержащая результаты выполнения операции (как положительные, так и отрицательные). </font></span><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Если эта информация выводится справочно, и от пользователя не требуется выполнять никаких дополнительных действий, то в качестве кнопки по умолчанию используется кнопка "Закрыть".<o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">При нажатии на эту кнопку форма помощника закрывается.</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><span style="LINE-HEIGHT: 115%; FONT-FAMILY: Calibri; FONT-SIZE: 12pt; mso-fareast-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"> <img height="252" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 12а.png?_=00006EA0EDA48DA9-v2" style="aspect-ratio:360/252" width="360"/><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype></span></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"></font></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.6. <b style="mso-bidi-font-weight: normal">Кнопка "Отмена" (при наличии)</b><o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Позволяет пользователю отказаться от ввода данных и закрыть форму помощника. <span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В случае если пользователь ввел какие-либо данные в форме, то при нажатии на кнопку "Отмена" следует выдавать сообщение с вопросом об их сохранении. <o:p></o:p></font></span></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><o:p><img height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 13.png?_=0000032DBF4CD643-v2" style="aspect-ratio:47/24" width="47"/></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"></font></span> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В командной панели кнопка "Отмена" располагается между кнопкой, подтверждающей ввод данных, и кнопкой "Справка".</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"><o:p></o:p></font></span><img height="25" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 14.png?_=00000A719F95FDB7-v2" style="aspect-ratio:136/25" width="136"/> </p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri"></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><o:p><font face="Calibri"> </font></o:p></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">2.7. <b style="mso-bidi-font-weight: normal">Кнопка "Справка" (при наличии)</b><o:p></o:p></font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">Используется для отражения справочной информации по вводу данных в помощнике. Если подобной информации не предусмотрено, то кнопку "Справка" отражать не нужно.</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><img height="17" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 15.png?_=0000041D47ED629C-v2" style="aspect-ratio:17/17" width="17"/></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"> </p><o:p></o:p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><font face="Calibri">В командной панели кнопка "Справка всегда располагается крайней справа.</font></span></p>
<p class="MsoNormal" style="LINE-HEIGHT: 150%; MARGIN: 0cm 0cm 0pt"><span style="LINE-HEIGHT: 150%; FONT-SIZE: 12pt"><img align="left" height="25" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100696.files/помощник 14а.png?_=00000A719F95FDB7-v2" style="aspect-ratio:136/25" width="136"/></span></p>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100634.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Взаимосвязанные поля.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ваимосвязанные поля</h1><div style="clear: right; float: right;">#std634</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font size="2">
<p><br/>Взаимосвязанные поля – когда заполнение одного поля зависит от значения, выбранного в другом поле.</p>
<p><em><font color="#536ac2">Например, заполнение поля «Договор» зависит от того, какой будет выбран «Контрагент»; заполнение поля «Подразделение» - от того, к какой «Организации» оно относится и т.п.</font></em></p>
<p>Пользователю необходимо визуально показать, какое из полей следует заполнить первым.<br/>Для этого поле, заполнение которого зависит от другого поля, следует оформлять недоступным до того момента, пока не будет заполнено основное поле.</p>
<p><font color="#536ac2"><em>Например, поле «Договор» следует выделять как недоступное до того момента, пока поле «Контрагент» не будет заполнено.</em></font></p></font>
<p><font face="Verdana" size="2"><img height="54" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100634.files/связь.png?_=00000B4CC9A32AB5-v2" style="aspect-ratio:388/54" width="388"/><script type="text/javascript">forceDocumentLayout()</script></font></p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100695.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Командные панели табличных частей.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script><font face="Verdana" size="2">
<h1 style="MARGIN: auto 0cm 0pt"><span style="FONT-SIZE: 18pt; FONT-FAMILY: Calibri; COLOR: #003366; mso-bidi-font-family: Arial">Командные панели табличных частей<o:p></o:p></span></h1><div style="clear: right; float: right;">#std695</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri"><font size="3">Этот стандарт распространяется на табличные части форм объектов и не распространяется на формы списков.<o:p></o:p></font></span></i></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">Командная панель табличной части формы может содержать команды, применяемые:<o:p></o:p></font></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt 2.9pt; TEXT-INDENT: 16.95pt; mso-list: l0 level1 lfo1; tab-stops: list 2.9pt"><span style="FONT-FAMILY: Symbol; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">       </span></span></span><span style="FONT-FAMILY: Calibri"><font size="3">к табличной части в целом<o:p></o:p></font></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt 2.9pt; TEXT-INDENT: 16.95pt; mso-list: l0 level1 lfo1; tab-stops: list 2.9pt"><span style="FONT-FAMILY: Symbol; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">       </span></span></span><span style="FONT-FAMILY: Calibri"><font size="3">к отдельным строкам табличной части (одной или нескольким)<o:p></o:p></font></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt 2.9pt; TEXT-INDENT: 16.95pt; mso-list: l0 level1 lfo1; tab-stops: list 2.9pt"><span style="FONT-FAMILY: Symbol; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">       </span></span></span><span style="FONT-FAMILY: Calibri"><font size="3">к одной строке табличной части<o:p></o:p></font></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"><font color="#413003">1. Команды, применяемые к табличной части в целом и</font></span><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri"> к отдельным строкам табличной части</span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.1. Команды, влияющие на заполнение отдельных строк, должны применяться исключительно к выделенным строкам.<br/><i style="mso-bidi-font-style: normal"><span style="COLOR: #006699">Например, следует использовать одну команду "Заполнить по виду цен" вместо двух – "Заполнить по виду цен во всех строках" и "Заполнить по виду цен в выделенных строках":<o:p></o:p></span></i></font></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"></font></o:p></span></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; MARGIN: auto auto auto 14.4pt; mso-border-alt: solid windowtext .5pt; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext">
<tbody>
<tr style="HEIGHT: 19.55pt; mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: windowtext 1pt solid; HEIGHT: 19.55pt; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 242.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt" valign="top" width="323">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri; COLOR: #339966"><font size="3">Правильно<o:p></o:p></font></span></p></td>
<td style="BORDER-TOP: windowtext 1pt solid; HEIGHT: 19.55pt; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 270.15pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="360">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri; COLOR: red"><font size="3">Неправильно<o:p></o:p></font></span></p></td></tr>
<tr style="HEIGHT: 88.15pt; mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; HEIGHT: 88.15pt; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 242.5pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="323">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><o:p><img align="left" height="66" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100695.files/1.png?_=00000D742340915F-v2" style="aspect-ratio:152/66" width="152"/><script type="text/javascript">forceDocumentLayout()</script></o:p></span></p></td>
<td style="BORDER-TOP: #f0f0f0; HEIGHT: 88.15pt; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 270.15pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="360">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><img align="left" height="114" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100695.files/2.png?_=000016B61C546FAC-v2" style="aspect-ratio:273/114" width="273"/></o:p></span></p></td></tr></tbody></table></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><font size="3"><span style="FONT-FAMILY: Calibri">1.2. При добавлении команды, влияющей на заполнение отдельных строк, в подменю "Все действия" следует добавлять команду "Выделить все". Это нужно делать в связи с тем, что многие пользователи не знакомы с горячими клавишами </span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-ansi-language: EN-US">Ctrl</span><span style="FONT-FAMILY: Calibri">+</span><span lang="EN-US" style="FONT-FAMILY: Calibri; mso-ansi-language: EN-US">A</span><span style="FONT-FAMILY: Calibri">.<o:p></o:p></span></font></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><font size="3"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699">Например: команда "Выделить все" добавлена в подменю "Все действия" для того, чтобы можно было быстро<span style="mso-spacerun: yes">  </span>заполнить цены не только в выделенных строках, но и во всех</span></i><span style="FONT-FAMILY: Calibri"><o:p></o:p></span></font></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p></o:p></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"><img align="left" height="339" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100695.files/3.png?_=00003E30ED8FEDEA-v2" style="aspect-ratio:263/339" width="263"/></font></o:p></span></p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="Mine" style="MARGIN: 0cm 0cm 0pt"> <span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.3. Допускается добавлять команды, которые будут действовать не на выделенные строки, а на строки, отобранные по специальному алгоритму. Это следует делать только для частотных операций, по которым пользователю сложно самостоятельно выделить строки. <o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Например, команда для операции автоматического заполнения видов цен только по тем строкам, в которых вид цен не заполнен. <o:p></o:p></font></span></i></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1.4. Если в одной командной панели есть схожие команды, одна из которых действует на выделенные строки, а другая – на все, то из названия команд должно быть понятно, на какие именно строки они влияют.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><i style="mso-bidi-font-style: normal"><span style="FONT-FAMILY: Calibri; COLOR: #006699"><font size="3">Например:</font></span></i> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img align="left" height="69" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 400/i8100695.files/4.png?_=00000C55AAE62D3A-v2" style="aspect-ratio:274/69" width="274"/></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p> </o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri; COLOR: silver"><span style="FONT-SIZE: 16pt; FONT-FAMILY: Calibri; COLOR: silver">
<h3><font color="#413003">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><b style="mso-bidi-font-weight: normal"><span style="FONT-SIZE: 14pt; FONT-FAMILY: Calibri"><font color="#000000">См. также:<o:p></o:p></font></span></b></p></font></h3><font color="#413003" face="Calibri" size="3">
<p><u><font color="#0066cc"><a href="#13_Групповые обработки в списках.htm" target="_top">Групповые обработки в списках</a></font></u> <br/><a href="#17_Подменю.htm" target="_top">Подменю</a></p></font></span></span></font></body><hr>
<h1 id='14_Оформление элементов'>Оформление элементов</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100624.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Оформление элементов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Оформление элементов</h1><div style="clear: right; float: right;">#std624</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p><font color="#536ac2"><font color="#000000">См. также: <a href="#04_Компоновка форм.htm" target="_top">Компоновка форм (8.3)</a></font></font></p><font face="Verdana" size="2">
<p>Названия одних и тех же объектов, их расположение должны быть одинаковые для всех форм.<br/><font color="#536ac2"><em>Пример:  Номер, дата документа, клиент/поставщик, контрагент, соглашение всегда находятся в одном и том же месте, вне зависимости от документа. <br/></em></font></p>
<p><font color="#536ac2"><em><img height="429" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100624.files/элементы.png?_=0003EC0889BF2574-v2" style="aspect-ratio:623/429" width="623"/><script type="text/javascript">forceDocumentLayout()</script></em></font></p><font color="#536ac2"></font></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100602.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Переход к форме с дополнительными реквизитами.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt">Переход к форме с дополнительными реквизитами</h1><div style="clear: right; float: right;">#std602</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font size="2">
<p>См. также: <a href="#04_Компоновка форм.htm" target="_top">Компоновка форм (8.3)</a></p>
<p> </p></font>
<p class="aCxSpFirst" style="MARGIN: 0cm 0cm 0pt 36pt"><font size="2">Для оформления перехода к форме, в которую вынесена часть реквизитов из основной формы, рекомендуется использовать гиперссылку.</font></p>
<p class="aCxSpMiddle" style="MARGIN: 0cm 0cm 0pt 36pt"><o:p><font size="2"> </font></o:p></p>
<p class="aCxSpMiddle" style="MARGIN: 0cm 0cm 0pt 36pt"><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font size="2"><font color="#536ac2">Например, для перехода:<o:p></o:p></font></font></span></i></p>
<ul>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l0 level1 lfo1; tab-stops: list 53.4pt"><font face="Verdana"><font size="2"><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font color="#536ac2">к форме «Цена и валюта» из формы «Поступление товаров и услуг»<o:p></o:p></font></span></i></font></font></div>
<li>
<div style="MARGIN: 0cm 0cm 10pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l0 level1 lfo1; tab-stops: list 53.4pt"><font face="Verdana"><font size="2"><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font color="#536ac2">к форме «Реквизиты платежа в бюджет» из формы «Платежное поручение»<o:p></o:p></font></span></i></font></font></div></li></li></ul>
<p><font size="2"></font></p>
<p><font size="2"></font></p>
<p><img height="601" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100602.files/доп рек.png?_=0003515F809D686D-v2" style="aspect-ratio:965/601" width="965"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p> </p>
<p><img height="809" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100602.files/доп рек 2.png?_=000759587817BB77-v2" style="aspect-ratio:962/809" width="962"/></p>
<p class="aCxSpFirst" style="MARGIN: 0cm 0cm 0pt 36pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype> </p>
<p style="MARGIN: 0cm 0cm 0pt 36pt"><font size="2">Перед гиперссылкой выводится подпись, в которой указывается заголовок открываемой формы:</font></p>
<p class="aCxSpMiddle" style="MARGIN: 0cm 0cm 0pt 36pt"><o:p><font face="Calibri" size="3"> </font></o:p></p>
<p class="aCxSpMiddle" style="MARGIN: 0cm 0cm 0pt 36pt"><o:p><font face="Calibri" size="3"><img height="122" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100602.files/доп рек ссылк.png?_=0000AEDB8C6455D0-v2" style="aspect-ratio:788/122" width="788"/></font></o:p></p>
<p class="aCxSpMiddle" style="MARGIN: 0cm 0cm 0pt 36pt"><o:p> </o:p></p>
<p class="aCxSpMiddle" style="MARGIN: 0cm 0cm 0pt 36pt"><o:p><font face="Calibri" size="3"></font></o:p> </p>
<p style="MARGIN: 0cm 0cm 10pt 36pt"><font size="2">Текст гиперссылки информирует пользователя о том, какие реквизиты можно заполнить в открываемой форме.</font></p>
<h2 style="MARGIN: 12pt 0cm 3pt"><a name="_toc295374972">Что указывается в тексте гиперссылки</a></h2>
<ul>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l1 level1 lfo3; tab-stops: list 53.4pt"><font face="Verdana"><font size="2">Реквизиты, заполняемые в открываемой форме чаще остальных</font></font></div>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l1 level1 lfo3; tab-stops: list 53.4pt"><font face="Verdana"><font size="2">Реквизиты, значения которых влияют на порядок заполнения основной формы</font></font></div>
<li>
<div style="MARGIN: 0cm 0cm 10pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l1 level1 lfo3; tab-stops: list 53.4pt"><font face="Verdana"><font size="2">Реквизиты, для которых установлена обязательность заполнения</font></font></div></li></li></li></ul>
<h2 style="MARGIN: 12pt 0cm 3pt"><a name="_toc295374973">Как оформляется текст гиперссылки</a></h2>
<ul>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l0 level1 lfo1; tab-stops: list 53.4pt"><font size="2">Реквизиты перечисляются через точку с запятой и разделяются пробелом</font></div>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l0 level1 lfo1; tab-stops: list 53.4pt"><font size="2">Заголовок реквизита выводится первым, далее через двоеточие указывается его значение. Допускается указывать значение реквизита без заголовка, если его смысл понятен из контекста </font><font color="#536ac2" size="2"><em><br/>Например, «НС» вместо «Тип платежа: НС»</em></font></div>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l0 level1 lfo1; tab-stops: list 53.4pt"><font size="2">Если значение реквизита не заполнено, то вместо него отражается текст «не указан». При этом заголовок реквизита и текст «не указан» отражаются в угловых скобках </font><font color="#536ac2" size="2"><em><br/>Например, &lt;Тип цен: не указан&gt;, &lt;КБК: не указан&gt;</em></font></div>
<li>
<div style="MARGIN: 0cm 0cm 0pt 53.4pt; TEXT-INDENT: -18pt; mso-add-space: auto; mso-list: l2 level1 lfo2; tab-stops: list 53.4pt"><font size="2">Для реквизита в виде флажка выводится его заголовок, если флаг установлен, и заголовок с частицей «не», если флаг не установлен </font><font color="#536ac2" size="2"><em><br/>Например, «Цена включает НДС» (флаг установлен) и «Цена не включает НДС» (флаг не установлен)</em></font></div></li></li></li></li></ul>
<p>См. также: <a href="#03_Выбор_ Гиперссылка или кнопка.htm" target="_top"><font face="Calibri" size="3">Выбор: кнопка или гиперссылка</font></a></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100599.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Выбор_ Гиперссылка или кнопка.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Выбор: кнопка или гиперссылка<br/></h1><div style="clear: right; float: right;">#std599</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>Кнопка</h2>
<ul>
<li>Хорошо подходит для обозначения одиночной, самостоятельной операции (обработка, расчет). 

<li>Используется, как правило, для запуска некоторого процесса, выполнения действий по изменению данных информационной базы. Необратимые изменения (например, очистка табличных частей) всегда должны быть оформлены кнопками. 

<li>Название у кнопки должно содержать глагол, отвечающий на вопрос «Что сделать?» «Найти», «Рассчитать», «Записать», «Заполнить», «Выбрать», «Подобрать». Вместо глаголов можно использовать отглагольные существительные. 

<li>Кнопки следует размещать в непосредственной близости от объектов, на которые они оказывают воздействие.</li></li></li></li></ul>
<h2>Гиперссылка</h2>
<ul>
<li>Используются для перехода к другой форме, которая отображает связанные данные (другие объекты); 

<li>Из названия гиперссылки должно быть понятно, что именно откроется в новом окне, например, «цены номенклатуры», «паспортные данные».</li></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100625.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Картинки (иконки) в названии команд.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Картинки (иконки) в названии команд</h1><div style="clear: right; float: right;">#std625</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>Использовать картинки (иконки) необходимо в тех случаях, когда есть уверенность четкой трактовки функции, которая будет выполнена. А также в случаях, когда необходимо выделить команду на фоне других. В иных случаях команду достаточно вывести в виде текста.<br/><font color="#536ac2"><em>Если в командной панели только одна команда, то она обязательно должна иметь картинку.</em></font></p>
<h2>Только картинка</h2>
<p>Картинки можно использовать без подписи в случаях, если это стандартные функции, такие как: сохранить, удалить, редактировать, скопировать и т.п., а также часто используемые функции. <br/><font color="#536ac2"><em>Важно: Избегайте использования иконок, метафоры которых не способны отразить вызываемой функции.</em></font></p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100590.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Частотные кнопки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Частотные кнопки</h1><div style="clear: right; float: right;">#std590</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<ul>
<li>Для оформления кнопок с часто используемыми действиями (частотных кнопок) рекомендуется использовать текст совместно с картинкой. </li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p>Картинка, размещенная на кнопке, также может использоваться в строке табличной части для дополнительной идентификации типа данных, к которому применима данная команда. </p></blockquote>
<h1>Кнопки, не предназначенные для решения основных задач</h1>
<ul>
<li>Пункты меню, не предназначенные для решения основных задач, а исполняющих команды, предназначенные для специализированных целей или особой группы пользователей, рекомендуется помещать в подменю. </li></ul>
<p> </p>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100613.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Итоги в документах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Итоги в документах</h1><div style="clear: right; float: right;">#std613</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>См. также: <a href="#03_Итоги в документах.htm" target="_top">Итоги в документах (8.3)</a></p><font size="2">
<p>Итоги в документах можно размещать несколькими способами:</p>
<ul>
<li>в подвале колонок таблиц 

<li>отдельными полями после таблиц 

<li>в специальной области итогов в нижней части формы документа</li></li></li></ul>
<p><br/>Оформление итогов в подвалах таблиц рекомендуется применять в следующем случае:</p>
<ul>
<li>если в таблице нет горизонтальной полосы прокрутки и итоговая колонка всегда видна 

<li>если итог должен быть явным образом визуально связан именно с этой колонкой таблицы</li></li></ul>
<p><br/>В остальных случаях лучше размещать итоговые данные в специальной области итогов в нижней части форм документов.</p>
<p>В области итогов не рекомендуется размещать элементы, не относящиеся к итоговым данным. Их следует располагать до или после области итогов.<br/><font color="#536ac2"><em>Например, ссылку на счет-фактуру следует размещать до области итогов, а группу полей «Ответственный» и «Комментарий» - после.</em></font></p>
<p><br/>Для оформления области итогов можно использовать следующие способы:</p>
<ul>
<li>Объединение итоговых показателей в группы. В этом варианте поля итогов рекомендуется оформлять как надписи<br/></li></ul>
<p><img height="719" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100613.files/заказ итоги.png?_=000256BD2D2EF456-v2" style="HEIGHT: 662px; WIDTH: 903px" width="1081"/><script type="text/javascript">forceDocumentLayout()</script></p>
<ul>
<li>Вывод итоговых показателей в отдельных полях ввода</li></ul>
<p><img height="414" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100613.files/поступление.png?_=0001BB7950E40513-v2" style="aspect-ratio:630/414" width="630"/></p>
<p> </p>
<p>При выборе способа оформления следует руководствоваться следующими критериями:</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-COLLAPSE: collapse; BORDER-BOTTOM: medium none; MARGIN: auto auto auto 5.4pt; BORDER-LEFT: medium none; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 239.4pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt" valign="top" width="319">
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><font size="2">Объединение в группы<o:p></o:p></font></p></td>
<td style="BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 239.4pt; BACKGROUND: #e5f2ff; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="319">
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 10pt"><font size="2">Отдельные поля ввода<o:p></o:p></font></p></td></tr>
<tr style="mso-yfti-irow: 1">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 239.4pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="319">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><font size="2">Возможность копирования итоговых сумм не требуется<o:p></o:p></font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 239.4pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="319">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><font size="2">Необходимо предоставить возможность копирования итоговых сумм в буфер обмена<o:p></o:p></font></p></td></tr>
<tr style="mso-yfti-irow: 2; mso-yfti-lastrow: yes">
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 239.4pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: windowtext 1pt solid; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="319">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><font size="2">Итоговых показателей много, например, три и более<o:p></o:p></font></p></td>
<td style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; WIDTH: 239.4pt; BORDER-BOTTOM: windowtext 1pt solid; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 5.4pt; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 5.4pt; BACKGROUND-COLOR: transparent; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="319">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><font size="2">Итоговых показателей не много, например один или два<o:p></o:p></font></p></td></tr></tbody></table></p>
<p>В итоговых показателях, размещаемых в нижней части формы, отражается сводная информация по содержанию документа. </p>
<p><br/>В случае, если в итоговых показателях выводится информация по конкретной таблице, то рекомендуется размещать итоги сразу под ней, оформляя их в виде полей ввода.</p></font>
<h2><br/>Оформление итогов в группах</h2><font face="Verdana" size="2">
<p><br/>Итоговая информация - информация, необходимая для понимания документа и принятия решения о дальнейшем действии. Набор итоговой информации определяется для каждого документа в отдельном порядке.</p>
<p><br/><font color="#536ac2"><em>Примеры итоговой информации: Итоговая сумма, Сумма с НДС, Сумма без НДС, Итоговая скидка (автоматическая, ручная).</em></font></p>
<p><br/>Итоговая информация отражается в нижней части формы документа</p>
<ul>
<li>Оформляется в виде групп с рамками и с отображением заголовка. Заголовок должен кратко и однозначно описывать эту группу полей. 

<li>Если в группу итоговой информации объединены данные с одинаковой валютой или единицей измерения, то ее название выносится в заголовок группы, а не указывается по каждому  элементу 

<li>Итоговую информацию необходимо обновлять при внесении изменений в содержание документа, а не только при записи или проведении 

<li>Рекомендуется делать подсказку к итоговым показателям, чтобы она поясняла, откуда взялась та или иная цифра 

<li>Для отображения положительной, нейтральной, непросроченной информации рекомендуется использовать цвет  «ИтоговыеПоказателиДокументов» (22,39,121) 

<li>Для отображения негативной, просроченной информации рекомендуется использовать цвет «ПросроченныеДанные» (178,34,34) 

<li>В случае, если группа имеет основное итоговое значение (например, Заказано с НДС), то для него следует использовать шрифт «ОсновноеИтоговоеЗначение» (шрифт диалогов и меню, начертание «жирный»)<br/><font color="#536ac2"><em>Например, Сумму с НДС, Итоговый размер скидки и т.п.</em></font></li></li></li></li></li></li></li></ul></font>
<h2><br/>Оформление итогов отдельными полями ввода</h2><font face="Verdana" size="2">
<ul>
<li>Итоги оформляются отдельными полями ввода с установленным признаком «Только чтение» 

<li>Выравниваются по правому краю формы. 

<li>В заголовках полей следует выводить текст без слова «итог». Валюту в случае отражения нужно показывать после поля ввода.</li></li></li></ul>
<p><br/>Если итогов несколько, то их можно разместить в одну или несколько строк. Выбор варианта зависит от компоновки конкретной формы. Можно руководствоваться следующими соображениями:</p>
<ul>
<li>Поля, значения которых зависят друг от друга (например, «Всего» и «НДС (в т.ч.)»), рекомендуется всегда располагать на одной строке</li></ul>
<p><img height="32" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100613.files/всего.png?_=00000933553FA10A-v2" style="aspect-ratio:425/32" width="425"/></p>
<ul>
<li>Поля, значения которых требуется визуально сравнивать, лучше располагать друг под другом</li></ul>
<p><img height="60" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100613.files/выдано.png?_=00000822B53EBEC8-v2" style="aspect-ratio:223/60" width="223"/></p>
<ul>
<li>Если размеры формы этого не позволяют, то поля можно размещать в одну строку</li></ul>
<p><img height="31" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100613.files/выдано 2.png?_=000007CF136C1551-v2" style="aspect-ratio:435/31" width="435"/></p>
<p> </p>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100614.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Итоги в журналах документов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Итоги в журналах документов</h1><div style="clear: right; float: right;">#std614</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Итоги в журналах документов (при их наличии) рекомендуется оформлять следующим образом:</p>
<ul>
<li>Итоги размещаются в нижней части формы, слева 

<li>Поля итогов оформляются как надписи 

<li>Для выделения значений рекомендуется использовать цвет "ИтогиЖурналаЦвет" (RGB 100,100,100) и шрифт "ИтогиЖурналаШрифт" (шрифт диалогов и меню, начертание "жирный")<font color="#536ac2"></font></li></li></li></ul>
<p><font color="#536ac2"><em>Например, в журнале «Банковские выписки» в качестве итогов оформлены поля, отражающие остатки и обороты по расчетному счету за день.</em></font></p>
<p><font color="#536ac2"><em><img height="415" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100614.files/банковские выписки.png?_=00034DA018548028-v2" style="aspect-ratio:680/415" width="680"/><script type="text/javascript">forceDocumentLayout()</script><br/></em></font></p></font>
<p><em><font color="#536ac2"></font></em> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Флажки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h2><font color="#00008b" face="Arial">Флажки</font></h2>
<p><font face="Verdana" size="2">Флажки используются для отражения в формах реквизитов с типом <strong>Булево</strong>. Подписи к флажкам следует оформлять в соответствии с приведенными рекомендациями.</font></p>
<p><br/><font face="Verdana" size="2">1. Подпись всегда следует располагать справа от флажков:</font></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td><font face="Verdana" size="2"><img height="26" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/1.1 правильно.png?_=000004C88B2EBF8A-v2" style="aspect-ratio:135/26" width="135"/><script type="text/javascript">forceDocumentLayout()</script></font></td>
<td><font face="Verdana" size="2"><img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/1.2 неправильно.png?_=000004CF4967D97F-v2" style="aspect-ratio:135/23" width="135"/></font></td></tr></tbody></table></p>
<p><font face="Verdana" size="2">2. Если к флажку требуется сделать подсказку, то ее следует располагать либо снизу, либо справа от подписи:</font></p>
<p>
<table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td>
<p><font face="Verdana" size="2"><img height="39" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/2.1.png?_=00000AE8484ECA22-v2" style="aspect-ratio:407/39" width="407"/></font></p>
<p><font face="Verdana" size="2"><img height="20" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/2.2.png?_=00000AACE6032837-v2" style="aspect-ratio:407/20" width="407"/></font></p></td>
<td>
<p align="left"><font face="Verdana" size="2"><img align="top" height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/2.3.png?_=00000ADD8ECD6A3B-v2" style="aspect-ratio:407/24" width="407"/></font></p></td></tr></tbody></table></p>
<p><br/><font face="Verdana" size="2">3. Первая буква подписи флажка должна быть заглавной:</font></p>
<p>
<table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td><font face="Verdana" size="2"><img height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/3.1 правильно.png?_=000004B794F8F1E6-v2" style="aspect-ratio:122/24" width="122"/></font></td>
<td><font face="Verdana" size="2"><img height="22" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/3.2 неправильно.png?_=0000047ECC39C1D1-v2" style="aspect-ratio:122/22" width="122"/></font></td></tr></tbody></table></p>
<p><font face="Verdana" size="2">4. Подписи у флажков следует делать позитивными (не содержащими отрицания)</font></p>
<p>
<table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td><font face="Verdana" size="2"><img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/4.1 правильно.png?_=000004D6D78B0CEF-v2" style="aspect-ratio:145/23" width="145"/></font></td>
<td><font face="Verdana" size="2"><img height="25" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/4.2 неправильно.png?_=000004CF4CD5BEAA-v2" style="aspect-ratio:145/25" width="145"/></font></td></tr></tbody></table><br/><font face="Verdana" size="2">Если при этом требуется, чтобы флажок по умолчанию был установлен, у реквизита объекта метаданных следует установить свойство <strong>Значение заполнения</strong> в значение <strong>Истина</strong>.</font></p>
<p><font face="Verdana" size="2">Подпись, содержащую отрицание, следует применять в исключительных случаях, когда это выглядит естественно или обусловлено историческими причинами.</font></p>
<p><font face="Verdana" size="2"></font><br/><font color="#536ac2" face="Verdana" size="2">Например, "Не показывать это окно", "Больше не спрашивать", "Недействительный" (для учета неактуальных пользователей).</font></p><font face="Verdana" size="2">См. также: </font><a href="#14_Работа с неактуальными (недействительными) объектами.htm" target="_top"><font face="Verdana" size="2">Работа с неактуальными (недействительными объектами</font></a>)<font face="Verdana" size="2"> </font>
<p><font face="Verdana" size="2">5. Текст подписи должен быть понятным и кратким. Не следует делать подпись, состоящую из двух и более предложений.</font></p>
<p><font face="Verdana" size="2"><br/>6. Подпись к флажку определяет только один вариант, второй остается неявным и не сформулированным. Поэтому текст подписи следует подбирать так, чтобы у пользователей не возникало сомнений в том, каким будет второй вариант:</font></p>
<p>
<table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td>
<p><font face="Verdana" size="2"><img height="28" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/6.1.1 правильно.png?_=00000454673D9D13-v2" style="aspect-ratio:231/28" width="231"/></font></p></td>
<td><font face="Verdana" size="2"><img height="30" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/6.1.2 неправильно.png?_=000003BF324C7F76-v2" style="aspect-ratio:215/30" width="215"/></font></td></tr></tbody></table></p>
<p><font face="Verdana" size="2">В случае, если такую подпись к флажку подобрать не удается, лучше использовать радиокнопки, у которых указать названия явным образом, например:</font></p>
<p>
<table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td><font face="Verdana" size="2"><img height="22" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/6.2.1 правильно.png?_=000006B5CC77496C-v2" style="aspect-ratio:110/22" width="110"/></font></td>
<td><font face="Verdana" size="2"><img height="25" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/6.2.2 неправильно.png?_=000003F8FA29EED2-v2" style="aspect-ratio:110/25" width="110"/></font></td></tr></tbody></table></p>
<p><font face="Verdana" size="2">7. Если на форме присутствует группа флажков, в подписях к которым используется общий текст, то его следует выносить в заголовок группы:</font></p>
<p>
<table style="HEIGHT: 52px; WIDTH: 376px" width="376">
<tbody>
<tr>
<td>
<p align="left"><font color="#2e8b57" face="Verdana" size="2">Правильно</font></p></td>
<td>
<p align="left"><font color="#dc143c" face="Verdana" size="2">Неправильно</font></p></td></tr>
<tr>
<td><font face="Verdana" size="2"><img height="115" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/7.1 правильно.png?_=00000F8EEA7D6C90-v2" style="aspect-ratio:237/115" width="237"/></font></td>
<td><font face="Verdana" size="2"><img height="90" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100622.files/7.2 неправильно.png?_=00000D8C08225DA5-v2" style="aspect-ratio:305/90" width="305"/></font></td></tr></tbody></table></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100591.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Команда «Подобрать».htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Команда «Подобрать»</h1><div style="clear: right; float: right;">#std591</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<ul>
<li>Рекомендуется использовать название команды в форме инфинитива – «Подобрать». 

<li>Если есть уверенность в том, что пользователям удобнее и эффективнее работать с помощью «Подобрать», а не через «Добавить», то команду следует расположить первой. Если нет, то второй или в другом месте. 

<li>Для команды «Подобрать» используйте акселератор F8.</li></li></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100592.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Команда «Отмена».htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Команда «Отмена»</h1><div style="clear: right; float: right;">#std592</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<ul>
<li>Команда «Отмена» должна использоваться для реальной отмены установленных настроек и приводить к закрытию формы. 

<li>«Отмена» не должна быть кнопкой по умолчанию. Если никакие действия кроме закрытия формы недоступны, кнопкой по умолчанию должна быть кнопка «Закрыть».</li></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Единицы измерения.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Единицы измерения</h1><div style="clear: right; float: right;">#std593</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>Для полей ввода</h2>
<p><a id="1.1" name="1.1"></a>1.1. Единицы измерения следует указывать после полей, а не в заголовке:</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 22px; WIDTH: 396px" width="396">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td><img height="26" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/11a~1.png?_=000006E8517C79FC-v2" style="aspect-ratio:187/26" width="187"/><script type="text/javascript">forceDocumentLayout()</script></td>
<td><img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/11d~1.png?_=000006EE85239822-v2" style="aspect-ratio:187/23" width="187"/></td></tr></tbody></table></p>
<p> </p>
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 22px; WIDTH: 396px" width="396">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td><img height="28" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/11b~1.png?_=00000761CA522719-v2" style="aspect-ratio:216/28" width="216"/></td>
<td><img height="27" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/11e~1.png?_=0000078F9ED692D2-v2" style="aspect-ratio:216/27" width="216"/></td></tr></tbody></table></p>
<p> </p>
<p>
<table bgcolor="#ffffff" border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 22px; WIDTH: 396px" width="396">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td><img height="28" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/11c~1.png?_=0000085DA5696F46-v2" style="aspect-ratio:257/28" width="257"/></td>
<td><img height="27" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/11f~1.png?_=0000082D9855E701-v2" style="aspect-ratio:257/27" width="257"/></td></tr></tbody></table></p>
<p> </p>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3">1.2. Единицы измерения следует указывать без скобок:</font></p>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p><font face="Calibri" size="3">
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 22px; WIDTH: 396px" width="396">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td><img height="26" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/12a~1.png?_=000006E9FCC2D39D-v2" style="aspect-ratio:179/26" width="179"/></td>
<td><img height="24" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/12b~1.png?_=00000765D260CE78-v2" style="aspect-ratio:179/24" width="179"/></td></tr></tbody></table></p>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p class="a" style="MARGIN: 0cm 0cm 10pt; mso-add-space: auto">1.3. Если к единице измерения выводится расшифровка, то ее следует располагать в скобках, после единицы измерения.</p></font>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#00008b" face="Calibri" size="3">Например, для срока полезного использования:</font></p>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="26" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/132a39~1.png?_=00000A519AE67691-v2" style="aspect-ratio:376/26" width="376"/></p>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<p class="a" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font face="Calibri" size="3"></font> </p>
<h2 style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">Для списков</h2>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">2.1. Единица измерения выводится в колонке с названием "Ед. изм.".</p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 284px; WIDTH: 449px" width="449">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 62px; WIDTH: 177px" width="177">
<tbody>
<tr>
<td>
<p align="center">Количество</p></td>
<td>
<p align="center">Ед. изм.</p></td></tr>
<tr>
<td>
<p align="right">100,000</p></td>
<td>
<p align="right">кг</p></td></tr>
<tr>
<td>
<p align="right">5,000</p></td>
<td>
<p align="right">шт</p></td></tr></tbody></table></td>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p align="center">Количество</p></td>
<td>
<p align="center"> Ед</p></td></tr>
<tr>
<td>
<p align="right">100,000</p></td>
<td>
<p align="right">кг</p></td></tr>
<tr>
<td>
<p align="right">5,000</p></td>
<td>
<p align="right">шт</p></td></tr></tbody></table>
<p> </p>
<p>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p align="center">Количество</p></td>
<td>
<p align="center">Единица измерения</p></td></tr>
<tr>
<td>
<p align="right">100,000</p></td>
<td>
<p align="right">кг</p></td></tr>
<tr>
<td>
<p align="right">5,000</p></td>
<td>
<p align="right">шт</p></td></tr></tbody></table></p></td></tr></tbody></table></p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">Исключение: денежные единицы измерения выводятся в колонке с названием "Валюта".</p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="116" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/2158e1~1.png?_=00000C207297560C-v2" style="aspect-ratio:128/116" width="128"/></p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">2.2. Если единица измерения для разных значений всегда одинакова, то ее следует выводить в заголовке колонки</p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 370px; WIDTH: 286px" width="286">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p align="center">Сумма, руб.</p></td></tr>
<tr>
<td>
<p align="right">20 000,00</p></td></tr>
<tr>
<td>
<p align="right">5 000,00</p></td></tr>
<tr>
<td>
<p align="right">100,00</p></td></tr>
<tr>
<td>
<p align="right">1 000,00</p></td></tr></tbody></table></td>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p align="center">Сумма</p></td></tr>
<tr>
<td>
<p align="right">20 000,00 руб.</p></td></tr>
<tr>
<td>
<p align="right">5 000,00 руб.</p></td></tr>
<tr>
<td>
<p align="right">100,00 руб.</p></td></tr>
<tr>
<td>
<p align="right">1 000,00 руб.</p></td></tr></tbody></table></td></tr>
<tr>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p align="center">Размер, кб.</p></td></tr>
<tr>
<td>
<p align="right">41</p></td></tr>
<tr>
<td>
<p align="right">75</p></td></tr>
<tr>
<td>
<p align="right">34</p></td></tr>
<tr>
<td>
<p align="right">28</p></td></tr></tbody></table></td>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
<p align="center">Размер</p></td></tr>
<tr>
<td>
<p align="right">41 кб.</p></td></tr>
<tr>
<td>
<p align="right">75 кб.</p></td></tr>
<tr>
<td>
<p align="right">34 кб.</p></td></tr>
<tr>
<td>
<p align="right">28 кб.</p></td></tr></tbody></table></td></tr></tbody></table></p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">2.3. Если единица измерения для разных значений отличается, то ее можно выводить как в отдельной колонке, так и в заголовке колонки с количеством (суммой).<br/>При этом единицу измерения следует выводить сразу после значения, которое она измеряет.<br/></p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" style="HEIGHT: 258px; WIDTH: 642px" width="642">
<tbody>
<tr>
<td><font color="#2e8b57">Хорошо</font></td>
<td><font color="#b22222">Плохо</font></td></tr>
<tr>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>Наименование</td>
<td>Количество</td>
<td>Ед. изм.</td></tr>
<tr>
<td>
<p align="left">Папка-вкладыш А4</p></td>
<td>
<p align="right">100,000</p></td>
<td>
<p align="right">шт</p></td></tr>
<tr>
<td>
<p align="left">Клей канцелярский</p></td>
<td>
<p align="right">5,000</p></td>
<td>
<p align="right">кг</p></td></tr></tbody></table></td>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>Наименование</td>
<td>Ед. изм.</td>
<td>Количество</td></tr>
<tr>
<td>
<p align="left">Папка-вкладыш А4</p></td>
<td>
<p align="right">шт</p></td>
<td>
<p align="right">100,000</p></td></tr>
<tr>
<td>
<p align="left">Клей канцелярский</p></td>
<td>
<p align="right">кг</p></td>
<td>
<p align="right">5,000</p></td></tr></tbody></table></td></tr>
<tr>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>Наименование</td>
<td><span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-fareast-language: RU; mso-ansi-language: RU; mso-bidi-language: AR-SA">Количество </span></td></tr>
<tr>
<td>
<p align="left">Папка-вкладыш А4</p></td>
<td>
<p align="right">100,000 шт</p></td></tr>
<tr>
<td>
<p align="left">Клей канцелярский</p></td>
<td>
<p align="right">5,000 кг</p></td></tr></tbody></table></td>
<td>
<table border="1" bordercolor="#c0c0c0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>Наименование</td>
<td><span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-fareast-language: RU; mso-ansi-language: RU; mso-bidi-language: AR-SA">Количество </span></td></tr>
<tr>
<td>
<p align="left">Папка-вкладыш А4, шт</p></td>
<td>
<p align="right">100,000</p></td></tr>
<tr>
<td>
<p align="left">Клей канцелярский, кг</p></td>
<td>
<p align="right">5,000</p></td></tr></tbody></table></td></tr></tbody></table></p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"> </p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal">Исключение: если одна единица измерения относится к нескольким колонкам, то ее следует располагать до этих колонок.</p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><font color="#00008b">Например, в документе "Пересчет товаров" две колонки с количеством – по учету и по факту:</font></p>
<p style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: normal"><img height="135" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100593.files/23ac09~1.png?_=000049058072D508-v2" style="aspect-ratio:660/135" width="660"/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100594.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Значения по умолчанию.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1><o:p>Значения по умолчанию</o:p></h1><div style="clear: right; float: right;">#std594</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><o:p><font face="Calibri" size="3">
<p><br/><font face="Verdana" size="2">Рекомендуется явным образом выделять среди остальных значения, используемые для подстановки в поля по умолчанию. </font></p>
<p></p></font></o:p><o:p><font size="2">Для отражения таких значений лучше использовать термин «основной».</font></o:p>
<p><o:p><font face="Calibri" size="3"></font></o:p> </p>
<h2>Выделение в списках</h2>
<ul>
<li>
<div><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><span style="FONT: 7pt 'Times New Roman'">  </span></span></span><font size="2">Для выбора в списке основного элемента рекомендуется использовать отдельную команду, расположенную в командной панели списка</font></div></li></ul>
<ul>
<li>
<div><font face="Verdana"><font size="2">Название для команды выбирается в зависимости от заголовка формы:</font></font></div>
<ul>
<li>
<div><font face="Verdana"><font size="2">Использовать как основн<i style="mso-bidi-font-style: normal">ой</i></font></font></div>
<li>
<div><font face="Verdana"><font size="2">Использовать как основн<i style="mso-bidi-font-style: normal">ую</i></font></font></div>
<li><di><font face="Verdana"><font size="2">Использовать как основн<i style="mso-bidi-font-style: normal">ое</i></font></font>
<div></div></di></li></li></li></ul></li></ul>
<p><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><o:p><font face="Calibri" size="3"></font></o:p></span></i></p>
<p><i style="mso-bidi-font-style: normal"><span style="COLOR: #548dd4"><font size="2"><font color="#536ac2">Например, для формы «Организация» команда будет называться «Использовать как основную»</font></font></span></i></p>
<ul>
<li>
<div><font size="2">Для элемента, выбранного основным, используется шрифт "ОсновнойЭлементСписка" (шрифт диалогов и меню, начертание "жирный")</font></div></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><o:p><font face="Calibri" size="3"><img height="147" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100594.files/организации.png?_=000020FB316F1FBD-v2" style="aspect-ratio:603/147" width="603"/><script type="text/javascript">forceDocumentLayout()</script></font></o:p></p></blockquote>
<p><o:p></o:p> </p>
<h2>Выделение в форме</h2>
<ul>
<li>
<div><font size="2">Если в форме одно поле, используемое для заполнения по умолчанию, то рекомендуется после его заголовка добавлять слово «основной» (основная, основное) в круглых скобка</font></div></li></ul>
<blockquote>
<p><img height="27" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100594.files/банковский счет.png?_=000008B91B1EAEF4-v2" style="aspect-ratio:411/27" width="411"/></p></blockquote>
<ul>
<li>
<div><font size="2">Если в форме несколько полей, используемых для заполнения по умолчанию, их следует оформлять в виде группы с заголовком «Используются как основные». В заголовки полей слово «основной» добавлять не рекомендуется.</font></div></li></ul>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><img height="97" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100594.files/как основные.png?_=000011AAAB3DDB5F-v2" style="aspect-ratio:361/97" width="361"/></p></blockquote>
<p>В случае, если создается и заполняется форма, имеющая подчиненные формы, то при заполнении полей со значениями по умолчанию рекомендуется записывать данные автоматически, не выдавая сообщений пользователю.</p>
<p><o:p><font face="Times New Roman" size="3"> </font></o:p></p><font face="Verdana" size="2">
<p></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100595.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Гиперссылка на счет-фактуру.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit">Гиперссылка на счет-фактуру</o:lock></v:shapetype></h1><div style="clear: right; float: right;">#std595</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><br/>В случае, если в форме документа есть гиперссылка на счет-фактуру, то ее рекомендуется оформлять следующим образом:</p></o:lock></v:shapetype>
<ul>
<li>
<div style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit">Гиперссылка размещается в нижней части формы до группы полей «Ответственный» и «Комментарий»</o:lock></v:shapetype></div>
<li>
<div style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit">Располагается в отдельной строке с выравниванием по левому краю формы</o:lock></v:shapetype></div>
<li>
<div style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit">Перед ссылкой выводится подпись «Счет-фактура». Допускается уточнять в подписи тип счета-фактуры </o:lock></v:shapetype><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"><br/><font color="#536ac2"><em>Например, «Счет-фактура выставленный», «Счет-фактура полученный», «Счет-фактура на сумму вознаграждения»</em></font></o:lock></v:shapetype></div></li></li></li></ul>
<ul>
<li>
<div style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit">Рекомендуется размещать гиперссылку на всю ширину формы. В случае, если подвал многоколоночный и поле «счет-фактура» относится к колонке, то его следует делать соответствующим ширине колонки</o:lock></v:shapetype></div>
<li>
<div style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit">При наличии в форме нескольких гиперссылок на счета-фактуры следует размещать их друг под другом</o:lock></v:shapetype></div></li></li></ul>
<p style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"><img height="43" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100595.files/сф1.png?_=000010C8D26506DD-v2" style="aspect-ratio:398/43" width="398"/><script type="text/javascript">forceDocumentLayout()</script></o:lock></v:shapetype></p>
<p style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype> </p>
<p style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 10pt"><v:shapetype coordsize="21600,21600" filled="f" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype></p></font>
<h2 style="MARGIN: 12pt 0cm 3pt"><a name="_toc290565796">Оформление текста гиперссылки</a></h2><font face="Verdana" size="2">
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><span style="FONT: 7pt 'Times New Roman'">  </span></span></span><font face="Calibri" size="3">Если счет-фактура не указан, рекомендуется выводить текст «Создать счет-фактуру»</font></div></li></ul>
<p style="MARGIN: 12pt 0cm 3pt"><img height="26" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100595.files/сф2.png?_=000008FFF27E79EB-v2" style="aspect-ratio:494/26" width="494"/></p>
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt"><font face="Calibri" size="3">Если счет-фактура указан, то выводится его номер и дата</font></div></li></ul>
<p style="MARGIN: 12pt 0cm 3pt"><img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100595.files/сф3.png?_=000008DBF7492980-v2" style="aspect-ratio:495/23" width="495"/></p>
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt"><font face="Calibri" size="3">Если ввод счета-фактуры не требуется, рекомендуется выводить текст «Не требуется»</font></div></li></ul>
<p style="MARGIN: 12pt 0cm 3pt"><img height="21" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100595.files/сф4.png?_=00000753D12B8D94-v2" style="aspect-ratio:498/21" width="498"/></p>
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt"><font face="Calibri" size="3">Если для создания нового счета-фактуры требуется записать текущий объект, то рекомендуется по-возможности не выдавать сообщение типа «Документ не записан. Записать?», а автоматически записывать объект.</font></div></li></ul>
<p style="MARGIN: 12pt 0cm 3pt">В ситуации, если у пользователя нет права на создание счета-фактуры, но есть право на ее чтение, рекомендуется следующее оформление:</p>
<ul>
<li>
<div style="MARGIN: 12pt 0cm 3pt">Вместо гиперссылки выводится надпись «Недостаточно прав для создания счета-фактуры» в угловых скобках</div></li></ul></font>
<li>
<div style="MARGIN: 12pt 0cm 3pt">Для текста надписи используется цвет «ПояснениеОтсутствующейГиперссылки» (128,128,128) </div></li>
<p style="MARGIN: 12pt 0cm 3pt"><br/><img height="23" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100595.files/111.png?_=000005A4DCA8E424-v2" style="aspect-ratio:345/23" width="345"/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100631.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Поле, влияющее на состав остальных полей в форме.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Поле, влияющее на состав остальных полей в форме</h1><div style="clear: right; float: right;">#std631</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<p>В случае, если на форме есть поле, выбор значения в котором существенно влияет на состав других элементов формы, необходимо выделять его визуально.<br/><font color="#536ac2"><em>Например, Вид операции, Вид документа и т.п.</em></font></p>
<p>Выделение поля требуется для привлечения внимания пользователя, чтобы показать ему, какое именно значение установлено в этом поле, т.к. это может повлиять на работу с формой.</p>
<p>Для выделения поля следует изменить его фон на цвет «ФонУправляющегоПоля» (255,232,179)</p>
<p><img height="368" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100631.files/реализация.png?_=000072A8FFCB1F31-v2" style="aspect-ratio:628/368" width="628"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p> </p>
<p><img height="370" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100631.files/реалиция открыта.png?_=00007DFB34E6B2DE-v2" style="aspect-ratio:627/370" width="627"/></p>
<p><br/> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100635.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Невыбранная картинка.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Невыбранная картинка</h1><div style="clear: right; float: right;">#std635</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Если в форме есть изображение (поле картинки), которое может быть добавлено пользователем, то его оформление должно сообщать пользователю о своем назначении.</p>
<p><font color="#536ac2"><em>Например, поле для фотографии в карточке сотрудника, поле для изображения в справочнике номенклатуры и т.п.</em></font></p>
<div align="left">
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" class="MsoTableGrid" style="BORDER-COLLAPSE: collapse; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 149.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="200">
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt"><font size="3">Хорошо<o:p></o:p></font></p></td>
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 149.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="200">
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt"><font size="3">Плохо<o:p></o:p></font></p></td></tr>
<tr style="mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 149.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="200">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font size="3"> </font></o:p></p>
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><o:p><img height="227" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100635.files/картинка.png?_=00000A19FD9EF91C-v2" style="aspect-ratio:170/227" width="170"/><script type="text/javascript">forceDocumentLayout()</script></o:p></p></td>
<td style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 149.7pt; PADDING-RIGHT: 5.4pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0cm" valign="top" width="200">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font size="3"> </font></o:p></p>
<p align="center" class="MsoNormal" style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt"><o:p><img height="222" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100635.files/картинка пуст.png?_=0000038D5C90ED00-v2" style="aspect-ratio:162/222" width="162"/></o:p></p></td></tr></tbody></table></div>
<ul>
<li>Как оформлять невыбранную картинку:<br/>Обязательно указывать текст невыбранной картинки<br/><font color="#536ac2"><em>Например, «Добавить фото», «Добавить изображение»</em></font>
<li>Для текста невыбранной картинки используется цвет "ТекстНевыбраннойКартинкиЦвет" (RGB 220,220,220) и шрифт "ТекстНевыбраннойКартинкиШрифт" (шрифт диалогов и меню, размер "12")</li></li></ul>
<p> </p>
<p> </p>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100649.htm' target='_blank'>Ссылка на оригинал</a><div id='16_Реквизиты.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Реквизиты</h1><div style="clear: right; float: right;">#std649</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><br/>• Рекомендуется всегда оставлять на форме стандартные поля, такие как наименование, номер и дата (для документов и задач).</p>
<p><br/>• Если для реквизита предусмотрен выбор из списка, а в списке имеется только один вариант,  его следует подставлять по умолчанию.</p>
<p><br/><font color="#00008b">Примеры: одно значение ставки НДС (18%), один договор по контрагенту, заказ.</font></p>
<p>• При создании на основании необходимо заполнять все наследуемые реквизиты.<br/></p></blockquote></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100694.htm' target='_blank'>Ссылка на оригинал</a><div id='17_Подменю.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script><font face="Verdana" size="2">
<p class="MsoNormal" style="MARGIN: 12pt 0cm 3pt; mso-outline-level: 1"><b><span style="FONT-FAMILY: Calibri; COLOR: #003366; FONT-SIZE: 18pt; mso-bidi-font-family: Arial; mso-font-kerning: 18.0pt">Подменю<o:p></o:p></span></b></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">1. При формировании командных панелей однотипные команды рекомендуется объединять в подменю.<o:p></o:p></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">2. Если в подменю есть команды, в заголовках которых присутствует общий текст, то его следует выносить в заголовок подменю:<o:p></o:p></font></span></p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; MARGIN: auto auto auto 14.4pt; BORDER-COLLAPSE: collapse; BORDER-TOP: medium none; BORDER-RIGHT: medium none; mso-border-alt: solid windowtext .5pt; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext">
<tbody>
<tr style="HEIGHT: 19.55pt; mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 242.5pt; PADDING-RIGHT: 5.4pt; HEIGHT: 19.55pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt" valign="top" width="323">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #339966"><font face="Times New Roman"><font size="3">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 270.15pt; PADDING-RIGHT: 5.4pt; HEIGHT: 19.55pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="360">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: red"><font face="Times New Roman"><font size="3">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 59.45pt; mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 242.5pt; PADDING-RIGHT: 5.4pt; HEIGHT: 59.45pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="323">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Times New Roman" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><v:shapetype coordsize="21600,21600" filled="f" id="_x0000_t75" o:preferrelative="t" o:spt="75" path="m@4@5l@4@11@9@11@9@5xe" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path gradientshapeok="t" o:connecttype="rect" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"><img align="left" height="77" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100694.files/1.png?_=00000DFB8A6B12C6-v2" style="aspect-ratio:197/77" width="197"/><script type="text/javascript">forceDocumentLayout()</script></o:lock></v:shapetype></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 270.15pt; PADDING-RIGHT: 5.4pt; HEIGHT: 59.45pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="360">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Times New Roman" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img align="left" height="72" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100694.files/2.png?_=00000DC64D396E06-v2" style="aspect-ratio:281/72" width="281"/></p></td></tr></tbody></table></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><o:p><font size="3"> </font></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: Calibri"><font size="3">3. Подменю не должно содержать одну команду. В этом случае ее следует выносить в командную панель:<o:p></o:p></font></span></p>
<p>
<table border="1" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; MARGIN: auto auto auto 14.4pt; BORDER-COLLAPSE: collapse; BORDER-TOP: medium none; BORDER-RIGHT: medium none; mso-border-alt: solid windowtext .5pt; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext">
<tbody>
<tr style="HEIGHT: 19.55pt; mso-yfti-irow: 0; mso-yfti-firstrow: yes">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 242.5pt; PADDING-RIGHT: 5.4pt; HEIGHT: 19.55pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt" valign="top" width="323">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: #339966"><font size="3"><font face="Times New Roman">Правильно<o:p></o:p></font></font></span></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 270.15pt; PADDING-RIGHT: 5.4pt; HEIGHT: 19.55pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt" valign="top" width="360">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="COLOR: red"><font size="3"><font face="Times New Roman">Неправильно<o:p></o:p></font></font></span></p></td></tr>
<tr style="HEIGHT: 46.5pt; mso-yfti-irow: 1; mso-yfti-lastrow: yes">
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: windowtext 1pt solid; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 242.5pt; PADDING-RIGHT: 5.4pt; HEIGHT: 46.5pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="323">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Times New Roman" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img align="left" height="26" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100694.files/3.png?_=00000A4CC5C54E24-v2" style="aspect-ratio:270/26" width="270"/></p></td>
<td style="BORDER-BOTTOM: windowtext 1pt solid; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0cm; BACKGROUND-COLOR: transparent; PADDING-LEFT: 5.4pt; WIDTH: 270.15pt; PADDING-RIGHT: 5.4pt; HEIGHT: 46.5pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: windowtext 1pt solid; PADDING-TOP: 0cm; mso-border-alt: solid windowtext .5pt; mso-border-left-alt: solid windowtext .5pt; mso-border-top-alt: solid windowtext .5pt" valign="top" width="360">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><o:p><font face="Times New Roman" size="3"> </font></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img align="left" height="47" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 500/i8100694.files/4.png?_=00000B9CB515EF15-v2" style="aspect-ratio:330/47" width="330"/></p></td></tr></tbody></table></p></font></body><hr>
<h1 id='17_Тексты'>Тексты</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 800/i8100645.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Названия печатных форм учетных документов и команд по их выводу на печать.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Названия печатных форм учетных документов и команд по их выводу на печать</h1><div style="clear: right; float: right;">#std645</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>Рекомендации распространяются на формы первичных учетных документов, утвержденные Росстатом (Госкомстатом).<br/><font color="#00008b"><em>Например, первичные документы по учету торговых операций, кассовых операций, материалов, кадров и т.п.</em></font></p>
<p>Как правило, такие учетные документы имеют в названии кодовое обозначение.<br/><font color="#00008b"><em>Например, «ТОРГ-12» для Товарной накладной.</em></font></p>
<p>Стандарт следует применять к названиям печатных форм документов, а также к заголовкам команд по их выводу на печать.</p>
<p>Название печатной формы и заголовок команды по выводу на печать рекомендуется делать одинаковым.</p>
<p>Названия необходимо оформлять единообразно, придерживаясь следующих рекомендаций:</p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><a id="1" name="1"></a>1. Название, по возможности, следует делать кратким<br/><font color="#00008b"><em>Например, «Приказ о приеме (Т-1)» вместо «Приказ (распоряжение) о приеме работника на работу (Т-1)»</em></font></p>
<p><a id="2" name="2"></a>2. В названии можно использовать общепринятые сокращения<br/><font color="#00008b">Например, «Акт о приеме-передаче ТМЦ»</font></p>
<p><a id="3" name="3"></a>3. В название следует включать кодовое обозначение<br/><font color="#00008b">Например, «Товарная накладная (ТОРГ-12)», «Накладная на отпуск материалов (М-15)», «Личная карточка (Т-2)»</font></p>
<p>Кодовое обозначение следует размещать в конце названия в круглых скобках, чтобы оно не затрудняло поиск нужной команды по первым буквам.</p>
<p>
<script type="text/javascript">forceDocumentLayout(true)</script><table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" style="WIDTH: 685px; HEIGHT: 126px" width="685">
<tbody>
<tr>
<td><font color="#2e8b57"> Хорошо</font></td>
<td><font color="#b22222"> Плохо</font></td></tr>
<tr>
<td><img height="100" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 800/i8100645.files/02.png?_=00000ED693579305-v2" style="aspect-ratio:318/100" width="318"/><script type="text/javascript">forceDocumentLayout()</script></td>
<td><img height="99" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 200/1 800/i8100645.files/01.png?_=00000EA44064EAD5-v2" style="aspect-ratio:317/99" width="317"/></td></tr></tbody></table></p></blockquote>
<p><br/>   </p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
<p><a id="4" name="4"></a>4. Из названия должно быть понятно назначение документа. Не допускается использовать обобщенные и обезличенные словосочетания, а также указание на кодовое обозначение</p>
<p>
<table border="1" bordercolor="#b3ac86" cellpadding="5" cellspacing="0" style="WIDTH: 685px; HEIGHT: 83px" width="685">
<tbody>
<tr>
<td><font color="#2e8b57"> Хорошо</font></td>
<td><font color="#b22222"> Плохо</font></td></tr>
<tr>
<td>
<p align="justify">Расчетная ведомость (Т-51)</p></td>
<td>
<p align="justify">Унифицированная форма (Т-51)<br/>Расчетная ведомость по форме Т-51<br/>Расчетная ведомость (ф. Т-51)</p></td></tr></tbody></table></p></blockquote>
<p><br/><br/></p></font>См. также: <a href="#05_Формирование печатных форм.htm" target="_top">Формирование печатных форм</a></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 800/i8100598.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Тексты.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Тексты</h1><div style="clear: right; float: right;">#std598</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote>
<h2>Общие рекомендации</h2>
<ul>
<li>Избегайте технологических терминов и аббревиатур, используйте язык пользователей. 

<li>Следите за единообразием понятий, которые используются в программе. 

<li>Используйте короткие предложения т.к. чтение с экрана монитора достаточно быстро утомляет. 

<li>Если текст объемный, сначала укажите главную мысль, затем другие в соответствии с уменьшением их важности. 

<li>Разбивайте текст на небольшие абзацы. 

<li>Проверяйте все надписи, подписи и сообщения на правописание и грамматику. 

<li>Поле ввода и подпись к нему должны отображаться одинаковым шрифтом (начертание, размер, жирность), но не цветом. 

<li>В интерфейсных текстах используйте только прямые кавычки. В справке допускается использовать французские кавычки «елочки». 

<li>Буква «ё» употребляется только в тех случаях, когда возможно неправильное прочтение слова, когда надо указать правильное произношение редкого слова или предупредить речевую ошибку. Букву «ё» следует также писать в собственных именах. В остальных случаях следует писать букву «е». Подробнее см. <a href="http://www.gramota.ru/class/istiny/istiny_7_jo/" target="_blank">Грамота.Ру</a>, <a href="http://www.consultant.ru/law/hotdocs/22855.html" target="_blank">Минобрнауки России разъяснен порядок применения буквы «ё» в официальных документах</a>, <a href="http://www.garant.ru/consult/work_law/455996/" target="_blank">правовая практика употребления буквы «ё»</a>.</li></li></li></li></li></li></li></li></li></ul>
<h2>Названия и заголовки</h2>
<ul>
<li>Рекомендуется избегать названий и заголовков, которые могут быть неоднозначно поняты пользователями. 

<li>Не рекомендуется использование названий и заголовков длиной более 60 символов. 

<li>Термином «родитель» обозначайте родственные отношения между физическими лицами, но не для обозначения иерархии объектов информационной базы. Вместо этого можно использовать прикладные термины, например: 

<ul>
<li>группа товаров 

<li>головное подразделение 

<li>входит в группу 

<li>входит в категорию 

<li>находится в группе и т.д.</li></li></li></li></li></ul>
<li>Если в конфигурации принято выводить количество элементов (например, "Товары(10)") в заголовках страниц или групп, то этот прием должен применяться везде, во всех объектах конфигурации.</li></li></li></li></ul>
<h2>Когда использовать многоточие</h2>
<ul>
<li>Используйте многоточие, если название команды или ссылки отражает действие («Изменить форму», «Распределить задачи» – в форме инфинитива или отглагольного существительного), а при нажатии осуществляется переход к дополнительной форме (месту) для выполнения этих действий. 

<li>Многоточие должно примыкать к последнему слову без пробела, например «Печать…», а не «Печать …». 

<li>Если название команды описывает процесс, который будет запущен, то многоточие не нужно. <font color="#536ac2"><em><br/>«Изменение формы», «Распределение задач» и пр.</em></font></li></li></li></ul>
<p> </p>
<h2>Концевые пробелы в представлениях объектов и заголовках элементов управляемых форм</h2>
<ul>
<li>Не допускается использование концевых пробельных символов (пробел, неразрывный пробел, табуляция) в текстах заголовков элементов управляемых форм и представлениях объектов конфигурации (представление и расширенное представление объекта, списка, записи).</li></ul>
<p>Представления объектов и заголовки элементов управляемых форм применяются при отрисовке управляемого командного интерфейса и управляемых форм и концевые (как левые, так и правые) пробельные символы могут искажать отрисовку форм, панели действия, панели навигации, панели разделов.</p>
<p> </p>
<h2>Ограничения по использованию одинаковых текстов на элементах управление в форме</h2>
<ul>
<li>Рекомендуется воздерживаться от размещения в форме элементов управления с одинаковым текстом. Например, два подменю "Все действия" в табличной части и в самой форме. Совпадение текстов элементов одного типа на форме создает путаницу в действиях пользователя, затрудняет чтение и написание справки, а также может привести к неопределенности при объяснении пользователем своих действий в форме другим пользователям или специалистам.</li></ul>
<p><br/></p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#03_Имя, синоним, комментарий.htm" target="_top">Имя, синоним, комментарий</a>
<li><a href="#04_Подсказка и проверка заполнения.htm" target="_top">Подсказка и проверка заполнения</a></li></li></ul></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 200/1 800/i8100660.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Шрифт и цвет.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1 style="MARGIN: 12pt 0cm 3pt"><a name="_toc306283879"></a><a name="_toc224527425"><span style="mso-bookmark: _Toc306283879">Шрифт и цвет</span></a></h1><div style="clear: right; float: right;">#std660</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: управляемое приложение.</em></p></blockquote><font face="Verdana" size="2">
<p style="MARGIN: 12pt 0cm 3pt"> </p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; TEXT-INDENT: -17.85pt; MARGIN: 0cm 0cm 6pt 35.7pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Не рекомендуется использование абсолютных шрифтов и цветов. Вместо этого следует создать соответствующие элементы стиля.</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; TEXT-INDENT: -17.85pt; MARGIN: 0cm 0cm 6pt 35.7pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Не рекомендуется использовать подчеркивание для элементов формы, не являющихся гиперссылкой.</font></p>
<p class="MsoNormal" style="LINE-HEIGHT: normal; TEXT-INDENT: -17.85pt; MARGIN: 0cm 0cm 6pt 35.7pt; mso-list: l0 level1 lfo1"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore"><font size="3">·</font><span style="FONT: 7pt 'Times New Roman'">         </span></span></span><font face="Calibri" size="3">Не рекомендуется использование прописных букв в текстах (кроме первой буквы предложений).</font></p>
<p></p></font></body><hr>
<h1 id='13_Разработка пользовательских интерфейсов (обычное приложение)'>Разработка пользовательских интерфейсов (обычное приложение)</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/i8100500.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Общие правила построения интерфейсов.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие правила построения интерфейсов</h1><div style="clear: right; float: right;">#std500</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote>
<p align="right"><font face="Verdana" size="2"><em>Обычное приложение<br/></em></font></p>
<p><font face="Verdana" size="2">1. Для каждой укрупненной группы пользователей (рабочего места) в конфигурации рекомендуется определять отдельный интерфейс: главное меню, набор и состав панелей инструментов. </font></p>
<p><a id="2.1" name="2.1"></a>2.1. Главное меню обеспечивает доступ ко всем формам, которые требуются пользователю для работы или сервисных функций. В подменю с большим числом элементов, группы элементов должны быть ограничены разделителями. Максимальное число элементов в одной группе не более 7. </p>
<p><a id="2.2" name="2.2"></a>2.2. При любом положении выбора действия из главного меню, его размер должен быть таким, чтобы полностью умещаться на экране при минимальном разрешении, из расчета на которое разработана конфигурация.</p>
<p><a id="2.3" name="2.3"></a>2.3. По умолчанию пункты меню для доступа к справочникам, документам, планам видов характеристик, планам счетов, планам видов расчетов и регистрам вызывают формы списков этих объектов. </p>
<p><a id="3.1" name="3.1"></a>3.1. Интерфейс следует проектировать таким образом, чтобы группе пользователей, с одной стороны, был доступен необходимый набор действий, а с другой, не предоставлялся доступ к действиям на которые нет прав. Вызовы наиболее часто выполняемых пользователем действий в интерфейсе лучше располагать так, чтобы они были наиболее доступны, и наоборот. </p>
<p><a id="3.2" name="3.2"></a>3.2. Желательно однотипные блоки меню и панелей инструментов в разных интерфейсах делать похожим образом. </p>
<p><a id="4" name="4"></a>4. В каждой конфигурации обязательно должны быть интерфейсы <strong>Общий</strong> и <strong>Полный</strong>. </p>
<script type="text/javascript">forceDocumentLayout()</script><h3>См. также</h3><font face="Verdana" size="2">
<ul>
<li><a href="#02_Общие интерфейсы.htm" target="_top">Общие интерфейсы</a>
<li><a href="#03_Интерфейс _Полный_.htm" target="_top">Интерфейс "Полный"</a><br/></li></li></ul>
<p></p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/i8100501.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Общие интерфейсы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Общие интерфейсы</h1><div style="clear: right; float: right;">#std501</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font face="Verdana" size="2"><em>Обычное приложение<br/></em></font></p>
<p></p></font>1. Для отображения общих для всех переключаемых прикладных интерфейсов пунктов меню и панелей инструментов в конфигурации создается интерфейс <strong>Общий</strong>. У него снимается признак <strong>Переключаемый</strong>, а в качестве подсистемы указывается вся конфигурация. 
<p><a id="2" name="2"></a>2. На верхнем уровне главного меню должны обязательно располагаться в крайней левой позиции подменю <strong>Файл</strong> и в крайней правой позиции набор подменю <strong>Сервис</strong>, <strong>Окна</strong>, <strong>Справка</strong>. </p>
<p><a id="3" name="3"></a>3. В меню <strong>Сервис</strong> может присутствовать подменю <strong>Переключить интерфейс</strong> для переключения текущего интерфейса на другой. Подменю должно содержать список всех переключаемых интерфейсов конфигурации. </p>
<p><a id="4" name="4"></a>4. В интерфейсе <strong>Общий</strong> рекомендуется отключать подменю <strong>Операции</strong>, кроме случаев, когда это подменю используется во всех переключаемых интерфейсах конфигурации. </p>
<p><a id="5" name="5"></a>5. В конфигурации может быть создано несколько непереключаемых интерфейсов для того, чтобы реализовать зависимость состава главного меню и панелей инструментов от роли пользователя. Для этого состав интерфейсов конфигурации дополняется интерфейсами, названия которых начинаются со слова <strong>Общий…</strong>. Для таких интерфейсов снимается признак <strong>Переключаемый</strong> и право на их использование дается тем или иным ролям. <br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/i8100502.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Интерфейс _Полный_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Интерфейс "Полный"</h1><div style="clear: right; float: right;">#std502</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote>
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p><a id="1" name="1"></a>1. Интерфейс <strong>Полный</strong> организован в соответствии с функциональными возможностями конфигурации и предоставляет доступ ко всем возможным действиям. </p>
<p><a id="2" name="2"></a>2. На верхнем уровне главного меню группировка действий производится по крупным функциональным группам, соответствующим одной или нескольким подсистемам. Например: <strong>Зарплата</strong>, <strong>Бухгалтерия</strong>, <strong>Производство</strong>. </p>
<p><a id="3" name="3"></a>3. На верхнем уровне обязательно присутствие подменю <strong>Операции</strong>, если оно не включено в состав интерфейса <strong>Общий</strong>. </p>
<p><a id="4" name="4"></a>4. Запрещается группировать подменю по существующим в конфигурации прикладным объектам, например, <strong>Справочники</strong>, <strong>Документы</strong>, <strong>Отчеты</strong> и т. д. </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/i8100524.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Стили.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Стили</h1><div style="clear: right; float: right;">#std524</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>1. Для оформления конфигурации используется стиль <strong>Основной</strong>. Он устанавливается в целом для конфигурации (в свойстве <strong>Основной стиль</strong> объекта метаданных конфигурации). Для форм конфигурации устанавливается стиль <strong>Авто</strong>. 
<p><a id="2" name="2"></a>2. Кроме элементов стиля, определенных платформой <strong>1С:Предприятие</strong>, для оформления используются 5 элементов стиля, определенных в конфигурации: </p>
<ul>
<li>Цвет <strong>ТекстИнформационнойНадписи</strong> - цвет текста информационных надписей;  

<li>Цвет <strong>ТекстПредупреждающейНадписи</strong> - цвет текста предупреждающих надписей;  

<li>Шрифт <strong>ШрифтВажнойНадписи</strong> - шрифт текста важной надписи;  

<li>Цвет <strong>ТекстВторостепеннойНадписи</strong> - цвет текста второстепенных надписей;  

<li>Цвет <strong>ЦветГиперссылки</strong> - цвет текста гиперссылки. </li></li></li></li></li></ul>
<p> </p></body><hr>
<h1 id='05_Реализация работы формы'>Реализация работы формы</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100503.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Имя элемента управления.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Имя элемента управления</h1><div style="clear: right; float: right;">#std503</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p></font>
<p><font size="2">1. Для элементов управления с непустыми данными имя элемента управления должно совпадать с данными. </font></p>
<p><font size="2">2. Для элементов управления с пустыми данными, но непустыми данными флажка имя элемента управления должно совпадать с данными флажка. </font></p>
<p><font size="2">3. Если данные (данные флажка) указаны как путь через точку, тогда имя элемента управления образуется из имени данных (данных флажка) исключая точки. </font></p>
<p><font size="2">4. В случаях когда нет или не указаны данные и данные флажка, имя элемента формы составляется из названия типа элемента управления и краткой расшифровки, поясняющей назначение элемента, например, <strong>ПолеВыбораУсловияОтбора</strong>. </font></p>
<p><font size="2">5. Если в форме в соответствии с правилом для нескольких элементов управления образуются одинаковые имена, один из элементов управления называется по правилу, а имена остальных образуются из имени по правилу с добавлением цифры, последовательно, начиная с "1". Например, если поле ввода с данными <strong>Номер</strong> и подпись к нему отображаются на нескольких страницах панели в форме, то на разных страницах их нужно называть так: </font></p>
<ul>
<li><font size="2"><strong>Номер</strong>, <strong>НадписьНомер</strong>;</font>
<li><font size="2"><strong>Номер1</strong>, <strong>НадписьНомер1</strong>; </font>
<li><font size="2"><strong>Номер2</strong>, <strong>НадписьНомер2</strong>; </font>
<li><font size="2"><strong>Номер3</strong>, <strong>НадписьНомер3</strong>; </font>
<li><font size="2">и т.д.</font><font face="Verdana" size="2"></font></li></li></li></li></li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100504.htm' target='_blank'>Ссылка на оригинал</a><div id='02_Изменения размера колонки табличного поля.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Изменения размера колонки табличного поля</h1><div style="clear: right; float: right;">#std504</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p></font>
<p>Для колонок табличных полей свойство <strong>ИзменениеРазмераКолонки</strong> устанавливается по следующим правилам. </p>
<p>Колонке разрешается изменение размера, когда длина представления данных колонки заранее не известна или когда длина данных настолько большая, что ширину колонки по умолчанию устанавливают заведомо меньше требуемой. Например, разрешается изменять размер колонки, в которой отображаются ссылочные значения, строки неограниченной длины и т.п. </p>
<p>Колонке не разрешается изменять размер, когда длина представления данных известна и может быть установлена при разработке формы. Например, не разрешается изменять размер колонок отображающих даты, числа, булевы значения. Исключением являются колонки, в которых отображается иерархия. Для таких колонок изменение размера запрещать нельзя. <br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100526.htm' target='_blank'>Ссылка на оригинал</a><div id='03_Ограничения по использованию одинаковых текстов на элементах управление в форме.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничения по использованию одинаковых текстов на элементах управление в форме</h1><div style="clear: right; float: right;">#std526</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Рекомендуется воздерживаться от размещения в форме элементов управления с одинаковым текстом. Например, два подменю <strong>Действие</strong>: в табличной части и в самой форме. Совпадение текстов элементов одного типа на форме создает путаницу в действиях пользователя, затрудняет чтение и написание справки, а также может привести к неопределенности при объяснении пользователем своих действий в форме другим пользователям или специалистам. 
<p>В качестве примера приведем форму по обработке набора персонала, где изначально размещено три подменю <strong>Действия</strong> - для формы и для каждого из табличных полей. </p>
<p><img height="596" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 300/500/i8100526.files/demo.png?_=0000729B0B873160-v2" style="aspect-ratio:749/596" width="749"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p>И вариант этой же формы, где осталось подменю <strong>Действие</strong> только для формы вцелом. <br/><img height="584" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 300/500/i8100526.files/demo2.png?_=00007435AA0BF2EE-v2" style="aspect-ratio:757/584" width="757"/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100505.htm' target='_blank'>Ссылка на оригинал</a><div id='04_Размеры формы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размеры формы</h1><div style="clear: right; float: right;">#std505</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p></font>
<p>Формы объектов метаданных типовых конфигураций разрабатываются в расчете на следующие условия применения: </p>
<ul>
<li>разрешение экрана 1280х768;  

<li>окно <strong>1С:Предприятия</strong> растянуто на весь экран;  

<li>включено главное меню;  

<li>включена одна строка панелей инструментов;  

<li>включена панель окон;  

<li>включена панель состояния. </li></li></li></li></li></li></ul>
<p>Исходя из этого максимальными размерами формы должны быть: </p>
<ul>
<li>ширина - 1256 точек; 

<li>высота – 580 точек. </li></li></ul>
<p>Рекомендуется устанавливать оптимальные для работы пользователя размеры формы не превышая при этом приведенные размеры. Для форм, где присутствуют панели с закладками, ширину формы рекомендуется делать такой, чтобы заголовки всех закладок без сокращений были одновременно видны в форме. <br/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100506.htm' target='_blank'>Ссылка на оригинал</a><div id='05_Подсказки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Подсказки</h1><div style="clear: right; float: right;">#std506</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>С целью пояснить назначение элемента управления ему назначается подсказка. Подсказка должна быть лаконичной, длина текста подсказки не должна превышать 8 слов. Заполнение подсказки обязательно. <br/></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100507.htm' target='_blank'>Ссылка на оригинал</a><div id='06_Использование флагов _Автовыбор незаполненного_ и _Автоотметка незаполненного_.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование флагов "Автовыбор незаполненного" и "Автоотметка незаполненного"</h1><div style="clear: right; float: right;">#std507</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Для полей ввода, необходимо устанавливать флаг <strong>Автовыбор незаполненного</strong>, если установлен флаг <strong>Автоотметка незаполненного</strong>. <br/>При этом свойство <strong>Режим выбора незаполненного</strong> устанавливается в значение <strong>При нажатии Enter</strong>. 
<p>Это относится в равной степени как к элементам управления, которые располагаются непосредственно в форме, так и к тем, которые принадлежат колонке табличного поля. </p>
<p>Исключение составляют поля ввода, в которых вводится число или дата. Для таких полей использование флага <strong>Автовыбор незаполненного</strong> определяется логикой работы.</p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100508.htm' target='_blank'>Ссылка на оригинал</a><div id='07_Использование гиперссылок в диалогах форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование гиперссылок в диалогах форм</h1><div style="clear: right; float: right;">#std508</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>В случае размещения команд вне командных панелей на форме, при выборе элемента управления нужно руководствоваться следующими правилами: 
<p>Используются кнопки: </p>
<ul>
<li>если команда изменяет или обрабатывает данные формы, особенно, если это необратимые изменения (например, очистка табличных частей);  

<li>если это команда, которая меняет данные информационной базы, особенно если это необратимые изменения;  

<li>если это команда выбора, подбора, заполнения. </li></li></li></ul>
<p>Используются гиперссылки: </p>
<ul>
<li>если команда вызывает переход к другой немодальной форме или другой странице формы. </li></ul>
<p> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100509.htm' target='_blank'>Ссылка на оригинал</a><div id='08_Привязки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Привязки</h1><div style="clear: right; float: right;">#std509</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Необходимо минимизировать ручную установку привязок. 
<h2>При горизонтальном растягивании формы </h2><font face="Verdana" size="2">
<p>Не меняют размеров: </p>
<ul>
<li>надписи, за исключением "информационных надписей" и надписей с гиперссылкой,  

<li>флажки,  

<li>переключатели,  

<li>кнопки,  

<li>поля ввода в том случае, если в них водится значение заранее известной длины и это значение полностью видно в поле ввода, например: код элемента справочника, и т.д. </li></li></li></li></li></ul>
<p>Изменяют размер: </p>
<ul>
<li>поля ввода, кроме случаев, когда они не изменяют размер,  

<li>"информационные надписи",  

<li>надписи с гиперссылкой,  

<li>табличные поля,  

<li>поля списка,  

<li>полосы регулирования,  

<li>командные панели,  

<li>панели,  

<li>рамки групп, 

<li>индикаторы,  

<li>поля HTML документов,  

<li>диаграммы,  

<li>диаграммы Ганта,  

<li>дендрограммы,  

<li>сводные диаграммы,  

<li>поля картинок,  

<li>поля табличных документов,  

<li>поля текстовых документов. </li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></ul>
<p>Размер изменяется по правилам: <br/>  • если в "строке" диалога расположен один элемент, он растягивается вместе с формой; <br/>  • если в "строке" диалога расположены несколько элементов - они растягиваются пропорционально размеру формы; <br/>  • при организации информации в форме в две колонки (левая и правая) правая граница левой колонки изменяет размер пропорционально размеру формы. </p></font>
<h2>При вертикальном растягивании</h2><font face="Verdana" size="2">
<p>Не меняют размеров: </p>
<ul>
<li>надписи,  

<li>поля ввода, кроме полей с многострочным вводом,  

<li>флажки,  

<li>переключатели,  

<li>кнопки.</li></li></li></li></li></ul>
<p>Изменяют размер: </p>
<ul>
<li>поля ввода с многострочным вводом,  

<li>табличные поля,  

<li>поля списка,  

<li>панели,  

<li>рамки групп,  

<li>поля HTML документов,  

<li>диаграммы,  

<li>диаграммы Ганта,  

<li>дендрограммы,  

<li>сводные диаграммы,  

<li>поля картинок,  

<li>поля табличных документов,  

<li>поля текстовых документов. </li></li></li></li></li></li></li></li></li></li></li></li></li></ul>
<p>Размер изменяется по правилам: </p>
<ul>
<li>если в "столбце" диалога расположен один элемента - он растягивается вместе с формой;  

<li>если в "столбце" диалога расположен не один элемента - они растягивается вместе с формой пропорционально. </li></li></ul>
<p>В случае использования в форме вертикального разделителя, все элементы формы слева от разделителя привязываются к левой границе разделителя, как к правому краю формы, а все элементы справа от разделителя привязываются к правой границе разделителя, как к левому краю формы. По таким же правилам выполняются привязки внутри панели. </p>
<p>В случае использования в форме горизонтального разделителя, все элементы формы сверху от разделителя привязываются к верхней границе разделителя, как к нижнему краю формы, а все элементы снизу от разделителя привязываются к нижней границе разделителя, как к верхнему краю формы. По таким же правилам выполняются привязки внутри панели. </p>
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100510.htm' target='_blank'>Ссылка на оригинал</a><div id='09_Отступы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Отступы</h1><div style="clear: right; float: right;">#std510</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>При размещении элементов управления рекомендуется использовать отступы от края формы или панели. Величину отступа рекомендуется делать такой, которая устанавливается по умолчанию при создании новой формы или новой панели. 
<p>Для формы рекомендуется устанавливать следующие отступы: </p>
<ul>
<li>сверху 8 или 33, если размещена верхняя командная панель;  

<li>снизу 8 или 33, если размещена нижняя командная панель;  

<li>справа 8;  

<li>слева 8. </li></li></li></li></ul>
<p>Для панели рекомендуется устанавливать следующие отступы: </p>
<ul>
<li>сверху 6;  

<li>снизу 6;  

<li>справа 6;  

<li>слева 6. </li></li></li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100511.htm' target='_blank'>Ссылка на оригинал</a><div id='10_Использование закладок.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование закладок</h1><div style="clear: right; float: right;">#std511</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Запрещается делать несколько страниц у самой формы. 
<p>У панелей рекомендуется делать не более 5 одновременно видимых закладок. Расположение закладок – сверху. </p>
<p>Допускается большее количество закладок многостраничной панели и/или расположение закладок слева: </p>
<ul>
<li>для специализированных форм настроек параметров; 

<li>для форм, в которых страницы панели генерируются программно. </li></li></ul></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100512.htm' target='_blank'>Ссылка на оригинал</a><div id='11_Порядок обхода элементов диалога.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Порядок обхода элементов диалога</h1><div style="clear: right; float: right;">#std512</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Для всех форм устанавливается свойство <strong>Автопорядок обхода</strong>, кроме исключительных случаев, когда автоматически поддерживаемый порядок обхода нарушает логику работы с формой. 
<p>Обход осуществляется сверху вниз, слева направо. </p>
<p>Для начала обхода с произвольного элемента формы, этому элементу устанавливается признак <strong>Активизировать по умолчанию</strong>. </p>
<p>При наличии групп элементов: переключателей; флажков; групп элементов формы, выделенных рамкой или надписью, такие группы элементов в порядке обхода необходимо считать одним элементом. После первого элемента группы сначала выполняется обход остальных элементов группы, и только после этого - переход к следующему за группой по порядку элементу формы.</p>
<p><strong></strong> </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100513.htm' target='_blank'>Ссылка на оригинал</a><div id='12_Размещение кнопки вызова справки в формах.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Размещение кнопки вызова справки в формах</h1><div style="clear: right; float: right;">#std513</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Кнопку вызова справки в формах необходимо размещать в верхней командной панели формы. Если у формы отсутствует верхняя командная панель, то кнопку размещают в любой другой командной панели, которая является для данной формы основной или наиболее часто используемой. 
<p><font size="2">Допускается размещение кнопки вызова помощи, не в командной панели, а отдельно в форме. </font></p>
<p><font size="2">При размещении кнопки в командной панели с выравниванием кнопок <strong>Лево</strong>, кнопка вызова справки должна размещаться, по возможности, в крайнем правом положении. </font></p>
<p><font size="2">При других вариантах выравнивания кнопок или использовании кнопки вызова справки вне командной панели, необходимо принимать решение исходя из наилучшей эргономики формы.</font><font face="Verdana" size="2"></font></p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100514.htm' target='_blank'>Ссылка на оригинал</a><div id='13_Отображение единственного табличного поля в форме.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Отображение единственного табличного поля в форме</h1><div style="clear: right; float: right;">#std514</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Для единственного табличного поля в форме необходимо дополнительно размещать рамку группы с названием данных, которые содержит это табличное поле. Рамка группы располагается над командной панелью табличного поля без отступа. Для рамки группы устанавливается рамка <strong>Подчеркивание</strong>. 
<p>Текст рамки группы должен иметь осмысленное, понятное содержание. Например, для табличного поля с табличной частью <strong>ОС</strong>, устанавливается текст <strong>Основные средства</strong>. </p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100515.htm' target='_blank'>Ссылка на оригинал</a><div id='14_Разделители.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Разделители</h1><div style="clear: right; float: right;">#std515</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>
<p>При построении форм используются вертикальные и горизонтальные разделители. Вертикальным разделителям устанавливается ширина 6, горизонтальную привязку рекомендуется устанавливать в <strong>НеПривязано</strong>. Горизонтальным разделителям устанавливается высота 6, вертикальную привязку рекомендуется устанавливать в <strong>НеПривязано</strong>. </p>
<p>Рамку рекомендуется устанавливать в <strong>НетРамки</strong>. В сложных случаях, когда пользователю может быть тяжело догадаться о наличие разделителя, допускается устанавливать рамку <strong>Одинарная</strong>. </p>
<p>Наличие разделителя должно интуитивно угадываться при работе с формой, поэтому ближайшие от разделителя по направлениям его передвижения элементы управления размещаются вплотную к нему, таким образом визуально предполагая его расположение. </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100516.htm' target='_blank'>Ссылка на оригинал</a><div id='15_Кнопки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Кнопки</h1><div style="clear: right; float: right;">#std516</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Кнопки размещаются вне командных панелей. Минимальный размер кнопок: 60х19. Шарина кнопки может увеличиваться в зависимости от длины строки заголовка кнопки. Надпись на кнопке должна занимать одну строку. 
<h2>Оформление кнопок с часто употребимыми действиями (частотных кнопок) </h2><font face="Verdana" size="2"><font face="Verdana" size="2">
<p>Для оформления кнопок с часто употребимыми действиями (частотных кнопок) рекомендуется использовать текст совместно с картинкой. </p>
<p>Иконка, размещенная на кнопке, также может использоваться в строке табличной части для дополнительной идентификации типа данных, к которому применима данная команда. </p>
<p>Пример: Форма реализации товаров и услуг, кнопка <strong>Состав набора</strong> ("Редактировать состава набора комплекта"). </p>
<p><img height="184" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 300/500/i8100516.files/demo3.png?_=0001A6857B72BB27-v2" style="aspect-ratio:702/184" width="702"/><script type="text/javascript">forceDocumentLayout()</script></p></font></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100517.htm' target='_blank'>Ссылка на оригинал</a><div id='16_Картинки.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Картинки</h1><div style="clear: right; float: right;">#std517</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>При разработке форм типовых конфигураций используются только стандартные картинки и картинки из конфигурации. Картинки из файла (файла-коллекции) не используются. В качестве картинок действий и объектов, для которых предусмотрены стандартные картинки, допускается использовать только соответствующие стандартные картинки. 
<p>Для картинок кнопок выбора в полях ввода используются картинки размером 9х15. Для картинок кнопок используются картинки размером 16х16 или стандартные картинки размером не более 16х16. Свойство кнопки <strong>РазмерКартинки</strong> устанавливается в значение <strong>РеальныйРазмер</strong>. Для картинок кнопок командных панелей (действий и подменю) используются картинки размером 16х16.</p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100518.htm' target='_blank'>Ссылка на оригинал</a><div id='17_Программное управление видимостью страниц.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Программное управление видимостью страниц</h1><div style="clear: right; float: right;">#std518</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>При программном управлении видимостью страниц нужно делать так, чтобы в любой момент времени хотя бы одна страница была видимой: сначала нужно включать все видимые страницы, а только затем выключать все невидимые. 
<p>Игнорирование этого правила может привести к тому, что перестанут срабатывать привязки элементов управления. </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100519.htm' target='_blank'>Ссылка на оригинал</a><div id='18_Программное управление формой.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Программное управление формой</h1><div style="clear: right; float: right;">#std519</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Обращение к процедурам, функциям, реквизитам, свойствам и методам, доступных для формы, из модуля этой формы происходит напрямую, без использования объекта <strong>ЭтаФорма</strong>, кроме случаев, когда такое обращение не может быть выполнено иначе. 
<p>В разделе инициализации модуля формы запрещается открывать другие формы или диалоги (например методами <strong>Вопрос</strong>, <strong>Предупреждение</strong> и т. д.). </p>
<p>Программное управление формой из других модулей производится через присвоение её реквизитам (свойствам) значений и через вызов её методов или экспортных процедур (функций). Не допускается делать предположений о свойствах реквизитов формы. Не допускается обращение к элементам формы не из модуля этой формы: ни непосредственно, ни при помощи перебора коллекции <strong>ЭлементыФормы</strong>, ни каким-либо другим способом. Например, вполне корректно предполагать, что у формы элемента справочника есть свойство <strong>ПараметрОснование</strong>, однако, предположение о наличии у <strong>ПараметрОснование</strong> свойства <strong>Дата</strong>, уже недопустимо. </p>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100520.htm' target='_blank'>Ссылка на оригинал</a><div id='19_Ограничение выполнения действий, доступных только при определенных условиях.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Ограничение выполнения действий, доступных только при определенных условиях</h1><div style="clear: right; float: right;">#std520</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Если действия, выполняемые при нажатии кнопки в форме (командной панели) доступны пользователю только при наступлении определенных условий, то нажатие на кнопку должно быть доступно в любом случае. 
<p>Проверка, может ли пользователь выполнять данное действие, производится уже непосредственно в обработчике события нажатия на кнопку. Если действие доступно пользователю, оно выполняется, если нет, то пользователю коротко и понятно объясняется причина невозможности выполнения такого действия. </p>
<p>Например, если нельзя записывать элемент номенклатуры без заполненной базовой единицы измерения, то кнопка <strong>Записать</strong> остается доступной всегда, а при нажатии на неё, если не заполнена базовая единица измерения, может быть выдано сообщение:</p>
<dl>
<dd>
<div>Перед записью в элементе справочника "Номенклатура" необходимо заполнить реквизит "базовая единица"! <br/></div></dd></dl><font face="Verdana" size="2">
<p> </p></font></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100521.htm' target='_blank'>Ссылка на оригинал</a><div id='20_Поведение специализированных форм.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Поведение специализированных форм</h1><div style="clear: right; float: right;">#std521</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Если правильная и стабильная работа формы подразумевает некоторые особые условия, то рекомендуется завершать ее работу с выдачей соответствующего диагностического сообщения при попытке открыть ее в условиях, отличных от тех, на работу в которых она рассчитана. 
<p>Например, работа формы сводного отчета о контрагенте рассчитана на вызов функции формы контрагента для получения исходных данных. При попытке открыть ее не из формы контрагента, она должна выдавать сообщение, что данная форма вызывается при редактировании контрагента в форме по кнопке <strong>Вывести сводный отчет</strong>. </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100522.htm' target='_blank'>Ссылка на оригинал</a><div id='21_Обращение к данным информационной базы в обработчиках часто вызываемых событий.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обращение к данным информационной базы в обработчиках часто вызываемых событий</h1><div style="clear: right; float: right;">#std522</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Следует минимизировать обращение к данным информационной базы в обработчиках событий, приведенных ниже, поскольку это может существенно замедлить интерактивную работу. 
<p>События формы: </p>
<ul>
<li><strong>ОбновлениеОтображения</strong>.</li></ul>
<p>События табличного поля: </p>
<ul>
<li><strong>ПриВыводеСтроки</strong>; 

<li><strong>ПриАктивацииСтроки</strong>.</li></li></ul>
<p>В качестве средств минимизации в зависимости от ситуации могут быть: </p>
<ul>
<li>использование переменных модуля формы для кэширования данных;  

<li>перенос обработки данных в обработчики других событий;  

<li>для таблиц значений - получение необходимых данных на этапе заполнения;  

<li>любые другие методы. </li></li></li></li></ul>
<p></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100523.htm' target='_blank'>Ссылка на оригинал</a><div id='22_Обращение к свойству _ТекущаяСтрока_ табличного поля.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Обращение к свойству "ТекущаяСтрока" табличного поля</h1><div style="clear: right; float: right;">#std523</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Запрещается использовать свойство <strong>ТекущаяСтрока</strong> для получения значений полей строки табличного поля. Обращение к данным значениям должно выполняться через <strong>ТекущиеДанные</strong> или <strong>ДанныеСтроки</strong>. 
<p>Правильно: </p>
<p class="Programtext">ИнформационнаяНадписьАдрес = "Адрес: " + Элемент.ТекущиеДанные.Адрес;</p>
<p>Неправильно: </p>
<p class="Programtext">ИнформационнаяНадписьАдрес = "Адрес: " + Элемент.ТекущаяСтрока.Адрес;</p>
<p>При этом следует учитывать, что для динамических списков возможность обращения к значениям полей с помощью свойства <strong>ТекущиеДанные</strong> зависит от видимости соответствующих колонок в списке. Поэтому, необходимо явно добавлять данные колонки в источник данных табличного поля перед открытием формы, например: </p>
<p class="Programtext">СправочникСписок.Колонки.Добавить("Адрес"); </p>
<p>Данное правило не относится к полям, необходимым для функционирования динамических списков и расширений табличного поля (т.н. системные поля, например: <strong>ПометкаУдаления</strong>, <strong>ЭтоГруппа</strong>, <strong>Дата</strong> и т.д.). Такие поля являются всегда доступными и не удаляются табличным полем из коллекции колонок динамического списка при изменении видимости или удалении колонок табличного поля. </p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100527.htm' target='_blank'>Ссылка на оригинал</a><div id='23_Использование пояснений в полях ввода и выбора.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Использование пояснений в полях ввода и выбора </h1><div style="clear: right; float: right;">#std527</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Рекомендуется в полях ввода или выбора, в случае, если они еще не заполнены, показывать пользователю значение по умолчанию или трактовку пустого значения в этом поле. 
<p>Пример: </p>
<p><img height="253" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 300/500/i8100527.files/demo4.png?_=0001D05795944D48-v2" style="aspect-ratio:812/253" width="812"/><script type="text/javascript">forceDocumentLayout()</script></p>
<p><img height="260" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 300/500/i8100527.files/demo5.png?_=0001A5F8DF9733EB-v2" style="aspect-ratio:815/260" width="815"/></p></body><hr>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/500/i8100528.htm' target='_blank'>Ссылка на оригинал</a><div id='24_Особенности размещения в командных панелях пунктов меню, не предназначенные для решения основных задач.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Особенности размещения в командных панелях пунктов меню, не предназначенные для решения основных задач</h1><div style="clear: right; float: right;">#std528</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p align="right"><font size="2"></font><font face="Verdana" size="2"><em>Обычное приложение</em><br/></font></p>
<p></p></font>Рекомендуется пункты меню, не предназначенные для решения основных задач, а исполняющих команды, предназначенные для специализированных целей или особой группы пользователей, помещать в подменю. 
<p><img height="284" loading="lazy" src="https://its.1c.ru/db/content/v8std/src/1 300/500/i8100528.files/demo6.png?_=0001D390860F5CA8-v2" style="aspect-ratio:935/284" width="935"/><script type="text/javascript">forceDocumentLayout()</script></p></body><hr>
<h1 id='06_Организация диалога с пользователем'>Организация диалога с пользователем</h1>
<a href="#top">Наверх</a><span>|</span><a href='https://its.1c.ru/db/content/v8std/src/1 300/900/i8100417.htm' target='_blank'>Ссылка на оригинал</a><div id='01_Вопрос при закрытии программы.htm'>
<body>
<script type="text/javascript">onBodyAvailable()</script>
<h1>Вопрос при закрытии программы</h1><div style="clear: right; float: right;">#std417</div><blockquote dir="ltr" style="MARGIN-RIGHT: 0px"><p><em>Область применения: обычное приложение.</em></p></blockquote><font face="Verdana" size="2">
<p>В конфигурации должна быть предусмотрена возможность исключения случайных выходов из программы "1С:Предприятие", например, если пользователь по ошибке нажал кнопку закрытия главного окна программы. <br/><br/>При выходе из программы необходимо задавать пользователю вопрос: "Завершить работу с программой?". Если пользователь подтверждает выход из программы - программа закрывается. Если отказывается от выхода - он продолжает работу с программой. <br/><br/>При этом необходимо предусмотреть возможность отключать вывод вопроса в персональных настройках пользователя.</p></font></body><hr>
</body>
</html>